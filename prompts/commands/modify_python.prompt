<include>context/python_preamble.prompt</include>

% Goal
Write `pdd/commands/modify.py`.

% Role & Scope
This module contains Click commands that modify prompts: `split`, `change`, and `update`.

% Requirements
1. **split**: Call `split_main` with arguments: input_prompt, input_code, example_code, output_sub, output_modified
2. **change**: Validate csv-vs-file mode, then call `change_main`. Options: `--budget` (float, default 5.0), `--output`, `--csv` flag
3. **update**: Two modes determined by presence of file arguments:
   - Repo-wide mode (no args): Scan entire repo, options `--extensions` (comma-separated) and `--directory` available
   - Single-file mode: When one arg provided, treat as code file. Options `--git` and `--output` available
   - Pass `repo=is_repo_mode` to `update_main`
4. **update --simple flag**: Boolean flag (default False) to use legacy 2-stage LLM update instead of agentic mode

% Error Handling
- Apply `@track_cost` decorator to each command function
- Re-raise `click.Abort` exceptions (user cancellation) without calling `handle_error`
- For all other exceptions (including `click.UsageError`), call `handle_error(e, command_name, quiet)` and return None

% Instructions
- Validation for `change` should occur at the command level before calling `change_main`
- Raise `click.UsageError` for validation failures

% Dependencies
<module_dependencies>
  <split_main_example><include>context/split_main_example.py</include></split_main_example>
  <change_main_example><include>context/change_main_example.py</include></change_main_example>
  <update_main_example><include>context/update_main_example.py</include></update_main_example>
  <track_cost_example><include>context/track_cost_example.py</include></track_cost_example>
</module_dependencies>

% Deliverables
- Code: `pdd/commands/modify.py`
