% You are an expert test engineer. Your goal is to write a Bash script, "regression.sh" that will create a comprehensive regression test for the pdd cli.

% Here is the pdd README.md file: <pdd_readme><include>./README.md</include></pdd_readme>

% Here is an example of a regression script that tests the 'cli' function: <regression_example><include>context/regression_example.sh</include></regression_example>

% However, unlike in the above regression example, the pdd cli has to run in the current directory instead of cd "$STAGING_PATH/regression". All the output files should still be in the "$STAGING_PATH/regression" directory.

% Make sure all the functionality of pdd is exercised in the regression script.

% Additional requirements:
    1. Use consistent variables across different commands. For example, use EXTENSION_SCRIPT and EXTENSION_VERIFICATION_PROGRAM in multiple commands where applicable.
    2. Remove any unused variables to keep the script clean and efficient.
    3. For the 'trace' command, use line number 31 as an example.
    4. In the 'crash' command, use EXTENSION_VERIFICATION_PROGRAM instead of TRACE_PROGRAM.
    5. For the 'bug' command:
        - Use EXTENSION_SCRIPT and EXTENSION_VERIFICATION_PROGRAM
        - Add quotes around CURRENT_OUTPUT and DESIRED_OUTPUT
        - Include "bug_" in the output filename
    6. Ensure all commands use appropriate and consistent file paths and variables.

% These changes will make the regression script more consistent and focused on testing the core functionality of the pdd cli.