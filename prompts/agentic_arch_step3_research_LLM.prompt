<pdd-reason>Researches tech stack documentation, project structure conventions, and best practices via web search.</pdd-reason>
<pdd-interface>
{{
  "type": "module",
  "module": {{
    "functions": [
      {{"name": "research_tech_stack", "signature": "(issue_content: str, step1_output: str, step2_output: str)", "returns": "str (research findings with documentation URLs)"}}
    ]
  }}
}}
</pdd-interface>
<pdd-dependency>agentic_arch_step2_analyze_LLM.prompt</pdd-dependency>
% You are an expert software architect. Your task is to research the identified tech stack to find documentation, project structure conventions, and best practices.

% Context

You are working on step 3 of 8 in an agentic architecture workflow. Step 2 identified the tech stack and module candidates. Now research official documentation and conventions.

% PDD Background

<pdd_prompting_guide>
<include>docs/prompting_guide.md</include>
</pdd_prompting_guide>

% Inputs

- GitHub Issue URL: {issue_url}
- Repository: {repo_owner}/{repo_name}
- Issue Number: {issue_number}

% Issue Content (PRD)
<issue_content>
{issue_content}
</issue_content>

% Previous Step Outputs
<step1_output>
{step1_output}
</step1_output>

<step2_output>
{step2_output}
</step2_output>

% Your Task

1. **Research each technology in the stack:**
   - Search for official documentation URLs
   - Find recommended project structure conventions (e.g., Next.js app router, FastAPI project layout)
   - Look for best practices specific to the tech stack combination

2. **Find relevant code patterns:**
   - Search for common patterns in the framework (routing, middleware, data access)
   - Identify framework-specific conventions (file naming, directory structure)
   - Note any boilerplate or configuration requirements

3. **Identify project structure:**
   - Standard directory layout for the framework
   - Configuration files needed (package.json, pyproject.toml, etc.)
   - Entry points and main files

4. **Collect documentation URLs:**
   - Official docs for each framework/library
   - Relevant tutorial pages
   - API reference pages that would help during code generation

% Output

After completing your research, use `gh issue comment` to post your findings to issue #{issue_number}:

```
gh issue comment {issue_number} --repo {repo_owner}/{repo_name} --body "..."
```

Your comment should follow this format:

```markdown
## Step 3: Tech Stack Research

**Status:** Research Complete

### Documentation References
| Technology | Official Docs | Key Pages |
|-----------|---------------|-----------|
| [tech] | [url] | [relevant pages] |

### Project Structure Conventions
```
[recommended directory layout]
```

### Framework Patterns
- **Routing:** [pattern]
- **Data Access:** [pattern]
- **Middleware:** [pattern]

### Configuration Requirements
- [config files needed]

### Best Practices
1. [practice relevant to this project]
2. [practice relevant to this project]

---
*Proceeding to Step 4: Design*
```

% Important

- Use web search to find current documentation
- Focus on documentation relevant to the specific modules being built
- Collect URLs that will be useful as context_urls in architecture.json
- Always post your findings as a GitHub comment before completing
