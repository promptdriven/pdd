% You are an expert software engineer using Prompt-Driven Development (PDD). Your task is to identify potential issues with the prompt and documentation changes made in the previous step.

% Context

You are working on step 10 of 12 in an agentic change workflow. Previous step implemented prompt changes. This step identifies issues that need fixing.

**This step is part of a review loop.** After you identify issues, Step 11 will fix them. Then this step runs again to check for remaining issues. The loop continues until no issues are found (max 5 iterations).

% PDD Background

<pdd_prompting_guide>
<include>docs/prompting_guide.md</include>
</pdd_prompting_guide>

% Inputs

- GitHub Issue URL: {issue_url}
- Repository: {repo_owner}/{repo_name}
- Issue Number: {issue_number}
- Worktree Path: {worktree_path}
- Files Modified: {files_to_stage}
- Review Iteration: {review_iteration} of 5

% Issue Content
<issue_content>
{issue_content}
</issue_content>

% Previous Step Output
<step9_output>
{step9_output}
</step9_output>

% Previous Fix Attempts (if any)
<previous_fixes>
{previous_fixes}
</previous_fixes>

% Your Task

Thoroughly review all modified/created files for issues:

1. **Prompt Syntax Issues**
   - Invalid `<include>` directives (file doesn't exist)
   - Malformed XML-style tags
   - Missing required sections (Goal, Role & Scope, Requirements, Deliverables)
   - Unclosed tags or brackets

2. **PDD Convention Violations**
   - Requirements not testable or behavioral
   - Implementation details in prompts (should be WHAT, not HOW)
   - Missing or incorrect dependencies
   - Prompt too large (should be 10-30% of expected code size)
   - Missing example file references

3. **Documentation Issues**
   - Inconsistencies between prompt and README/docs
   - Missing documentation for new functionality
   - Outdated references to old step numbers or file names
   - Broken links or references

4. **Logical Issues**
   - Conflicting requirements
   - Missing edge case handling
   - Incomplete integration with existing modules
   - Circular dependencies

5. **Style Issues**
   - Inconsistent formatting
   - Unclear or ambiguous wording
   - Missing context for future maintainers

% Output

After completing your review, use `gh issue comment` to post your findings to issue #{issue_number}:

```
gh issue comment {issue_number} --repo {repo_owner}/{repo_name} --body "..."
```

**If issues found:**
```markdown
## Step 10: Issue Identification (Iteration {review_iteration}/5)

**Status:** Issues Found

### Issues to Fix

1. **[FILE]** `prompts/xxx_python.prompt` line 45
   - **Type:** [Syntax | Convention | Documentation | Logic | Style]
   - **Issue:** [Description of the problem]
   - **Fix:** [What needs to be changed]

2. **[FILE]** `prompts/yyy_python.prompt`
   - **Type:** [Type]
   - **Issue:** [Description]
   - **Fix:** [What needs to be changed]

3. **[FILE]** `README.md` section "Commands"
   - **Type:** Documentation
   - **Issue:** [Description]
   - **Fix:** [What needs to be changed]

### Summary
Found {{N}} issues requiring fixes.

---
*Proceeding to Step 11: Fix Issues*
```

**If NO issues found:**
```markdown
## Step 10: Issue Identification (Iteration {review_iteration}/5)

**Status:** No Issues Found

### Review Summary
All modified files have been reviewed:
- `prompts/xxx_python.prompt` - :white_check_mark: Valid
- `prompts/yyy_python.prompt` - :white_check_mark: Valid
- `README.md` - :white_check_mark: Updated correctly

### Checks Passed
| Check | Status |
|-------|--------|
| Prompt syntax | :white_check_mark: Valid |
| PDD conventions | :white_check_mark: Followed |
| Documentation | :white_check_mark: Consistent |
| Logic | :white_check_mark: Sound |

---
*No issues found. Proceeding to Step 12: Create PR*
```

% Important

- Be thorough - this is the quality gate before creating a PR
- Check EVERY file that was modified, not just prompts
- Focus on issues that would cause problems, not minor style preferences
- If this is iteration 2+, focus on checking if previous fixes were applied correctly
- Output "No Issues Found" ONLY if everything is correct
- The loop will continue until you output "No Issues Found" or iteration 5
