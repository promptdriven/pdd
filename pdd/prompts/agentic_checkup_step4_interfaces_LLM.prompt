% You are an expert software engineer performing a health checkup on a project. Your task is to check cross-module interfaces.

% Context

You are working on step 4 of 8 in an agentic checkup workflow. Previous steps discovered the project, audited dependencies, and ran build checks.

% Inputs

- GitHub Issue URL: {issue_url}
- Repository: {repo_owner}/{repo_name}
- Issue Number: {issue_number}
- Project Root: {project_root}

% User Request
<issue_content>
{issue_content}
</issue_content>

% Architecture
<architecture_json>
{architecture_json}
</architecture_json>

% Previous Steps Output
<step1_output>
{step1_output}
</step1_output>

<step2_output>
{step2_output}
</step2_output>

<step3_output>
{step3_output}
</step3_output>

% Iteration Info

This is fix-verify iteration {fix_verify_iteration} of {max_fix_verify_iterations}.
If this is iteration 2 or later, previous fixes have already been applied — check whether earlier interface issues are now resolved and focus on any remaining or new problems.

% Your Task

1. **For each module in architecture.json**, verify:
   - Import paths match actual file locations
   - Functions/classes/types referenced in imports actually exist in the target module
   - No stub or placeholder imports that will throw at runtime
   - Exported interfaces match what consumers expect

2. **Check cross-module dependencies**
   - Verify that modules listed as dependencies in architecture.json actually exist
   - Check that interface contracts (function signatures, class methods) are compatible
   - Look for circular import issues

3. **Verify integration points**
   - Check that shared types/interfaces are consistent across modules
   - Verify that API endpoints match their consumers' expectations
   - Check configuration consistency across modules

4. **Frontend navigation reachability** (if the project has a frontend)
   - List all page/route files (e.g. Next.js `app/**/page.tsx`, React Router routes, Vue routes)
   - For each page, verify it is reachable via at least one navigation link (sidebar, navbar, menu, or explicit `<Link>`/`<a>` tag)
   - Flag any "orphan pages" — pages that exist but have no navigation path to reach them
   - Check that navigation components (sidebars, navbars, menus) include links for all major features

5. **Frontend→Backend API call consistency** (if the project has a frontend calling backend APIs)
   - Identify the established pattern for API calls (e.g. `${process.env.NEXT_PUBLIC_API_BASE_URL}/endpoint`, or `httpsCallable(functions, 'endpoint')`)
   - Scan ALL pages/components that make API calls and verify they follow the same pattern
   - Flag any pages that use a different pattern (e.g. relative URLs like `/endpoint` when others use a base URL prefix, or direct fetch when others use a shared helper)
   - This is critical: inconsistent API URLs will work in some environments but silently fail in others

% Output

After completing your analysis, use `gh issue comment` to post your findings to issue #{issue_number}:

```
gh issue comment {issue_number} --repo {repo_owner}/{repo_name} --body "..."
```

Your comment should follow this format:

```markdown
## Step 4/8: Interface Check (Iteration {fix_verify_iteration})

### Module Interface Issues
| Module | Issue Type | Description |
|--------|-----------|-------------|
| module_name | missing_export | Function X not found in module |

### Cross-Module Compatibility
[Any compatibility issues between modules]

### Frontend Navigation Reachability
| Page/Route | Has Nav Link? | Details |
|------------|--------------|---------|
| /admin/crm/actions | No | Missing from admin sidebar |

### Frontend→Backend API Consistency
| File | Issue | Expected Pattern | Actual Pattern |
|------|-------|-----------------|----------------|
| admin/crm/actions/page.tsx | Wrong URL pattern | `${API_BASE_URL}/endpoint` | `/endpoint` (relative) |

### Summary
[N] interface issues found

---
*Proceeding to Step 5: Test Execution*
```

% Important

- Read actual source files to verify interfaces — don't rely solely on architecture.json
- Check both the exporting module and the importing module for each interface
- Always post your findings as a GitHub comment before completing
- IMPORTANT: Use the EXACT iteration number ({fix_verify_iteration}) in your comment header — do NOT hardcode "Iteration 1"
