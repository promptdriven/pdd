var N9=Object.defineProperty;var C9=(t,e,n)=>e in t?N9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rt=(t,e,n)=>C9(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qg={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tj;function R9(){if(Tj)return Ru;Tj=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return Ru.Fragment=e,Ru.jsx=n,Ru.jsxs=n,Ru}var jj;function E9(){return jj||(jj=1,qg.exports=R9()),qg.exports}var f=E9(),Mg={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _j;function A9(){if(_j)return We;_j=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,S={};function Q(z,D,K){this.props=z,this.context=D,this.refs=S,this.updater=K||v}Q.prototype.isReactComponent={},Q.prototype.setState=function(z,D){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,D,"setState")},Q.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=Q.prototype;function $(z,D,K){this.props=z,this.context=D,this.refs=S,this.updater=K||v}var T=$.prototype=new k;T.constructor=$,b(T,Q.prototype),T.isPureReactComponent=!0;var j=Array.isArray;function N(){}var C={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function M(z,D,K){var B=K.ref;return{$$typeof:t,type:z,key:D,ref:B!==void 0?B:null,props:K}}function L(z,D){return M(z.type,D,z.props)}function E(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Z(z){var D={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(K){return D[K]})}var Y=/\/+/g;function R(z,D){return typeof z=="object"&&z!==null&&z.key!=null?Z(""+z.key):D.toString(36)}function G(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(D){z.status==="pending"&&(z.status="fulfilled",z.value=D)},function(D){z.status==="pending"&&(z.status="rejected",z.reason=D)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function A(z,D,K,B,H){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var re=!1;if(z===null)re=!0;else switch(J){case"bigint":case"string":case"number":re=!0;break;case"object":switch(z.$$typeof){case t:case e:re=!0;break;case p:return re=z._init,A(re(z._payload),D,K,B,H)}}if(re)return H=H(z),re=B===""?"."+R(z,0):B,j(H)?(K="",re!=null&&(K=re.replace(Y,"$&/")+"/"),A(H,D,K,"",function(ve){return ve})):H!=null&&(E(H)&&(H=L(H,K+(H.key==null||z&&z.key===H.key?"":(""+H.key).replace(Y,"$&/")+"/")+re)),D.push(H)),1;re=0;var ie=B===""?".":B+":";if(j(z))for(var ce=0;ce<z.length;ce++)B=z[ce],J=ie+R(B,ce),re+=A(B,D,K,J,H);else if(ce=x(z),typeof ce=="function")for(z=ce.call(z),ce=0;!(B=z.next()).done;)B=B.value,J=ie+R(B,ce++),re+=A(B,D,K,J,H);else if(J==="object"){if(typeof z.then=="function")return A(G(z),D,K,B,H);throw D=String(z),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return re}function W(z,D,K){if(z==null)return z;var B=[],H=0;return A(z,B,"","",function(J){return D.call(K,J,H++)}),B}function I(z){if(z._status===-1){var D=z._result;D=D(),D.then(function(K){(z._status===0||z._status===-1)&&(z._status=1,z._result=K)},function(K){(z._status===0||z._status===-1)&&(z._status=2,z._result=K)}),z._status===-1&&(z._status=0,z._result=D)}if(z._status===1)return z._result.default;throw z._result}var U=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ee={map:W,forEach:function(z,D,K){W(z,function(){D.apply(this,arguments)},K)},count:function(z){var D=0;return W(z,function(){D++}),D},toArray:function(z){return W(z,function(D){return D})||[]},only:function(z){if(!E(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return We.Activity=m,We.Children=ee,We.Component=Q,We.Fragment=n,We.Profiler=s,We.PureComponent=$,We.StrictMode=r,We.Suspense=u,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,We.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},We.cache=function(z){return function(){return z.apply(null,arguments)}},We.cacheSignal=function(){return null},We.cloneElement=function(z,D,K){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var B=b({},z.props),H=z.key;if(D!=null)for(J in D.key!==void 0&&(H=""+D.key),D)!q.call(D,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&D.ref===void 0||(B[J]=D[J]);var J=arguments.length-2;if(J===1)B.children=K;else if(1<J){for(var re=Array(J),ie=0;ie<J;ie++)re[ie]=arguments[ie+2];B.children=re}return M(z.type,H,B)},We.createContext=function(z){return z={$$typeof:a,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},We.createElement=function(z,D,K){var B,H={},J=null;if(D!=null)for(B in D.key!==void 0&&(J=""+D.key),D)q.call(D,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(H[B]=D[B]);var re=arguments.length-2;if(re===1)H.children=K;else if(1<re){for(var ie=Array(re),ce=0;ce<re;ce++)ie[ce]=arguments[ce+2];H.children=ie}if(z&&z.defaultProps)for(B in re=z.defaultProps,re)H[B]===void 0&&(H[B]=re[B]);return M(z,J,H)},We.createRef=function(){return{current:null}},We.forwardRef=function(z){return{$$typeof:o,render:z}},We.isValidElement=E,We.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:I}},We.memo=function(z,D){return{$$typeof:d,type:z,compare:D===void 0?null:D}},We.startTransition=function(z){var D=C.T,K={};C.T=K;try{var B=z(),H=C.S;H!==null&&H(K,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(N,U)}catch(J){U(J)}finally{D!==null&&K.types!==null&&(D.types=K.types),C.T=D}},We.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},We.use=function(z){return C.H.use(z)},We.useActionState=function(z,D,K){return C.H.useActionState(z,D,K)},We.useCallback=function(z,D){return C.H.useCallback(z,D)},We.useContext=function(z){return C.H.useContext(z)},We.useDebugValue=function(){},We.useDeferredValue=function(z,D){return C.H.useDeferredValue(z,D)},We.useEffect=function(z,D){return C.H.useEffect(z,D)},We.useEffectEvent=function(z){return C.H.useEffectEvent(z)},We.useId=function(){return C.H.useId()},We.useImperativeHandle=function(z,D,K){return C.H.useImperativeHandle(z,D,K)},We.useInsertionEffect=function(z,D){return C.H.useInsertionEffect(z,D)},We.useLayoutEffect=function(z,D){return C.H.useLayoutEffect(z,D)},We.useMemo=function(z,D){return C.H.useMemo(z,D)},We.useOptimistic=function(z,D){return C.H.useOptimistic(z,D)},We.useReducer=function(z,D,K){return C.H.useReducer(z,D,K)},We.useRef=function(z){return C.H.useRef(z)},We.useState=function(z){return C.H.useState(z)},We.useSyncExternalStore=function(z,D,K){return C.H.useSyncExternalStore(z,D,K)},We.useTransition=function(){return C.H.useTransition()},We.version="19.2.3",We}var Pj;function Gf(){return Pj||(Pj=1,Mg.exports=A9()),Mg.exports}var _=Gf();const fe=Pm(_);var Xg={exports:{}},Eu={},zg={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nj;function q9(){return Nj||(Nj=1,(function(t){function e(A,W){var I=A.length;A.push(W);e:for(;0<I;){var U=I-1>>>1,ee=A[U];if(0<s(ee,W))A[U]=W,A[I]=ee,I=U;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var W=A[0],I=A.pop();if(I!==W){A[0]=I;e:for(var U=0,ee=A.length,z=ee>>>1;U<z;){var D=2*(U+1)-1,K=A[D],B=D+1,H=A[B];if(0>s(K,I))B<ee&&0>s(H,K)?(A[U]=H,A[B]=I,U=B):(A[U]=K,A[D]=I,U=D);else if(B<ee&&0>s(H,I))A[U]=H,A[B]=I,U=B;else break e}}return W}function s(A,W){var I=A.sortIndex-W.sortIndex;return I!==0?I:A.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],d=[],p=1,m=null,g=3,x=!1,v=!1,b=!1,S=!1,Q=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function T(A){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=A)r(d),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(d)}}function j(A){if(b=!1,T(A),!v)if(n(u)!==null)v=!0,N||(N=!0,Z());else{var W=n(d);W!==null&&G(j,W.startTime-A)}}var N=!1,C=-1,q=5,M=-1;function L(){return S?!0:!(t.unstable_now()-M<q)}function E(){if(S=!1,N){var A=t.unstable_now();M=A;var W=!0;try{e:{v=!1,b&&(b=!1,k(C),C=-1),x=!0;var I=g;try{t:{for(T(A),m=n(u);m!==null&&!(m.expirationTime>A&&L());){var U=m.callback;if(typeof U=="function"){m.callback=null,g=m.priorityLevel;var ee=U(m.expirationTime<=A);if(A=t.unstable_now(),typeof ee=="function"){m.callback=ee,T(A),W=!0;break t}m===n(u)&&r(u),T(A)}else r(u);m=n(u)}if(m!==null)W=!0;else{var z=n(d);z!==null&&G(j,z.startTime-A),W=!1}}break e}finally{m=null,g=I,x=!1}W=void 0}}finally{W?Z():N=!1}}}var Z;if(typeof $=="function")Z=function(){$(E)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,R=Y.port2;Y.port1.onmessage=E,Z=function(){R.postMessage(null)}}else Z=function(){Q(E,0)};function G(A,W){C=Q(function(){A(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(A){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var I=g;g=W;try{return A()}finally{g=I}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(A,W){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var I=g;g=A;try{return W()}finally{g=I}},t.unstable_scheduleCallback=function(A,W,I){var U=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,A){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=I+ee,A={id:p++,callback:W,priorityLevel:A,startTime:I,expirationTime:ee,sortIndex:-1},I>U?(A.sortIndex=I,e(d,A),n(u)===null&&A===n(d)&&(b?(k(C),C=-1):b=!0,G(j,I-U))):(A.sortIndex=ee,e(u,A),v||x||(v=!0,N||(N=!0,Z()))),A},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(A){var W=g;return function(){var I=g;g=W;try{return A.apply(this,arguments)}finally{g=I}}}})(Lg)),Lg}var Cj;function M9(){return Cj||(Cj=1,zg.exports=q9()),zg.exports}var Zg={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rj;function X9(){if(Rj)return Gn;Rj=1;var t=Gf();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,d,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:d,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gn.createPortal=function(u,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(u,d,null,p)},Gn.flushSync=function(u){var d=a.T,p=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=d,r.p=p,r.d.f()}},Gn.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Gn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Gn.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var p=d.as,m=o(p,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):p==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Gn.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=o(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Gn.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,m=o(p,d.crossOrigin);r.d.L(u,p,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Gn.preloadModule=function(u,d){if(typeof u=="string")if(d){var p=o(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Gn.requestFormReset=function(u){r.d.r(u)},Gn.unstable_batchedUpdates=function(u,d){return u(d)},Gn.useFormState=function(u,d,p){return a.H.useFormState(u,d,p)},Gn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Gn.version="19.2.3",Gn}var Ej;function lq(){if(Ej)return Zg.exports;Ej=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zg.exports=X9(),Zg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function z9(){if(Aj)return Eu;Aj=1;var t=M9(),e=Gf(),n=lq();function r(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function a(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function o(l){if(l.tag===31){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function u(l){if(i(l)!==l)throw Error(r(188))}function d(l){var c=l.alternate;if(!c){if(c=i(l),c===null)throw Error(r(188));return c!==l?null:l}for(var h=l,O=c;;){var y=h.return;if(y===null)break;var w=y.alternate;if(w===null){if(O=y.return,O!==null){h=O;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===h)return u(y),l;if(w===O)return u(y),c;w=w.sibling}throw Error(r(188))}if(h.return!==O.return)h=y,O=w;else{for(var P=!1,X=y.child;X;){if(X===h){P=!0,h=y,O=w;break}if(X===O){P=!0,O=y,h=w;break}X=X.sibling}if(!P){for(X=w.child;X;){if(X===h){P=!0,h=w,O=y;break}if(X===O){P=!0,O=w,h=y;break}X=X.sibling}if(!P)throw Error(r(189))}}if(h.alternate!==O)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:c}function p(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=p(l),c!==null)return c;l=l.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),$=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function Z(l){return l===null||typeof l!="object"?null:(l=E&&l[E]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Symbol.for("react.client.reference");function R(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Y?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case Q:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case N:return"SuspenseList";case M:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case $:return l.displayName||"Context";case k:return(l._context.displayName||"Context")+".Consumer";case T:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case C:return c=l.displayName||null,c!==null?c:R(l.type)||"Memo";case q:c=l._payload,l=l._init;try{return R(l(c))}catch{}}return null}var G=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},U=[],ee=-1;function z(l){return{current:l}}function D(l){0>ee||(l.current=U[ee],U[ee]=null,ee--)}function K(l,c){ee++,U[ee]=l.current,l.current=c}var B=z(null),H=z(null),J=z(null),re=z(null);function ie(l,c){switch(K(J,c),K(H,l),K(B,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?HT(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=HT(c),l=FT(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}D(B),K(B,l)}function ce(){D(B),D(H),D(J)}function ve(l){l.memoizedState!==null&&K(re,l);var c=B.current,h=FT(c,l.type);c!==h&&(K(H,l),K(B,h))}function _e(l){H.current===l&&(D(B),D(H)),re.current===l&&(D(re),_u._currentValue=I)}var ne,he;function pe(l){if(ne===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);ne=c&&c[1]||"",he=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+l+he}var xe=!1;function Ie(l,c){if(!l||xe)return"";xe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(c){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ue){var oe=ue}Reflect.construct(l,[],ge)}else{try{ge.call()}catch(ue){oe=ue}l.call(ge.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(ge=l())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=O.DetermineComponentFrameRoot(),P=w[0],X=w[1];if(P&&X){var F=P.split(`
`),le=X.split(`
`);for(y=O=0;O<F.length&&!F[O].includes("DetermineComponentFrameRoot");)O++;for(;y<le.length&&!le[y].includes("DetermineComponentFrameRoot");)y++;if(O===F.length||y===le.length)for(O=F.length-1,y=le.length-1;1<=O&&0<=y&&F[O]!==le[y];)y--;for(;1<=O&&0<=y;O--,y--)if(F[O]!==le[y]){if(O!==1||y!==1)do if(O--,y--,0>y||F[O]!==le[y]){var de=`
`+F[O].replace(" at new "," at ");return l.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",l.displayName)),de}while(1<=O&&0<=y);break}}}finally{xe=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?pe(h):""}function je(l,c){switch(l.tag){case 26:case 27:case 5:return pe(l.type);case 16:return pe("Lazy");case 13:return l.child!==c&&c!==null?pe("Suspense Fallback"):pe("Suspense");case 19:return pe("SuspenseList");case 0:case 15:return Ie(l.type,!1);case 11:return Ie(l.type.render,!1);case 1:return Ie(l.type,!0);case 31:return pe("Activity");default:return""}}function ke(l){try{var c="",h=null;do c+=je(l,h),h=l,l=l.return;while(l);return c}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}var Je=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,jt=t.unstable_shouldYield,Ve=t.unstable_requestPaint,nt=t.unstable_now,ln=t.unstable_getCurrentPriorityLevel,St=t.unstable_ImmediatePriority,Ut=t.unstable_UserBlockingPriority,qt=t.unstable_NormalPriority,pn=t.unstable_LowPriority,yn=t.unstable_IdlePriority,Qt=t.log,Lt=t.unstable_setDisableYieldValue,dt=null,rt=null;function Wt(l){if(typeof Qt=="function"&&Lt(l),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(dt,l)}catch{}}var yt=Math.clz32?Math.clz32:ye,Kt=Math.log,ir=Math.LN2;function ye(l){return l>>>=0,l===0?32:31-(Kt(l)/ir|0)|0}var Qe=256,Pe=262144,Fe=4194304;function _t(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Yt(l,c,h){var O=l.pendingLanes;if(O===0)return 0;var y=0,w=l.suspendedLanes,P=l.pingedLanes;l=l.warmLanes;var X=O&134217727;return X!==0?(O=X&~w,O!==0?y=_t(O):(P&=X,P!==0?y=_t(P):h||(h=X&~l,h!==0&&(y=_t(h))))):(X=O&~w,X!==0?y=_t(X):P!==0?y=_t(P):h||(h=O&~l,h!==0&&(y=_t(h)))),y===0?0:c!==0&&c!==y&&(c&w)===0&&(w=y&-y,h=c&-c,w>=h||w===32&&(h&4194048)!==0)?c:y}function Rn(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function mn(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function be(){var l=Fe;return Fe<<=1,(Fe&62914560)===0&&(Fe=4194304),l}function Ce(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Ye(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function bn(l,c,h,O,y,w){var P=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var X=l.entanglements,F=l.expirationTimes,le=l.hiddenUpdates;for(h=P&~h;0<h;){var de=31-yt(h),ge=1<<de;X[de]=0,F[de]=-1;var oe=le[de];if(oe!==null)for(le[de]=null,de=0;de<oe.length;de++){var ue=oe[de];ue!==null&&(ue.lane&=-536870913)}h&=~ge}O!==0&&Mn(l,O,0),w!==0&&y===0&&l.tag!==0&&(l.suspendedLanes|=w&~(P&~c))}function Mn(l,c,h){l.pendingLanes|=c,l.suspendedLanes&=~c;var O=31-yt(c);l.entangledLanes|=c,l.entanglements[O]=l.entanglements[O]|1073741824|h&261930}function Ia(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var O=31-yt(h),y=1<<O;y&c|l[O]&c&&(l[O]|=c),h&=~y}}function Ha(l,c){var h=c&-c;return h=(h&42)!==0?1:Gi(h),(h&(l.suspendedLanes|c))!==0?0:h}function Gi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Ii(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Hi(){var l=W.p;return l!==0?l:(l=window.event,l===void 0?32:bj(l.type))}function Fi(l,c){var h=W.p;try{return W.p=l,c()}finally{W.p=h}}var ar=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ar,on="__reactProps$"+ar,Qr="__reactContainer$"+ar,Es="__reactEvents$"+ar,lr="__reactListeners$"+ar,Jl="__reactHandles$"+ar,ii="__reactResources$"+ar,ai="__reactMarker$"+ar;function Fa(l){delete l[Jt],delete l[on],delete l[Es],delete l[lr],delete l[Jl]}function fs(l){var c=l[Jt];if(c)return c;for(var h=l.parentNode;h;){if(c=h[Qr]||h[Jt]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=sj(l);l!==null;){if(h=l[Jt])return h;l=sj(l)}return c}l=h,h=l.parentNode}return null}function ds(l){if(l=l[Jt]||l[Qr]){var c=l.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return l}return null}function As(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(r(33))}function qs(l){var c=l[ii];return c||(c=l[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function cn(l){l[ai]=!0}var eo=new Set,to={};function hs(l,c){ps(l,c),ps(l+"Capture",c)}function ps(l,c){for(to[l]=c,l=0;l<c.length;l++)eo.add(c[l])}var Zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},ro={};function Ki(l){return Je.call(ro,l)?!0:Je.call(no,l)?!1:Zc.test(l)?ro[l]=!0:(no[l]=!0,!1)}function so(l,c,h){if(Ki(c))if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var O=c.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+h)}}function io(l,c,h){if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+h)}}function ms(l,c,h,O){if(O===null)l.removeAttribute(h);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(c,h,""+O)}}function or(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Od(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Vc(l,c,h){var O=Object.getOwnPropertyDescriptor(l.constructor.prototype,c);if(!l.hasOwnProperty(c)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var y=O.get,w=O.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return y.call(this)},set:function(P){h=""+P,w.call(this,P)}}),Object.defineProperty(l,c,{enumerable:O.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ka(l){if(!l._valueTracker){var c=Od(l)?"checked":"value";l._valueTracker=Vc(l,c,""+l[c])}}function Oe(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),O="";return l&&(O=Od(l)?l.checked?"true":"false":l.value),l=O,l!==h?(c.setValue(l),!0):!1}function $e(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var De=/[\n"\\]/g;function ot(l){return l.replace(De,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function en(l,c,h,O,y,w,P,X){l.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?l.type=P:l.removeAttribute("type"),c!=null?P==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+or(c)):l.value!==""+or(c)&&(l.value=""+or(c)):P!=="submit"&&P!=="reset"||l.removeAttribute("value"),c!=null?cr(l,P,or(c)):h!=null?cr(l,P,or(h)):O!=null&&l.removeAttribute("value"),y==null&&w!=null&&(l.defaultChecked=!!w),y!=null&&(l.checked=y&&typeof y!="function"&&typeof y!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?l.name=""+or(X):l.removeAttribute("name")}function Kn(l,c,h,O,y,w,P,X){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(l.type=w),c!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||c!=null)){Ka(l);return}h=h!=null?""+or(h):"",c=c!=null?""+or(c):h,X||c===l.value||(l.value=c),l.defaultValue=c}O=O??y,O=typeof O!="function"&&typeof O!="symbol"&&!!O,l.checked=X?l.checked:!!O,l.defaultChecked=!!O,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.name=P),Ka(l)}function cr(l,c,h){c==="number"&&$e(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Wn(l,c,h,O){if(l=l.options,c){c={};for(var y=0;y<h.length;y++)c["$"+h[y]]=!0;for(h=0;h<l.length;h++)y=c.hasOwnProperty("$"+l[h].value),l[h].selected!==y&&(l[h].selected=y),y&&O&&(l[h].defaultSelected=!0)}else{for(h=""+or(h),c=null,y=0;y<l.length;y++){if(l[y].value===h){l[y].selected=!0,O&&(l[y].defaultSelected=!0);return}c!==null||l[y].disabled||(c=l[y])}c!==null&&(c.selected=!0)}}function Ms(l,c,h){if(c!=null&&(c=""+or(c),c!==l.value&&(l.value=c),h==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=h!=null?""+or(h):""}function gd(l,c,h,O){if(c==null){if(O!=null){if(h!=null)throw Error(r(92));if(G(O)){if(1<O.length)throw Error(r(93));O=O[0]}h=O}h==null&&(h=""),c=h}h=or(c),l.defaultValue=h,O=l.textContent,O===h&&O!==""&&O!==null&&(l.value=O),Ka(l)}function Ji(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yc(l,c,h){var O=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?O?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":O?l.setProperty(c,h):typeof h!="number"||h===0||xd.has(c)?c==="float"?l.cssFloat=h:l[c]=(""+h).trim():l[c]=h+"px"}function Dc(l,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(l=l.style,h!=null){for(var O in h)!h.hasOwnProperty(O)||c!=null&&c.hasOwnProperty(O)||(O.indexOf("--")===0?l.setProperty(O,""):O==="float"?l.cssFloat="":l[O]="");for(var y in c)O=c[y],c.hasOwnProperty(y)&&h[y]!==O&&Yc(l,y,O)}else for(var w in c)c.hasOwnProperty(w)&&Yc(l,w,c[w])}function Bc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yd(l){return CO.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function li(){}var RO=null;function EO(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ao=null,lo=null;function Ik(l){var c=ds(l);if(c&&(l=c.stateNode)){var h=l[on]||null;e:switch(l=c.stateNode,c.type){case"input":if(en(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ot(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var O=h[c];if(O!==l&&O.form===l.form){var y=O[on]||null;if(!y)throw Error(r(90));en(O,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<h.length;c++)O=h[c],O.form===l.form&&Oe(O)}break e;case"textarea":Ms(l,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Wn(l,!!h.multiple,c,!1)}}}var AO=!1;function Hk(l,c,h){if(AO)return l(c,h);AO=!0;try{var O=l(c);return O}finally{if(AO=!1,(ao!==null||lo!==null)&&(ah(),ao&&(c=ao,l=lo,lo=ao=null,Ik(c),l)))for(c=0;c<l.length;c++)Ik(l[c])}}function Uc(l,c){var h=l.stateNode;if(h===null)return null;var O=h[on]||null;if(O===null)return null;h=O[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(l=l.type,O=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!O;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qO=!1;if(oi)try{var Wc={};Object.defineProperty(Wc,"passive",{get:function(){qO=!0}}),window.addEventListener("test",Wc,Wc),window.removeEventListener("test",Wc,Wc)}catch{qO=!1}var ea=null,MO=null,bd=null;function Fk(){if(bd)return bd;var l,c=MO,h=c.length,O,y="value"in ea?ea.value:ea.textContent,w=y.length;for(l=0;l<h&&c[l]===y[l];l++);var P=h-l;for(O=1;O<=P&&c[h-O]===y[w-O];O++);return bd=y.slice(l,1<O?1-O:void 0)}function vd(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function wd(){return!0}function Kk(){return!1}function ur(l){function c(h,O,y,w,P){this._reactName=h,this._targetInst=y,this.type=O,this.nativeEvent=w,this.target=P,this.currentTarget=null;for(var X in l)l.hasOwnProperty(X)&&(h=l[X],this[X]=h?h(w):w[X]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?wd:Kk,this.isPropagationStopped=Kk,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),c}var Ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=ur(Ja),Gc=m({},Ja,{view:0,detail:0}),_Z=ur(Gc),XO,zO,Ic,Qd=m({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ZO,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ic&&(Ic&&l.type==="mousemove"?(XO=l.screenX-Ic.screenX,zO=l.screenY-Ic.screenY):zO=XO=0,Ic=l),XO)},movementY:function(l){return"movementY"in l?l.movementY:zO}}),Jk=ur(Qd),PZ=m({},Qd,{dataTransfer:0}),NZ=ur(PZ),CZ=m({},Gc,{relatedTarget:0}),LO=ur(CZ),RZ=m({},Ja,{animationName:0,elapsedTime:0,pseudoElement:0}),EZ=ur(RZ),AZ=m({},Ja,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),qZ=ur(AZ),MZ=m({},Ja,{data:0}),e5=ur(MZ),XZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZZ(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=LZ[l])?!!c[l]:!1}function ZO(){return ZZ}var VZ=m({},Gc,{key:function(l){if(l.key){var c=XZ[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=vd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?zZ[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ZO,charCode:function(l){return l.type==="keypress"?vd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?vd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),YZ=ur(VZ),DZ=m({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t5=ur(DZ),BZ=m({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ZO}),UZ=ur(BZ),WZ=m({},Ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),GZ=ur(WZ),IZ=m({},Qd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),HZ=ur(IZ),FZ=m({},Ja,{newState:0,oldState:0}),KZ=ur(FZ),JZ=[9,13,27,32],VO=oi&&"CompositionEvent"in window,Hc=null;oi&&"documentMode"in document&&(Hc=document.documentMode);var e8=oi&&"TextEvent"in window&&!Hc,n5=oi&&(!VO||Hc&&8<Hc&&11>=Hc),r5=" ",s5=!1;function i5(l,c){switch(l){case"keyup":return JZ.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a5(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var oo=!1;function t8(l,c){switch(l){case"compositionend":return a5(c);case"keypress":return c.which!==32?null:(s5=!0,r5);case"textInput":return l=c.data,l===r5&&s5?null:l;default:return null}}function n8(l,c){if(oo)return l==="compositionend"||!VO&&i5(l,c)?(l=Fk(),bd=MO=ea=null,oo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return n5&&c.locale!=="ko"?null:c.data;default:return null}}var r8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l5(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!r8[l.type]:c==="textarea"}function o5(l,c,h,O){ao?lo?lo.push(O):lo=[O]:ao=O,c=hh(c,"onChange"),0<c.length&&(h=new Sd("onChange","change",null,h,O),l.push({event:h,listeners:c}))}var Fc=null,Kc=null;function s8(l){DT(l,0)}function kd(l){var c=As(l);if(Oe(c))return l}function c5(l,c){if(l==="change")return c}var u5=!1;if(oi){var YO;if(oi){var DO="oninput"in document;if(!DO){var f5=document.createElement("div");f5.setAttribute("oninput","return;"),DO=typeof f5.oninput=="function"}YO=DO}else YO=!1;u5=YO&&(!document.documentMode||9<document.documentMode)}function d5(){Fc&&(Fc.detachEvent("onpropertychange",h5),Kc=Fc=null)}function h5(l){if(l.propertyName==="value"&&kd(Kc)){var c=[];o5(c,Kc,l,EO(l)),Hk(s8,c)}}function i8(l,c,h){l==="focusin"?(d5(),Fc=c,Kc=h,Fc.attachEvent("onpropertychange",h5)):l==="focusout"&&d5()}function a8(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return kd(Kc)}function l8(l,c){if(l==="click")return kd(c)}function o8(l,c){if(l==="input"||l==="change")return kd(c)}function c8(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var kr=typeof Object.is=="function"?Object.is:c8;function Jc(l,c){if(kr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),O=Object.keys(c);if(h.length!==O.length)return!1;for(O=0;O<h.length;O++){var y=h[O];if(!Je.call(c,y)||!kr(l[y],c[y]))return!1}return!0}function p5(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function m5(l,c){var h=p5(l);l=0;for(var O;h;){if(h.nodeType===3){if(O=l+h.textContent.length,l<=c&&O>=c)return{node:h,offset:c-l};l=O}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=p5(h)}}function O5(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?O5(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function g5(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=$e(l.document);c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=$e(l.document)}return c}function BO(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var u8=oi&&"documentMode"in document&&11>=document.documentMode,co=null,UO=null,eu=null,WO=!1;function x5(l,c,h){var O=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;WO||co==null||co!==$e(O)||(O=co,"selectionStart"in O&&BO(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),eu&&Jc(eu,O)||(eu=O,O=hh(UO,"onSelect"),0<O.length&&(c=new Sd("onSelect","select",null,c,h),l.push({event:c,listeners:O}),c.target=co)))}function el(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var uo={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},GO={},y5={};oi&&(y5=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function tl(l){if(GO[l])return GO[l];if(!uo[l])return l;var c=uo[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in y5)return GO[l]=c[h];return l}var b5=tl("animationend"),v5=tl("animationiteration"),w5=tl("animationstart"),f8=tl("transitionrun"),d8=tl("transitionstart"),h8=tl("transitioncancel"),S5=tl("transitionend"),Q5=new Map,IO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");IO.push("scrollEnd");function Os(l,c){Q5.set(l,c),hs(c,[l])}var $d=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Lr=[],fo=0,HO=0;function Td(){for(var l=fo,c=HO=fo=0;c<l;){var h=Lr[c];Lr[c++]=null;var O=Lr[c];Lr[c++]=null;var y=Lr[c];Lr[c++]=null;var w=Lr[c];if(Lr[c++]=null,O!==null&&y!==null){var P=O.pending;P===null?y.next=y:(y.next=P.next,P.next=y),O.pending=y}w!==0&&k5(h,y,w)}}function jd(l,c,h,O){Lr[fo++]=l,Lr[fo++]=c,Lr[fo++]=h,Lr[fo++]=O,HO|=O,l.lanes|=O,l=l.alternate,l!==null&&(l.lanes|=O)}function FO(l,c,h,O){return jd(l,c,h,O),_d(l)}function nl(l,c){return jd(l,null,null,c),_d(l)}function k5(l,c,h){l.lanes|=h;var O=l.alternate;O!==null&&(O.lanes|=h);for(var y=!1,w=l.return;w!==null;)w.childLanes|=h,O=w.alternate,O!==null&&(O.childLanes|=h),w.tag===22&&(l=w.stateNode,l===null||l._visibility&1||(y=!0)),l=w,w=w.return;return l.tag===3?(w=l.stateNode,y&&c!==null&&(y=31-yt(h),l=w.hiddenUpdates,O=l[y],O===null?l[y]=[c]:O.push(c),c.lane=h|536870912),w):null}function _d(l){if(50<wu)throw wu=0,ag=null,Error(r(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var ho={};function p8(l,c,h,O){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(l,c,h,O){return new p8(l,c,h,O)}function KO(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ci(l,c){var h=l.alternate;return h===null?(h=$r(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function $5(l,c){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,c=h.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Pd(l,c,h,O,y,w){var P=0;if(O=l,typeof l=="function")KO(l)&&(P=1);else if(typeof l=="string")P=y9(l,h,B.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case M:return l=$r(31,h,c,y),l.elementType=M,l.lanes=w,l;case b:return rl(h.children,y,w,c);case S:P=8,y|=24;break;case Q:return l=$r(12,h,c,y|2),l.elementType=Q,l.lanes=w,l;case j:return l=$r(13,h,c,y),l.elementType=j,l.lanes=w,l;case N:return l=$r(19,h,c,y),l.elementType=N,l.lanes=w,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case $:P=10;break e;case k:P=9;break e;case T:P=11;break e;case C:P=14;break e;case q:P=16,O=null;break e}P=29,h=Error(r(130,l===null?"null":typeof l,"")),O=null}return c=$r(P,h,c,y),c.elementType=l,c.type=O,c.lanes=w,c}function rl(l,c,h,O){return l=$r(7,l,O,c),l.lanes=h,l}function JO(l,c,h){return l=$r(6,l,null,c),l.lanes=h,l}function T5(l){var c=$r(18,null,null,0);return c.stateNode=l,c}function e0(l,c,h){return c=$r(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var j5=new WeakMap;function Zr(l,c){if(typeof l=="object"&&l!==null){var h=j5.get(l);return h!==void 0?h:(c={value:l,source:c,stack:ke(c)},j5.set(l,c),c)}return{value:l,source:c,stack:ke(c)}}var po=[],mo=0,Nd=null,tu=0,Vr=[],Yr=0,ta=null,Xs=1,zs="";function ui(l,c){po[mo++]=tu,po[mo++]=Nd,Nd=l,tu=c}function _5(l,c,h){Vr[Yr++]=Xs,Vr[Yr++]=zs,Vr[Yr++]=ta,ta=l;var O=Xs;l=zs;var y=32-yt(O)-1;O&=~(1<<y),h+=1;var w=32-yt(c)+y;if(30<w){var P=y-y%5;w=(O&(1<<P)-1).toString(32),O>>=P,y-=P,Xs=1<<32-yt(c)+y|h<<y|O,zs=w+l}else Xs=1<<w|h<<y|O,zs=l}function t0(l){l.return!==null&&(ui(l,1),_5(l,1,0))}function n0(l){for(;l===Nd;)Nd=po[--mo],po[mo]=null,tu=po[--mo],po[mo]=null;for(;l===ta;)ta=Vr[--Yr],Vr[Yr]=null,zs=Vr[--Yr],Vr[Yr]=null,Xs=Vr[--Yr],Vr[Yr]=null}function P5(l,c){Vr[Yr++]=Xs,Vr[Yr++]=zs,Vr[Yr++]=ta,Xs=c.id,zs=c.overflow,ta=l}var Xn=null,Dt=null,ct=!1,na=null,Dr=!1,r0=Error(r(519));function ra(l){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nu(Zr(c,l)),r0}function N5(l){var c=l.stateNode,h=l.type,O=l.memoizedProps;switch(c[Jt]=l,c[on]=O,h){case"dialog":it("cancel",c),it("close",c);break;case"iframe":case"object":case"embed":it("load",c);break;case"video":case"audio":for(h=0;h<Qu.length;h++)it(Qu[h],c);break;case"source":it("error",c);break;case"img":case"image":case"link":it("error",c),it("load",c);break;case"details":it("toggle",c);break;case"input":it("invalid",c),Kn(c,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0);break;case"select":it("invalid",c);break;case"textarea":it("invalid",c),gd(c,O.value,O.defaultValue,O.children)}h=O.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||O.suppressHydrationWarning===!0||GT(c.textContent,h)?(O.popover!=null&&(it("beforetoggle",c),it("toggle",c)),O.onScroll!=null&&it("scroll",c),O.onScrollEnd!=null&&it("scrollend",c),O.onClick!=null&&(c.onclick=li),c=!0):c=!1,c||ra(l,!0)}function C5(l){for(Xn=l.return;Xn;)switch(Xn.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Xn=Xn.return}}function Oo(l){if(l!==Xn)return!1;if(!ct)return C5(l),ct=!0,!1;var c=l.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||vg(l.type,l.memoizedProps)),h=!h),h&&Dt&&ra(l),C5(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Dt=rj(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Dt=rj(l)}else c===27?(c=Dt,ga(l.type)?(l=$g,$g=null,Dt=l):Dt=c):Dt=Xn?Ur(l.stateNode.nextSibling):null;return!0}function sl(){Dt=Xn=null,ct=!1}function s0(){var l=na;return l!==null&&(pr===null?pr=l:pr.push.apply(pr,l),na=null),l}function nu(l){na===null?na=[l]:na.push(l)}var i0=z(null),il=null,fi=null;function sa(l,c,h){K(i0,c._currentValue),c._currentValue=h}function di(l){l._currentValue=i0.current,D(i0)}function a0(l,c,h){for(;l!==null;){var O=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,O!==null&&(O.childLanes|=c)):O!==null&&(O.childLanes&c)!==c&&(O.childLanes|=c),l===h)break;l=l.return}}function l0(l,c,h,O){var y=l.child;for(y!==null&&(y.return=l);y!==null;){var w=y.dependencies;if(w!==null){var P=y.child;w=w.firstContext;e:for(;w!==null;){var X=w;w=y;for(var F=0;F<c.length;F++)if(X.context===c[F]){w.lanes|=h,X=w.alternate,X!==null&&(X.lanes|=h),a0(w.return,h,l),O||(P=null);break e}w=X.next}}else if(y.tag===18){if(P=y.return,P===null)throw Error(r(341));P.lanes|=h,w=P.alternate,w!==null&&(w.lanes|=h),a0(P,h,l),P=null}else P=y.child;if(P!==null)P.return=y;else for(P=y;P!==null;){if(P===l){P=null;break}if(y=P.sibling,y!==null){y.return=P.return,P=y;break}P=P.return}y=P}}function go(l,c,h,O){l=null;for(var y=c,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var P=y.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var X=y.type;kr(y.pendingProps.value,P.value)||(l!==null?l.push(X):l=[X])}}else if(y===re.current){if(P=y.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(l!==null?l.push(_u):l=[_u])}y=y.return}l!==null&&l0(c,l,h,O),c.flags|=262144}function Cd(l){for(l=l.firstContext;l!==null;){if(!kr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function al(l){il=l,fi=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function zn(l){return R5(il,l)}function Rd(l,c){return il===null&&al(l),R5(l,c)}function R5(l,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},fi===null){if(l===null)throw Error(r(308));fi=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else fi=fi.next=c;return h}var m8=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(h,O){l.push(O)}};this.abort=function(){c.aborted=!0,l.forEach(function(h){return h()})}},O8=t.unstable_scheduleCallback,g8=t.unstable_NormalPriority,vn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function o0(){return{controller:new m8,data:new Map,refCount:0}}function ru(l){l.refCount--,l.refCount===0&&O8(g8,function(){l.controller.abort()})}var su=null,c0=0,xo=0,yo=null;function x8(l,c){if(su===null){var h=su=[];c0=0,xo=dg(),yo={status:"pending",value:void 0,then:function(O){h.push(O)}}}return c0++,c.then(E5,E5),c}function E5(){if(--c0===0&&su!==null){yo!==null&&(yo.status="fulfilled");var l=su;su=null,xo=0,yo=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function y8(l,c){var h=[],O={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return l.then(function(){O.status="fulfilled",O.value=c;for(var y=0;y<h.length;y++)(0,h[y])(c)},function(y){for(O.status="rejected",O.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),O}var A5=A.S;A.S=function(l,c){xT=nt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&x8(l,c),A5!==null&&A5(l,c)};var ll=z(null);function u0(){var l=ll.current;return l!==null?l:Mt.pooledCache}function Ed(l,c){c===null?K(ll,ll.current):K(ll,c.pool)}function q5(){var l=u0();return l===null?null:{parent:vn._currentValue,pool:l}}var bo=Error(r(460)),f0=Error(r(474)),Ad=Error(r(542)),qd={then:function(){}};function M5(l){return l=l.status,l==="fulfilled"||l==="rejected"}function X5(l,c,h){switch(h=l[h],h===void 0?l.push(c):h!==c&&(c.then(li,li),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,L5(l),l;default:if(typeof c.status=="string")c.then(li,li);else{if(l=Mt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=c,l.status="pending",l.then(function(O){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=O}},function(O){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=O}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,L5(l),l}throw cl=c,bo}}function ol(l){try{var c=l._init;return c(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(cl=h,bo):h}}var cl=null;function z5(){if(cl===null)throw Error(r(459));var l=cl;return cl=null,l}function L5(l){if(l===bo||l===Ad)throw Error(r(483))}var vo=null,iu=0;function Md(l){var c=iu;return iu+=1,vo===null&&(vo=[]),X5(vo,l,c)}function au(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function Xd(l,c){throw c.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Z5(l){function c(se,te){if(l){var ae=se.deletions;ae===null?(se.deletions=[te],se.flags|=16):ae.push(te)}}function h(se,te){if(!l)return null;for(;te!==null;)c(se,te),te=te.sibling;return null}function O(se){for(var te=new Map;se!==null;)se.key!==null?te.set(se.key,se):te.set(se.index,se),se=se.sibling;return te}function y(se,te){return se=ci(se,te),se.index=0,se.sibling=null,se}function w(se,te,ae){return se.index=ae,l?(ae=se.alternate,ae!==null?(ae=ae.index,ae<te?(se.flags|=67108866,te):ae):(se.flags|=67108866,te)):(se.flags|=1048576,te)}function P(se){return l&&se.alternate===null&&(se.flags|=67108866),se}function X(se,te,ae,me){return te===null||te.tag!==6?(te=JO(ae,se.mode,me),te.return=se,te):(te=y(te,ae),te.return=se,te)}function F(se,te,ae,me){var Le=ae.type;return Le===b?de(se,te,ae.props.children,me,ae.key):te!==null&&(te.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===q&&ol(Le)===te.type)?(te=y(te,ae.props),au(te,ae),te.return=se,te):(te=Pd(ae.type,ae.key,ae.props,null,se.mode,me),au(te,ae),te.return=se,te)}function le(se,te,ae,me){return te===null||te.tag!==4||te.stateNode.containerInfo!==ae.containerInfo||te.stateNode.implementation!==ae.implementation?(te=e0(ae,se.mode,me),te.return=se,te):(te=y(te,ae.children||[]),te.return=se,te)}function de(se,te,ae,me,Le){return te===null||te.tag!==7?(te=rl(ae,se.mode,me,Le),te.return=se,te):(te=y(te,ae),te.return=se,te)}function ge(se,te,ae){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return te=JO(""+te,se.mode,ae),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case x:return ae=Pd(te.type,te.key,te.props,null,se.mode,ae),au(ae,te),ae.return=se,ae;case v:return te=e0(te,se.mode,ae),te.return=se,te;case q:return te=ol(te),ge(se,te,ae)}if(G(te)||Z(te))return te=rl(te,se.mode,ae,null),te.return=se,te;if(typeof te.then=="function")return ge(se,Md(te),ae);if(te.$$typeof===$)return ge(se,Rd(se,te),ae);Xd(se,te)}return null}function oe(se,te,ae,me){var Le=te!==null?te.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Le!==null?null:X(se,te,""+ae,me);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return ae.key===Le?F(se,te,ae,me):null;case v:return ae.key===Le?le(se,te,ae,me):null;case q:return ae=ol(ae),oe(se,te,ae,me)}if(G(ae)||Z(ae))return Le!==null?null:de(se,te,ae,me,null);if(typeof ae.then=="function")return oe(se,te,Md(ae),me);if(ae.$$typeof===$)return oe(se,te,Rd(se,ae),me);Xd(se,ae)}return null}function ue(se,te,ae,me,Le){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return se=se.get(ae)||null,X(te,se,""+me,Le);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return se=se.get(me.key===null?ae:me.key)||null,F(te,se,me,Le);case v:return se=se.get(me.key===null?ae:me.key)||null,le(te,se,me,Le);case q:return me=ol(me),ue(se,te,ae,me,Le)}if(G(me)||Z(me))return se=se.get(ae)||null,de(te,se,me,Le,null);if(typeof me.then=="function")return ue(se,te,ae,Md(me),Le);if(me.$$typeof===$)return ue(se,te,ae,Rd(te,me),Le);Xd(te,me)}return null}function Re(se,te,ae,me){for(var Le=null,mt=null,Ae=te,Ke=te=0,lt=null;Ae!==null&&Ke<ae.length;Ke++){Ae.index>Ke?(lt=Ae,Ae=null):lt=Ae.sibling;var Ot=oe(se,Ae,ae[Ke],me);if(Ot===null){Ae===null&&(Ae=lt);break}l&&Ae&&Ot.alternate===null&&c(se,Ae),te=w(Ot,te,Ke),mt===null?Le=Ot:mt.sibling=Ot,mt=Ot,Ae=lt}if(Ke===ae.length)return h(se,Ae),ct&&ui(se,Ke),Le;if(Ae===null){for(;Ke<ae.length;Ke++)Ae=ge(se,ae[Ke],me),Ae!==null&&(te=w(Ae,te,Ke),mt===null?Le=Ae:mt.sibling=Ae,mt=Ae);return ct&&ui(se,Ke),Le}for(Ae=O(Ae);Ke<ae.length;Ke++)lt=ue(Ae,se,Ke,ae[Ke],me),lt!==null&&(l&&lt.alternate!==null&&Ae.delete(lt.key===null?Ke:lt.key),te=w(lt,te,Ke),mt===null?Le=lt:mt.sibling=lt,mt=lt);return l&&Ae.forEach(function(wa){return c(se,wa)}),ct&&ui(se,Ke),Le}function Be(se,te,ae,me){if(ae==null)throw Error(r(151));for(var Le=null,mt=null,Ae=te,Ke=te=0,lt=null,Ot=ae.next();Ae!==null&&!Ot.done;Ke++,Ot=ae.next()){Ae.index>Ke?(lt=Ae,Ae=null):lt=Ae.sibling;var wa=oe(se,Ae,Ot.value,me);if(wa===null){Ae===null&&(Ae=lt);break}l&&Ae&&wa.alternate===null&&c(se,Ae),te=w(wa,te,Ke),mt===null?Le=wa:mt.sibling=wa,mt=wa,Ae=lt}if(Ot.done)return h(se,Ae),ct&&ui(se,Ke),Le;if(Ae===null){for(;!Ot.done;Ke++,Ot=ae.next())Ot=ge(se,Ot.value,me),Ot!==null&&(te=w(Ot,te,Ke),mt===null?Le=Ot:mt.sibling=Ot,mt=Ot);return ct&&ui(se,Ke),Le}for(Ae=O(Ae);!Ot.done;Ke++,Ot=ae.next())Ot=ue(Ae,se,Ke,Ot.value,me),Ot!==null&&(l&&Ot.alternate!==null&&Ae.delete(Ot.key===null?Ke:Ot.key),te=w(Ot,te,Ke),mt===null?Le=Ot:mt.sibling=Ot,mt=Ot);return l&&Ae.forEach(function(P9){return c(se,P9)}),ct&&ui(se,Ke),Le}function Ct(se,te,ae,me){if(typeof ae=="object"&&ae!==null&&ae.type===b&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:e:{for(var Le=ae.key;te!==null;){if(te.key===Le){if(Le=ae.type,Le===b){if(te.tag===7){h(se,te.sibling),me=y(te,ae.props.children),me.return=se,se=me;break e}}else if(te.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===q&&ol(Le)===te.type){h(se,te.sibling),me=y(te,ae.props),au(me,ae),me.return=se,se=me;break e}h(se,te);break}else c(se,te);te=te.sibling}ae.type===b?(me=rl(ae.props.children,se.mode,me,ae.key),me.return=se,se=me):(me=Pd(ae.type,ae.key,ae.props,null,se.mode,me),au(me,ae),me.return=se,se=me)}return P(se);case v:e:{for(Le=ae.key;te!==null;){if(te.key===Le)if(te.tag===4&&te.stateNode.containerInfo===ae.containerInfo&&te.stateNode.implementation===ae.implementation){h(se,te.sibling),me=y(te,ae.children||[]),me.return=se,se=me;break e}else{h(se,te);break}else c(se,te);te=te.sibling}me=e0(ae,se.mode,me),me.return=se,se=me}return P(se);case q:return ae=ol(ae),Ct(se,te,ae,me)}if(G(ae))return Re(se,te,ae,me);if(Z(ae)){if(Le=Z(ae),typeof Le!="function")throw Error(r(150));return ae=Le.call(ae),Be(se,te,ae,me)}if(typeof ae.then=="function")return Ct(se,te,Md(ae),me);if(ae.$$typeof===$)return Ct(se,te,Rd(se,ae),me);Xd(se,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,te!==null&&te.tag===6?(h(se,te.sibling),me=y(te,ae),me.return=se,se=me):(h(se,te),me=JO(ae,se.mode,me),me.return=se,se=me),P(se)):h(se,te)}return function(se,te,ae,me){try{iu=0;var Le=Ct(se,te,ae,me);return vo=null,Le}catch(Ae){if(Ae===bo||Ae===Ad)throw Ae;var mt=$r(29,Ae,null,se.mode);return mt.lanes=me,mt.return=se,mt}finally{}}}var ul=Z5(!0),V5=Z5(!1),ia=!1;function d0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function h0(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function aa(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function la(l,c,h){var O=l.updateQueue;if(O===null)return null;if(O=O.shared,(bt&2)!==0){var y=O.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),O.pending=c,c=_d(l),k5(l,null,h),c}return jd(l,O,c,h),_d(l)}function lu(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var O=c.lanes;O&=l.pendingLanes,h|=O,c.lanes=h,Ia(l,h)}}function p0(l,c){var h=l.updateQueue,O=l.alternate;if(O!==null&&(O=O.updateQueue,h===O)){var y=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var P={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?y=w=P:w=w.next=P,h=h.next}while(h!==null);w===null?y=w=c:w=w.next=c}else y=w=c;h={baseState:O.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:O.shared,callbacks:O.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}var m0=!1;function ou(){if(m0){var l=yo;if(l!==null)throw l}}function cu(l,c,h,O){m0=!1;var y=l.updateQueue;ia=!1;var w=y.firstBaseUpdate,P=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var F=X,le=F.next;F.next=null,P===null?w=le:P.next=le,P=F;var de=l.alternate;de!==null&&(de=de.updateQueue,X=de.lastBaseUpdate,X!==P&&(X===null?de.firstBaseUpdate=le:X.next=le,de.lastBaseUpdate=F))}if(w!==null){var ge=y.baseState;P=0,de=le=F=null,X=w;do{var oe=X.lane&-536870913,ue=oe!==X.lane;if(ue?(at&oe)===oe:(O&oe)===oe){oe!==0&&oe===xo&&(m0=!0),de!==null&&(de=de.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Re=l,Be=X;oe=c;var Ct=h;switch(Be.tag){case 1:if(Re=Be.payload,typeof Re=="function"){ge=Re.call(Ct,ge,oe);break e}ge=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Be.payload,oe=typeof Re=="function"?Re.call(Ct,ge,oe):Re,oe==null)break e;ge=m({},ge,oe);break e;case 2:ia=!0}}oe=X.callback,oe!==null&&(l.flags|=64,ue&&(l.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},de===null?(le=de=ue,F=ge):de=de.next=ue,P|=oe;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;ue=X,X=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);de===null&&(F=ge),y.baseState=F,y.firstBaseUpdate=le,y.lastBaseUpdate=de,w===null&&(y.shared.lanes=0),da|=P,l.lanes=P,l.memoizedState=ge}}function Y5(l,c){if(typeof l!="function")throw Error(r(191,l));l.call(c)}function D5(l,c){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)Y5(h[l],c)}var wo=z(null),zd=z(0);function B5(l,c){l=vi,K(zd,l),K(wo,c),vi=l|c.baseLanes}function O0(){K(zd,vi),K(wo,wo.current)}function g0(){vi=zd.current,D(wo),D(zd)}var Tr=z(null),Br=null;function oa(l){var c=l.alternate;K(On,On.current&1),K(Tr,l),Br===null&&(c===null||wo.current!==null||c.memoizedState!==null)&&(Br=l)}function x0(l){K(On,On.current),K(Tr,l),Br===null&&(Br=l)}function U5(l){l.tag===22?(K(On,On.current),K(Tr,l),Br===null&&(Br=l)):ca()}function ca(){K(On,On.current),K(Tr,Tr.current)}function jr(l){D(Tr),Br===l&&(Br=null),D(On)}var On=z(0);function Ld(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Qg(h)||kg(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var hi=0,He=null,Pt=null,wn=null,Zd=!1,So=!1,fl=!1,Vd=0,uu=0,Qo=null,b8=0;function un(){throw Error(r(321))}function y0(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!kr(l[h],c[h]))return!1;return!0}function b0(l,c,h,O,y,w){return hi=w,He=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,A.H=l===null||l.memoizedState===null?_$:A0,fl=!1,w=h(O,y),fl=!1,So&&(w=G5(c,h,O,y)),W5(l),w}function W5(l){A.H=hu;var c=Pt!==null&&Pt.next!==null;if(hi=0,wn=Pt=He=null,Zd=!1,uu=0,Qo=null,c)throw Error(r(300));l===null||Sn||(l=l.dependencies,l!==null&&Cd(l)&&(Sn=!0))}function G5(l,c,h,O){He=l;var y=0;do{if(So&&(Qo=null),uu=0,So=!1,25<=y)throw Error(r(301));if(y+=1,wn=Pt=null,l.updateQueue!=null){var w=l.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}A.H=P$,w=c(h,O)}while(So);return w}function v8(){var l=A.H,c=l.useState()[0];return c=typeof c.then=="function"?fu(c):c,l=l.useState()[0],(Pt!==null?Pt.memoizedState:null)!==l&&(He.flags|=1024),c}function v0(){var l=Vd!==0;return Vd=0,l}function w0(l,c,h){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~h}function S0(l){if(Zd){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Zd=!1}hi=0,wn=Pt=He=null,So=!1,uu=Vd=0,Qo=null}function Jn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?He.memoizedState=wn=l:wn=wn.next=l,wn}function gn(){if(Pt===null){var l=He.alternate;l=l!==null?l.memoizedState:null}else l=Pt.next;var c=wn===null?He.memoizedState:wn.next;if(c!==null)wn=c,Pt=l;else{if(l===null)throw He.alternate===null?Error(r(467)):Error(r(310));Pt=l,l={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},wn===null?He.memoizedState=wn=l:wn=wn.next=l}return wn}function Yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(l){var c=uu;return uu+=1,Qo===null&&(Qo=[]),l=X5(Qo,l,c),c=He,(wn===null?c.memoizedState:wn.next)===null&&(c=c.alternate,A.H=c===null||c.memoizedState===null?_$:A0),l}function Dd(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return fu(l);if(l.$$typeof===$)return zn(l)}throw Error(r(438,String(l)))}function Q0(l){var c=null,h=He.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var O=He.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(c={data:O.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Yd(),He.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(l),O=0;O<l;O++)h[O]=L;return c.index++,h}function pi(l,c){return typeof c=="function"?c(l):c}function Bd(l){var c=gn();return k0(c,Pt,l)}function k0(l,c,h){var O=l.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=h;var y=l.baseQueue,w=O.pending;if(w!==null){if(y!==null){var P=y.next;y.next=w.next,w.next=P}c.baseQueue=y=w,O.pending=null}if(w=l.baseState,y===null)l.memoizedState=w;else{c=y.next;var X=P=null,F=null,le=c,de=!1;do{var ge=le.lane&-536870913;if(ge!==le.lane?(at&ge)===ge:(hi&ge)===ge){var oe=le.revertLane;if(oe===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ge===xo&&(de=!0);else if((hi&oe)===oe){le=le.next,oe===xo&&(de=!0);continue}else ge={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},F===null?(X=F=ge,P=w):F=F.next=ge,He.lanes|=oe,da|=oe;ge=le.action,fl&&h(w,ge),w=le.hasEagerState?le.eagerState:h(w,ge)}else oe={lane:ge,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},F===null?(X=F=oe,P=w):F=F.next=oe,He.lanes|=ge,da|=ge;le=le.next}while(le!==null&&le!==c);if(F===null?P=w:F.next=X,!kr(w,l.memoizedState)&&(Sn=!0,de&&(h=yo,h!==null)))throw h;l.memoizedState=w,l.baseState=P,l.baseQueue=F,O.lastRenderedState=w}return y===null&&(O.lanes=0),[l.memoizedState,O.dispatch]}function $0(l){var c=gn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var O=h.dispatch,y=h.pending,w=c.memoizedState;if(y!==null){h.pending=null;var P=y=y.next;do w=l(w,P.action),P=P.next;while(P!==y);kr(w,c.memoizedState)||(Sn=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),h.lastRenderedState=w}return[w,O]}function I5(l,c,h){var O=He,y=gn(),w=ct;if(w){if(h===void 0)throw Error(r(407));h=h()}else h=c();var P=!kr((Pt||y).memoizedState,h);if(P&&(y.memoizedState=h,Sn=!0),y=y.queue,_0(K5.bind(null,O,y,l),[l]),y.getSnapshot!==c||P||wn!==null&&wn.memoizedState.tag&1){if(O.flags|=2048,ko(9,{destroy:void 0},F5.bind(null,O,y,h,c),null),Mt===null)throw Error(r(349));w||(hi&127)!==0||H5(O,c,h)}return h}function H5(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=He.updateQueue,c===null?(c=Yd(),He.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function F5(l,c,h,O){c.value=h,c.getSnapshot=O,J5(c)&&e$(l)}function K5(l,c,h){return h(function(){J5(c)&&e$(l)})}function J5(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!kr(l,h)}catch{return!0}}function e$(l){var c=nl(l,2);c!==null&&mr(c,l,2)}function T0(l){var c=Jn();if(typeof l=="function"){var h=l;if(l=h(),fl){Wt(!0);try{h()}finally{Wt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:l},c}function t$(l,c,h,O){return l.baseState=h,k0(l,Pt,typeof O=="function"?O:pi)}function w8(l,c,h,O,y){if(Gd(l))throw Error(r(485));if(l=c.action,l!==null){var w={payload:y,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){w.listeners.push(P)}};A.T!==null?h(!0):w.isTransition=!1,O(w),h=c.pending,h===null?(w.next=c.pending=w,n$(c,w)):(w.next=h.next,c.pending=h.next=w)}}function n$(l,c){var h=c.action,O=c.payload,y=l.state;if(c.isTransition){var w=A.T,P={};A.T=P;try{var X=h(y,O),F=A.S;F!==null&&F(P,X),r$(l,c,X)}catch(le){j0(l,c,le)}finally{w!==null&&P.types!==null&&(w.types=P.types),A.T=w}}else try{w=h(y,O),r$(l,c,w)}catch(le){j0(l,c,le)}}function r$(l,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(O){s$(l,c,O)},function(O){return j0(l,c,O)}):s$(l,c,h)}function s$(l,c,h){c.status="fulfilled",c.value=h,i$(c),l.state=h,c=l.pending,c!==null&&(h=c.next,h===c?l.pending=null:(h=h.next,c.next=h,n$(l,h)))}function j0(l,c,h){var O=l.pending;if(l.pending=null,O!==null){O=O.next;do c.status="rejected",c.reason=h,i$(c),c=c.next;while(c!==O)}l.action=null}function i$(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function a$(l,c){return c}function l$(l,c){if(ct){var h=Mt.formState;if(h!==null){e:{var O=He;if(ct){if(Dt){t:{for(var y=Dt,w=Dr;y.nodeType!==8;){if(!w){y=null;break t}if(y=Ur(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Dt=Ur(y.nextSibling),O=y.data==="F!";break e}}ra(O)}O=!1}O&&(c=h[0])}}return h=Jn(),h.memoizedState=h.baseState=c,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a$,lastRenderedState:c},h.queue=O,h=$$.bind(null,He,O),O.dispatch=h,O=T0(!1),w=E0.bind(null,He,!1,O.queue),O=Jn(),y={state:c,dispatch:null,action:l,pending:null},O.queue=y,h=w8.bind(null,He,y,w,h),y.dispatch=h,O.memoizedState=l,[c,h,!1]}function o$(l){var c=gn();return c$(c,Pt,l)}function c$(l,c,h){if(c=k0(l,c,a$)[0],l=Bd(pi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var O=fu(c)}catch(P){throw P===bo?Ad:P}else O=c;c=gn();var y=c.queue,w=y.dispatch;return h!==c.memoizedState&&(He.flags|=2048,ko(9,{destroy:void 0},S8.bind(null,y,h),null)),[O,w,l]}function S8(l,c){l.action=c}function u$(l){var c=gn(),h=Pt;if(h!==null)return c$(c,h,l);gn(),c=c.memoizedState,h=gn();var O=h.queue.dispatch;return h.memoizedState=l,[c,O,!1]}function ko(l,c,h,O){return l={tag:l,create:h,deps:O,inst:c,next:null},c=He.updateQueue,c===null&&(c=Yd(),He.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=l.next=l:(O=h.next,h.next=l,l.next=O,c.lastEffect=l),l}function f$(){return gn().memoizedState}function Ud(l,c,h,O){var y=Jn();He.flags|=l,y.memoizedState=ko(1|c,{destroy:void 0},h,O===void 0?null:O)}function Wd(l,c,h,O){var y=gn();O=O===void 0?null:O;var w=y.memoizedState.inst;Pt!==null&&O!==null&&y0(O,Pt.memoizedState.deps)?y.memoizedState=ko(c,w,h,O):(He.flags|=l,y.memoizedState=ko(1|c,w,h,O))}function d$(l,c){Ud(8390656,8,l,c)}function _0(l,c){Wd(2048,8,l,c)}function Q8(l){He.flags|=4;var c=He.updateQueue;if(c===null)c=Yd(),He.updateQueue=c,c.events=[l];else{var h=c.events;h===null?c.events=[l]:h.push(l)}}function h$(l){var c=gn().memoizedState;return Q8({ref:c,nextImpl:l}),function(){if((bt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function p$(l,c){return Wd(4,2,l,c)}function m$(l,c){return Wd(4,4,l,c)}function O$(l,c){if(typeof c=="function"){l=l();var h=c(l);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function g$(l,c,h){h=h!=null?h.concat([l]):null,Wd(4,4,O$.bind(null,c,l),h)}function P0(){}function x$(l,c){var h=gn();c=c===void 0?null:c;var O=h.memoizedState;return c!==null&&y0(c,O[1])?O[0]:(h.memoizedState=[l,c],l)}function y$(l,c){var h=gn();c=c===void 0?null:c;var O=h.memoizedState;if(c!==null&&y0(c,O[1]))return O[0];if(O=l(),fl){Wt(!0);try{l()}finally{Wt(!1)}}return h.memoizedState=[O,c],O}function N0(l,c,h){return h===void 0||(hi&1073741824)!==0&&(at&261930)===0?l.memoizedState=c:(l.memoizedState=h,l=bT(),He.lanes|=l,da|=l,h)}function b$(l,c,h,O){return kr(h,c)?h:wo.current!==null?(l=N0(l,h,O),kr(l,c)||(Sn=!0),l):(hi&42)===0||(hi&1073741824)!==0&&(at&261930)===0?(Sn=!0,l.memoizedState=h):(l=bT(),He.lanes|=l,da|=l,c)}function v$(l,c,h,O,y){var w=W.p;W.p=w!==0&&8>w?w:8;var P=A.T,X={};A.T=X,E0(l,!1,c,h);try{var F=y(),le=A.S;if(le!==null&&le(X,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var de=y8(F,O);du(l,c,de,Nr(l))}else du(l,c,O,Nr(l))}catch(ge){du(l,c,{then:function(){},status:"rejected",reason:ge},Nr())}finally{W.p=w,P!==null&&X.types!==null&&(P.types=X.types),A.T=P}}function k8(){}function C0(l,c,h,O){if(l.tag!==5)throw Error(r(476));var y=w$(l).queue;v$(l,y,c,I,h===null?k8:function(){return S$(l),h(O)})}function w$(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:I},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:h},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function S$(l){var c=w$(l);c.next===null&&(c=l.alternate.memoizedState),du(l,c.next.queue,{},Nr())}function R0(){return zn(_u)}function Q$(){return gn().memoizedState}function k$(){return gn().memoizedState}function $8(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var h=Nr();l=aa(h);var O=la(c,l,h);O!==null&&(mr(O,c,h),lu(O,c,h)),c={cache:o0()},l.payload=c;return}c=c.return}}function T8(l,c,h){var O=Nr();h={lane:O,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Gd(l)?T$(c,h):(h=FO(l,c,h,O),h!==null&&(mr(h,l,O),j$(h,c,O)))}function $$(l,c,h){var O=Nr();du(l,c,h,O)}function du(l,c,h,O){var y={lane:O,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Gd(l))T$(c,y);else{var w=l.alternate;if(l.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var P=c.lastRenderedState,X=w(P,h);if(y.hasEagerState=!0,y.eagerState=X,kr(X,P))return jd(l,c,y,0),Mt===null&&Td(),!1}catch{}finally{}if(h=FO(l,c,y,O),h!==null)return mr(h,l,O),j$(h,c,O),!0}return!1}function E0(l,c,h,O){if(O={lane:2,revertLane:dg(),gesture:null,action:O,hasEagerState:!1,eagerState:null,next:null},Gd(l)){if(c)throw Error(r(479))}else c=FO(l,h,O,2),c!==null&&mr(c,l,2)}function Gd(l){var c=l.alternate;return l===He||c!==null&&c===He}function T$(l,c){So=Zd=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function j$(l,c,h){if((h&4194048)!==0){var O=c.lanes;O&=l.pendingLanes,h|=O,c.lanes=h,Ia(l,h)}}var hu={readContext:zn,use:Dd,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};hu.useEffectEvent=un;var _$={readContext:zn,use:Dd,useCallback:function(l,c){return Jn().memoizedState=[l,c===void 0?null:c],l},useContext:zn,useEffect:d$,useImperativeHandle:function(l,c,h){h=h!=null?h.concat([l]):null,Ud(4194308,4,O$.bind(null,c,l),h)},useLayoutEffect:function(l,c){return Ud(4194308,4,l,c)},useInsertionEffect:function(l,c){Ud(4,2,l,c)},useMemo:function(l,c){var h=Jn();c=c===void 0?null:c;var O=l();if(fl){Wt(!0);try{l()}finally{Wt(!1)}}return h.memoizedState=[O,c],O},useReducer:function(l,c,h){var O=Jn();if(h!==void 0){var y=h(c);if(fl){Wt(!0);try{h(c)}finally{Wt(!1)}}}else y=c;return O.memoizedState=O.baseState=y,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:y},O.queue=l,l=l.dispatch=T8.bind(null,He,l),[O.memoizedState,l]},useRef:function(l){var c=Jn();return l={current:l},c.memoizedState=l},useState:function(l){l=T0(l);var c=l.queue,h=$$.bind(null,He,c);return c.dispatch=h,[l.memoizedState,h]},useDebugValue:P0,useDeferredValue:function(l,c){var h=Jn();return N0(h,l,c)},useTransition:function(){var l=T0(!1);return l=v$.bind(null,He,l.queue,!0,!1),Jn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,h){var O=He,y=Jn();if(ct){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Mt===null)throw Error(r(349));(at&127)!==0||H5(O,c,h)}y.memoizedState=h;var w={value:h,getSnapshot:c};return y.queue=w,d$(K5.bind(null,O,w,l),[l]),O.flags|=2048,ko(9,{destroy:void 0},F5.bind(null,O,w,h,c),null),h},useId:function(){var l=Jn(),c=Mt.identifierPrefix;if(ct){var h=zs,O=Xs;h=(O&~(1<<32-yt(O)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Vd++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=b8++,c="_"+c+"r_"+h.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:R0,useFormState:l$,useActionState:l$,useOptimistic:function(l){var c=Jn();c.memoizedState=c.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=E0.bind(null,He,!0,h),h.dispatch=c,[l,c]},useMemoCache:Q0,useCacheRefresh:function(){return Jn().memoizedState=$8.bind(null,He)},useEffectEvent:function(l){var c=Jn(),h={impl:l};return c.memoizedState=h,function(){if((bt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},A0={readContext:zn,use:Dd,useCallback:x$,useContext:zn,useEffect:_0,useImperativeHandle:g$,useInsertionEffect:p$,useLayoutEffect:m$,useMemo:y$,useReducer:Bd,useRef:f$,useState:function(){return Bd(pi)},useDebugValue:P0,useDeferredValue:function(l,c){var h=gn();return b$(h,Pt.memoizedState,l,c)},useTransition:function(){var l=Bd(pi)[0],c=gn().memoizedState;return[typeof l=="boolean"?l:fu(l),c]},useSyncExternalStore:I5,useId:Q$,useHostTransitionStatus:R0,useFormState:o$,useActionState:o$,useOptimistic:function(l,c){var h=gn();return t$(h,Pt,l,c)},useMemoCache:Q0,useCacheRefresh:k$};A0.useEffectEvent=h$;var P$={readContext:zn,use:Dd,useCallback:x$,useContext:zn,useEffect:_0,useImperativeHandle:g$,useInsertionEffect:p$,useLayoutEffect:m$,useMemo:y$,useReducer:$0,useRef:f$,useState:function(){return $0(pi)},useDebugValue:P0,useDeferredValue:function(l,c){var h=gn();return Pt===null?N0(h,l,c):b$(h,Pt.memoizedState,l,c)},useTransition:function(){var l=$0(pi)[0],c=gn().memoizedState;return[typeof l=="boolean"?l:fu(l),c]},useSyncExternalStore:I5,useId:Q$,useHostTransitionStatus:R0,useFormState:u$,useActionState:u$,useOptimistic:function(l,c){var h=gn();return Pt!==null?t$(h,Pt,l,c):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Q0,useCacheRefresh:k$};P$.useEffectEvent=h$;function q0(l,c,h,O){c=l.memoizedState,h=h(O,c),h=h==null?c:m({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var M0={enqueueSetState:function(l,c,h){l=l._reactInternals;var O=Nr(),y=aa(O);y.payload=c,h!=null&&(y.callback=h),c=la(l,y,O),c!==null&&(mr(c,l,O),lu(c,l,O))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var O=Nr(),y=aa(O);y.tag=1,y.payload=c,h!=null&&(y.callback=h),c=la(l,y,O),c!==null&&(mr(c,l,O),lu(c,l,O))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=Nr(),O=aa(h);O.tag=2,c!=null&&(O.callback=c),c=la(l,O,h),c!==null&&(mr(c,l,h),lu(c,l,h))}};function N$(l,c,h,O,y,w,P){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(O,w,P):c.prototype&&c.prototype.isPureReactComponent?!Jc(h,O)||!Jc(y,w):!0}function C$(l,c,h,O){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,O),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,O),c.state!==l&&M0.enqueueReplaceState(c,c.state,null)}function dl(l,c){var h=c;if("ref"in c){h={};for(var O in c)O!=="ref"&&(h[O]=c[O])}if(l=l.defaultProps){h===c&&(h=m({},h));for(var y in l)h[y]===void 0&&(h[y]=l[y])}return h}function R$(l){$d(l)}function E$(l){console.error(l)}function A$(l){$d(l)}function Id(l,c){try{var h=l.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(O){setTimeout(function(){throw O})}}function q$(l,c,h){try{var O=l.onCaughtError;O(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function X0(l,c,h){return h=aa(h),h.tag=3,h.payload={element:null},h.callback=function(){Id(l,c)},h}function M$(l){return l=aa(l),l.tag=3,l}function X$(l,c,h,O){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var w=O.value;l.payload=function(){return y(w)},l.callback=function(){q$(c,h,O)}}var P=h.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){q$(c,h,O),typeof y!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var X=O.stack;this.componentDidCatch(O.value,{componentStack:X!==null?X:""})})}function j8(l,c,h,O,y){if(h.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(c=h.alternate,c!==null&&go(c,h,y,!0),h=Tr.current,h!==null){switch(h.tag){case 31:case 13:return Br===null?lh():h.alternate===null&&fn===0&&(fn=3),h.flags&=-257,h.flags|=65536,h.lanes=y,O===qd?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([O]):c.add(O),cg(l,O,y)),!1;case 22:return h.flags|=65536,O===qd?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([O])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([O]):h.add(O)),cg(l,O,y)),!1}throw Error(r(435,h.tag))}return cg(l,O,y),lh(),!1}if(ct)return c=Tr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=y,O!==r0&&(l=Error(r(422),{cause:O}),nu(Zr(l,h)))):(O!==r0&&(c=Error(r(423),{cause:O}),nu(Zr(c,h))),l=l.current.alternate,l.flags|=65536,y&=-y,l.lanes|=y,O=Zr(O,h),y=X0(l.stateNode,O,y),p0(l,y),fn!==4&&(fn=2)),!1;var w=Error(r(520),{cause:O});if(w=Zr(w,h),vu===null?vu=[w]:vu.push(w),fn!==4&&(fn=2),c===null)return!0;O=Zr(O,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,l=y&-y,h.lanes|=l,l=X0(h.stateNode,O,l),p0(h,l),!1;case 1:if(c=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ha===null||!ha.has(w))))return h.flags|=65536,y&=-y,h.lanes|=y,y=M$(y),X$(y,l,h,O),p0(h,y),!1}h=h.return}while(h!==null);return!1}var z0=Error(r(461)),Sn=!1;function Ln(l,c,h,O){c.child=l===null?V5(c,null,h,O):ul(c,l.child,h,O)}function z$(l,c,h,O,y){h=h.render;var w=c.ref;if("ref"in O){var P={};for(var X in O)X!=="ref"&&(P[X]=O[X])}else P=O;return al(c),O=b0(l,c,h,P,w,y),X=v0(),l!==null&&!Sn?(w0(l,c,y),mi(l,c,y)):(ct&&X&&t0(c),c.flags|=1,Ln(l,c,O,y),c.child)}function L$(l,c,h,O,y){if(l===null){var w=h.type;return typeof w=="function"&&!KO(w)&&w.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=w,Z$(l,c,w,O,y)):(l=Pd(h.type,null,O,c,c.mode,y),l.ref=c.ref,l.return=c,c.child=l)}if(w=l.child,!W0(l,y)){var P=w.memoizedProps;if(h=h.compare,h=h!==null?h:Jc,h(P,O)&&l.ref===c.ref)return mi(l,c,y)}return c.flags|=1,l=ci(w,O),l.ref=c.ref,l.return=c,c.child=l}function Z$(l,c,h,O,y){if(l!==null){var w=l.memoizedProps;if(Jc(w,O)&&l.ref===c.ref)if(Sn=!1,c.pendingProps=O=w,W0(l,y))(l.flags&131072)!==0&&(Sn=!0);else return c.lanes=l.lanes,mi(l,c,y)}return L0(l,c,h,O,y)}function V$(l,c,h,O){var y=O.children,w=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),O.mode==="hidden"){if((c.flags&128)!==0){if(w=w!==null?w.baseLanes|h:h,l!==null){for(O=c.child=l.child,y=0;O!==null;)y=y|O.lanes|O.childLanes,O=O.sibling;O=y&~w}else O=0,c.child=null;return Y$(l,c,w,h,O)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&Ed(c,w!==null?w.cachePool:null),w!==null?B5(c,w):O0(),U5(c);else return O=c.lanes=536870912,Y$(l,c,w!==null?w.baseLanes|h:h,h,O)}else w!==null?(Ed(c,w.cachePool),B5(c,w),ca(),c.memoizedState=null):(l!==null&&Ed(c,null),O0(),ca());return Ln(l,c,y,h),c.child}function pu(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Y$(l,c,h,O,y){var w=u0();return w=w===null?null:{parent:vn._currentValue,pool:w},c.memoizedState={baseLanes:h,cachePool:w},l!==null&&Ed(c,null),O0(),U5(c),l!==null&&go(l,c,O,!0),c.childLanes=y,null}function Hd(l,c){return c=Kd({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function D$(l,c,h){return ul(c,l.child,null,h),l=Hd(c,c.pendingProps),l.flags|=2,jr(c),c.memoizedState=null,l}function _8(l,c,h){var O=c.pendingProps,y=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(ct){if(O.mode==="hidden")return l=Hd(c,O),c.lanes=536870912,pu(null,l);if(x0(c),(l=Dt)?(l=nj(l,Dr),l=l!==null&&l.data==="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:ta!==null?{id:Xs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},h=T5(l),h.return=c,c.child=h,Xn=c,Dt=null)):l=null,l===null)throw ra(c);return c.lanes=536870912,null}return Hd(c,O)}var w=l.memoizedState;if(w!==null){var P=w.dehydrated;if(x0(c),y)if(c.flags&256)c.flags&=-257,c=D$(l,c,h);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(r(558));else if(Sn||go(l,c,h,!1),y=(h&l.childLanes)!==0,Sn||y){if(O=Mt,O!==null&&(P=Ha(O,h),P!==0&&P!==w.retryLane))throw w.retryLane=P,nl(l,P),mr(O,l,P),z0;lh(),c=D$(l,c,h)}else l=w.treeContext,Dt=Ur(P.nextSibling),Xn=c,ct=!0,na=null,Dr=!1,l!==null&&P5(c,l),c=Hd(c,O),c.flags|=4096;return c}return l=ci(l.child,{mode:O.mode,children:O.children}),l.ref=c.ref,c.child=l,l.return=c,l}function Fd(l,c){var h=c.ref;if(h===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(c.flags|=4194816)}}function L0(l,c,h,O,y){return al(c),h=b0(l,c,h,O,void 0,y),O=v0(),l!==null&&!Sn?(w0(l,c,y),mi(l,c,y)):(ct&&O&&t0(c),c.flags|=1,Ln(l,c,h,y),c.child)}function B$(l,c,h,O,y,w){return al(c),c.updateQueue=null,h=G5(c,O,h,y),W5(l),O=v0(),l!==null&&!Sn?(w0(l,c,w),mi(l,c,w)):(ct&&O&&t0(c),c.flags|=1,Ln(l,c,h,w),c.child)}function U$(l,c,h,O,y){if(al(c),c.stateNode===null){var w=ho,P=h.contextType;typeof P=="object"&&P!==null&&(w=zn(P)),w=new h(O,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=M0,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=O,w.state=c.memoizedState,w.refs={},d0(c),P=h.contextType,w.context=typeof P=="object"&&P!==null?zn(P):ho,w.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(q0(c,h,P,O),w.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(P=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),P!==w.state&&M0.enqueueReplaceState(w,w.state,null),cu(c,O,w,y),ou(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),O=!0}else if(l===null){w=c.stateNode;var X=c.memoizedProps,F=dl(h,X);w.props=F;var le=w.context,de=h.contextType;P=ho,typeof de=="object"&&de!==null&&(P=zn(de));var ge=h.getDerivedStateFromProps;de=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function",X=c.pendingProps!==X,de||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(X||le!==P)&&C$(c,w,O,P),ia=!1;var oe=c.memoizedState;w.state=oe,cu(c,O,w,y),ou(),le=c.memoizedState,X||oe!==le||ia?(typeof ge=="function"&&(q0(c,h,ge,O),le=c.memoizedState),(F=ia||N$(c,h,F,O,oe,le,P))?(de||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=O,c.memoizedState=le),w.props=O,w.state=le,w.context=P,O=F):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),O=!1)}else{w=c.stateNode,h0(l,c),P=c.memoizedProps,de=dl(h,P),w.props=de,ge=c.pendingProps,oe=w.context,le=h.contextType,F=ho,typeof le=="object"&&le!==null&&(F=zn(le)),X=h.getDerivedStateFromProps,(le=typeof X=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ge||oe!==F)&&C$(c,w,O,F),ia=!1,oe=c.memoizedState,w.state=oe,cu(c,O,w,y),ou();var ue=c.memoizedState;P!==ge||oe!==ue||ia||l!==null&&l.dependencies!==null&&Cd(l.dependencies)?(typeof X=="function"&&(q0(c,h,X,O),ue=c.memoizedState),(de=ia||N$(c,h,de,O,oe,ue,F)||l!==null&&l.dependencies!==null&&Cd(l.dependencies))?(le||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(O,ue,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(O,ue,F)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===l.memoizedProps&&oe===l.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&oe===l.memoizedState||(c.flags|=1024),c.memoizedProps=O,c.memoizedState=ue),w.props=O,w.state=ue,w.context=F,O=de):(typeof w.componentDidUpdate!="function"||P===l.memoizedProps&&oe===l.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&oe===l.memoizedState||(c.flags|=1024),O=!1)}return w=O,Fd(l,c),O=(c.flags&128)!==0,w||O?(w=c.stateNode,h=O&&typeof h.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,l!==null&&O?(c.child=ul(c,l.child,null,y),c.child=ul(c,null,h,y)):Ln(l,c,h,y),c.memoizedState=w.state,l=c.child):l=mi(l,c,y),l}function W$(l,c,h,O){return sl(),c.flags|=256,Ln(l,c,h,O),c.child}var Z0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function V0(l){return{baseLanes:l,cachePool:q5()}}function Y0(l,c,h){return l=l!==null?l.childLanes&~h:0,c&&(l|=Pr),l}function G$(l,c,h){var O=c.pendingProps,y=!1,w=(c.flags&128)!==0,P;if((P=w)||(P=l!==null&&l.memoizedState===null?!1:(On.current&2)!==0),P&&(y=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,l===null){if(ct){if(y?oa(c):ca(),(l=Dt)?(l=nj(l,Dr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:ta!==null?{id:Xs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},h=T5(l),h.return=c,c.child=h,Xn=c,Dt=null)):l=null,l===null)throw ra(c);return kg(l)?c.lanes=32:c.lanes=536870912,null}var X=O.children;return O=O.fallback,y?(ca(),y=c.mode,X=Kd({mode:"hidden",children:X},y),O=rl(O,y,h,null),X.return=c,O.return=c,X.sibling=O,c.child=X,O=c.child,O.memoizedState=V0(h),O.childLanes=Y0(l,P,h),c.memoizedState=Z0,pu(null,O)):(oa(c),D0(c,X))}var F=l.memoizedState;if(F!==null&&(X=F.dehydrated,X!==null)){if(w)c.flags&256?(oa(c),c.flags&=-257,c=B0(l,c,h)):c.memoizedState!==null?(ca(),c.child=l.child,c.flags|=128,c=null):(ca(),X=O.fallback,y=c.mode,O=Kd({mode:"visible",children:O.children},y),X=rl(X,y,h,null),X.flags|=2,O.return=c,X.return=c,O.sibling=X,c.child=O,ul(c,l.child,null,h),O=c.child,O.memoizedState=V0(h),O.childLanes=Y0(l,P,h),c.memoizedState=Z0,c=pu(null,O));else if(oa(c),kg(X)){if(P=X.nextSibling&&X.nextSibling.dataset,P)var le=P.dgst;P=le,O=Error(r(419)),O.stack="",O.digest=P,nu({value:O,source:null,stack:null}),c=B0(l,c,h)}else if(Sn||go(l,c,h,!1),P=(h&l.childLanes)!==0,Sn||P){if(P=Mt,P!==null&&(O=Ha(P,h),O!==0&&O!==F.retryLane))throw F.retryLane=O,nl(l,O),mr(P,l,O),z0;Qg(X)||lh(),c=B0(l,c,h)}else Qg(X)?(c.flags|=192,c.child=l.child,c=null):(l=F.treeContext,Dt=Ur(X.nextSibling),Xn=c,ct=!0,na=null,Dr=!1,l!==null&&P5(c,l),c=D0(c,O.children),c.flags|=4096);return c}return y?(ca(),X=O.fallback,y=c.mode,F=l.child,le=F.sibling,O=ci(F,{mode:"hidden",children:O.children}),O.subtreeFlags=F.subtreeFlags&65011712,le!==null?X=ci(le,X):(X=rl(X,y,h,null),X.flags|=2),X.return=c,O.return=c,O.sibling=X,c.child=O,pu(null,O),O=c.child,X=l.child.memoizedState,X===null?X=V0(h):(y=X.cachePool,y!==null?(F=vn._currentValue,y=y.parent!==F?{parent:F,pool:F}:y):y=q5(),X={baseLanes:X.baseLanes|h,cachePool:y}),O.memoizedState=X,O.childLanes=Y0(l,P,h),c.memoizedState=Z0,pu(l.child,O)):(oa(c),h=l.child,l=h.sibling,h=ci(h,{mode:"visible",children:O.children}),h.return=c,h.sibling=null,l!==null&&(P=c.deletions,P===null?(c.deletions=[l],c.flags|=16):P.push(l)),c.child=h,c.memoizedState=null,h)}function D0(l,c){return c=Kd({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function Kd(l,c){return l=$r(22,l,null,c),l.lanes=0,l}function B0(l,c,h){return ul(c,l.child,null,h),l=D0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function I$(l,c,h){l.lanes|=c;var O=l.alternate;O!==null&&(O.lanes|=c),a0(l.return,c,h)}function U0(l,c,h,O,y,w){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:O,tail:h,tailMode:y,treeForkCount:w}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=O,P.tail=h,P.tailMode=y,P.treeForkCount=w)}function H$(l,c,h){var O=c.pendingProps,y=O.revealOrder,w=O.tail;O=O.children;var P=On.current,X=(P&2)!==0;if(X?(P=P&1|2,c.flags|=128):P&=1,K(On,P),Ln(l,c,O,h),O=ct?tu:0,!X&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&I$(l,h,c);else if(l.tag===19)I$(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(y){case"forwards":for(h=c.child,y=null;h!==null;)l=h.alternate,l!==null&&Ld(l)===null&&(y=h),h=h.sibling;h=y,h===null?(y=c.child,c.child=null):(y=h.sibling,h.sibling=null),U0(c,!1,y,h,w,O);break;case"backwards":case"unstable_legacy-backwards":for(h=null,y=c.child,c.child=null;y!==null;){if(l=y.alternate,l!==null&&Ld(l)===null){c.child=y;break}l=y.sibling,y.sibling=h,h=y,y=l}U0(c,!0,h,null,w,O);break;case"together":U0(c,!1,null,null,void 0,O);break;default:c.memoizedState=null}return c.child}function mi(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),da|=c.lanes,(h&c.childLanes)===0)if(l!==null){if(go(l,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,h=ci(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=ci(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function W0(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&Cd(l)))}function P8(l,c,h){switch(c.tag){case 3:ie(c,c.stateNode.containerInfo),sa(c,vn,l.memoizedState.cache),sl();break;case 27:case 5:ve(c);break;case 4:ie(c,c.stateNode.containerInfo);break;case 10:sa(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,x0(c),null;break;case 13:var O=c.memoizedState;if(O!==null)return O.dehydrated!==null?(oa(c),c.flags|=128,null):(h&c.child.childLanes)!==0?G$(l,c,h):(oa(c),l=mi(l,c,h),l!==null?l.sibling:null);oa(c);break;case 19:var y=(l.flags&128)!==0;if(O=(h&c.childLanes)!==0,O||(go(l,c,h,!1),O=(h&c.childLanes)!==0),y){if(O)return H$(l,c,h);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(On,On.current),O)break;return null;case 22:return c.lanes=0,V$(l,c,h,c.pendingProps);case 24:sa(c,vn,l.memoizedState.cache)}return mi(l,c,h)}function F$(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps)Sn=!0;else{if(!W0(l,h)&&(c.flags&128)===0)return Sn=!1,P8(l,c,h);Sn=(l.flags&131072)!==0}else Sn=!1,ct&&(c.flags&1048576)!==0&&_5(c,tu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var O=c.pendingProps;if(l=ol(c.elementType),c.type=l,typeof l=="function")KO(l)?(O=dl(l,O),c.tag=1,c=U$(null,c,l,O,h)):(c.tag=0,c=L0(null,c,l,O,h));else{if(l!=null){var y=l.$$typeof;if(y===T){c.tag=11,c=z$(null,c,l,O,h);break e}else if(y===C){c.tag=14,c=L$(null,c,l,O,h);break e}}throw c=R(l)||l,Error(r(306,c,""))}}return c;case 0:return L0(l,c,c.type,c.pendingProps,h);case 1:return O=c.type,y=dl(O,c.pendingProps),U$(l,c,O,y,h);case 3:e:{if(ie(c,c.stateNode.containerInfo),l===null)throw Error(r(387));O=c.pendingProps;var w=c.memoizedState;y=w.element,h0(l,c),cu(c,O,null,h);var P=c.memoizedState;if(O=P.cache,sa(c,vn,O),O!==w.cache&&l0(c,[vn],h,!0),ou(),O=P.element,w.isDehydrated)if(w={element:O,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=W$(l,c,O,h);break e}else if(O!==y){y=Zr(Error(r(424)),c),nu(y),c=W$(l,c,O,h);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Dt=Ur(l.firstChild),Xn=c,ct=!0,na=null,Dr=!0,h=V5(c,null,O,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(sl(),O===y){c=mi(l,c,h);break e}Ln(l,c,O,h)}c=c.child}return c;case 26:return Fd(l,c),l===null?(h=oj(c.type,null,c.pendingProps,null))?c.memoizedState=h:ct||(h=c.type,l=c.pendingProps,O=ph(J.current).createElement(h),O[Jt]=c,O[on]=l,Zn(O,h,l),cn(O),c.stateNode=O):c.memoizedState=oj(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return ve(c),l===null&&ct&&(O=c.stateNode=ij(c.type,c.pendingProps,J.current),Xn=c,Dr=!0,y=Dt,ga(c.type)?($g=y,Dt=Ur(O.firstChild)):Dt=y),Ln(l,c,c.pendingProps.children,h),Fd(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&ct&&((y=O=Dt)&&(O=a9(O,c.type,c.pendingProps,Dr),O!==null?(c.stateNode=O,Xn=c,Dt=Ur(O.firstChild),Dr=!1,y=!0):y=!1),y||ra(c)),ve(c),y=c.type,w=c.pendingProps,P=l!==null?l.memoizedProps:null,O=w.children,vg(y,w)?O=null:P!==null&&vg(y,P)&&(c.flags|=32),c.memoizedState!==null&&(y=b0(l,c,v8,null,null,h),_u._currentValue=y),Fd(l,c),Ln(l,c,O,h),c.child;case 6:return l===null&&ct&&((l=h=Dt)&&(h=l9(h,c.pendingProps,Dr),h!==null?(c.stateNode=h,Xn=c,Dt=null,l=!0):l=!1),l||ra(c)),null;case 13:return G$(l,c,h);case 4:return ie(c,c.stateNode.containerInfo),O=c.pendingProps,l===null?c.child=ul(c,null,O,h):Ln(l,c,O,h),c.child;case 11:return z$(l,c,c.type,c.pendingProps,h);case 7:return Ln(l,c,c.pendingProps,h),c.child;case 8:return Ln(l,c,c.pendingProps.children,h),c.child;case 12:return Ln(l,c,c.pendingProps.children,h),c.child;case 10:return O=c.pendingProps,sa(c,c.type,O.value),Ln(l,c,O.children,h),c.child;case 9:return y=c.type._context,O=c.pendingProps.children,al(c),y=zn(y),O=O(y),c.flags|=1,Ln(l,c,O,h),c.child;case 14:return L$(l,c,c.type,c.pendingProps,h);case 15:return Z$(l,c,c.type,c.pendingProps,h);case 19:return H$(l,c,h);case 31:return _8(l,c,h);case 22:return V$(l,c,h,c.pendingProps);case 24:return al(c),O=zn(vn),l===null?(y=u0(),y===null&&(y=Mt,w=o0(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=h),y=w),c.memoizedState={parent:O,cache:y},d0(c),sa(c,vn,y)):((l.lanes&h)!==0&&(h0(l,c),cu(c,null,null,h),ou()),y=l.memoizedState,w=c.memoizedState,y.parent!==O?(y={parent:O,cache:O},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),sa(c,vn,O)):(O=w.cache,sa(c,vn,O),O!==y.cache&&l0(c,[vn],h,!0))),Ln(l,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Oi(l){l.flags|=4}function G0(l,c,h,O,y){if((c=(l.mode&32)!==0)&&(c=!1),c){if(l.flags|=16777216,(y&335544128)===y)if(l.stateNode.complete)l.flags|=8192;else if(QT())l.flags|=8192;else throw cl=qd,f0}else l.flags&=-16777217}function K$(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!hj(c))if(QT())l.flags|=8192;else throw cl=qd,f0}function Jd(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?be():536870912,l.lanes|=c,_o|=c)}function mu(l,c){if(!ct)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var O=null;h!==null;)h.alternate!==null&&(O=h),h=h.sibling;O===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:O.sibling=null}}function Bt(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,O=0;if(c)for(var y=l.child;y!==null;)h|=y.lanes|y.childLanes,O|=y.subtreeFlags&65011712,O|=y.flags&65011712,y.return=l,y=y.sibling;else for(y=l.child;y!==null;)h|=y.lanes|y.childLanes,O|=y.subtreeFlags,O|=y.flags,y.return=l,y=y.sibling;return l.subtreeFlags|=O,l.childLanes=h,c}function N8(l,c,h){var O=c.pendingProps;switch(n0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(c),null;case 1:return Bt(c),null;case 3:return h=c.stateNode,O=null,l!==null&&(O=l.memoizedState.cache),c.memoizedState.cache!==O&&(c.flags|=2048),di(vn),ce(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Oo(c)?Oi(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,s0())),Bt(c),null;case 26:var y=c.type,w=c.memoizedState;return l===null?(Oi(c),w!==null?(Bt(c),K$(c,w)):(Bt(c),G0(c,y,null,O,h))):w?w!==l.memoizedState?(Oi(c),Bt(c),K$(c,w)):(Bt(c),c.flags&=-16777217):(l=l.memoizedProps,l!==O&&Oi(c),Bt(c),G0(c,y,l,O,h)),null;case 27:if(_e(c),h=J.current,y=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==O&&Oi(c);else{if(!O){if(c.stateNode===null)throw Error(r(166));return Bt(c),null}l=B.current,Oo(c)?N5(c):(l=ij(y,O,h),c.stateNode=l,Oi(c))}return Bt(c),null;case 5:if(_e(c),y=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==O&&Oi(c);else{if(!O){if(c.stateNode===null)throw Error(r(166));return Bt(c),null}if(w=B.current,Oo(c))N5(c);else{var P=ph(J.current);switch(w){case 1:w=P.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=P.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=P.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=P.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof O.is=="string"?P.createElement("select",{is:O.is}):P.createElement("select"),O.multiple?w.multiple=!0:O.size&&(w.size=O.size);break;default:w=typeof O.is=="string"?P.createElement(y,{is:O.is}):P.createElement(y)}}w[Jt]=c,w[on]=O;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)w.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=w;e:switch(Zn(w,y,O),y){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}O&&Oi(c)}}return Bt(c),G0(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,h),null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==O&&Oi(c);else{if(typeof O!="string"&&c.stateNode===null)throw Error(r(166));if(l=J.current,Oo(c)){if(l=c.stateNode,h=c.memoizedProps,O=null,y=Xn,y!==null)switch(y.tag){case 27:case 5:O=y.memoizedProps}l[Jt]=c,l=!!(l.nodeValue===h||O!==null&&O.suppressHydrationWarning===!0||GT(l.nodeValue,h)),l||ra(c,!0)}else l=ph(l).createTextNode(O),l[Jt]=c,c.stateNode=l}return Bt(c),null;case 31:if(h=c.memoizedState,l===null||l.memoizedState!==null){if(O=Oo(c),h!==null){if(l===null){if(!O)throw Error(r(318));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[Jt]=c}else sl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bt(c),l=!1}else h=s0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return c.flags&256?(jr(c),c):(jr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Bt(c),null;case 13:if(O=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(y=Oo(c),O!==null&&O.dehydrated!==null){if(l===null){if(!y)throw Error(r(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Jt]=c}else sl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bt(c),y=!1}else y=s0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=y),y=!0;if(!y)return c.flags&256?(jr(c),c):(jr(c),null)}return jr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=O!==null,l=l!==null&&l.memoizedState!==null,h&&(O=c.child,y=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(y=O.alternate.memoizedState.cachePool.pool),w=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(w=O.memoizedState.cachePool.pool),w!==y&&(O.flags|=2048)),h!==l&&h&&(c.child.flags|=8192),Jd(c,c.updateQueue),Bt(c),null);case 4:return ce(),l===null&&Og(c.stateNode.containerInfo),Bt(c),null;case 10:return di(c.type),Bt(c),null;case 19:if(D(On),O=c.memoizedState,O===null)return Bt(c),null;if(y=(c.flags&128)!==0,w=O.rendering,w===null)if(y)mu(O,!1);else{if(fn!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(w=Ld(l),w!==null){for(c.flags|=128,mu(O,!1),l=w.updateQueue,c.updateQueue=l,Jd(c,l),c.subtreeFlags=0,l=h,h=c.child;h!==null;)$5(h,l),h=h.sibling;return K(On,On.current&1|2),ct&&ui(c,O.treeForkCount),c.child}l=l.sibling}O.tail!==null&&nt()>sh&&(c.flags|=128,y=!0,mu(O,!1),c.lanes=4194304)}else{if(!y)if(l=Ld(w),l!==null){if(c.flags|=128,y=!0,l=l.updateQueue,c.updateQueue=l,Jd(c,l),mu(O,!0),O.tail===null&&O.tailMode==="hidden"&&!w.alternate&&!ct)return Bt(c),null}else 2*nt()-O.renderingStartTime>sh&&h!==536870912&&(c.flags|=128,y=!0,mu(O,!1),c.lanes=4194304);O.isBackwards?(w.sibling=c.child,c.child=w):(l=O.last,l!==null?l.sibling=w:c.child=w,O.last=w)}return O.tail!==null?(l=O.tail,O.rendering=l,O.tail=l.sibling,O.renderingStartTime=nt(),l.sibling=null,h=On.current,K(On,y?h&1|2:h&1),ct&&ui(c,O.treeForkCount),l):(Bt(c),null);case 22:case 23:return jr(c),g0(),O=c.memoizedState!==null,l!==null?l.memoizedState!==null!==O&&(c.flags|=8192):O&&(c.flags|=8192),O?(h&536870912)!==0&&(c.flags&128)===0&&(Bt(c),c.subtreeFlags&6&&(c.flags|=8192)):Bt(c),h=c.updateQueue,h!==null&&Jd(c,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),O=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(O=c.memoizedState.cachePool.pool),O!==h&&(c.flags|=2048),l!==null&&D(ll),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),di(vn),Bt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function C8(l,c){switch(n0(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return di(vn),ce(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(jr(c),c.alternate===null)throw Error(r(340));sl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(jr(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));sl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return D(On),null;case 4:return ce(),null;case 10:return di(c.type),null;case 22:case 23:return jr(c),g0(),l!==null&&D(ll),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return di(vn),null;case 25:return null;default:return null}}function J$(l,c){switch(n0(c),c.tag){case 3:di(vn),ce();break;case 26:case 27:case 5:_e(c);break;case 4:ce();break;case 31:c.memoizedState!==null&&jr(c);break;case 13:jr(c);break;case 19:D(On);break;case 10:di(c.type);break;case 22:case 23:jr(c),g0(),l!==null&&D(ll);break;case 24:di(vn)}}function Ou(l,c){try{var h=c.updateQueue,O=h!==null?h.lastEffect:null;if(O!==null){var y=O.next;h=y;do{if((h.tag&l)===l){O=void 0;var w=h.create,P=h.inst;O=w(),P.destroy=O}h=h.next}while(h!==y)}}catch(X){$t(c,c.return,X)}}function ua(l,c,h){try{var O=c.updateQueue,y=O!==null?O.lastEffect:null;if(y!==null){var w=y.next;O=w;do{if((O.tag&l)===l){var P=O.inst,X=P.destroy;if(X!==void 0){P.destroy=void 0,y=c;var F=h,le=X;try{le()}catch(de){$t(y,F,de)}}}O=O.next}while(O!==w)}}catch(de){$t(c,c.return,de)}}function eT(l){var c=l.updateQueue;if(c!==null){var h=l.stateNode;try{D5(c,h)}catch(O){$t(l,l.return,O)}}}function tT(l,c,h){h.props=dl(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(O){$t(l,c,O)}}function gu(l,c){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var O=l.stateNode;break;case 30:O=l.stateNode;break;default:O=l.stateNode}typeof h=="function"?l.refCleanup=h(O):h.current=O}}catch(y){$t(l,c,y)}}function Ls(l,c){var h=l.ref,O=l.refCleanup;if(h!==null)if(typeof O=="function")try{O()}catch(y){$t(l,c,y)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){$t(l,c,y)}else h.current=null}function nT(l){var c=l.type,h=l.memoizedProps,O=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&O.focus();break e;case"img":h.src?O.src=h.src:h.srcSet&&(O.srcset=h.srcSet)}}catch(y){$t(l,l.return,y)}}function I0(l,c,h){try{var O=l.stateNode;e9(O,l.type,h,c),O[on]=c}catch(y){$t(l,l.return,y)}}function rT(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ga(l.type)||l.tag===4}function H0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||rT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ga(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function F0(l,c,h){var O=l.tag;if(O===5||O===6)l=l.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(l),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=li));else if(O!==4&&(O===27&&ga(l.type)&&(h=l.stateNode,c=null),l=l.child,l!==null))for(F0(l,c,h),l=l.sibling;l!==null;)F0(l,c,h),l=l.sibling}function eh(l,c,h){var O=l.tag;if(O===5||O===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(O!==4&&(O===27&&ga(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(eh(l,c,h),l=l.sibling;l!==null;)eh(l,c,h),l=l.sibling}function sT(l){var c=l.stateNode,h=l.memoizedProps;try{for(var O=l.type,y=c.attributes;y.length;)c.removeAttributeNode(y[0]);Zn(c,O,h),c[Jt]=l,c[on]=h}catch(w){$t(l,l.return,w)}}var gi=!1,Qn=!1,K0=!1,iT=typeof WeakSet=="function"?WeakSet:Set,En=null;function R8(l,c){if(l=l.containerInfo,yg=vh,l=g5(l),BO(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var O=h.getSelection&&h.getSelection();if(O&&O.rangeCount!==0){h=O.anchorNode;var y=O.anchorOffset,w=O.focusNode;O=O.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var P=0,X=-1,F=-1,le=0,de=0,ge=l,oe=null;t:for(;;){for(var ue;ge!==h||y!==0&&ge.nodeType!==3||(X=P+y),ge!==w||O!==0&&ge.nodeType!==3||(F=P+O),ge.nodeType===3&&(P+=ge.nodeValue.length),(ue=ge.firstChild)!==null;)oe=ge,ge=ue;for(;;){if(ge===l)break t;if(oe===h&&++le===y&&(X=P),oe===w&&++de===O&&(F=P),(ue=ge.nextSibling)!==null)break;ge=oe,oe=ge.parentNode}ge=ue}h=X===-1||F===-1?null:{start:X,end:F}}else h=null}h=h||{start:0,end:0}}else h=null;for(bg={focusedElem:l,selectionRange:h},vh=!1,En=c;En!==null;)if(c=En,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,En=l;else for(;En!==null;){switch(c=En,w=c.alternate,l=c.flags,c.tag){case 0:if((l&4)!==0&&(l=c.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)y=l[h],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&w!==null){l=void 0,h=c,y=w.memoizedProps,w=w.memoizedState,O=h.stateNode;try{var Re=dl(h.type,y);l=O.getSnapshotBeforeUpdate(Re,w),O.__reactInternalSnapshotBeforeUpdate=l}catch(Be){$t(h,h.return,Be)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,h=l.nodeType,h===9)Sg(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Sg(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=c.sibling,l!==null){l.return=c.return,En=l;break}En=c.return}}function aT(l,c,h){var O=h.flags;switch(h.tag){case 0:case 11:case 15:yi(l,h),O&4&&Ou(5,h);break;case 1:if(yi(l,h),O&4)if(l=h.stateNode,c===null)try{l.componentDidMount()}catch(P){$t(h,h.return,P)}else{var y=dl(h.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(y,c,l.__reactInternalSnapshotBeforeUpdate)}catch(P){$t(h,h.return,P)}}O&64&&eT(h),O&512&&gu(h,h.return);break;case 3:if(yi(l,h),O&64&&(l=h.updateQueue,l!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{D5(l,c)}catch(P){$t(h,h.return,P)}}break;case 27:c===null&&O&4&&sT(h);case 26:case 5:yi(l,h),c===null&&O&4&&nT(h),O&512&&gu(h,h.return);break;case 12:yi(l,h);break;case 31:yi(l,h),O&4&&cT(l,h);break;case 13:yi(l,h),O&4&&uT(l,h),O&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=V8.bind(null,h),o9(l,h))));break;case 22:if(O=h.memoizedState!==null||gi,!O){c=c!==null&&c.memoizedState!==null||Qn,y=gi;var w=Qn;gi=O,(Qn=c)&&!w?bi(l,h,(h.subtreeFlags&8772)!==0):yi(l,h),gi=y,Qn=w}break;case 30:break;default:yi(l,h)}}function lT(l){var c=l.alternate;c!==null&&(l.alternate=null,lT(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Fa(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Gt=null,fr=!1;function xi(l,c,h){for(h=h.child;h!==null;)oT(l,c,h),h=h.sibling}function oT(l,c,h){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(dt,h)}catch{}switch(h.tag){case 26:Qn||Ls(h,c),xi(l,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Qn||Ls(h,c);var O=Gt,y=fr;ga(h.type)&&(Gt=h.stateNode,fr=!1),xi(l,c,h),$u(h.stateNode),Gt=O,fr=y;break;case 5:Qn||Ls(h,c);case 6:if(O=Gt,y=fr,Gt=null,xi(l,c,h),Gt=O,fr=y,Gt!==null)if(fr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(h.stateNode)}catch(w){$t(h,c,w)}else try{Gt.removeChild(h.stateNode)}catch(w){$t(h,c,w)}break;case 18:Gt!==null&&(fr?(l=Gt,ej(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Mo(l)):ej(Gt,h.stateNode));break;case 4:O=Gt,y=fr,Gt=h.stateNode.containerInfo,fr=!0,xi(l,c,h),Gt=O,fr=y;break;case 0:case 11:case 14:case 15:ua(2,h,c),Qn||ua(4,h,c),xi(l,c,h);break;case 1:Qn||(Ls(h,c),O=h.stateNode,typeof O.componentWillUnmount=="function"&&tT(h,c,O)),xi(l,c,h);break;case 21:xi(l,c,h);break;case 22:Qn=(O=Qn)||h.memoizedState!==null,xi(l,c,h),Qn=O;break;default:xi(l,c,h)}}function cT(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Mo(l)}catch(h){$t(c,c.return,h)}}}function uT(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Mo(l)}catch(h){$t(c,c.return,h)}}function E8(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new iT),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new iT),c;default:throw Error(r(435,l.tag))}}function th(l,c){var h=E8(l);c.forEach(function(O){if(!h.has(O)){h.add(O);var y=Y8.bind(null,l,O);O.then(y,y)}})}function dr(l,c){var h=c.deletions;if(h!==null)for(var O=0;O<h.length;O++){var y=h[O],w=l,P=c,X=P;e:for(;X!==null;){switch(X.tag){case 27:if(ga(X.type)){Gt=X.stateNode,fr=!1;break e}break;case 5:Gt=X.stateNode,fr=!1;break e;case 3:case 4:Gt=X.stateNode.containerInfo,fr=!0;break e}X=X.return}if(Gt===null)throw Error(r(160));oT(w,P,y),Gt=null,fr=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)fT(c,l),c=c.sibling}var gs=null;function fT(l,c){var h=l.alternate,O=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:dr(c,l),hr(l),O&4&&(ua(3,l,l.return),Ou(3,l),ua(5,l,l.return));break;case 1:dr(c,l),hr(l),O&512&&(Qn||h===null||Ls(h,h.return)),O&64&&gi&&(l=l.updateQueue,l!==null&&(O=l.callbacks,O!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?O:h.concat(O))));break;case 26:var y=gs;if(dr(c,l),hr(l),O&512&&(Qn||h===null||Ls(h,h.return)),O&4){var w=h!==null?h.memoizedState:null;if(O=l.memoizedState,h===null)if(O===null)if(l.stateNode===null){e:{O=l.type,h=l.memoizedProps,y=y.ownerDocument||y;t:switch(O){case"title":w=y.getElementsByTagName("title")[0],(!w||w[ai]||w[Jt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(O),y.head.insertBefore(w,y.querySelector("head > title"))),Zn(w,O,h),w[Jt]=l,cn(w),O=w;break e;case"link":var P=fj("link","href",y).get(O+(h.href||""));if(P){for(var X=0;X<P.length;X++)if(w=P[X],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){P.splice(X,1);break t}}w=y.createElement(O),Zn(w,O,h),y.head.appendChild(w);break;case"meta":if(P=fj("meta","content",y).get(O+(h.content||""))){for(X=0;X<P.length;X++)if(w=P[X],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){P.splice(X,1);break t}}w=y.createElement(O),Zn(w,O,h),y.head.appendChild(w);break;default:throw Error(r(468,O))}w[Jt]=l,cn(w),O=w}l.stateNode=O}else dj(y,l.type,l.stateNode);else l.stateNode=uj(y,O,l.memoizedProps);else w!==O?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,O===null?dj(y,l.type,l.stateNode):uj(y,O,l.memoizedProps)):O===null&&l.stateNode!==null&&I0(l,l.memoizedProps,h.memoizedProps)}break;case 27:dr(c,l),hr(l),O&512&&(Qn||h===null||Ls(h,h.return)),h!==null&&O&4&&I0(l,l.memoizedProps,h.memoizedProps);break;case 5:if(dr(c,l),hr(l),O&512&&(Qn||h===null||Ls(h,h.return)),l.flags&32){y=l.stateNode;try{Ji(y,"")}catch(Re){$t(l,l.return,Re)}}O&4&&l.stateNode!=null&&(y=l.memoizedProps,I0(l,y,h!==null?h.memoizedProps:y)),O&1024&&(K0=!0);break;case 6:if(dr(c,l),hr(l),O&4){if(l.stateNode===null)throw Error(r(162));O=l.memoizedProps,h=l.stateNode;try{h.nodeValue=O}catch(Re){$t(l,l.return,Re)}}break;case 3:if(gh=null,y=gs,gs=mh(c.containerInfo),dr(c,l),gs=y,hr(l),O&4&&h!==null&&h.memoizedState.isDehydrated)try{Mo(c.containerInfo)}catch(Re){$t(l,l.return,Re)}K0&&(K0=!1,dT(l));break;case 4:O=gs,gs=mh(l.stateNode.containerInfo),dr(c,l),hr(l),gs=O;break;case 12:dr(c,l),hr(l);break;case 31:dr(c,l),hr(l),O&4&&(O=l.updateQueue,O!==null&&(l.updateQueue=null,th(l,O)));break;case 13:dr(c,l),hr(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(rh=nt()),O&4&&(O=l.updateQueue,O!==null&&(l.updateQueue=null,th(l,O)));break;case 22:y=l.memoizedState!==null;var F=h!==null&&h.memoizedState!==null,le=gi,de=Qn;if(gi=le||y,Qn=de||F,dr(c,l),Qn=de,gi=le,hr(l),O&8192)e:for(c=l.stateNode,c._visibility=y?c._visibility&-2:c._visibility|1,y&&(h===null||F||gi||Qn||hl(l)),h=null,c=l;;){if(c.tag===5||c.tag===26){if(h===null){F=h=c;try{if(w=F.stateNode,y)P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{X=F.stateNode;var ge=F.memoizedProps.style,oe=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;X.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Re){$t(F,F.return,Re)}}}else if(c.tag===6){if(h===null){F=c;try{F.stateNode.nodeValue=y?"":F.memoizedProps}catch(Re){$t(F,F.return,Re)}}}else if(c.tag===18){if(h===null){F=c;try{var ue=F.stateNode;y?tj(ue,!0):tj(F.stateNode,!1)}catch(Re){$t(F,F.return,Re)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}O&4&&(O=l.updateQueue,O!==null&&(h=O.retryQueue,h!==null&&(O.retryQueue=null,th(l,h))));break;case 19:dr(c,l),hr(l),O&4&&(O=l.updateQueue,O!==null&&(l.updateQueue=null,th(l,O)));break;case 30:break;case 21:break;default:dr(c,l),hr(l)}}function hr(l){var c=l.flags;if(c&2){try{for(var h,O=l.return;O!==null;){if(rT(O)){h=O;break}O=O.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var y=h.stateNode,w=H0(l);eh(l,w,y);break;case 5:var P=h.stateNode;h.flags&32&&(Ji(P,""),h.flags&=-33);var X=H0(l);eh(l,X,P);break;case 3:case 4:var F=h.stateNode.containerInfo,le=H0(l);F0(l,le,F);break;default:throw Error(r(161))}}catch(de){$t(l,l.return,de)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function dT(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;dT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function yi(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)aT(l,c.alternate,c),c=c.sibling}function hl(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:ua(4,c,c.return),hl(c);break;case 1:Ls(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&tT(c,c.return,h),hl(c);break;case 27:$u(c.stateNode);case 26:case 5:Ls(c,c.return),hl(c);break;case 22:c.memoizedState===null&&hl(c);break;case 30:hl(c);break;default:hl(c)}l=l.sibling}}function bi(l,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var O=c.alternate,y=l,w=c,P=w.flags;switch(w.tag){case 0:case 11:case 15:bi(y,w,h),Ou(4,w);break;case 1:if(bi(y,w,h),O=w,y=O.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(le){$t(O,O.return,le)}if(O=w,y=O.updateQueue,y!==null){var X=O.stateNode;try{var F=y.shared.hiddenCallbacks;if(F!==null)for(y.shared.hiddenCallbacks=null,y=0;y<F.length;y++)Y5(F[y],X)}catch(le){$t(O,O.return,le)}}h&&P&64&&eT(w),gu(w,w.return);break;case 27:sT(w);case 26:case 5:bi(y,w,h),h&&O===null&&P&4&&nT(w),gu(w,w.return);break;case 12:bi(y,w,h);break;case 31:bi(y,w,h),h&&P&4&&cT(y,w);break;case 13:bi(y,w,h),h&&P&4&&uT(y,w);break;case 22:w.memoizedState===null&&bi(y,w,h),gu(w,w.return);break;case 30:break;default:bi(y,w,h)}c=c.sibling}}function J0(l,c){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&ru(h))}function eg(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&ru(l))}function xs(l,c,h,O){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)hT(l,c,h,O),c=c.sibling}function hT(l,c,h,O){var y=c.flags;switch(c.tag){case 0:case 11:case 15:xs(l,c,h,O),y&2048&&Ou(9,c);break;case 1:xs(l,c,h,O);break;case 3:xs(l,c,h,O),y&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&ru(l)));break;case 12:if(y&2048){xs(l,c,h,O),l=c.stateNode;try{var w=c.memoizedProps,P=w.id,X=w.onPostCommit;typeof X=="function"&&X(P,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(F){$t(c,c.return,F)}}else xs(l,c,h,O);break;case 31:xs(l,c,h,O);break;case 13:xs(l,c,h,O);break;case 23:break;case 22:w=c.stateNode,P=c.alternate,c.memoizedState!==null?w._visibility&2?xs(l,c,h,O):xu(l,c):w._visibility&2?xs(l,c,h,O):(w._visibility|=2,$o(l,c,h,O,(c.subtreeFlags&10256)!==0||!1)),y&2048&&J0(P,c);break;case 24:xs(l,c,h,O),y&2048&&eg(c.alternate,c);break;default:xs(l,c,h,O)}}function $o(l,c,h,O,y){for(y=y&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var w=l,P=c,X=h,F=O,le=P.flags;switch(P.tag){case 0:case 11:case 15:$o(w,P,X,F,y),Ou(8,P);break;case 23:break;case 22:var de=P.stateNode;P.memoizedState!==null?de._visibility&2?$o(w,P,X,F,y):xu(w,P):(de._visibility|=2,$o(w,P,X,F,y)),y&&le&2048&&J0(P.alternate,P);break;case 24:$o(w,P,X,F,y),y&&le&2048&&eg(P.alternate,P);break;default:$o(w,P,X,F,y)}c=c.sibling}}function xu(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=l,O=c,y=O.flags;switch(O.tag){case 22:xu(h,O),y&2048&&J0(O.alternate,O);break;case 24:xu(h,O),y&2048&&eg(O.alternate,O);break;default:xu(h,O)}c=c.sibling}}var yu=8192;function To(l,c,h){if(l.subtreeFlags&yu)for(l=l.child;l!==null;)pT(l,c,h),l=l.sibling}function pT(l,c,h){switch(l.tag){case 26:To(l,c,h),l.flags&yu&&l.memoizedState!==null&&b9(h,gs,l.memoizedState,l.memoizedProps);break;case 5:To(l,c,h);break;case 3:case 4:var O=gs;gs=mh(l.stateNode.containerInfo),To(l,c,h),gs=O;break;case 22:l.memoizedState===null&&(O=l.alternate,O!==null&&O.memoizedState!==null?(O=yu,yu=16777216,To(l,c,h),yu=O):To(l,c,h));break;default:To(l,c,h)}}function mT(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function bu(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var O=c[h];En=O,gT(O,l)}mT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)OT(l),l=l.sibling}function OT(l){switch(l.tag){case 0:case 11:case 15:bu(l),l.flags&2048&&ua(9,l,l.return);break;case 3:bu(l);break;case 12:bu(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,nh(l)):bu(l);break;default:bu(l)}}function nh(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var O=c[h];En=O,gT(O,l)}mT(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:ua(8,c,c.return),nh(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,nh(c));break;default:nh(c)}l=l.sibling}}function gT(l,c){for(;En!==null;){var h=En;switch(h.tag){case 0:case 11:case 15:ua(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var O=h.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:ru(h.memoizedState.cache)}if(O=h.child,O!==null)O.return=h,En=O;else e:for(h=l;En!==null;){O=En;var y=O.sibling,w=O.return;if(lT(O),O===h){En=null;break e}if(y!==null){y.return=w,En=y;break e}En=w}}}var A8={getCacheForType:function(l){var c=zn(vn),h=c.data.get(l);return h===void 0&&(h=l(),c.data.set(l,h)),h},cacheSignal:function(){return zn(vn).controller.signal}},q8=typeof WeakMap=="function"?WeakMap:Map,bt=0,Mt=null,st=null,at=0,kt=0,_r=null,fa=!1,jo=!1,tg=!1,vi=0,fn=0,da=0,pl=0,ng=0,Pr=0,_o=0,vu=null,pr=null,rg=!1,rh=0,xT=0,sh=1/0,ih=null,ha=null,jn=0,pa=null,Po=null,wi=0,sg=0,ig=null,yT=null,wu=0,ag=null;function Nr(){return(bt&2)!==0&&at!==0?at&-at:A.T!==null?dg():Hi()}function bT(){if(Pr===0)if((at&536870912)===0||ct){var l=Pe;Pe<<=1,(Pe&3932160)===0&&(Pe=262144),Pr=l}else Pr=536870912;return l=Tr.current,l!==null&&(l.flags|=32),Pr}function mr(l,c,h){(l===Mt&&(kt===2||kt===9)||l.cancelPendingCommit!==null)&&(No(l,0),ma(l,at,Pr,!1)),Ye(l,h),((bt&2)===0||l!==Mt)&&(l===Mt&&((bt&2)===0&&(pl|=h),fn===4&&ma(l,at,Pr,!1)),Zs(l))}function vT(l,c,h){if((bt&6)!==0)throw Error(r(327));var O=!h&&(c&127)===0&&(c&l.expiredLanes)===0||Rn(l,c),y=O?z8(l,c):og(l,c,!0),w=O;do{if(y===0){jo&&!O&&ma(l,c,0,!1);break}else{if(h=l.current.alternate,w&&!M8(h)){y=og(l,c,!1),w=!1;continue}if(y===2){if(w=c,l.errorRecoveryDisabledLanes&w)var P=0;else P=l.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var X=l;y=vu;var F=X.current.memoizedState.isDehydrated;if(F&&(No(X,P).flags|=256),P=og(X,P,!1),P!==2){if(tg&&!F){X.errorRecoveryDisabledLanes|=w,pl|=w,y=4;break e}w=pr,pr=y,w!==null&&(pr===null?pr=w:pr.push.apply(pr,w))}y=P}if(w=!1,y!==2)continue}}if(y===1){No(l,0),ma(l,c,0,!0);break}e:{switch(O=l,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ma(O,c,Pr,!fa);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(y=rh+300-nt(),10<y)){if(ma(O,c,Pr,!fa),Yt(O,0,!0)!==0)break e;wi=c,O.timeoutHandle=KT(wT.bind(null,O,h,pr,ih,rg,c,Pr,pl,_o,fa,w,"Throttled",-0,0),y);break e}wT(O,h,pr,ih,rg,c,Pr,pl,_o,fa,w,null,-0,0)}}break}while(!0);Zs(l)}function wT(l,c,h,O,y,w,P,X,F,le,de,ge,oe,ue){if(l.timeoutHandle=-1,ge=c.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},pT(c,w,ge);var Re=(w&62914560)===w?rh-nt():(w&4194048)===w?xT-nt():0;if(Re=v9(ge,Re),Re!==null){wi=w,l.cancelPendingCommit=Re(PT.bind(null,l,c,w,h,O,y,P,X,F,de,ge,null,oe,ue)),ma(l,w,P,!le);return}}PT(l,c,w,h,O,y,P,X,F)}function M8(l){for(var c=l;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var O=0;O<h.length;O++){var y=h[O],w=y.getSnapshot;y=y.value;try{if(!kr(w(),y))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ma(l,c,h,O){c&=~ng,c&=~pl,l.suspendedLanes|=c,l.pingedLanes&=~c,O&&(l.warmLanes|=c),O=l.expirationTimes;for(var y=c;0<y;){var w=31-yt(y),P=1<<w;O[w]=-1,y&=~P}h!==0&&Mn(l,h,c)}function ah(){return(bt&6)===0?(Su(0),!1):!0}function lg(){if(st!==null){if(kt===0)var l=st.return;else l=st,fi=il=null,S0(l),vo=null,iu=0,l=st;for(;l!==null;)J$(l.alternate,l),l=l.return;st=null}}function No(l,c){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,r9(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),wi=0,lg(),Mt=l,st=h=ci(l.current,null),at=c,kt=0,_r=null,fa=!1,jo=Rn(l,c),tg=!1,_o=Pr=ng=pl=da=fn=0,pr=vu=null,rg=!1,(c&8)!==0&&(c|=c&32);var O=l.entangledLanes;if(O!==0)for(l=l.entanglements,O&=c;0<O;){var y=31-yt(O),w=1<<y;c|=l[y],O&=~w}return vi=c,Td(),h}function ST(l,c){He=null,A.H=hu,c===bo||c===Ad?(c=z5(),kt=3):c===f0?(c=z5(),kt=4):kt=c===z0?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,_r=c,st===null&&(fn=1,Id(l,Zr(c,l.current)))}function QT(){var l=Tr.current;return l===null?!0:(at&4194048)===at?Br===null:(at&62914560)===at||(at&536870912)!==0?l===Br:!1}function kT(){var l=A.H;return A.H=hu,l===null?hu:l}function $T(){var l=A.A;return A.A=A8,l}function lh(){fn=4,fa||(at&4194048)!==at&&Tr.current!==null||(jo=!0),(da&134217727)===0&&(pl&134217727)===0||Mt===null||ma(Mt,at,Pr,!1)}function og(l,c,h){var O=bt;bt|=2;var y=kT(),w=$T();(Mt!==l||at!==c)&&(ih=null,No(l,c)),c=!1;var P=fn;e:do try{if(kt!==0&&st!==null){var X=st,F=_r;switch(kt){case 8:lg(),P=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(c=!0);var le=kt;if(kt=0,_r=null,Co(l,X,F,le),h&&jo){P=0;break e}break;default:le=kt,kt=0,_r=null,Co(l,X,F,le)}}X8(),P=fn;break}catch(de){ST(l,de)}while(!0);return c&&l.shellSuspendCounter++,fi=il=null,bt=O,A.H=y,A.A=w,st===null&&(Mt=null,at=0,Td()),P}function X8(){for(;st!==null;)TT(st)}function z8(l,c){var h=bt;bt|=2;var O=kT(),y=$T();Mt!==l||at!==c?(ih=null,sh=nt()+500,No(l,c)):jo=Rn(l,c);e:do try{if(kt!==0&&st!==null){c=st;var w=_r;t:switch(kt){case 1:kt=0,_r=null,Co(l,c,w,1);break;case 2:case 9:if(M5(w)){kt=0,_r=null,jT(c);break}c=function(){kt!==2&&kt!==9||Mt!==l||(kt=7),Zs(l)},w.then(c,c);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:M5(w)?(kt=0,_r=null,jT(c)):(kt=0,_r=null,Co(l,c,w,7));break;case 5:var P=null;switch(st.tag){case 26:P=st.memoizedState;case 5:case 27:var X=st;if(P?hj(P):X.stateNode.complete){kt=0,_r=null;var F=X.sibling;if(F!==null)st=F;else{var le=X.return;le!==null?(st=le,oh(le)):st=null}break t}}kt=0,_r=null,Co(l,c,w,5);break;case 6:kt=0,_r=null,Co(l,c,w,6);break;case 8:lg(),fn=6;break e;default:throw Error(r(462))}}L8();break}catch(de){ST(l,de)}while(!0);return fi=il=null,A.H=O,A.A=y,bt=h,st!==null?0:(Mt=null,at=0,Td(),fn)}function L8(){for(;st!==null&&!jt();)TT(st)}function TT(l){var c=F$(l.alternate,l,vi);l.memoizedProps=l.pendingProps,c===null?oh(l):st=c}function jT(l){var c=l,h=c.alternate;switch(c.tag){case 15:case 0:c=B$(h,c,c.pendingProps,c.type,void 0,at);break;case 11:c=B$(h,c,c.pendingProps,c.type.render,c.ref,at);break;case 5:S0(c);default:J$(h,c),c=st=$5(c,vi),c=F$(h,c,vi)}l.memoizedProps=l.pendingProps,c===null?oh(l):st=c}function Co(l,c,h,O){fi=il=null,S0(c),vo=null,iu=0;var y=c.return;try{if(j8(l,y,c,h,at)){fn=1,Id(l,Zr(h,l.current)),st=null;return}}catch(w){if(y!==null)throw st=y,w;fn=1,Id(l,Zr(h,l.current)),st=null;return}c.flags&32768?(ct||O===1?l=!0:jo||(at&536870912)!==0?l=!1:(fa=l=!0,(O===2||O===9||O===3||O===6)&&(O=Tr.current,O!==null&&O.tag===13&&(O.flags|=16384))),_T(c,l)):oh(c)}function oh(l){var c=l;do{if((c.flags&32768)!==0){_T(c,fa);return}l=c.return;var h=N8(c.alternate,c,vi);if(h!==null){st=h;return}if(c=c.sibling,c!==null){st=c;return}st=c=l}while(c!==null);fn===0&&(fn=5)}function _T(l,c){do{var h=C8(l.alternate,l);if(h!==null){h.flags&=32767,st=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(l=l.sibling,l!==null)){st=l;return}st=l=h}while(l!==null);fn=6,st=null}function PT(l,c,h,O,y,w,P,X,F){l.cancelPendingCommit=null;do ch();while(jn!==0);if((bt&6)!==0)throw Error(r(327));if(c!==null){if(c===l.current)throw Error(r(177));if(w=c.lanes|c.childLanes,w|=HO,bn(l,h,w,P,X,F),l===Mt&&(st=Mt=null,at=0),Po=c,pa=l,wi=h,sg=w,ig=y,yT=O,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,D8(qt,function(){return AT(),null})):(l.callbackNode=null,l.callbackPriority=0),O=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||O){O=A.T,A.T=null,y=W.p,W.p=2,P=bt,bt|=4;try{R8(l,c,h)}finally{bt=P,W.p=y,A.T=O}}jn=1,NT(),CT(),RT()}}function NT(){if(jn===1){jn=0;var l=pa,c=Po,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=A.T,A.T=null;var O=W.p;W.p=2;var y=bt;bt|=4;try{fT(c,l);var w=bg,P=g5(l.containerInfo),X=w.focusedElem,F=w.selectionRange;if(P!==X&&X&&X.ownerDocument&&O5(X.ownerDocument.documentElement,X)){if(F!==null&&BO(X)){var le=F.start,de=F.end;if(de===void 0&&(de=le),"selectionStart"in X)X.selectionStart=le,X.selectionEnd=Math.min(de,X.value.length);else{var ge=X.ownerDocument||document,oe=ge&&ge.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Re=X.textContent.length,Be=Math.min(F.start,Re),Ct=F.end===void 0?Be:Math.min(F.end,Re);!ue.extend&&Be>Ct&&(P=Ct,Ct=Be,Be=P);var se=m5(X,Be),te=m5(X,Ct);if(se&&te&&(ue.rangeCount!==1||ue.anchorNode!==se.node||ue.anchorOffset!==se.offset||ue.focusNode!==te.node||ue.focusOffset!==te.offset)){var ae=ge.createRange();ae.setStart(se.node,se.offset),ue.removeAllRanges(),Be>Ct?(ue.addRange(ae),ue.extend(te.node,te.offset)):(ae.setEnd(te.node,te.offset),ue.addRange(ae))}}}}for(ge=[],ue=X;ue=ue.parentNode;)ue.nodeType===1&&ge.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<ge.length;X++){var me=ge[X];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}vh=!!yg,bg=yg=null}finally{bt=y,W.p=O,A.T=h}}l.current=c,jn=2}}function CT(){if(jn===2){jn=0;var l=pa,c=Po,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=A.T,A.T=null;var O=W.p;W.p=2;var y=bt;bt|=4;try{aT(l,c.alternate,c)}finally{bt=y,W.p=O,A.T=h}}jn=3}}function RT(){if(jn===4||jn===3){jn=0,Ve();var l=pa,c=Po,h=wi,O=yT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?jn=5:(jn=0,Po=pa=null,ET(l,l.pendingLanes));var y=l.pendingLanes;if(y===0&&(ha=null),Ii(h),c=c.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(dt,c,void 0,(c.current.flags&128)===128)}catch{}if(O!==null){c=A.T,y=W.p,W.p=2,A.T=null;try{for(var w=l.onRecoverableError,P=0;P<O.length;P++){var X=O[P];w(X.value,{componentStack:X.stack})}}finally{A.T=c,W.p=y}}(wi&3)!==0&&ch(),Zs(l),y=l.pendingLanes,(h&261930)!==0&&(y&42)!==0?l===ag?wu++:(wu=0,ag=l):wu=0,Su(0)}}function ET(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,ru(c)))}function ch(){return NT(),CT(),RT(),AT()}function AT(){if(jn!==5)return!1;var l=pa,c=sg;sg=0;var h=Ii(wi),O=A.T,y=W.p;try{W.p=32>h?32:h,A.T=null,h=ig,ig=null;var w=pa,P=wi;if(jn=0,Po=pa=null,wi=0,(bt&6)!==0)throw Error(r(331));var X=bt;if(bt|=4,OT(w.current),hT(w,w.current,P,h),bt=X,Su(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(dt,w)}catch{}return!0}finally{W.p=y,A.T=O,ET(l,c)}}function qT(l,c,h){c=Zr(h,c),c=X0(l.stateNode,c,2),l=la(l,c,2),l!==null&&(Ye(l,2),Zs(l))}function $t(l,c,h){if(l.tag===3)qT(l,l,h);else for(;c!==null;){if(c.tag===3){qT(c,l,h);break}else if(c.tag===1){var O=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(ha===null||!ha.has(O))){l=Zr(h,l),h=M$(2),O=la(c,h,2),O!==null&&(X$(h,O,c,l),Ye(O,2),Zs(O));break}}c=c.return}}function cg(l,c,h){var O=l.pingCache;if(O===null){O=l.pingCache=new q8;var y=new Set;O.set(c,y)}else y=O.get(c),y===void 0&&(y=new Set,O.set(c,y));y.has(h)||(tg=!0,y.add(h),l=Z8.bind(null,l,c,h),c.then(l,l))}function Z8(l,c,h){var O=l.pingCache;O!==null&&O.delete(c),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,Mt===l&&(at&h)===h&&(fn===4||fn===3&&(at&62914560)===at&&300>nt()-rh?(bt&2)===0&&No(l,0):ng|=h,_o===at&&(_o=0)),Zs(l)}function MT(l,c){c===0&&(c=be()),l=nl(l,c),l!==null&&(Ye(l,c),Zs(l))}function V8(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),MT(l,h)}function Y8(l,c){var h=0;switch(l.tag){case 31:case 13:var O=l.stateNode,y=l.memoizedState;y!==null&&(h=y.retryLane);break;case 19:O=l.stateNode;break;case 22:O=l.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(c),MT(l,h)}function D8(l,c){return ut(l,c)}var uh=null,Ro=null,ug=!1,fh=!1,fg=!1,Oa=0;function Zs(l){l!==Ro&&l.next===null&&(Ro===null?uh=Ro=l:Ro=Ro.next=l),fh=!0,ug||(ug=!0,U8())}function Su(l,c){if(!fg&&fh){fg=!0;do for(var h=!1,O=uh;O!==null;){if(l!==0){var y=O.pendingLanes;if(y===0)var w=0;else{var P=O.suspendedLanes,X=O.pingedLanes;w=(1<<31-yt(42|l)+1)-1,w&=y&~(P&~X),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,ZT(O,w))}else w=at,w=Yt(O,O===Mt?w:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(w&3)===0||Rn(O,w)||(h=!0,ZT(O,w));O=O.next}while(h);fg=!1}}function B8(){XT()}function XT(){fh=ug=!1;var l=0;Oa!==0&&n9()&&(l=Oa);for(var c=nt(),h=null,O=uh;O!==null;){var y=O.next,w=zT(O,c);w===0?(O.next=null,h===null?uh=y:h.next=y,y===null&&(Ro=h)):(h=O,(l!==0||(w&3)!==0)&&(fh=!0)),O=y}jn!==0&&jn!==5||Su(l),Oa!==0&&(Oa=0)}function zT(l,c){for(var h=l.suspendedLanes,O=l.pingedLanes,y=l.expirationTimes,w=l.pendingLanes&-62914561;0<w;){var P=31-yt(w),X=1<<P,F=y[P];F===-1?((X&h)===0||(X&O)!==0)&&(y[P]=mn(X,c)):F<=c&&(l.expiredLanes|=X),w&=~X}if(c=Mt,h=at,h=Yt(l,l===c?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),O=l.callbackNode,h===0||l===c&&(kt===2||kt===9)||l.cancelPendingCommit!==null)return O!==null&&O!==null&&et(O),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||Rn(l,h)){if(c=h&-h,c===l.callbackPriority)return c;switch(O!==null&&et(O),Ii(h)){case 2:case 8:h=Ut;break;case 32:h=qt;break;case 268435456:h=yn;break;default:h=qt}return O=LT.bind(null,l),h=ut(h,O),l.callbackPriority=c,l.callbackNode=h,c}return O!==null&&O!==null&&et(O),l.callbackPriority=2,l.callbackNode=null,2}function LT(l,c){if(jn!==0&&jn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(ch()&&l.callbackNode!==h)return null;var O=at;return O=Yt(l,l===Mt?O:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),O===0?null:(vT(l,O,c),zT(l,nt()),l.callbackNode!=null&&l.callbackNode===h?LT.bind(null,l):null)}function ZT(l,c){if(ch())return null;vT(l,c,!0)}function U8(){s9(function(){(bt&6)!==0?ut(St,B8):XT()})}function dg(){if(Oa===0){var l=xo;l===0&&(l=Qe,Qe<<=1,(Qe&261888)===0&&(Qe=256)),Oa=l}return Oa}function VT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:yd(""+l)}function YT(l,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,l.id&&h.setAttribute("form",l.id),c.parentNode.insertBefore(h,c),l=new FormData(l),h.parentNode.removeChild(h),l}function W8(l,c,h,O,y){if(c==="submit"&&h&&h.stateNode===y){var w=VT((y[on]||null).action),P=O.submitter;P&&(c=(c=P[on]||null)?VT(c.formAction):P.getAttribute("formAction"),c!==null&&(w=c,P=null));var X=new Sd("action","action",null,O,y);l.push({event:X,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(Oa!==0){var F=P?YT(y,P):new FormData(y);C0(h,{pending:!0,data:F,method:y.method,action:w},null,F)}}else typeof w=="function"&&(X.preventDefault(),F=P?YT(y,P):new FormData(y),C0(h,{pending:!0,data:F,method:y.method,action:w},w,F))},currentTarget:y}]})}}for(var hg=0;hg<IO.length;hg++){var pg=IO[hg],G8=pg.toLowerCase(),I8=pg[0].toUpperCase()+pg.slice(1);Os(G8,"on"+I8)}Os(b5,"onAnimationEnd"),Os(v5,"onAnimationIteration"),Os(w5,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(f8,"onTransitionRun"),Os(d8,"onTransitionStart"),Os(h8,"onTransitionCancel"),Os(S5,"onTransitionEnd"),ps("onMouseEnter",["mouseout","mouseover"]),ps("onMouseLeave",["mouseout","mouseover"]),ps("onPointerEnter",["pointerout","pointerover"]),ps("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function DT(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var O=l[h],y=O.event;O=O.listeners;e:{var w=void 0;if(c)for(var P=O.length-1;0<=P;P--){var X=O[P],F=X.instance,le=X.currentTarget;if(X=X.listener,F!==w&&y.isPropagationStopped())break e;w=X,y.currentTarget=le;try{w(y)}catch(de){$d(de)}y.currentTarget=null,w=F}else for(P=0;P<O.length;P++){if(X=O[P],F=X.instance,le=X.currentTarget,X=X.listener,F!==w&&y.isPropagationStopped())break e;w=X,y.currentTarget=le;try{w(y)}catch(de){$d(de)}y.currentTarget=null,w=F}}}}function it(l,c){var h=c[Es];h===void 0&&(h=c[Es]=new Set);var O=l+"__bubble";h.has(O)||(BT(c,l,2,!1),h.add(O))}function mg(l,c,h){var O=0;c&&(O|=4),BT(h,l,O,c)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Og(l){if(!l[dh]){l[dh]=!0,eo.forEach(function(h){h!=="selectionchange"&&(H8.has(h)||mg(h,!1,l),mg(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[dh]||(c[dh]=!0,mg("selectionchange",!1,c))}}function BT(l,c,h,O){switch(bj(c)){case 2:var y=Q9;break;case 8:y=k9;break;default:y=Ng}h=y.bind(null,c,h,l),y=void 0,!qO||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),O?y!==void 0?l.addEventListener(c,h,{capture:!0,passive:y}):l.addEventListener(c,h,!0):y!==void 0?l.addEventListener(c,h,{passive:y}):l.addEventListener(c,h,!1)}function gg(l,c,h,O,y){var w=O;if((c&1)===0&&(c&2)===0&&O!==null)e:for(;;){if(O===null)return;var P=O.tag;if(P===3||P===4){var X=O.stateNode.containerInfo;if(X===y)break;if(P===4)for(P=O.return;P!==null;){var F=P.tag;if((F===3||F===4)&&P.stateNode.containerInfo===y)return;P=P.return}for(;X!==null;){if(P=fs(X),P===null)return;if(F=P.tag,F===5||F===6||F===26||F===27){O=w=P;continue e}X=X.parentNode}}O=O.return}Hk(function(){var le=w,de=EO(h),ge=[];e:{var oe=Q5.get(l);if(oe!==void 0){var ue=Sd,Re=l;switch(l){case"keypress":if(vd(h)===0)break e;case"keydown":case"keyup":ue=YZ;break;case"focusin":Re="focus",ue=LO;break;case"focusout":Re="blur",ue=LO;break;case"beforeblur":case"afterblur":ue=LO;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Jk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=NZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=UZ;break;case b5:case v5:case w5:ue=EZ;break;case S5:ue=GZ;break;case"scroll":case"scrollend":ue=_Z;break;case"wheel":ue=HZ;break;case"copy":case"cut":case"paste":ue=qZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=t5;break;case"toggle":case"beforetoggle":ue=KZ}var Be=(c&4)!==0,Ct=!Be&&(l==="scroll"||l==="scrollend"),se=Be?oe!==null?oe+"Capture":null:oe;Be=[];for(var te=le,ae;te!==null;){var me=te;if(ae=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ae===null||se===null||(me=Uc(te,se),me!=null&&Be.push(ku(te,me,ae))),Ct)break;te=te.return}0<Be.length&&(oe=new ue(oe,Re,null,h,de),ge.push({event:oe,listeners:Be}))}}if((c&7)===0){e:{if(oe=l==="mouseover"||l==="pointerover",ue=l==="mouseout"||l==="pointerout",oe&&h!==RO&&(Re=h.relatedTarget||h.fromElement)&&(fs(Re)||Re[Qr]))break e;if((ue||oe)&&(oe=de.window===de?de:(oe=de.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Re=h.relatedTarget||h.toElement,ue=le,Re=Re?fs(Re):null,Re!==null&&(Ct=i(Re),Be=Re.tag,Re!==Ct||Be!==5&&Be!==27&&Be!==6)&&(Re=null)):(ue=null,Re=le),ue!==Re)){if(Be=Jk,me="onMouseLeave",se="onMouseEnter",te="mouse",(l==="pointerout"||l==="pointerover")&&(Be=t5,me="onPointerLeave",se="onPointerEnter",te="pointer"),Ct=ue==null?oe:As(ue),ae=Re==null?oe:As(Re),oe=new Be(me,te+"leave",ue,h,de),oe.target=Ct,oe.relatedTarget=ae,me=null,fs(de)===le&&(Be=new Be(se,te+"enter",Re,h,de),Be.target=ae,Be.relatedTarget=Ct,me=Be),Ct=me,ue&&Re)t:{for(Be=F8,se=ue,te=Re,ae=0,me=se;me;me=Be(me))ae++;me=0;for(var Le=te;Le;Le=Be(Le))me++;for(;0<ae-me;)se=Be(se),ae--;for(;0<me-ae;)te=Be(te),me--;for(;ae--;){if(se===te||te!==null&&se===te.alternate){Be=se;break t}se=Be(se),te=Be(te)}Be=null}else Be=null;ue!==null&&UT(ge,oe,ue,Be,!1),Re!==null&&Ct!==null&&UT(ge,Ct,Re,Be,!0)}}e:{if(oe=le?As(le):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var mt=c5;else if(l5(oe))if(u5)mt=o8;else{mt=a8;var Ae=i8}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?le&&Bc(le.elementType)&&(mt=c5):mt=l8;if(mt&&(mt=mt(l,le))){o5(ge,mt,h,de);break e}Ae&&Ae(l,oe,le),l==="focusout"&&le&&oe.type==="number"&&le.memoizedProps.value!=null&&cr(oe,"number",oe.value)}switch(Ae=le?As(le):window,l){case"focusin":(l5(Ae)||Ae.contentEditable==="true")&&(co=Ae,UO=le,eu=null);break;case"focusout":eu=UO=co=null;break;case"mousedown":WO=!0;break;case"contextmenu":case"mouseup":case"dragend":WO=!1,x5(ge,h,de);break;case"selectionchange":if(u8)break;case"keydown":case"keyup":x5(ge,h,de)}var Ke;if(VO)e:{switch(l){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else oo?i5(l,h)&&(lt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(lt="onCompositionStart");lt&&(n5&&h.locale!=="ko"&&(oo||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&oo&&(Ke=Fk()):(ea=de,MO="value"in ea?ea.value:ea.textContent,oo=!0)),Ae=hh(le,lt),0<Ae.length&&(lt=new e5(lt,l,null,h,de),ge.push({event:lt,listeners:Ae}),Ke?lt.data=Ke:(Ke=a5(h),Ke!==null&&(lt.data=Ke)))),(Ke=e8?t8(l,h):n8(l,h))&&(lt=hh(le,"onBeforeInput"),0<lt.length&&(Ae=new e5("onBeforeInput","beforeinput",null,h,de),ge.push({event:Ae,listeners:lt}),Ae.data=Ke)),W8(ge,l,le,h,de)}DT(ge,c)})}function ku(l,c,h){return{instance:l,listener:c,currentTarget:h}}function hh(l,c){for(var h=c+"Capture",O=[];l!==null;){var y=l,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Uc(l,h),y!=null&&O.unshift(ku(l,y,w)),y=Uc(l,c),y!=null&&O.push(ku(l,y,w))),l.tag===3)return O;l=l.return}return[]}function F8(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function UT(l,c,h,O,y){for(var w=c._reactName,P=[];h!==null&&h!==O;){var X=h,F=X.alternate,le=X.stateNode;if(X=X.tag,F!==null&&F===O)break;X!==5&&X!==26&&X!==27||le===null||(F=le,y?(le=Uc(h,w),le!=null&&P.unshift(ku(h,le,F))):y||(le=Uc(h,w),le!=null&&P.push(ku(h,le,F)))),h=h.return}P.length!==0&&l.push({event:c,listeners:P})}var K8=/\r\n?/g,J8=/\u0000|\uFFFD/g;function WT(l){return(typeof l=="string"?l:""+l).replace(K8,`
`).replace(J8,"")}function GT(l,c){return c=WT(c),WT(l)===c}function Nt(l,c,h,O,y,w){switch(h){case"children":typeof O=="string"?c==="body"||c==="textarea"&&O===""||Ji(l,O):(typeof O=="number"||typeof O=="bigint")&&c!=="body"&&Ji(l,""+O);break;case"className":io(l,"class",O);break;case"tabIndex":io(l,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":io(l,h,O);break;case"style":Dc(l,O,w);break;case"data":if(c!=="object"){io(l,"data",O);break}case"src":case"href":if(O===""&&(c!=="a"||h!=="href")){l.removeAttribute(h);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){l.removeAttribute(h);break}O=yd(""+O),l.setAttribute(h,O);break;case"action":case"formAction":if(typeof O=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(c!=="input"&&Nt(l,c,"name",y.name,y,null),Nt(l,c,"formEncType",y.formEncType,y,null),Nt(l,c,"formMethod",y.formMethod,y,null),Nt(l,c,"formTarget",y.formTarget,y,null)):(Nt(l,c,"encType",y.encType,y,null),Nt(l,c,"method",y.method,y,null),Nt(l,c,"target",y.target,y,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){l.removeAttribute(h);break}O=yd(""+O),l.setAttribute(h,O);break;case"onClick":O!=null&&(l.onclick=li);break;case"onScroll":O!=null&&it("scroll",l);break;case"onScrollEnd":O!=null&&it("scrollend",l);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(r(61));if(h=O.__html,h!=null){if(y.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":l.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){l.removeAttribute("xlink:href");break}h=yd(""+O),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?l.setAttribute(h,""+O):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":O===!0?l.setAttribute(h,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?l.setAttribute(h,O):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?l.setAttribute(h,O):l.removeAttribute(h);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?l.removeAttribute(h):l.setAttribute(h,O);break;case"popover":it("beforetoggle",l),it("toggle",l),so(l,"popover",O);break;case"xlinkActuate":ms(l,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":ms(l,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":ms(l,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":ms(l,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":ms(l,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":ms(l,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":ms(l,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":ms(l,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":ms(l,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":so(l,"is",O);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=NO.get(h)||h,so(l,h,O))}}function xg(l,c,h,O,y,w){switch(h){case"style":Dc(l,O,w);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(r(61));if(h=O.__html,h!=null){if(y.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof O=="string"?Ji(l,O):(typeof O=="number"||typeof O=="bigint")&&Ji(l,""+O);break;case"onScroll":O!=null&&it("scroll",l);break;case"onScrollEnd":O!=null&&it("scrollend",l);break;case"onClick":O!=null&&(l.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!to.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),c=h.slice(2,y?h.length-7:void 0),w=l[on]||null,w=w!=null?w[h]:null,typeof w=="function"&&l.removeEventListener(c,w,y),typeof O=="function")){typeof w!="function"&&w!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(c,O,y);break e}h in l?l[h]=O:O===!0?l.setAttribute(h,""):so(l,h,O)}}}function Zn(l,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",l),it("load",l);var O=!1,y=!1,w;for(w in h)if(h.hasOwnProperty(w)){var P=h[w];if(P!=null)switch(w){case"src":O=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Nt(l,c,w,P,h,null)}}y&&Nt(l,c,"srcSet",h.srcSet,h,null),O&&Nt(l,c,"src",h.src,h,null);return;case"input":it("invalid",l);var X=w=P=y=null,F=null,le=null;for(O in h)if(h.hasOwnProperty(O)){var de=h[O];if(de!=null)switch(O){case"name":y=de;break;case"type":P=de;break;case"checked":F=de;break;case"defaultChecked":le=de;break;case"value":w=de;break;case"defaultValue":X=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,c));break;default:Nt(l,c,O,de,h,null)}}Kn(l,w,X,F,le,P,y,!1);return;case"select":it("invalid",l),O=P=w=null;for(y in h)if(h.hasOwnProperty(y)&&(X=h[y],X!=null))switch(y){case"value":w=X;break;case"defaultValue":P=X;break;case"multiple":O=X;default:Nt(l,c,y,X,h,null)}c=w,h=P,l.multiple=!!O,c!=null?Wn(l,!!O,c,!1):h!=null&&Wn(l,!!O,h,!0);return;case"textarea":it("invalid",l),w=y=O=null;for(P in h)if(h.hasOwnProperty(P)&&(X=h[P],X!=null))switch(P){case"value":O=X;break;case"defaultValue":y=X;break;case"children":w=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:Nt(l,c,P,X,h,null)}gd(l,O,y,w);return;case"option":for(F in h)if(h.hasOwnProperty(F)&&(O=h[F],O!=null))switch(F){case"selected":l.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Nt(l,c,F,O,h,null)}return;case"dialog":it("beforetoggle",l),it("toggle",l),it("cancel",l),it("close",l);break;case"iframe":case"object":it("load",l);break;case"video":case"audio":for(O=0;O<Qu.length;O++)it(Qu[O],l);break;case"image":it("error",l),it("load",l);break;case"details":it("toggle",l);break;case"embed":case"source":case"link":it("error",l),it("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in h)if(h.hasOwnProperty(le)&&(O=h[le],O!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:Nt(l,c,le,O,h,null)}return;default:if(Bc(c)){for(de in h)h.hasOwnProperty(de)&&(O=h[de],O!==void 0&&xg(l,c,de,O,h,void 0));return}}for(X in h)h.hasOwnProperty(X)&&(O=h[X],O!=null&&Nt(l,c,X,O,h,null))}function e9(l,c,h,O){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,P=null,X=null,F=null,le=null,de=null;for(ue in h){var ge=h[ue];if(h.hasOwnProperty(ue)&&ge!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":F=ge;default:O.hasOwnProperty(ue)||Nt(l,c,ue,null,O,ge)}}for(var oe in O){var ue=O[oe];if(ge=h[oe],O.hasOwnProperty(oe)&&(ue!=null||ge!=null))switch(oe){case"type":w=ue;break;case"name":y=ue;break;case"checked":le=ue;break;case"defaultChecked":de=ue;break;case"value":P=ue;break;case"defaultValue":X=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,c));break;default:ue!==ge&&Nt(l,c,oe,ue,O,ge)}}en(l,P,X,F,le,de,w,y);return;case"select":ue=P=X=oe=null;for(w in h)if(F=h[w],h.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":ue=F;default:O.hasOwnProperty(w)||Nt(l,c,w,null,O,F)}for(y in O)if(w=O[y],F=h[y],O.hasOwnProperty(y)&&(w!=null||F!=null))switch(y){case"value":oe=w;break;case"defaultValue":X=w;break;case"multiple":P=w;default:w!==F&&Nt(l,c,y,w,O,F)}c=X,h=P,O=ue,oe!=null?Wn(l,!!h,oe,!1):!!O!=!!h&&(c!=null?Wn(l,!!h,c,!0):Wn(l,!!h,h?[]:"",!1));return;case"textarea":ue=oe=null;for(X in h)if(y=h[X],h.hasOwnProperty(X)&&y!=null&&!O.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Nt(l,c,X,null,O,y)}for(P in O)if(y=O[P],w=h[P],O.hasOwnProperty(P)&&(y!=null||w!=null))switch(P){case"value":oe=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&Nt(l,c,P,y,O,w)}Ms(l,oe,ue);return;case"option":for(var Re in h)if(oe=h[Re],h.hasOwnProperty(Re)&&oe!=null&&!O.hasOwnProperty(Re))switch(Re){case"selected":l.selected=!1;break;default:Nt(l,c,Re,null,O,oe)}for(F in O)if(oe=O[F],ue=h[F],O.hasOwnProperty(F)&&oe!==ue&&(oe!=null||ue!=null))switch(F){case"selected":l.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Nt(l,c,F,oe,O,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in h)oe=h[Be],h.hasOwnProperty(Be)&&oe!=null&&!O.hasOwnProperty(Be)&&Nt(l,c,Be,null,O,oe);for(le in O)if(oe=O[le],ue=h[le],O.hasOwnProperty(le)&&oe!==ue&&(oe!=null||ue!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,c));break;default:Nt(l,c,le,oe,O,ue)}return;default:if(Bc(c)){for(var Ct in h)oe=h[Ct],h.hasOwnProperty(Ct)&&oe!==void 0&&!O.hasOwnProperty(Ct)&&xg(l,c,Ct,void 0,O,oe);for(de in O)oe=O[de],ue=h[de],!O.hasOwnProperty(de)||oe===ue||oe===void 0&&ue===void 0||xg(l,c,de,oe,O,ue);return}}for(var se in h)oe=h[se],h.hasOwnProperty(se)&&oe!=null&&!O.hasOwnProperty(se)&&Nt(l,c,se,null,O,oe);for(ge in O)oe=O[ge],ue=h[ge],!O.hasOwnProperty(ge)||oe===ue||oe==null&&ue==null||Nt(l,c,ge,oe,O,ue)}function IT(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t9(){if(typeof performance.getEntriesByType=="function"){for(var l=0,c=0,h=performance.getEntriesByType("resource"),O=0;O<h.length;O++){var y=h[O],w=y.transferSize,P=y.initiatorType,X=y.duration;if(w&&X&&IT(P)){for(P=0,X=y.responseEnd,O+=1;O<h.length;O++){var F=h[O],le=F.startTime;if(le>X)break;var de=F.transferSize,ge=F.initiatorType;de&&IT(ge)&&(F=F.responseEnd,P+=de*(F<X?1:(X-le)/(F-le)))}if(--O,c+=8*(w+P)/(y.duration/1e3),l++,10<l)break}}if(0<l)return c/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var yg=null,bg=null;function ph(l){return l.nodeType===9?l:l.ownerDocument}function HT(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FT(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function vg(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var wg=null;function n9(){var l=window.event;return l&&l.type==="popstate"?l===wg?!1:(wg=l,!0):(wg=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,r9=typeof clearTimeout=="function"?clearTimeout:void 0,JT=typeof Promise=="function"?Promise:void 0,s9=typeof queueMicrotask=="function"?queueMicrotask:typeof JT<"u"?function(l){return JT.resolve(null).then(l).catch(i9)}:KT;function i9(l){setTimeout(function(){throw l})}function ga(l){return l==="head"}function ej(l,c){var h=c,O=0;do{var y=h.nextSibling;if(l.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"||h==="/&"){if(O===0){l.removeChild(y),Mo(c);return}O--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")O++;else if(h==="html")$u(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,$u(h);for(var w=h.firstChild;w;){var P=w.nextSibling,X=w.nodeName;w[ai]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=P}}else h==="body"&&$u(l.ownerDocument.body);h=y}while(h);Mo(c)}function tj(l,c){var h=l;l=0;do{var O=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=O}while(h)}function Sg(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Sg(h),Fa(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function a9(l,c,h,O){for(;l.nodeType===1;){var y=h;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!O&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(O){if(!l[ai])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(w=l.getAttribute("rel"),w==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(w!==y.rel||l.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||l.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||l.getAttribute("title")!==(y.title==null?null:y.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(w=l.getAttribute("src"),(w!==(y.src==null?null:y.src)||l.getAttribute("type")!==(y.type==null?null:y.type)||l.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&l.getAttribute("name")===w)return l}else return l;if(l=Ur(l.nextSibling),l===null)break}return null}function l9(l,c,h){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=Ur(l.nextSibling),l===null))return null;return l}function nj(l,c){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=Ur(l.nextSibling),l===null))return null;return l}function Qg(l){return l.data==="$?"||l.data==="$~"}function kg(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function o9(l,c){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=c;else if(l.data!=="$?"||h.readyState!=="loading")c();else{var O=function(){c(),h.removeEventListener("DOMContentLoaded",O)};h.addEventListener("DOMContentLoaded",O),l._reactRetry=O}}function Ur(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return l}var $g=null;function rj(l){l=l.nextSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(c===0)return Ur(l.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}l=l.nextSibling}return null}function sj(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return l;c--}else h!=="/$"&&h!=="/&"||c++}l=l.previousSibling}return null}function ij(l,c,h){switch(c=ph(h),l){case"html":if(l=c.documentElement,!l)throw Error(r(452));return l;case"head":if(l=c.head,!l)throw Error(r(453));return l;case"body":if(l=c.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function $u(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);Fa(l)}var Wr=new Map,aj=new Set;function mh(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Si=W.d;W.d={f:c9,r:u9,D:f9,C:d9,L:h9,m:p9,X:O9,S:m9,M:g9};function c9(){var l=Si.f(),c=ah();return l||c}function u9(l){var c=ds(l);c!==null&&c.tag===5&&c.type==="form"?S$(c):Si.r(l)}var Eo=typeof document>"u"?null:document;function lj(l,c,h){var O=Eo;if(O&&typeof c=="string"&&c){var y=ot(c);y='link[rel="'+l+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),aj.has(y)||(aj.add(y),l={rel:l,crossOrigin:h,href:c},O.querySelector(y)===null&&(c=O.createElement("link"),Zn(c,"link",l),cn(c),O.head.appendChild(c)))}}function f9(l){Si.D(l),lj("dns-prefetch",l,null)}function d9(l,c){Si.C(l,c),lj("preconnect",l,c)}function h9(l,c,h){Si.L(l,c,h);var O=Eo;if(O&&l&&c){var y='link[rel="preload"][as="'+ot(c)+'"]';c==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+ot(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+ot(h.imageSizes)+'"]')):y+='[href="'+ot(l)+'"]';var w=y;switch(c){case"style":w=Ao(l);break;case"script":w=qo(l)}Wr.has(w)||(l=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:l,as:c},h),Wr.set(w,l),O.querySelector(y)!==null||c==="style"&&O.querySelector(Tu(w))||c==="script"&&O.querySelector(ju(w))||(c=O.createElement("link"),Zn(c,"link",l),cn(c),O.head.appendChild(c)))}}function p9(l,c){Si.m(l,c);var h=Eo;if(h&&l){var O=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+ot(O)+'"][href="'+ot(l)+'"]',w=y;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=qo(l)}if(!Wr.has(w)&&(l=m({rel:"modulepreload",href:l},c),Wr.set(w,l),h.querySelector(y)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(ju(w)))return}O=h.createElement("link"),Zn(O,"link",l),cn(O),h.head.appendChild(O)}}}function m9(l,c,h){Si.S(l,c,h);var O=Eo;if(O&&l){var y=qs(O).hoistableStyles,w=Ao(l);c=c||"default";var P=y.get(w);if(!P){var X={loading:0,preload:null};if(P=O.querySelector(Tu(w)))X.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":c},h),(h=Wr.get(w))&&Tg(l,h);var F=P=O.createElement("link");cn(F),Zn(F,"link",l),F._p=new Promise(function(le,de){F.onload=le,F.onerror=de}),F.addEventListener("load",function(){X.loading|=1}),F.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Oh(P,c,O)}P={type:"stylesheet",instance:P,count:1,state:X},y.set(w,P)}}}function O9(l,c){Si.X(l,c);var h=Eo;if(h&&l){var O=qs(h).hoistableScripts,y=qo(l),w=O.get(y);w||(w=h.querySelector(ju(y)),w||(l=m({src:l,async:!0},c),(c=Wr.get(y))&&jg(l,c),w=h.createElement("script"),cn(w),Zn(w,"link",l),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},O.set(y,w))}}function g9(l,c){Si.M(l,c);var h=Eo;if(h&&l){var O=qs(h).hoistableScripts,y=qo(l),w=O.get(y);w||(w=h.querySelector(ju(y)),w||(l=m({src:l,async:!0,type:"module"},c),(c=Wr.get(y))&&jg(l,c),w=h.createElement("script"),cn(w),Zn(w,"link",l),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},O.set(y,w))}}function oj(l,c,h,O){var y=(y=J.current)?mh(y):null;if(!y)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ao(h.href),h=qs(y).hoistableStyles,O=h.get(c),O||(O={type:"style",instance:null,count:0,state:null},h.set(c,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Ao(h.href);var w=qs(y).hoistableStyles,P=w.get(l);if(P||(y=y.ownerDocument||y,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(l,P),(w=y.querySelector(Tu(l)))&&!w._p&&(P.instance=w,P.state.loading=5),Wr.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Wr.set(l,h),w||x9(y,l,h,P.state))),c&&O===null)throw Error(r(528,""));return P}if(c&&O!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=qo(h),h=qs(y).hoistableScripts,O=h.get(c),O||(O={type:"script",instance:null,count:0,state:null},h.set(c,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Ao(l){return'href="'+ot(l)+'"'}function Tu(l){return'link[rel="stylesheet"]['+l+"]"}function cj(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function x9(l,c,h,O){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?O.loading=1:(c=l.createElement("link"),O.preload=c,c.addEventListener("load",function(){return O.loading|=1}),c.addEventListener("error",function(){return O.loading|=2}),Zn(c,"link",h),cn(c),l.head.appendChild(c))}function qo(l){return'[src="'+ot(l)+'"]'}function ju(l){return"script[async]"+l}function uj(l,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var O=l.querySelector('style[data-href~="'+ot(h.href)+'"]');if(O)return c.instance=O,cn(O),O;var y=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return O=(l.ownerDocument||l).createElement("style"),cn(O),Zn(O,"style",y),Oh(O,h.precedence,l),c.instance=O;case"stylesheet":y=Ao(h.href);var w=l.querySelector(Tu(y));if(w)return c.state.loading|=4,c.instance=w,cn(w),w;O=cj(h),(y=Wr.get(y))&&Tg(O,y),w=(l.ownerDocument||l).createElement("link"),cn(w);var P=w;return P._p=new Promise(function(X,F){P.onload=X,P.onerror=F}),Zn(w,"link",O),c.state.loading|=4,Oh(w,h.precedence,l),c.instance=w;case"script":return w=qo(h.src),(y=l.querySelector(ju(w)))?(c.instance=y,cn(y),y):(O=h,(y=Wr.get(w))&&(O=m({},h),jg(O,y)),l=l.ownerDocument||l,y=l.createElement("script"),cn(y),Zn(y,"link",O),l.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(O=c.instance,c.state.loading|=4,Oh(O,h.precedence,l));return c.instance}function Oh(l,c,h){for(var O=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=O.length?O[O.length-1]:null,w=y,P=0;P<O.length;P++){var X=O[P];if(X.dataset.precedence===c)w=X;else if(w!==y)break}w?w.parentNode.insertBefore(l,w.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(l,c.firstChild))}function Tg(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function jg(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var gh=null;function fj(l,c,h){if(gh===null){var O=new Map,y=gh=new Map;y.set(h,O)}else y=gh,O=y.get(h),O||(O=new Map,y.set(h,O));if(O.has(l))return O;for(O.set(l,null),h=h.getElementsByTagName(l),y=0;y<h.length;y++){var w=h[y];if(!(w[ai]||w[Jt]||l==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var P=w.getAttribute(c)||"";P=l+P;var X=O.get(P);X?X.push(w):O.set(P,[w])}}return O}function dj(l,c,h){l=l.ownerDocument||l,l.head.insertBefore(h,c==="title"?l.querySelector("head > title"):null)}function y9(l,c,h){if(h===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function hj(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function b9(l,c,h,O){if(h.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var y=Ao(O.href),w=c.querySelector(Tu(y));if(w){c=w._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(l.count++,l=xh.bind(l),c.then(l,l)),h.state.loading|=4,h.instance=w,cn(w);return}w=c.ownerDocument||c,O=cj(O),(y=Wr.get(y))&&Tg(O,y),w=w.createElement("link"),cn(w);var P=w;P._p=new Promise(function(X,F){P.onload=X,P.onerror=F}),Zn(w,"link",O),h.instance=w}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=xh.bind(l),c.addEventListener("load",h),c.addEventListener("error",h))}}var _g=0;function v9(l,c){return l.stylesheets&&l.count===0&&bh(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var O=setTimeout(function(){if(l.stylesheets&&bh(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4+c);0<l.imgBytes&&_g===0&&(_g=62500*t9());var y=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&bh(l,l.stylesheets),l.unsuspend)){var w=l.unsuspend;l.unsuspend=null,w()}},(l.imgBytes>_g?50:800)+c);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(O),clearTimeout(y)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bh(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var yh=null;function bh(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,yh=new Map,c.forEach(w9,l),yh=null,xh.call(l))}function w9(l,c){if(!(c.state.loading&4)){var h=yh.get(l);if(h)var O=h.get(null);else{h=new Map,yh.set(l,h);for(var y=l.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var P=y[w];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(h.set(P.dataset.precedence,P),O=P)}O&&h.set(null,O)}y=c.instance,P=y.getAttribute("data-precedence"),w=h.get(P)||O,w===O&&h.set(null,y),h.set(P,y),this.count++,O=xh.bind(this),y.addEventListener("load",O),y.addEventListener("error",O),w?w.parentNode.insertBefore(y,w.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(y,l.firstChild)),c.state.loading|=4}}var _u={$$typeof:$,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function S9(l,c,h,O,y,w,P,X,F){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ce(0),this.hiddenUpdates=Ce(null),this.identifierPrefix=O,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function pj(l,c,h,O,y,w,P,X,F,le,de,ge){return l=new S9(l,c,h,P,F,le,de,ge,X),c=1,w===!0&&(c|=24),w=$r(3,null,null,c),l.current=w,w.stateNode=l,c=o0(),c.refCount++,l.pooledCache=c,c.refCount++,w.memoizedState={element:O,isDehydrated:h,cache:c},d0(w),l}function mj(l){return l?(l=ho,l):ho}function Oj(l,c,h,O,y,w){y=mj(y),O.context===null?O.context=y:O.pendingContext=y,O=aa(c),O.payload={element:h},w=w===void 0?null:w,w!==null&&(O.callback=w),h=la(l,O,c),h!==null&&(mr(h,l,c),lu(h,l,c))}function gj(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function Pg(l,c){gj(l,c),(l=l.alternate)&&gj(l,c)}function xj(l){if(l.tag===13||l.tag===31){var c=nl(l,67108864);c!==null&&mr(c,l,67108864),Pg(l,67108864)}}function yj(l){if(l.tag===13||l.tag===31){var c=Nr();c=Gi(c);var h=nl(l,c);h!==null&&mr(h,l,c),Pg(l,c)}}var vh=!0;function Q9(l,c,h,O){var y=A.T;A.T=null;var w=W.p;try{W.p=2,Ng(l,c,h,O)}finally{W.p=w,A.T=y}}function k9(l,c,h,O){var y=A.T;A.T=null;var w=W.p;try{W.p=8,Ng(l,c,h,O)}finally{W.p=w,A.T=y}}function Ng(l,c,h,O){if(vh){var y=Cg(O);if(y===null)gg(l,c,O,wh,h),vj(l,O);else if(T9(y,l,c,h,O))O.stopPropagation();else if(vj(l,O),c&4&&-1<$9.indexOf(l)){for(;y!==null;){var w=ds(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var P=_t(w.pendingLanes);if(P!==0){var X=w;for(X.pendingLanes|=2,X.entangledLanes|=2;P;){var F=1<<31-yt(P);X.entanglements[1]|=F,P&=~F}Zs(w),(bt&6)===0&&(sh=nt()+500,Su(0))}}break;case 31:case 13:X=nl(w,2),X!==null&&mr(X,w,2),ah(),Pg(w,2)}if(w=Cg(O),w===null&&gg(l,c,O,wh,h),w===y)break;y=w}y!==null&&O.stopPropagation()}else gg(l,c,O,null,h)}}function Cg(l){return l=EO(l),Rg(l)}var wh=null;function Rg(l){if(wh=null,l=fs(l),l!==null){var c=i(l);if(c===null)l=null;else{var h=c.tag;if(h===13){if(l=a(c),l!==null)return l;l=null}else if(h===31){if(l=o(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return wh=l,null}function bj(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case St:return 2;case Ut:return 8;case qt:case pn:return 32;case yn:return 268435456;default:return 32}default:return 32}}var Eg=!1,xa=null,ya=null,ba=null,Pu=new Map,Nu=new Map,va=[],$9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vj(l,c){switch(l){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Pu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(c.pointerId)}}function Cu(l,c,h,O,y,w){return l===null||l.nativeEvent!==w?(l={blockedOn:c,domEventName:h,eventSystemFlags:O,nativeEvent:w,targetContainers:[y]},c!==null&&(c=ds(c),c!==null&&xj(c)),l):(l.eventSystemFlags|=O,c=l.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),l)}function T9(l,c,h,O,y){switch(c){case"focusin":return xa=Cu(xa,l,c,h,O,y),!0;case"dragenter":return ya=Cu(ya,l,c,h,O,y),!0;case"mouseover":return ba=Cu(ba,l,c,h,O,y),!0;case"pointerover":var w=y.pointerId;return Pu.set(w,Cu(Pu.get(w)||null,l,c,h,O,y)),!0;case"gotpointercapture":return w=y.pointerId,Nu.set(w,Cu(Nu.get(w)||null,l,c,h,O,y)),!0}return!1}function wj(l){var c=fs(l.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){l.blockedOn=c,Fi(l.priority,function(){yj(h)});return}}else if(c===31){if(c=o(h),c!==null){l.blockedOn=c,Fi(l.priority,function(){yj(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Sh(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=Cg(l.nativeEvent);if(h===null){h=l.nativeEvent;var O=new h.constructor(h.type,h);RO=O,h.target.dispatchEvent(O),RO=null}else return c=ds(h),c!==null&&xj(c),l.blockedOn=h,!1;c.shift()}return!0}function Sj(l,c,h){Sh(l)&&h.delete(c)}function j9(){Eg=!1,xa!==null&&Sh(xa)&&(xa=null),ya!==null&&Sh(ya)&&(ya=null),ba!==null&&Sh(ba)&&(ba=null),Pu.forEach(Sj),Nu.forEach(Sj)}function Qh(l,c){l.blockedOn===c&&(l.blockedOn=null,Eg||(Eg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,j9)))}var kh=null;function Qj(l){kh!==l&&(kh=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kh===l&&(kh=null);for(var c=0;c<l.length;c+=3){var h=l[c],O=l[c+1],y=l[c+2];if(typeof O!="function"){if(Rg(O||h)===null)continue;break}var w=ds(h);w!==null&&(l.splice(c,3),c-=3,C0(w,{pending:!0,data:y,method:h.method,action:O},O,y))}}))}function Mo(l){function c(F){return Qh(F,l)}xa!==null&&Qh(xa,l),ya!==null&&Qh(ya,l),ba!==null&&Qh(ba,l),Pu.forEach(c),Nu.forEach(c);for(var h=0;h<va.length;h++){var O=va[h];O.blockedOn===l&&(O.blockedOn=null)}for(;0<va.length&&(h=va[0],h.blockedOn===null);)wj(h),h.blockedOn===null&&va.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(O=0;O<h.length;O+=3){var y=h[O],w=h[O+1],P=y[on]||null;if(typeof w=="function")P||Qj(h);else if(P){var X=null;if(w&&w.hasAttribute("formAction")){if(y=w,P=w[on]||null)X=P.formAction;else if(Rg(y)!==null)continue}else X=P.action;typeof X=="function"?h[O+1]=X:(h.splice(O,3),O-=3),Qj(h)}}}function kj(){function l(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(P){return y=P})},focusReset:"manual",scroll:"manual"})}function c(){y!==null&&(y(),y=null),O||setTimeout(h,20)}function h(){if(!O&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var O=!1,y=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){O=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),y!==null&&(y(),y=null)}}}function Ag(l){this._internalRoot=l}$h.prototype.render=Ag.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,O=Nr();Oj(h,O,l,c,null,null)},$h.prototype.unmount=Ag.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;Oj(l.current,2,null,l,null,null),ah(),c[Qr]=null}};function $h(l){this._internalRoot=l}$h.prototype.unstable_scheduleHydration=function(l){if(l){var c=Hi();l={blockedOn:null,target:l,priority:c};for(var h=0;h<va.length&&c!==0&&c<va[h].priority;h++);va.splice(h,0,l),h===0&&wj(l)}};var $j=e.version;if($j!=="19.2.3")throw Error(r(527,$j,"19.2.3"));W.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=d(c),l=l!==null?p(l):null,l=l===null?null:l.stateNode,l};var _9={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{dt=Th.inject(_9),rt=Th}catch{}}return Eu.createRoot=function(l,c){if(!s(l))throw Error(r(299));var h=!1,O="",y=R$,w=E$,P=A$;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(O=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=pj(l,1,!1,null,null,h,O,null,y,w,P,kj),l[Qr]=c.current,Og(l),new Ag(c)},Eu.hydrateRoot=function(l,c,h){if(!s(l))throw Error(r(299));var O=!1,y="",w=R$,P=E$,X=A$,F=null;return h!=null&&(h.unstable_strictMode===!0&&(O=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(X=h.onRecoverableError),h.formState!==void 0&&(F=h.formState)),c=pj(l,1,!0,c,h??null,O,y,F,w,P,X,kj),c.context=mj(null),h=c.current,O=Nr(),O=Gi(O),y=aa(O),y.callback=null,la(h,y,O),h=O,c.current.lanes=h,Ye(c,h),Zs(c),l[Qr]=c.current,Og(l),new $h(c)},Eu.version="19.2.3",Eu}var qj;function L9(){if(qj)return Xg.exports;qj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xg.exports=z9(),Xg.exports}var Z9=L9();const V9=Pm(Z9);var Ze=(t=>(t.SYNC="sync",t.UPDATE="update",t.GENERATE="generate",t.TEST="test",t.EXAMPLE="example",t.FIX="fix",t.BUG="bug",t.CRASH="crash",t.VERIFY="verify",t.SUBMIT_EXAMPLE="submit-example",t.SPLIT="split",t.CHANGE="change",t.DETECT="detect",t.AUTO_DEPS="auto-deps",t.CONFLICTS="conflicts",t.PREPROCESS="preprocess",t))(Ze||{});const dn={strength:1,temperature:0,time:.25,verbose:!1,quiet:!1,force:!1,local:!1,reviewExamples:!1},Or=[{name:"strength",cliFlag:"--strength",type:"range",placeholder:"1",description:"Model strength: <0.5 = cheaper models, 0.5 = base, >0.5 = stronger models",defaultValue:dn.strength,min:0,max:1,step:.05},{name:"temperature",cliFlag:"--temperature",type:"range",placeholder:"0.0",description:"LLM creativity level (0 = deterministic, higher = more creative)",defaultValue:dn.temperature,min:0,max:2,step:.1},{name:"time",cliFlag:"--time",type:"range",placeholder:"0.25",description:"Reasoning allocation for compatible models (0 = minimal, 1 = maximum)",defaultValue:dn.time,min:0,max:1,step:.05},{name:"verbose",cliFlag:"--verbose",type:"checkbox",placeholder:"",description:"Increase output verbosity for debugging",defaultValue:dn.verbose},{name:"quiet",cliFlag:"--quiet",type:"checkbox",placeholder:"",description:"Decrease output verbosity",defaultValue:dn.quiet},{name:"force",cliFlag:"--force",type:"checkbox",placeholder:"",description:"Skip interactive prompts (useful for automation)",defaultValue:dn.force},{name:"local",cliFlag:"--local",type:"checkbox",placeholder:"",description:"Run commands locally instead of in the cloud",defaultValue:dn.local},{name:"review-examples",cliFlag:"--review-examples",type:"checkbox",placeholder:"",description:"Review and optionally exclude few-shot examples before execution",defaultValue:dn.reviewExamples}],Ra={[Ze.SYNC]:{name:Ze.SYNC,backendName:"sync",description:"Synchronize a prompt with its code, tests, and examples. Generates missing files and fixes failing tests.",shortDescription:"Sync",icon:"",requiresPrompt:!0,group:"sync-update",options:[{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum fix attempts",defaultValue:"3"},{name:"budget",type:"number",placeholder:"20",description:"Maximum cost in dollars",defaultValue:"20"},{name:"skip-tests",type:"checkbox",placeholder:"",description:"Skip test generation"}]},[Ze.UPDATE]:{name:Ze.UPDATE,backendName:"update",description:"Update prompts based on code changes. Syncs prompt content with modified code.",shortDescription:"Update",icon:"",requiresPrompt:!0,requiresCode:!0,group:"sync-update",options:[{name:"git",type:"checkbox",placeholder:"",description:"Use git history to find original code"},{name:"simple",type:"checkbox",placeholder:"",description:"Use legacy 2-stage LLM update"}]},[Ze.GENERATE]:{name:Ze.GENERATE,backendName:"generate",description:"Generate code from a prompt file. Creates new implementation based on the prompt specification.",shortDescription:"Generate code",icon:"",requiresPrompt:!0,options:[{name:"output",type:"file",placeholder:"e.g., src/calculator.py",description:"Where to save generated code"},{name:"incremental",type:"checkbox",placeholder:"",description:"Use incremental patching"}]},[Ze.TEST]:{name:Ze.TEST,backendName:"test",description:"Generate unit tests for existing code based on its prompt specification.",shortDescription:"Generate tests",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"output",type:"file",placeholder:"e.g., tests/test_calculator.py",description:"Where to save generated tests"},{name:"target-coverage",type:"number",placeholder:"80",description:"Target code coverage %"}]},[Ze.EXAMPLE]:{name:Ze.EXAMPLE,backendName:"example",description:"Generate example code that demonstrates how to use the implementation.",shortDescription:"Generate example",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"output",type:"file",placeholder:"e.g., examples/calculator_example.py",description:"Where to save generated example"}]},[Ze.FIX]:{name:Ze.FIX,backendName:"fix",description:"Fix code based on failing tests. Requires an error file with test output.",shortDescription:"Fix failing tests",icon:"",requiresPrompt:!0,requiresCode:!0,requiresTest:!0,options:[{name:"error-file",type:"file",placeholder:"e.g., error.log or test_output.txt",description:"File containing test errors (required)",required:!0},{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum fix attempts",defaultValue:"3"},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:"5"},{name:"loop",type:"checkbox",placeholder:"",description:"Enable iterative fixing (requires verification-program)"},{name:"verification-program",type:"file",placeholder:"verify.py",description:"Python program that verifies the fix (required for --loop)"},{name:"agentic-fallback",type:"checkbox",placeholder:"",description:"Enable agentic fallback if primary fix fails"},{name:"auto-submit",type:"checkbox",placeholder:"",description:"Auto-submit if all tests pass"}]},[Ze.BUG]:{name:Ze.BUG,backendName:"bug",description:"Investigate a bug from a GitHub issue URL (agentic mode) or generate a reproducing test case.",shortDescription:"Investigate bug",icon:"",requiresPrompt:!1,options:[{name:"issue-url",type:"text",placeholder:"https://github.com/org/repo/issues/123",description:"GitHub issue URL to investigate",required:!0},{name:"output",type:"file",placeholder:"e.g., tests/test_bug_123.py",description:"Where to save generated test"}]},[Ze.CRASH]:{name:Ze.CRASH,backendName:"crash",description:"Fix code based on crash errors. Analyzes error file and proposes fixes.",shortDescription:"Crash Fix",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"program-file",type:"file",placeholder:"program.py",description:"Program file that crashed",required:!0},{name:"error-file",type:"file",placeholder:"error.log",description:"File containing error messages",required:!0},{name:"output",type:"file",placeholder:"src/fixed_code.py",description:"Where to save fixed code"},{name:"output-program",type:"file",placeholder:"program_fixed.py",description:"Where to save fixed program"},{name:"loop",type:"checkbox",placeholder:"",description:"Enable iterative fixing process"},{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum fix attempts",defaultValue:3},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:5}]},[Ze.VERIFY]:{name:Ze.VERIFY,backendName:"verify",description:"Verify code against prompt requirements using a verification program.",shortDescription:"Verify",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"verification-program",type:"file",placeholder:"verify.py",description:"Verification program to run",required:!0},{name:"output-code",type:"file",placeholder:"src/verified_code.py",description:"Where to save verified code"},{name:"output-program",type:"file",placeholder:"verify_fixed.py",description:"Where to save fixed verification program"},{name:"output-results",type:"file",placeholder:"results.log",description:"Where to save verification results"},{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum verification attempts",defaultValue:3},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:5},{name:"agentic-fallback",type:"checkbox",placeholder:"",description:"Enable agentic fallback if primary fix fails",defaultValue:!0}]},[Ze.SUBMIT_EXAMPLE]:{name:Ze.SUBMIT_EXAMPLE,backendName:"fix",description:"Submit a successful fix as a few-shot example to PDD Cloud. Runs fix --loop --auto-submit with verification to iteratively fix and submit the example.",shortDescription:"Submit Example",icon:"",requiresPrompt:!0,requiresCode:!0,requiresTest:!0,options:[{name:"verification-program",type:"file",placeholder:"examples/calculator_example.py",description:"Verification program to check the fix (required). The example file typically serves as the verification program.",required:!0},{name:"max-attempts",type:"number",placeholder:"5",description:"Maximum fix attempts before giving up",defaultValue:5},{name:"budget",type:"number",placeholder:"10",description:"Maximum cost in dollars",defaultValue:10}]},[Ze.SPLIT]:{name:Ze.SPLIT,backendName:"split",description:"Split a large prompt file into smaller, manageable sub-prompts for better organization and modularity.",shortDescription:"Split Prompt",icon:"",requiresPrompt:!0,requiresCode:!0,isAdvanced:!0,options:[{name:"example-code",type:"file",placeholder:"examples/interface.py",description:"Example code as interface to sub-module",required:!0},{name:"output-sub",type:"file",placeholder:"prompts/sub_module.prompt",description:"Output path for the sub-prompt file"},{name:"output-modified",type:"file",placeholder:"prompts/modified.prompt",description:"Output path for the modified prompt file"}]},[Ze.CHANGE]:{name:Ze.CHANGE,backendName:"change",description:"Modify a prompt based on change instructions from a change prompt file.",shortDescription:"Change Prompt",icon:"",requiresPrompt:!0,requiresCode:!0,isAdvanced:!0,options:[{name:"change-prompt",type:"file",placeholder:"changes.prompt",description:"File containing change instructions",required:!0},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:"5"},{name:"output",type:"file",placeholder:"prompts/modified.prompt",description:"Output path for modified prompt"}]},[Ze.DETECT]:{name:Ze.DETECT,backendName:"detect",description:"Analyze prompts to determine which ones need changes based on a change description file.",shortDescription:"Detect Changes",icon:"",requiresPrompt:!1,isAdvanced:!0,options:[{name:"prompt-files",type:"text",placeholder:"file1.prompt, file2.prompt",description:"Comma-separated list of prompt files to analyze",required:!0},{name:"change-file",type:"file",placeholder:"changes.prompt",description:"File describing the changes to detect",required:!0},{name:"output",type:"file",placeholder:"detect_results.csv",description:"Output CSV file for analysis results"}]},[Ze.AUTO_DEPS]:{name:Ze.AUTO_DEPS,backendName:"auto-deps",description:"Analyze project dependencies and update the prompt file with discovered dependencies.",shortDescription:"Auto Dependencies",icon:"",requiresPrompt:!0,isAdvanced:!0,options:[{name:"directory-path",type:"text",placeholder:"src/",description:"Directory to scan for dependencies",required:!0},{name:"output",type:"file",placeholder:"prompts/updated.prompt",description:"Where to save modified prompt"},{name:"csv",type:"file",placeholder:"deps.csv",description:"CSV file for dependency info"},{name:"force-scan",type:"checkbox",placeholder:"",description:"Force rescan all files"}]},[Ze.CONFLICTS]:{name:Ze.CONFLICTS,backendName:"conflicts",description:"Check for conflicts between two prompt files.",shortDescription:"Check Conflicts",icon:"",requiresPrompt:!0,isAdvanced:!0,options:[{name:"prompt2",type:"file",placeholder:"prompts/other.prompt",description:"Second prompt file to compare",required:!0},{name:"output",type:"file",placeholder:"conflicts.csv",description:"Where to save conflict analysis"}]},[Ze.PREPROCESS]:{name:Ze.PREPROCESS,backendName:"preprocess",description:"Preprocess a prompt file to prepare it for LLM use.",shortDescription:"Preprocess",icon:"",requiresPrompt:!0,isAdvanced:!0,options:[{name:"output",type:"file",placeholder:"prompts/preprocessed.prompt",description:"Where to save preprocessed prompt"},{name:"xml",type:"checkbox",placeholder:"",description:"Insert XML delimiters for structure"},{name:"recursive",type:"checkbox",placeholder:"",description:"Recursively preprocess includes"},{name:"double",type:"checkbox",placeholder:"",description:"Double curly brackets"}]}},Y9=[{value:"python",label:"Python"},{value:"typescript",label:"TypeScript"},{value:"javascript",label:"JavaScript"},{value:"java",label:"Java"},{value:"go",label:"Go"},{value:"rust",label:"Rust"}];function D9(t,e,n){const r=(n==null?void 0:n.trim())||`[describe what ${t} should do]`;return`Write a ${e} module "${t}" that ${r}.

## Requirements

- [Add your requirements here]

## Inputs

- [Define input parameters]

## Outputs

- [Define expected outputs]
`}function B9(t,e){const n=t._code||e.code,r=t._test||e.test,s={};for(const[i,a]of Object.entries(t))if(!(i==="_code"||i==="_test"))if(i.startsWith("_global_")){const o=i.replace("_global_","");s[o]=a}else s[i]=a;return{options:s,codeFile:n,testFile:r}}function U9(t,e,n,r,s){const i={};switch(t){case Ze.SYNC:i.basename=e.sync_basename,e.context&&(s.context=e.context);break;case Ze.UPDATE:n?i.args=[n]:i.args=[];break;case Ze.GENERATE:i.prompt_file=e.prompt;break;case Ze.TEST:i.prompt_file=e.prompt,i.code_file=n;break;case Ze.EXAMPLE:i.prompt_file=e.prompt,i.code_file=n;break;case Ze.FIX:i.prompt_file=e.prompt,i.code_file=n,i.unit_test_files=r,s["error-file"]&&(i.error_file=s["error-file"],delete s["error-file"]);break;case Ze.SPLIT:i.input_prompt=e.prompt,i.input_code=n,s["example-code"]&&(i.example_code=s["example-code"],delete s["example-code"]);break;case Ze.CHANGE:s["change-prompt"]&&(i.change_prompt_file=s["change-prompt"],delete s["change-prompt"]),i.input_code=n,i.input_prompt_file=e.prompt;break;case Ze.DETECT:{const a=s["prompt-files"]||"",o=s["change-file"]||"",u=a.split(",").map(d=>d.trim()).filter(Boolean);i.args=[...u,o].filter(Boolean),delete s["prompt-files"],delete s["change-file"]}break;case Ze.AUTO_DEPS:i.prompt_file=e.prompt,s["directory-path"]&&(i.directory_path=s["directory-path"],delete s["directory-path"]);break;case Ze.CONFLICTS:i.prompt_file=e.prompt,s.prompt2&&(i.prompt2=s.prompt2,delete s.prompt2);break;case Ze.PREPROCESS:i.prompt_file=e.prompt;break;case Ze.CRASH:i.prompt_file=e.prompt,i.code_file=n,s["program-file"]&&(i.program_file=s["program-file"],delete s["program-file"]),s["error-file"]&&(i.error_file=s["error-file"],delete s["error-file"]);break;case Ze.VERIFY:i.prompt_file=e.prompt,i.code_file=n,s["verification-program"]&&(i.verification_program=s["verification-program"],delete s["verification-program"]);break;case Ze.SUBMIT_EXAMPLE:i.prompt_file=e.prompt,i.code_file=n,i.unit_test_files=r,i.error_file=".pdd/submit_example_errors.log",s.loop=!0,s["auto-submit"]=!0,s["verification-program"]&&(i.verification_program=s["verification-program"],delete s["verification-program"]);break;case Ze.BUG:s.args&&(i.args=s.args,delete s.args);break}return i}function I2(t,e,n){const r=Ra[t],s=t===Ze.SYNC?e.sync_basename:e.prompt,i=Object.keys(n).length>0?" "+Object.entries(n).map(([a,o])=>typeof o=="boolean"?o?`--${a.replace(/_/g,"-")}`:"":`--${a.replace(/_/g,"-")} ${o}`).filter(Boolean).join(" "):"";return`pdd ${r.backendName} ${s}${i}`}function Mj(t,e,n={}){const{options:r,codeFile:s,testFile:i}=B9(n,e),a=U9(t,e,s,i,r),o=I2(t,e,r),u=Ra[t];return{args:a,options:r,displayCommand:o,backendName:u.backendName}}const H2=Symbol.for("yaml.alias"),kS=Symbol.for("yaml.document"),Ea=Symbol.for("yaml.map"),oq=Symbol.for("yaml.pair"),ti=Symbol.for("yaml.scalar"),Tc=Symbol.for("yaml.seq"),ss=Symbol.for("yaml.node.type"),Ba=t=>!!t&&typeof t=="object"&&t[ss]===H2,Yl=t=>!!t&&typeof t=="object"&&t[ss]===kS,jc=t=>!!t&&typeof t=="object"&&t[ss]===Ea,Ht=t=>!!t&&typeof t=="object"&&t[ss]===oq,zt=t=>!!t&&typeof t=="object"&&t[ss]===ti,_c=t=>!!t&&typeof t=="object"&&t[ss]===Tc;function nn(t){if(t&&typeof t=="object")switch(t[ss]){case Ea:case Tc:return!0}return!1}function sn(t){if(t&&typeof t=="object")switch(t[ss]){case H2:case Ea:case ti:case Tc:return!0}return!1}const cq=t=>(zt(t)||nn(t))&&!!t.anchor,gr=Symbol("break visit"),uq=Symbol("skip children"),Fs=Symbol("remove node");function Dl(t,e){const n=fq(e);Yl(t)?Bo(null,t.contents,n,Object.freeze([t]))===Fs&&(t.contents=null):Bo(null,t,n,Object.freeze([]))}Dl.BREAK=gr;Dl.SKIP=uq;Dl.REMOVE=Fs;function Bo(t,e,n,r){const s=dq(t,e,n,r);if(sn(s)||Ht(s))return hq(t,r,s),Bo(t,s,n,r);if(typeof s!="symbol"){if(nn(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const a=Bo(i,e.items[i],n,r);if(typeof a=="number")i=a-1;else{if(a===gr)return gr;a===Fs&&(e.items.splice(i,1),i-=1)}}}else if(Ht(e)){r=Object.freeze(r.concat(e));const i=Bo("key",e.key,n,r);if(i===gr)return gr;i===Fs&&(e.key=null);const a=Bo("value",e.value,n,r);if(a===gr)return gr;a===Fs&&(e.value=null)}}return s}async function Nm(t,e){const n=fq(e);Yl(t)?await Uo(null,t.contents,n,Object.freeze([t]))===Fs&&(t.contents=null):await Uo(null,t,n,Object.freeze([]))}Nm.BREAK=gr;Nm.SKIP=uq;Nm.REMOVE=Fs;async function Uo(t,e,n,r){const s=await dq(t,e,n,r);if(sn(s)||Ht(s))return hq(t,r,s),Uo(t,s,n,r);if(typeof s!="symbol"){if(nn(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const a=await Uo(i,e.items[i],n,r);if(typeof a=="number")i=a-1;else{if(a===gr)return gr;a===Fs&&(e.items.splice(i,1),i-=1)}}}else if(Ht(e)){r=Object.freeze(r.concat(e));const i=await Uo("key",e.key,n,r);if(i===gr)return gr;i===Fs&&(e.key=null);const a=await Uo("value",e.value,n,r);if(a===gr)return gr;a===Fs&&(e.value=null)}}return s}function fq(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function dq(t,e,n,r){var s,i,a,o,u;if(typeof n=="function")return n(t,e,r);if(jc(e))return(s=n.Map)==null?void 0:s.call(n,t,e,r);if(_c(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,r);if(Ht(e))return(a=n.Pair)==null?void 0:a.call(n,t,e,r);if(zt(e))return(o=n.Scalar)==null?void 0:o.call(n,t,e,r);if(Ba(e))return(u=n.Alias)==null?void 0:u.call(n,t,e,r)}function hq(t,e,n){const r=e[e.length-1];if(nn(r))r.items[t]=n;else if(Ht(r))t==="key"?r.key=n:r.value=n;else if(Yl(r))r.contents=n;else{const s=Ba(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const W9={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},G9=t=>t.replace(/[!,[\]{}]/g,e=>W9[e]);class er{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},er.defaultYaml,e),this.tags=Object.assign({},er.defaultTags,n)}clone(){const e=new er(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new er(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:er.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},er.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:er.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},er.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,a]=r;return this.tags[i]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const a=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,a),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(a){return n(String(a)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+G9(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&sn(e.contents)){const i={};Dl(e.contents,(a,o)=>{sn(o)&&o.tag&&(i[o.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,a]of r)i==="!!"&&a==="tag:yaml.org,2002:"||(!e||s.some(o=>o.startsWith(a)))&&n.push(`%TAG ${i} ${a}`);return n.join(`
`)}}er.defaultYaml={explicit:!1,version:"1.2"};er.defaultTags={"!!":"tag:yaml.org,2002:"};function pq(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function mq(t){const e=new Set;return Dl(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function Oq(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function I9(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=mq(t));const a=Oq(e,s);return s.add(a),a},setAnchors:()=>{for(const i of n){const a=r.get(i);if(typeof a=="object"&&a.anchor&&(zt(a.node)||nn(a.node)))a.node.anchor=a.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=i,o}}},sourceObjects:r}}function Wo(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const a=r[s],o=Wo(t,r,String(s),a);o===void 0?delete r[s]:o!==a&&(r[s]=o)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),a=Wo(t,r,s,i);a===void 0?r.delete(s):a!==i&&r.set(s,a)}else if(r instanceof Set)for(const s of Array.from(r)){const i=Wo(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const a=Wo(t,r,s,i);a===void 0?delete r[s]:a!==i&&(r[s]=a)}return t.call(e,n,r)}function ns(t,e,n){if(Array.isArray(t))return t.map((r,s)=>ns(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!cq(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class F2{constructor(e){Object.defineProperty(this,ss,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Yl(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},o=ns(this,"",a);if(typeof s=="function")for(const{count:u,res:d}of a.anchors.values())s(d,u);return typeof i=="function"?Wo(i,{"":o},"",o):o}}class Cm extends F2{constructor(e){super(H2),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n!=null&&n.aliasResolveCache?r=n.aliasResolveCache:(r=[],Dl(e,{Node:(i,a)=>{(Ba(a)||cq(a))&&r.push(a)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,a=this.resolve(s,n);if(!a){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let o=r.get(a);if(o||(ns(a,null,n),o=r.get(a)),(o==null?void 0:o.res)===void 0){const u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(i>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=xp(s,a,r)),o.count*o.aliasCount>i)){const u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return o.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(pq(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function xp(t,e,n){if(Ba(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(nn(e)){let r=0;for(const s of e.items){const i=xp(t,s,n);i>r&&(r=i)}return r}else if(Ht(e)){const r=xp(t,e.key,n),s=xp(t,e.value,n);return Math.max(r,s)}return 1}const gq=t=>!t||typeof t!="function"&&typeof t!="object";class Ge extends F2{constructor(e){super(ti),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:ns(this.value,e,n)}toString(){return String(this.value)}}Ge.BLOCK_FOLDED="BLOCK_FOLDED";Ge.BLOCK_LITERAL="BLOCK_LITERAL";Ge.PLAIN="PLAIN";Ge.QUOTE_DOUBLE="QUOTE_DOUBLE";Ge.QUOTE_SINGLE="QUOTE_SINGLE";const H9="tag:yaml.org,2002:";function F9(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,t))&&!r.format})}function bf(t,e,n){var m,g,x;if(Yl(t)&&(t=t.contents),sn(t))return t;if(Ht(t)){const v=(g=(m=n.schema[Ea]).createNode)==null?void 0:g.call(m,n.schema,null,n);return v.items.push(t),v}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:a,sourceObjects:o}=n;let u;if(r&&t&&typeof t=="object"){if(u=o.get(t),u)return u.anchor??(u.anchor=s(t)),new Cm(u.anchor);u={anchor:null,node:null},o.set(t,u)}e!=null&&e.startsWith("!!")&&(e=H9+e.slice(2));let d=F9(t,e,a.tags);if(!d){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const v=new Ge(t);return u&&(u.node=v),v}d=t instanceof Map?a[Ea]:Symbol.iterator in Object(t)?a[Tc]:a[Ea]}i&&(i(d),delete n.onTagObj);const p=d!=null&&d.createNode?d.createNode(n.schema,t,n):typeof((x=d==null?void 0:d.nodeClass)==null?void 0:x.from)=="function"?d.nodeClass.from(n.schema,t,n):new Ge(t);return e?p.tag=e:d.default||(p.tag=d.tag),u&&(u.node=p),p}function Lp(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const a=[];a[i]=r,r=a}else r=new Map([[i,r]])}return bf(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Fu=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class xq extends F2{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>sn(r)||Ht(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Fu(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(nn(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Lp(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(nn(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&zt(i)?i.value:i:nn(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Ht(n))return!1;const r=n.value;return r==null||e&&zt(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return nn(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(nn(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Lp(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const K9=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ri(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const vl=(t,e,n)=>t.endsWith(`
`)?Ri(n,e):n.includes(`
`)?`
`+Ri(n,e):(t.endsWith(" ")?"":" ")+n,yq="flow",$S="block",yp="quoted";function Rm(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:a,onOverflow:o}={}){if(!s||s<0)return t;s<i&&(i=0);const u=Math.max(1+i,1+s-e.length);if(t.length<=u)return t;const d=[],p={};let m=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?d.push(0):m=s-r);let g,x,v=!1,b=-1,S=-1,Q=-1;n===$S&&(b=Xj(t,b,e.length),b!==-1&&(m=b+u));for(let $;$=t[b+=1];){if(n===yp&&$==="\\"){switch(S=b,t[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}Q=b}if($===`
`)n===$S&&(b=Xj(t,b,e.length)),m=b+e.length+u,g=void 0;else{if($===" "&&x&&x!==" "&&x!==`
`&&x!=="	"){const T=t[b+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(g=b)}if(b>=m)if(g)d.push(g),m=g+u,g=void 0;else if(n===yp){for(;x===" "||x==="	";)x=$,$=t[b+=1],v=!0;const T=b>Q+1?b-2:S-1;if(p[T])return t;d.push(T),p[T]=!0,m=T+u,g=void 0}else v=!0}x=$}if(v&&o&&o(),d.length===0)return t;a&&a();let k=t.slice(0,d[0]);for(let $=0;$<d.length;++$){const T=d[$],j=d[$+1]||t.length;T===0?k=`
${e}${t.slice(0,j)}`:(n===yp&&p[T]&&(k+=`${t[T]}\\`),k+=`
${e}${t.slice(T+1,j)}`)}return k}function Xj(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const Em=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Am=t=>/^(%|---|\.\.\.)/m.test(t);function J9(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,a=0;i<s;++i)if(t[i]===`
`){if(i-a>r)return!0;if(a=i+1,s-a<=r)return!1}return!0}function uf(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Am(t)?"  ":"");let a="",o=0;for(let u=0,d=n[u];d;d=n[++u])if(d===" "&&n[u+1]==="\\"&&n[u+2]==="n"&&(a+=n.slice(o,u)+"\\ ",u+=1,o=u,d="\\"),d==="\\")switch(n[u+1]){case"u":{a+=n.slice(o,u);const p=n.substr(u+2,4);switch(p){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:p.substr(0,2)==="00"?a+="\\x"+p.substr(2):a+=n.substr(u,6)}u+=5,o=u+1}break;case"n":if(r||n[u+2]==='"'||n.length<s)u+=1;else{for(a+=n.slice(o,u)+`

`;n[u+2]==="\\"&&n[u+3]==="n"&&n[u+4]!=='"';)a+=`
`,u+=2;a+=i,n[u+2]===" "&&(a+="\\"),u+=1,o=u+1}break;default:u+=1}return a=o?a+n.slice(o):n,r?a:Rm(a,i,yp,Em(e,!1))}function TS(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return uf(t,e);const n=e.indent||(Am(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:Rm(r,n,yq,Em(e,!1))}function Go(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=uf;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=TS:i&&!s?r=uf:r=n?TS:uf}return r(t,e)}let jS;try{jS=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{jS=/\n+(?!\n|$)/g}function bp({comment:t,type:e,value:n},r,s,i){const{blockQuote:a,commentString:o,lineWidth:u}=r.options;if(!a||/\n[\t ]+$/.test(n))return Go(n,r);const d=r.indent||(r.forceBlockIndent||Am(n)?"  ":""),p=a==="literal"?!0:a==="folded"||e===Ge.BLOCK_FOLDED?!1:e===Ge.BLOCK_LITERAL?!0:!J9(n,u,d.length);if(!n)return p?`|
`:`>
`;let m,g;for(g=n.length;g>0;--g){const j=n[g-1];if(j!==`
`&&j!=="	"&&j!==" ")break}let x=n.substring(g);const v=x.indexOf(`
`);v===-1?m="-":n===x||v!==x.length-1?(m="+",i&&i()):m="",x&&(n=n.slice(0,-x.length),x[x.length-1]===`
`&&(x=x.slice(0,-1)),x=x.replace(jS,`$&${d}`));let b=!1,S,Q=-1;for(S=0;S<n.length;++S){const j=n[S];if(j===" ")b=!0;else if(j===`
`)Q=S;else break}let k=n.substring(0,Q<S?Q+1:S);k&&(n=n.substring(k.length),k=k.replace(/\n+/g,`$&${d}`));let T=(b?d?"2":"1":"")+m;if(t&&(T+=" "+o(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!p){const j=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${d}`);let N=!1;const C=Em(r,!0);a!=="folded"&&e!==Ge.BLOCK_FOLDED&&(C.onOverflow=()=>{N=!0});const q=Rm(`${k}${j}${x}`,d,$S,C);if(!N)return`>${T}
${d}${q}`}return n=n.replace(/\n+/g,`$&${d}`),`|${T}
${d}${k}${n}${x}`}function eV(t,e,n,r){const{type:s,value:i}=t,{actualString:a,implicitKey:o,indent:u,indentStep:d,inFlow:p}=e;if(o&&i.includes(`
`)||p&&/[[\]{},]/.test(i))return Go(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return o||p||!i.includes(`
`)?Go(i,e):bp(t,e,n,r);if(!o&&!p&&s!==Ge.PLAIN&&i.includes(`
`))return bp(t,e,n,r);if(Am(i)){if(u==="")return e.forceBlockIndent=!0,bp(t,e,n,r);if(o&&u===d)return Go(i,e)}const m=i.replace(/\n+/g,`$&
${u}`);if(a){const g=b=>{var S;return b.default&&b.tag!=="tag:yaml.org,2002:str"&&((S=b.test)==null?void 0:S.test(m))},{compat:x,tags:v}=e.doc.schema;if(v.some(g)||x!=null&&x.some(g))return Go(i,e)}return o?m:Rm(m,u,yq,Em(e,!1))}function If(t,e,n,r){const{implicitKey:s,inFlow:i}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:o}=t;o!==Ge.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=Ge.QUOTE_DOUBLE);const u=p=>{switch(p){case Ge.BLOCK_FOLDED:case Ge.BLOCK_LITERAL:return s||i?Go(a.value,e):bp(a,e,n,r);case Ge.QUOTE_DOUBLE:return uf(a.value,e);case Ge.QUOTE_SINGLE:return TS(a.value,e);case Ge.PLAIN:return eV(a,e,n,r);default:return null}};let d=u(o);if(d===null){const{defaultKeyType:p,defaultStringType:m}=e.options,g=s&&p||m;if(d=u(g),d===null)throw new Error(`Unsupported default string type ${g}`)}return d}function bq(t,e){const n=Object.assign({blockQuote:!0,commentString:K9,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function tV(t,e){var s;if(e.tag){const i=t.filter(a=>a.tag===e.tag);if(i.length>0)return i.find(a=>a.format===e.format)??i[0]}let n,r;if(zt(e)){r=e.value;let i=t.filter(a=>{var o;return(o=a.identify)==null?void 0:o.call(a,r)});if(i.length>1){const a=i.filter(o=>o.test);a.length>0&&(i=a)}n=i.find(a=>a.format===e.format)??i.find(a=>!a.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function nV(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(zt(t)||nn(t))&&t.anchor;i&&pq(i)&&(n.add(i),s.push(`&${i}`));const a=t.tag??(e.default?null:e.tag);return a&&s.push(r.directives.tagString(a)),s.join(" ")}function dc(t,e,n,r){var u;if(Ht(t))return t.toString(e,n,r);if(Ba(t)){if(e.doc.directives)return t.toString(e);if((u=e.resolvedAliases)!=null&&u.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=sn(t)?t:e.doc.createNode(t,{onTagObj:d=>s=d});s??(s=tV(e.doc.schema.tags,i));const a=nV(i,s,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const o=typeof s.stringify=="function"?s.stringify(i,e,n,r):zt(i)?If(i,e,n,r):i.toString(e,n,r);return a?zt(i)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${e.indent}${o}`:o}function rV({key:t,value:e},n,r,s){const{allNullValues:i,doc:a,indent:o,indentStep:u,options:{commentString:d,indentSeq:p,simpleKeys:m}}=n;let g=sn(t)&&t.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(nn(t)||!sn(t)&&typeof t=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let x=!m&&(!t||g&&e==null&&!n.inFlow||nn(t)||(zt(t)?t.type===Ge.BLOCK_FOLDED||t.type===Ge.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!x&&(m||!i),indent:o+u});let v=!1,b=!1,S=dc(t,n,()=>v=!0,()=>b=!0);if(!x&&!n.inFlow&&S.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");x=!0}if(n.inFlow){if(i||e==null)return v&&r&&r(),S===""?"?":x?`? ${S}`:S}else if(i&&!m||e==null&&x)return S=`? ${S}`,g&&!v?S+=vl(S,n.indent,d(g)):b&&s&&s(),S;v&&(g=null),x?(g&&(S+=vl(S,n.indent,d(g))),S=`? ${S}
${o}:`):(S=`${S}:`,g&&(S+=vl(S,n.indent,d(g))));let Q,k,$;sn(e)?(Q=!!e.spaceBefore,k=e.commentBefore,$=e.comment):(Q=!1,k=null,$=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!x&&!g&&zt(e)&&(n.indentAtStart=S.length+1),b=!1,!p&&u.length>=2&&!n.inFlow&&!x&&_c(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let T=!1;const j=dc(e,n,()=>T=!0,()=>b=!0);let N=" ";if(g||Q||k){if(N=Q?`
`:"",k){const C=d(k);N+=`
${Ri(C,n.indent)}`}j===""&&!n.inFlow?N===`
`&&$&&(N=`

`):N+=`
${n.indent}`}else if(!x&&nn(e)){const C=j[0],q=j.indexOf(`
`),M=q!==-1,L=n.inFlow??e.flow??e.items.length===0;if(M||!L){let E=!1;if(M&&(C==="&"||C==="!")){let Z=j.indexOf(" ");C==="&"&&Z!==-1&&Z<q&&j[Z+1]==="!"&&(Z=j.indexOf(" ",Z+1)),(Z===-1||q<Z)&&(E=!0)}E||(N=`
${n.indent}`)}}else(j===""||j[0]===`
`)&&(N="");return S+=N+j,n.inFlow?T&&r&&r():$&&!T?S+=vl(S,n.indent,d($)):b&&s&&s(),S}function vq(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const _h="<<",Mi={identify:t=>t===_h||typeof t=="symbol"&&t.description===_h,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Ge(Symbol(_h)),{addToJSMap:wq}),stringify:()=>_h},sV=(t,e)=>(Mi.identify(e)||zt(e)&&(!e.type||e.type===Ge.PLAIN)&&Mi.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===Mi.tag&&n.default));function wq(t,e,n){if(n=t&&Ba(n)?n.resolve(t.doc):n,_c(n))for(const r of n.items)Vg(t,e,r);else if(Array.isArray(n))for(const r of n)Vg(t,e,r);else Vg(t,e,n)}function Vg(t,e,n){const r=t&&Ba(n)?n.resolve(t.doc):n;if(!jc(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,a]of s)e instanceof Map?e.has(i)||e.set(i,a):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function Sq(t,e,{key:n,value:r}){if(sn(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(sV(t,n))wq(t,e,r);else{const s=ns(n,"",t);if(e instanceof Map)e.set(s,ns(r,s,t));else if(e instanceof Set)e.add(s);else{const i=iV(n,s,t),a=ns(r,i,t);i in e?Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[i]=a}}return e}function iV(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(sn(t)&&(n!=null&&n.doc)){const r=bq(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),vq(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function K2(t,e,n){const r=bf(t,void 0,n),s=bf(e,void 0,n);return new Hn(r,s)}class Hn{constructor(e,n=null){Object.defineProperty(this,ss,{value:oq}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return sn(n)&&(n=n.clone(e)),sn(r)&&(r=r.clone(e)),new Hn(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return Sq(n,r,this)}toString(e,n,r){return e!=null&&e.doc?rV(this,e,n,r):JSON.stringify(this)}}function Qq(t,e,n){return(e.inFlow??t.flow?lV:aV)(t,e,n)}function aV({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:a,onComment:o}){const{indent:u,options:{commentString:d}}=n,p=Object.assign({},n,{indent:i,type:null});let m=!1;const g=[];for(let v=0;v<e.length;++v){const b=e[v];let S=null;if(sn(b))!m&&b.spaceBefore&&g.push(""),Zp(n,g,b.commentBefore,m),b.comment&&(S=b.comment);else if(Ht(b)){const k=sn(b.key)?b.key:null;k&&(!m&&k.spaceBefore&&g.push(""),Zp(n,g,k.commentBefore,m))}m=!1;let Q=dc(b,p,()=>S=null,()=>m=!0);S&&(Q+=vl(Q,i,d(S))),m&&S&&(m=!1),g.push(r+Q)}let x;if(g.length===0)x=s.start+s.end;else{x=g[0];for(let v=1;v<g.length;++v){const b=g[v];x+=b?`
${u}${b}`:`
`}}return t?(x+=`
`+Ri(d(t),u),o&&o()):m&&a&&a(),x}function lV({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:a,options:{commentString:o}}=e;r+=i;const u=Object.assign({},e,{indent:r,inFlow:!0,type:null});let d=!1,p=0;const m=[];for(let v=0;v<t.length;++v){const b=t[v];let S=null;if(sn(b))b.spaceBefore&&m.push(""),Zp(e,m,b.commentBefore,!1),b.comment&&(S=b.comment);else if(Ht(b)){const k=sn(b.key)?b.key:null;k&&(k.spaceBefore&&m.push(""),Zp(e,m,k.commentBefore,!1),k.comment&&(d=!0));const $=sn(b.value)?b.value:null;$?($.comment&&(S=$.comment),$.commentBefore&&(d=!0)):b.value==null&&(k!=null&&k.comment)&&(S=k.comment)}S&&(d=!0);let Q=dc(b,u,()=>S=null);v<t.length-1&&(Q+=","),S&&(Q+=vl(Q,r,o(S))),!d&&(m.length>p||Q.includes(`
`))&&(d=!0),m.push(Q),p=m.length}const{start:g,end:x}=n;if(m.length===0)return g+x;if(!d){const v=m.reduce((b,S)=>b+S.length+2,2);d=e.options.lineWidth>0&&v>e.options.lineWidth}if(d){let v=g;for(const b of m)v+=b?`
${i}${s}${b}`:`
`;return`${v}
${s}${x}`}else return`${g}${a}${m.join(" ")}${a}${x}`}function Zp({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Ri(e(r),t);n.push(i.trimStart())}}function wl(t,e){const n=zt(e)?e.value:e;for(const r of t)if(Ht(r)&&(r.key===e||r.key===n||zt(r.key)&&r.key.value===n))return r}class Mr extends xq{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ea,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,a=new this(e),o=(u,d)=>{if(typeof i=="function")d=i.call(n,u,d);else if(Array.isArray(i)&&!i.includes(u))return;(d!==void 0||s)&&a.items.push(K2(u,d,r))};if(n instanceof Map)for(const[u,d]of n)o(u,d);else if(n&&typeof n=="object")for(const u of Object.keys(n))o(u,n[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){var a;let r;Ht(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Hn(e,e==null?void 0:e.value):r=new Hn(e.key,e.value);const s=wl(this.items,r.key),i=(a=this.schema)==null?void 0:a.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);zt(s.value)&&gq(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(u=>i(r,u)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=wl(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=wl(this.items,e),s=r==null?void 0:r.value;return(!n&&zt(s)?s.value:s)??void 0}has(e){return!!wl(this.items,e)}set(e,n){this.add(new Hn(e,n),!0)}toJSON(e,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)Sq(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!Ht(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Qq(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const Pc={collection:"map",default:!0,nodeClass:Mr,tag:"tag:yaml.org,2002:map",resolve(t,e){return jc(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Mr.from(t,e,n)};class Ma extends xq{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Tc,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=Ph(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=Ph(e);if(typeof r!="number")return;const s=this.items[r];return!n&&zt(s)?s.value:s}has(e){const n=Ph(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=Ph(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];zt(s)&&gq(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(ns(i,String(s++),n));return r}toString(e,n,r){return e?Qq(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let o of n){if(typeof s=="function"){const u=n instanceof Set?o:String(a++);o=s.call(n,u,o)}i.items.push(bf(o,void 0,r))}}return i}}function Ph(t){let e=zt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Nc={collection:"seq",default:!0,nodeClass:Ma,tag:"tag:yaml.org,2002:seq",resolve(t,e){return _c(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Ma.from(t,e,n)},qm={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),If(t,e,n,r)}},Mm={identify:t=>t==null,createNode:()=>new Ge(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ge(null),stringify:({source:t},e)=>typeof t=="string"&&Mm.test.test(t)?t:e.options.nullStr},J2={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Ge(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&J2.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function _s({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=Object.is(r,-0)?"-0":JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let a=i.indexOf(".");a<0&&(a=i.length,i+=".");let o=e-(i.length-a-1);for(;o-- >0;)i+="0"}return i}const kq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_s},$q={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():_s(t)}},Tq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Ge(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:_s},Xm=t=>typeof t=="bigint"||Number.isInteger(t),eQ=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function jq(t,e,n){const{value:r}=t;return Xm(r)&&r>=0?n+r.toString(e):_s(t)}const _q={identify:t=>Xm(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>eQ(t,2,8,n),stringify:t=>jq(t,8,"0o")},Pq={identify:Xm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>eQ(t,0,10,n),stringify:_s},Nq={identify:t=>Xm(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>eQ(t,2,16,n),stringify:t=>jq(t,16,"0x")},oV=[Pc,Nc,qm,Mm,J2,_q,Pq,Nq,kq,$q,Tq];function zj(t){return typeof t=="bigint"||Number.isInteger(t)}const Nh=({value:t})=>JSON.stringify(t),cV=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Nh},{identify:t=>t==null,createNode:()=>new Ge(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Nh},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Nh},{identify:zj,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>zj(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Nh}],uV={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},fV=[Pc,Nc].concat(cV,uV),tQ={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){if(!n)return"";const a=n;let o;if(typeof btoa=="function"){let u="";for(let d=0;d<a.length;++d)u+=String.fromCharCode(a[d]);o=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Ge.BLOCK_LITERAL),e!==Ge.QUOTE_DOUBLE){const u=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),d=Math.ceil(o.length/u),p=new Array(d);for(let m=0,g=0;m<d;++m,g+=u)p[m]=o.substr(g,u);o=p.join(e===Ge.BLOCK_LITERAL?`
`:" ")}return If({comment:t,type:e,value:o},r,s,i)}};function Cq(t,e){if(_c(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Ht(r)){if(jc(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new Hn(new Ge(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=Ht(r)?r:new Hn(r)}}else e("Expected a sequence for this tag");return t}function Rq(t,e,n){const{replacer:r}=n,s=new Ma(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof r=="function"&&(a=r.call(e,String(i++),a));let o,u;if(Array.isArray(a))if(a.length===2)o=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const d=Object.keys(a);if(d.length===1)o=d[0],u=a[o];else throw new TypeError(`Expected tuple with one key, not ${d.length} keys`)}else o=a;s.items.push(K2(o,u,n))}return s}const nQ={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Cq,createNode:Rq};class ec extends Ma{constructor(){super(),this.add=Mr.prototype.add.bind(this),this.delete=Mr.prototype.delete.bind(this),this.get=Mr.prototype.get.bind(this),this.has=Mr.prototype.has.bind(this),this.set=Mr.prototype.set.bind(this),this.tag=ec.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,a;if(Ht(s)?(i=ns(s.key,"",n),a=ns(s.value,i,n)):i=ns(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,a)}return r}static from(e,n,r){const s=Rq(e,n,r),i=new this;return i.items=s.items,i}}ec.tag="tag:yaml.org,2002:omap";const rQ={collection:"seq",identify:t=>t instanceof Map,nodeClass:ec,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Cq(t,e),r=[];for(const{key:s}of n.items)zt(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new ec,n)},createNode:(t,e,n)=>ec.from(t,e,n)};function Eq({value:t,source:e},n){return e&&(t?Aq:qq).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Aq={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ge(!0),stringify:Eq},qq={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ge(!1),stringify:Eq},dV={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:_s},hV={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():_s(t)}},pV={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Ge(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:_s},Hf=t=>typeof t=="bigint"||Number.isInteger(t);function zm(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return s==="-"?BigInt(-1)*a:a}const i=parseInt(t,n);return s==="-"?-1*i:i}function sQ(t,e,n){const{value:r}=t;if(Hf(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return _s(t)}const mV={identify:Hf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>zm(t,2,2,n),stringify:t=>sQ(t,2,"0b")},OV={identify:Hf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>zm(t,1,8,n),stringify:t=>sQ(t,8,"0")},gV={identify:Hf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>zm(t,0,10,n),stringify:_s},xV={identify:Hf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>zm(t,2,16,n),stringify:t=>sQ(t,16,"0x")};class tc extends Mr{constructor(e){super(e),this.tag=tc.tag}add(e){let n;Ht(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Hn(e.key,null):n=new Hn(e,null),wl(this.items,n.key)||this.items.push(n)}get(e,n){const r=wl(this.items,e);return!n&&Ht(r)?zt(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=wl(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Hn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof s=="function"&&(a=s.call(n,a,a)),i.items.push(K2(a,null,r));return i}}tc.tag="tag:yaml.org,2002:set";const iQ={collection:"map",identify:t=>t instanceof Set,nodeClass:tc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>tc.from(t,e,n),resolve(t,e){if(jc(t)){if(t.hasAllNullValues(!0))return Object.assign(new tc,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function aQ(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=a=>e?BigInt(a):Number(a),i=r.replace(/_/g,"").split(":").reduce((a,o)=>a*s(60)+s(o),s(0));return n==="-"?s(-1)*i:i}function Mq(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return _s(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Xq={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>aQ(t,n),stringify:Mq},zq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>aQ(t,!1),stringify:Mq},Lm={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Lm.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,a,o]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0;let d=Date.UTC(n,r-1,s,i||0,a||0,o||0,u);const p=e[8];if(p&&p!=="Z"){let m=aQ(p,!1);Math.abs(m)<30&&(m*=60),d-=6e4*m}return new Date(d)},stringify:({value:t})=>(t==null?void 0:t.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},Lj=[Pc,Nc,qm,Mm,Aq,qq,mV,OV,gV,xV,dV,hV,pV,tQ,Mi,rQ,nQ,iQ,Xq,zq,Lm],Zj=new Map([["core",oV],["failsafe",[Pc,Nc,qm]],["json",fV],["yaml11",Lj],["yaml-1.1",Lj]]),Vj={binary:tQ,bool:J2,float:Tq,floatExp:$q,floatNaN:kq,floatTime:zq,int:Pq,intHex:Nq,intOct:_q,intTime:Xq,map:Pc,merge:Mi,null:Mm,omap:rQ,pairs:nQ,seq:Nc,set:iQ,timestamp:Lm},yV={"tag:yaml.org,2002:binary":tQ,"tag:yaml.org,2002:merge":Mi,"tag:yaml.org,2002:omap":rQ,"tag:yaml.org,2002:pairs":nQ,"tag:yaml.org,2002:set":iQ,"tag:yaml.org,2002:timestamp":Lm};function Yg(t,e,n){const r=Zj.get(e);if(r&&!t)return n&&!r.includes(Mi)?r.concat(Mi):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(Zj.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(Mi)),s.reduce((i,a)=>{const o=typeof a=="string"?Vj[a]:a;if(!o){const u=JSON.stringify(a),d=Object.keys(Vj).map(p=>JSON.stringify(p)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${d}`)}return i.includes(o)||i.push(o),i},[])}const bV=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;let Lq=class Zq{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(e)?Yg(e,"compat"):e?Yg(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?yV:{},this.tags=Yg(n,this.name,r),this.toStringOptions=o??null,Object.defineProperty(this,Ea,{value:Pc}),Object.defineProperty(this,ti,{value:qm}),Object.defineProperty(this,Tc,{value:Nc}),this.sortMapEntries=typeof a=="function"?a:a===!0?bV:null}clone(){const e=Object.create(Zq.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};function vV(t,e){var u;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const d=t.directives.toString(t);d?(n.push(d),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=bq(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const d=i(t.commentBefore);n.unshift(Ri(d,""))}let a=!1,o=null;if(t.contents){if(sn(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const m=i(t.contents.commentBefore);n.push(Ri(m,""))}s.forceBlockIndent=!!t.comment,o=t.contents.comment}const d=o?void 0:()=>a=!0;let p=dc(t.contents,s,()=>o=null,d);o&&(p+=vl(p,"",i(o))),(p[0]==="|"||p[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${p}`:n.push(p)}else n.push(dc(t.contents,s));if((u=t.directives)!=null&&u.docEnd)if(t.comment){const d=i(t.comment);d.includes(`
`)?(n.push("..."),n.push(Ri(d,""))):n.push(`... ${d}`)}else n.push("...");else{let d=t.comment;d&&a&&(d=d.replace(/^\n+/,"")),d&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(Ri(i(d),"")))}return n.join(`
`)+`
`}class Cc{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ss,{value:kS});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:a}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new er({version:a}),this.setSchema(a,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(Cc.prototype,{[ss]:{value:kS}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=sn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Xo(this.contents)&&this.contents.add(e)}addIn(e,n){Xo(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=mq(this);e.anchor=!n||r.has(n)?Oq(n||"a",r):n}return new Cm(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const S=k=>typeof k=="number"||k instanceof String||k instanceof Number,Q=n.filter(S).map(String);Q.length>0&&(n=n.concat(Q)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:a,flow:o,keepUndefined:u,onTagObj:d,tag:p}=r??{},{onAnchor:m,setAnchors:g,sourceObjects:x}=I9(this,a||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:u??!1,onAnchor:m,onTagObj:d,replacer:s,schema:this.schema,sourceObjects:x},b=bf(e,p,v);return o&&nn(b)&&(b.flow=!0),g(),b}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new Hn(s,i)}delete(e){return Xo(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Fu(e)?this.contents==null?!1:(this.contents=null,!0):Xo(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return nn(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Fu(e)?!n&&zt(this.contents)?this.contents.value:this.contents:nn(this.contents)?this.contents.getIn(e,n):void 0}has(e){return nn(this.contents)?this.contents.has(e):!1}hasIn(e){return Fu(e)?this.contents!==void 0:nn(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Lp(this.schema,[e],n):Xo(this.contents)&&this.contents.set(e,n)}setIn(e,n){Fu(e)?this.contents=n:this.contents==null?this.contents=Lp(this.schema,Array.from(e),n):Xo(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new er({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new er({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Lq(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:a}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},u=ns(this.contents,n??"",o);if(typeof i=="function")for(const{count:d,res:p}of o.anchors.values())i(p,d);return typeof a=="function"?Wo(a,{"":u},"",u):u}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return vV(this,e)}}function Xo(t){if(nn(t))return!0;throw new Error("Expected a YAML collection as document contents")}class lQ extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class Sl extends lQ{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class Vq extends lQ{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const Vp=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(o=>e.linePos(o));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,a=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&a.length>80){const o=Math.min(i-39,a.length-79);a=""+a.substring(o),i-=o-1}if(a.length>80&&(a=a.substring(0,79)+""),r>1&&/^ *$/.test(a.substring(0,i))){let o=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);o.length>80&&(o=o.substring(0,79)+`
`),a=o+a}if(/[^ ]/.test(a)){let o=1;const u=n.linePos[1];(u==null?void 0:u.line)===r&&u.col>s&&(o=Math.max(1,Math.min(u.col-s,80-i)));const d=" ".repeat(i)+"^".repeat(o);n.message+=`:

${a}
${d}
`}};function hc(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:a,startOnNewline:o}){let u=!1,d=o,p=o,m="",g="",x=!1,v=!1,b=null,S=null,Q=null,k=null,$=null,T=null,j=null;for(const q of t)switch(v&&(q.type!=="space"&&q.type!=="newline"&&q.type!=="comma"&&i(q.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),b&&(d&&q.type!=="comment"&&q.type!=="newline"&&i(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),b=null),q.type){case"space":!e&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&q.source.includes("	")&&(b=q),p=!0;break;case"comment":{p||i(q,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const M=q.source.substring(1)||" ";m?m+=g+M:m=M,g="",d=!1;break}case"newline":d?m?m+=q.source:(!T||n!=="seq-item-ind")&&(u=!0):g+=q.source,d=!0,x=!0,(S||Q)&&(k=q),p=!0;break;case"anchor":S&&i(q,"MULTIPLE_ANCHORS","A node can have at most one anchor"),q.source.endsWith(":")&&i(q.offset+q.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),S=q,j??(j=q.offset),d=!1,p=!1,v=!0;break;case"tag":{Q&&i(q,"MULTIPLE_TAGS","A node can have at most one tag"),Q=q,j??(j=q.offset),d=!1,p=!1,v=!0;break}case n:(S||Q)&&i(q,"BAD_PROP_ORDER",`Anchors and tags must be after the ${q.source} indicator`),T&&i(q,"UNEXPECTED_TOKEN",`Unexpected ${q.source} in ${e??"collection"}`),T=q,d=n==="seq-item-ind"||n==="explicit-key-ind",p=!1;break;case"comma":if(e){$&&i(q,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),$=q,d=!1,p=!1;break}default:i(q,"UNEXPECTED_TOKEN",`Unexpected ${q.type} token`),d=!1,p=!1}const N=t[t.length-1],C=N?N.offset+N.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b&&(d&&b.indent<=a||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:$,found:T,spaceBefore:u,comment:m,hasNewline:x,anchor:S,tag:Q,newlineAfterProp:k,end:C,start:j??C}}function vf(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(vf(e.key)||vf(e.value))return!0}return!1;default:return!0}}function _S(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&vf(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Yq(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,a)=>i===a||zt(i)&&zt(a)&&i.value===a.value;return e.some(i=>s(i.key,n))}const Yj="All mapping items must start at the same column";function wV({composeNode:t,composeEmptyNode:e},n,r,s,i){var p;const a=(i==null?void 0:i.nodeClass)??Mr,o=new a(n.schema);n.atRoot&&(n.atRoot=!1);let u=r.offset,d=null;for(const m of r.items){const{start:g,key:x,sep:v,value:b}=m,S=hc(g,{indicator:"explicit-key-ind",next:x??(v==null?void 0:v[0]),offset:u,onError:s,parentIndent:r.indent,startOnNewline:!0}),Q=!S.found;if(Q){if(x&&(x.type==="block-seq"?s(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in x&&x.indent!==r.indent&&s(u,"BAD_INDENT",Yj)),!S.anchor&&!S.tag&&!v){d=S.end,S.comment&&(o.comment?o.comment+=`
`+S.comment:o.comment=S.comment);continue}(S.newlineAfterProp||vf(x))&&s(x??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((p=S.found)==null?void 0:p.indent)!==r.indent&&s(u,"BAD_INDENT",Yj);n.atKey=!0;const k=S.end,$=x?t(n,x,S,s):e(n,k,g,null,S,s);n.schema.compat&&_S(r.indent,x,s),n.atKey=!1,Yq(n,o.items,$)&&s(k,"DUPLICATE_KEY","Map keys must be unique");const T=hc(v??[],{indicator:"map-value-ind",next:b,offset:$.range[2],onError:s,parentIndent:r.indent,startOnNewline:!x||x.type==="block-scalar"});if(u=T.end,T.found){Q&&((b==null?void 0:b.type)==="block-map"&&!T.hasNewline&&s(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&S.start<T.found.offset-1024&&s($.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const j=b?t(n,b,T,s):e(n,u,v,null,T,s);n.schema.compat&&_S(r.indent,b,s),u=j.range[2];const N=new Hn($,j);n.options.keepSourceTokens&&(N.srcToken=m),o.items.push(N)}else{Q&&s($.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&($.comment?$.comment+=`
`+T.comment:$.comment=T.comment);const j=new Hn($);n.options.keepSourceTokens&&(j.srcToken=m),o.items.push(j)}}return d&&d<u&&s(d,"IMPOSSIBLE","Map comment with trailing content"),o.range=[r.offset,u,d??u],o}function SV({composeNode:t,composeEmptyNode:e},n,r,s,i){const a=(i==null?void 0:i.nodeClass)??Ma,o=new a(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=r.offset,d=null;for(const{start:p,value:m}of r.items){const g=hc(p,{indicator:"seq-item-ind",next:m,offset:u,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||m)(m==null?void 0:m.type)==="block-seq"?s(g.end,"BAD_INDENT","All sequence items must start at the same column"):s(u,"MISSING_CHAR","Sequence item without - indicator");else{d=g.end,g.comment&&(o.comment=g.comment);continue}const x=m?t(n,m,g,s):e(n,g.end,p,null,g,s);n.schema.compat&&_S(r.indent,m,s),u=x.range[2],o.items.push(x)}return o.range=[r.offset,u,d??u],o}function Ff(t,e,n,r){let s="";if(t){let i=!1,a="";for(const o of t){const{source:u,type:d}=o;switch(d){case"space":i=!0;break;case"comment":{n&&!i&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const p=u.substring(1)||" ";s?s+=a+p:s=p,a="";break}case"newline":s&&(a+=u),i=!0;break;default:r(o,"UNEXPECTED_TOKEN",`Unexpected ${d} at node end`)}e+=u.length}}return{comment:s,offset:e}}const Dg="Block collections are not allowed within flow collections",Bg=t=>t&&(t.type==="block-map"||t.type==="block-seq");function QV({composeNode:t,composeEmptyNode:e},n,r,s,i){var S;const a=r.start.source==="{",o=a?"flow map":"flow sequence",u=(i==null?void 0:i.nodeClass)??(a?Mr:Ma),d=new u(n.schema);d.flow=!0;const p=n.atRoot;p&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let m=r.offset+r.start.source.length;for(let Q=0;Q<r.items.length;++Q){const k=r.items[Q],{start:$,key:T,sep:j,value:N}=k,C=hc($,{flow:o,indicator:"explicit-key-ind",next:T??(j==null?void 0:j[0]),offset:m,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!C.found){if(!C.anchor&&!C.tag&&!j&&!N){Q===0&&C.comma?s(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):Q<r.items.length-1&&s(C.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),C.comment&&(d.comment?d.comment+=`
`+C.comment:d.comment=C.comment),m=C.end;continue}!a&&n.options.strict&&vf(T)&&s(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(Q===0)C.comma&&s(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(C.comma||s(C.start,"MISSING_CHAR",`Missing , between ${o} items`),C.comment){let q="";e:for(const M of $)switch(M.type){case"comma":case"space":break;case"comment":q=M.source.substring(1);break e;default:break e}if(q){let M=d.items[d.items.length-1];Ht(M)&&(M=M.value??M.key),M.comment?M.comment+=`
`+q:M.comment=q,C.comment=C.comment.substring(q.length+1)}}if(!a&&!j&&!C.found){const q=N?t(n,N,C,s):e(n,C.end,j,null,C,s);d.items.push(q),m=q.range[2],Bg(N)&&s(q.range,"BLOCK_IN_FLOW",Dg)}else{n.atKey=!0;const q=C.end,M=T?t(n,T,C,s):e(n,q,$,null,C,s);Bg(T)&&s(M.range,"BLOCK_IN_FLOW",Dg),n.atKey=!1;const L=hc(j??[],{flow:o,indicator:"map-value-ind",next:N,offset:M.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(L.found){if(!a&&!C.found&&n.options.strict){if(j)for(const Y of j){if(Y===L.found)break;if(Y.type==="newline"){s(Y,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}C.start<L.found.offset-1024&&s(L.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else N&&("source"in N&&((S=N.source)==null?void 0:S[0])===":"?s(N,"MISSING_CHAR",`Missing space after : in ${o}`):s(L.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const E=N?t(n,N,L,s):L.found?e(n,L.end,j,null,L,s):null;E?Bg(N)&&s(E.range,"BLOCK_IN_FLOW",Dg):L.comment&&(M.comment?M.comment+=`
`+L.comment:M.comment=L.comment);const Z=new Hn(M,E);if(n.options.keepSourceTokens&&(Z.srcToken=k),a){const Y=d;Yq(n,Y.items,M)&&s(q,"DUPLICATE_KEY","Map keys must be unique"),Y.items.push(Z)}else{const Y=new Mr(n.schema);Y.flow=!0,Y.items.push(Z);const R=(E??M).range;Y.range=[M.range[0],R[1],R[2]],d.items.push(Y)}m=E?E.range[2]:L.end}}const g=a?"}":"]",[x,...v]=r.end;let b=m;if((x==null?void 0:x.source)===g)b=x.offset+x.source.length;else{const Q=o[0].toUpperCase()+o.substring(1),k=p?`${Q} must end with a ${g}`:`${Q} in block collection must be sufficiently indented and end with a ${g}`;s(m,p?"MISSING_CHAR":"BAD_INDENT",k),x&&x.source.length!==1&&v.unshift(x)}if(v.length>0){const Q=Ff(v,b,n.options.strict,s);Q.comment&&(d.comment?d.comment+=`
`+Q.comment:d.comment=Q.comment),d.range=[r.offset,b,Q.offset]}else d.range=[r.offset,b,b];return d}function Ug(t,e,n,r,s,i){const a=n.type==="block-map"?wV(t,e,n,r,i):n.type==="block-seq"?SV(t,e,n,r,i):QV(t,e,n,r,i),o=a.constructor;return s==="!"||s===o.tagName?(a.tag=o.tagName,a):(s&&(a.tag=s),a)}function kV(t,e,n,r,s){var g;const i=r.tag,a=i?e.directives.tagName(i.source,x=>s(i,"TAG_RESOLVE_FAILED",x)):null;if(n.type==="block-seq"){const{anchor:x,newlineAfterProp:v}=r,b=x&&i?x.offset>i.offset?x:i:x??i;b&&(!v||v.offset<b.offset)&&s(b,"MISSING_CHAR","Missing newline after block sequence props")}const o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!a||a==="!"||a===Mr.tagName&&o==="map"||a===Ma.tagName&&o==="seq")return Ug(t,e,n,s,a);let u=e.schema.tags.find(x=>x.tag===a&&x.collection===o);if(!u){const x=e.schema.knownTags[a];if((x==null?void 0:x.collection)===o)e.schema.tags.push(Object.assign({},x,{default:!1})),u=x;else return x?s(i,"BAD_COLLECTION_TYPE",`${x.tag} used for ${o} collection, but expects ${x.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),Ug(t,e,n,s,a)}const d=Ug(t,e,n,s,a,u),p=((g=u.resolve)==null?void 0:g.call(u,d,x=>s(i,"TAG_RESOLVE_FAILED",x),e.options))??d,m=sn(p)?p:new Ge(p);return m.range=d.range,m.tag=a,u!=null&&u.format&&(m.format=u.format),m}function Dq(t,e,n){const r=e.offset,s=$V(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?Ge.BLOCK_FOLDED:Ge.BLOCK_LITERAL,a=e.source?TV(e.source):[];let o=a.length;for(let b=a.length-1;b>=0;--b){const S=a[b][1];if(S===""||S==="\r")o=b;else break}if(o===0){const b=s.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let S=r+s.length;return e.source&&(S+=e.source.length),{value:b,type:i,comment:s.comment,range:[r,S,S]}}let u=e.indent+s.indent,d=e.offset+s.length,p=0;for(let b=0;b<o;++b){const[S,Q]=a[b];if(Q===""||Q==="\r")s.indent===0&&S.length>u&&(u=S.length);else{S.length<u&&n(d+S.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(u=S.length),p=b,u===0&&!t.atRoot&&n(d,"BAD_INDENT","Block scalar values in collections must be indented");break}d+=S.length+Q.length+1}for(let b=a.length-1;b>=o;--b)a[b][0].length>u&&(o=b+1);let m="",g="",x=!1;for(let b=0;b<p;++b)m+=a[b][0].slice(u)+`
`;for(let b=p;b<o;++b){let[S,Q]=a[b];d+=S.length+Q.length+1;const k=Q[Q.length-1]==="\r";if(k&&(Q=Q.slice(0,-1)),Q&&S.length<u){const T=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(d-Q.length-(k?2:1),"BAD_INDENT",T),S=""}i===Ge.BLOCK_LITERAL?(m+=g+S.slice(u)+Q,g=`
`):S.length>u||Q[0]==="	"?(g===" "?g=`
`:!x&&g===`
`&&(g=`

`),m+=g+S.slice(u)+Q,g=`
`,x=!0):Q===""?g===`
`?m+=`
`:g=`
`:(m+=g+Q,g=" ",x=!1)}switch(s.chomp){case"-":break;case"+":for(let b=o;b<a.length;++b)m+=`
`+a[b][0].slice(u);m[m.length-1]!==`
`&&(m+=`
`);break;default:m+=`
`}const v=r+s.length+e.source.length;return{value:m,type:i,comment:s.comment,range:[r,v,v]}}function $V({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let a=0,o="",u=-1;for(let g=1;g<s.length;++g){const x=s[g];if(!o&&(x==="-"||x==="+"))o=x;else{const v=Number(x);!a&&v?a=v:u===-1&&(u=t+g)}}u!==-1&&r(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let d=!1,p="",m=s.length;for(let g=1;g<e.length;++g){const x=e[g];switch(x.type){case"space":d=!0;case"newline":m+=x.source.length;break;case"comment":n&&!d&&r(x,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),m+=x.source.length,p=x.source.substring(1);break;case"error":r(x,"UNEXPECTED_TOKEN",x.message),m+=x.source.length;break;default:{const v=`Unexpected token in block scalar header: ${x.type}`;r(x,"UNEXPECTED_TOKEN",v);const b=x.source;b&&typeof b=="string"&&(m+=b.length)}}}return{mode:i,indent:a,chomp:o,comment:p,length:m}}function TV(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)i.push([e[a],e[a+1]]);return i}function Bq(t,e,n){const{offset:r,type:s,source:i,end:a}=t;let o,u;const d=(g,x,v)=>n(r+g,x,v);switch(s){case"scalar":o=Ge.PLAIN,u=jV(i,d);break;case"single-quoted-scalar":o=Ge.QUOTE_SINGLE,u=_V(i,d);break;case"double-quoted-scalar":o=Ge.QUOTE_DOUBLE,u=PV(i,d);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const p=r+i.length,m=Ff(a,p,e,n);return{value:u,type:o,comment:m.comment,range:[r,p,m.offset]}}function jV(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Uq(t)}function _V(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Uq(t.slice(1,-1)).replace(/''/g,"'")}function Uq(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",a=e.lastIndex;for(n.lastIndex=a;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),a=n.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=a,r=o.exec(t),s+i+((r==null?void 0:r[1])??"")}function PV(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:a}=NV(t,r);n+=i,r=a}else if(s==="\\"){let i=t[++r];const a=CV[i];if(a)n+=a;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const o={x:2,u:4,U:8}[i];n+=RV(t,r+1,o,e),r+=o}else{const o=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(s===" "||s==="	"){const i=r;let a=t[r+1];for(;a===" "||a==="	";)a=t[++r+1];a!==`
`&&!(a==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function NV(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const CV={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function RV(t,e,n,r){const s=t.substr(e,n),a=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(a)){const o=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(a)}function Wq(t,e,n,r){const{value:s,type:i,comment:a,range:o}=e.type==="block-scalar"?Dq(t,e,r):Bq(e,t.options.strict,r),u=n?t.directives.tagName(n.source,m=>r(n,"TAG_RESOLVE_FAILED",m)):null;let d;t.options.stringKeys&&t.atKey?d=t.schema[ti]:u?d=EV(t.schema,s,u,n,r):e.type==="scalar"?d=AV(t,s,e,r):d=t.schema[ti];let p;try{const m=d.resolve(s,g=>r(n??e,"TAG_RESOLVE_FAILED",g),t.options);p=zt(m)?m:new Ge(m)}catch(m){const g=m instanceof Error?m.message:String(m);r(n??e,"TAG_RESOLVE_FAILED",g),p=new Ge(s)}return p.range=o,p.source=s,i&&(p.type=i),u&&(p.tag=u),d.format&&(p.format=d.format),a&&(p.comment=a),p}function EV(t,e,n,r,s){var o;if(n==="!")return t[ti];const i=[];for(const u of t.tags)if(!u.collection&&u.tag===n)if(u.default&&u.test)i.push(u);else return u;for(const u of i)if((o=u.test)!=null&&o.test(e))return u;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[ti])}function AV({atKey:t,directives:e,schema:n},r,s,i){const a=n.tags.find(o=>{var u;return(o.default===!0||t&&o.default==="key")&&((u=o.test)==null?void 0:u.test(r))})||n[ti];if(n.compat){const o=n.compat.find(u=>{var d;return u.default&&((d=u.test)==null?void 0:d.test(r))})??n[ti];if(a.tag!==o.tag){const u=e.tagString(a.tag),d=e.tagString(o.tag),p=`Value may be parsed as either ${u} or ${d}`;i(s,"TAG_RESOLVE_FAILED",p,!0)}}return a}function qV(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];(s==null?void 0:s.type)==="space";)t+=s.source.length,s=e[++r];break}}return t}const MV={composeNode:Gq,composeEmptyNode:oQ};function Gq(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:a,anchor:o,tag:u}=n;let d,p=!0;switch(e.type){case"alias":d=XV(t,e,r),(o||u)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":d=Wq(t,e,u,r),o&&(d.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":d=kV(MV,t,e,n,r),o&&(d.anchor=o.source.substring(1));break;default:{const m=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",m),d=oQ(t,e.offset,void 0,null,n,r),p=!1}}return o&&d.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!zt(d)||typeof d.value!="string"||d.tag&&d.tag!=="tag:yaml.org,2002:str")&&r(u??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(d.spaceBefore=!0),a&&(e.type==="scalar"&&e.source===""?d.comment=a:d.commentBefore=a),t.options.keepSourceTokens&&p&&(d.srcToken=e),d}function oQ(t,e,n,r,{spaceBefore:s,comment:i,anchor:a,tag:o,end:u},d){const p={type:"scalar",offset:qV(e,n,r),indent:-1,source:""},m=Wq(t,p,o,d);return a&&(m.anchor=a.source.substring(1),m.anchor===""&&d(a,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(m.spaceBefore=!0),i&&(m.comment=i,m.range[2]=u),m}function XV({options:t},{offset:e,source:n,end:r},s){const i=new Cm(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,o=Ff(r,a,t.strict,s);return i.range=[e,a,o.offset],o.comment&&(i.comment=o.comment),i}function zV(t,e,{offset:n,start:r,value:s,end:i},a){const o=Object.assign({_directives:e},t),u=new Cc(void 0,o),d={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},p=hc(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:a,parentIndent:0,startOnNewline:!0});p.found&&(u.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!p.hasNewline&&a(p.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=s?Gq(d,s,p,a):oQ(d,p.end,r,null,p,a);const m=u.contents.range[2],g=Ff(i,m,!1,a);return g.comment&&(u.comment=g.comment),u.range=[n,m,g.offset],u}function Au(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Dj(t){var s;let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const a=t[i];switch(a[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(a.substring(1)||" "),n=!0,r=!1;break;case"%":((s=t[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class cQ{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const a=Au(n);i?this.warnings.push(new Vq(a,r,s)):this.errors.push(new Sl(a,r,s))},this.directives=new er({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=Dj(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(nn(i)&&!i.flow&&i.items.length>0){let a=i.items[0];Ht(a)&&(a=a.key);const o=a.commentBefore;a.commentBefore=o?`${r}
${o}`:r}else{const a=i.commentBefore;i.commentBefore=a?`${r}
${a}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Dj(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=Au(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=zV(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Sl(Au(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Sl(Au(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Ff(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Sl(Au(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new Cc(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function LV(t,e=!0,n){if(t){const r=(s,i,a)=>{const o=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(o,i,a);else throw new Sl([o,o+1],i,a)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Bq(t,e,r);case"block-scalar":return Dq({options:{strict:e}},t,r)}}return null}function ZV(t,e){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:a="PLAIN"}=e,o=If({type:a,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),u=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(o[0]){case"|":case">":{const d=o.indexOf(`
`),p=o.substring(0,d),m=o.substring(d+1)+`
`,g=[{type:"block-scalar-header",offset:i,indent:r,source:p}];return Iq(g,u)||g.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:g,source:m}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:o,end:u};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:o,end:u};default:return{type:"scalar",offset:i,indent:r,source:o,end:u}}}function VV(t,e,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:a}=n,o="indent"in t?t.indent:null;if(r&&typeof o=="number"&&(o+=2),!a)switch(t.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{const d=t.props[0];if(d.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=d.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}const u=If({type:a,value:e},{implicitKey:s||o===null,indent:o!==null&&o>0?" ".repeat(o):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(u[0]){case"|":case">":YV(t,u);break;case'"':Wg(t,u,"double-quoted-scalar");break;case"'":Wg(t,u,"single-quoted-scalar");break;default:Wg(t,u,"scalar")}}function YV(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),s=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const i=t.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,t.source=s}else{const{offset:i}=t,a="indent"in t?t.indent:-1,o=[{type:"block-scalar-header",offset:i,indent:a,source:r}];Iq(o,"end"in t?t.end:void 0)||o.push({type:"newline",offset:-1,indent:a,source:`
`});for(const u of Object.keys(t))u!=="type"&&u!=="offset"&&delete t[u];Object.assign(t,{type:"block-scalar",indent:a,props:o,source:s})}}function Iq(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function Wg(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let s=e.length;t.props[0].type==="block-scalar-header"&&(s-=t.props[0].source.length);for(const i of r)i.offset+=s;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[s]});break}default:{const r="indent"in t?t.indent:-1,s="end"in t&&Array.isArray(t.end)?t.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(t))i!=="type"&&i!=="offset"&&delete t[i];Object.assign(t,{type:n,indent:r,source:e,end:s})}}}const DV=t=>"type"in t?Yp(t):vp(t);function Yp(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=Yp(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=vp(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=vp(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=vp(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function vp({start:t,key:e,sep:n,value:r}){let s="";for(const i of t)s+=i.source;if(e&&(s+=Yp(e)),n)for(const i of n)s+=i.source;return r&&(s+=Yp(r)),s}const PS=Symbol("break visit"),BV=Symbol("skip children"),Hq=Symbol("remove item");function El(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Fq(Object.freeze([]),t,e)}El.BREAK=PS;El.SKIP=BV;El.REMOVE=Hq;El.itemAtPath=(t,e)=>{let n=t;for(const[r,s]of e){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};El.parentCollection=(t,e)=>{const n=El.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Fq(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=e[s];if(i&&"items"in i){for(let a=0;a<i.items.length;++a){const o=Fq(Object.freeze(t.concat([[s,a]])),i.items[a],n);if(typeof o=="number")a=o-1;else{if(o===PS)return PS;o===Hq&&(i.items.splice(a,1),a-=1)}}typeof r=="function"&&s==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const Zm="\uFEFF",Vm="",Ym="",wf="",UV=t=>!!t&&"items"in t,WV=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function GV(t){switch(t){case Zm:return"<BOM>";case Vm:return"<DOC>";case Ym:return"<FLOW_END>";case wf:return"<SCALAR>";default:return JSON.stringify(t)}}function Kq(t){switch(t){case Zm:return"byte-order-mark";case Vm:return"doc-mode";case Ym:return"flow-error-end";case wf:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const IV=Object.freeze(Object.defineProperty({__proto__:null,BOM:Zm,DOCUMENT:Vm,FLOW_END:Ym,SCALAR:wf,createScalarToken:ZV,isCollection:UV,isScalar:WV,prettyToken:GV,resolveAsScalar:LV,setScalarValue:VV,stringify:DV,tokenType:Kq,visit:El},Symbol.toStringTag,{value:"Module"}));function ys(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const Bj=new Set("0123456789ABCDEFabcdef"),HV=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ch=new Set(",[]{}"),FV=new Set(` ,[]{}
\r	`),Gg=t=>!t||FV.has(t);class Jq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&ys(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Zm&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Vm,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&ys(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ys(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ys(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Gg),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&ys(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield Ym,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Gg),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||ys(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ys(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const a=this.buffer[i+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,a=this.buffer[i];a==="\r"&&(a=this.buffer[--i]);const o=i;for(;a===" ";)a=this.buffer[--i];if(a===`
`&&i>=this.pos&&i+1+n>o)e=i;else break}while(!0);return yield wf,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(ys(i)||e&&Ch.has(i))break;n=r}else if(ys(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&Ch.has(i))break;if(s===`
`){const a=this.continueScalar(r+1);if(a===-1)break;r=Math.max(r,a-2)}}else{if(e&&Ch.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield wf,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Gg))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(ys(n)||e&&Ch.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!ys(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(HV.has(n))n=this.buffer[++e];else if(n==="%"&&Bj.has(this.buffer[e+1])&&Bj.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class eM{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function ka(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Uj(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function tM(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Rh(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function zo(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function Wj(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!ka(e.start,"explicit-key-ind")&&!ka(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,tM(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}let uQ=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Jq,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=Kq(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(e==null?void 0:e.type)!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Wj(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&Uj(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Uj(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=Rh(this.peek(2)),r=zo(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let a=[];if(i&&n.sep&&!n.value){const o=[];for(let u=0;u<n.sep.length;++u){const d=n.sep[u];switch(d.type){case"newline":o.push(u);break;case"space":break;case"comment":d.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(a=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(a.push(this.sourceToken),e.items.push({start:a}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(a.push(this.sourceToken),e.items.push({start:a,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ka(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(tM(n.key)&&!ka(n.sep,"newline")){const o=zo(n.start),u=n.key,d=n.sep;d.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:u,sep:d}]})}else a.length>0?n.sep=n.sep.concat(a,this.sourceToken):n.sep.push(this.sourceToken);else if(ka(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=zo(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:a,key:null,sep:[this.sourceToken]}):ka(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(e.items.push({start:a,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!ka(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:a});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||ka(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while((r==null?void 0:r.type)==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=Rh(r),i=zo(s);Wj(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Rh(e),r=zo(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Rh(e),r=zo(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};function nM(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new eM||null,prettyErrors:e}}function KV(t,e={}){const{lineCounter:n,prettyErrors:r}=nM(e),s=new uQ(n==null?void 0:n.addNewLine),i=new cQ(e),a=Array.from(i.compose(s.parse(t)));if(r&&n)for(const o of a)o.errors.forEach(Vp(t,n)),o.warnings.forEach(Vp(t,n));return a.length>0?a:Object.assign([],{empty:!0},i.streamInfo())}function rM(t,e={}){const{lineCounter:n,prettyErrors:r}=nM(e),s=new uQ(n==null?void 0:n.addNewLine),i=new cQ(e);let a=null;for(const o of i.compose(s.parse(t),!0,t.length))if(!a)a=o;else if(a.options.logLevel!=="silent"){a.errors.push(new Sl(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(a.errors.forEach(Vp(t,n)),a.warnings.forEach(Vp(t,n))),a}function JV(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const s=rM(t,n);if(!s)return null;if(s.warnings.forEach(i=>vq(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function eY(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(t===void 0){const{keepUndefined:s}=n??e??{};if(!s)return}return Yl(t)&&!r?t.toString(n):new Cc(t,r,n).toString(n)}const Gj=Object.freeze(Object.defineProperty({__proto__:null,Alias:Cm,CST:IV,Composer:cQ,Document:Cc,Lexer:Jq,LineCounter:eM,Pair:Hn,Parser:uQ,Scalar:Ge,Schema:Lq,YAMLError:lQ,YAMLMap:Mr,YAMLParseError:Sl,YAMLSeq:Ma,YAMLWarning:Vq,isAlias:Ba,isCollection:nn,isDocument:Yl,isMap:jc,isNode:sn,isPair:Ht,isScalar:zt,isSeq:_c,parse:JV,parseAllDocuments:KV,parseDocument:rM,stringify:eY,visit:Dl,visitAsync:Nm},Symbol.toStringTag,{value:"Module"})),tY="";class nY{constructor(e=tY){this.cachedCloudUrl=null,this.baseUrl=e,this.wsBaseUrl=e.replace("http","ws")}async request(e,n){const r=await fetch(`${this.baseUrl}${e}`,{...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}});if(!r.ok){const s=await r.json().catch(()=>({detail:r.statusText}));throw new Error(s.detail||`API Error: ${r.status}`)}return r.json()}async getStatus(){return this.request("/api/v1/status")}async getAuthStatus(){return this.request("/api/v1/auth/status")}async logout(){return this.request("/api/v1/auth/logout",{method:"POST"})}async startLogin(e){return this.request("/api/v1/auth/login",{method:"POST",body:JSON.stringify(e||{})})}async pollLoginStatus(e){return this.request(`/api/v1/auth/login/poll/${encodeURIComponent(e)}`)}async getAvailableCommands(){return this.request("/api/v1/commands/available")}async executeCommand(e){return this.request("/api/v1/commands/execute",{method:"POST",body:JSON.stringify(e)})}async runCommand(e){return this.request("/api/v1/commands/run",{method:"POST",body:JSON.stringify(e)})}async cancelCommand(){return this.request("/api/v1/commands/cancel",{method:"POST"})}async getCommandStatus(){return this.request("/api/v1/commands/status")}async getJobStatus(e){return this.request(`/api/v1/commands/jobs/${e}`)}async cancelJob(e){return this.request(`/api/v1/commands/jobs/${e}/cancel`,{method:"POST"})}async getJobHistory(e=50,n=0){return this.request(`/api/v1/commands/history?limit=${e}&offset=${n}`)}async spawnTerminal(e){return this.request("/api/v1/commands/spawn-terminal",{method:"POST",body:JSON.stringify(e)})}async getSpawnedJobStatus(e){return this.request(`/api/v1/commands/spawned-jobs/${e}/status`)}async getFileTree(e="",n=3){const r=new URLSearchParams;return e&&r.set("path",e),r.set("depth",n.toString()),this.request(`/api/v1/files/tree?${r}`)}async getFileContent(e){return this.request(`/api/v1/files/content?path=${encodeURIComponent(e)}`)}async writeFile(e,n,r="utf-8"){return this.request("/api/v1/files/write",{method:"POST",body:JSON.stringify({path:e,content:n,encoding:r})})}async getPddrc(){try{const e=await this.getFileContent(".pddrc");return Gj.parse(e.content)}catch{return null}}async savePddrc(e){const n=Gj.stringify(e);return this.writeFile(".pddrc",n)}async listPrompts(){return this.request("/api/v1/files/prompts")}async analyzePrompt(e){return this.request("/api/v1/prompts/analyze",{method:"POST",body:JSON.stringify(e)})}async analyzeFile(e,n){return(await this.analyzePrompt({path:e,model:n||"claude-sonnet-4-20250514",preprocess:!1})).raw_metrics}async getSyncStatus(e,n){return this.request(`/api/v1/prompts/sync-status?basename=${encodeURIComponent(e)}&language=${encodeURIComponent(n)}`)}async getModels(){return this.request("/api/v1/prompts/models")}async analyzeDiff(e){return this.request("/api/v1/prompts/diff-analysis",{method:"POST",body:JSON.stringify(e)})}async getPromptHistory(e){return this.request("/api/v1/prompts/git-history",{method:"POST",body:JSON.stringify(e)})}async getPromptDiff(e){return this.request("/api/v1/prompts/prompt-diff",{method:"POST",body:JSON.stringify(e)})}async checkArchitectureExists(){try{return await this.getFileContent("architecture.json"),{exists:!0,path:"architecture.json"}}catch{return{exists:!1}}}async getArchitecture(){const e=await this.getFileContent("architecture.json");return JSON.parse(e.content)}async saveArchitecture(e){const n=JSON.stringify(e,null,2);return this.writeFile("architecture.json",n)}async validateArchitecture(e){return this.request("/api/v1/architecture/validate",{method:"POST",body:JSON.stringify({modules:e})})}async syncArchitectureFromPrompts(e={}){return this.request("/api/v1/architecture/sync-from-prompts",{method:"POST",body:JSON.stringify(e)})}async generateTagsForPrompt(e){return this.request("/api/v1/architecture/generate-tags-for-prompt",{method:"POST",body:JSON.stringify({prompt_filename:e})})}async listMarkdownFiles(){const e=[];try{const n=await this.getFileTree("",4),r=(s,i="")=>{const a=i?`${i}/${s.name}`:s.name;if(s.type==="file"&&s.name.endsWith(".md")&&e.push(a),s.children)for(const o of s.children)r(o,a)};r(n)}catch(n){console.error("Failed to list markdown files:",n)}return e}async generateArchitecture(e){const n={};if(e.prdPath)n.PRD_FILE=e.prdPath;else if(e.prdContent){const a=".pdd/temp_prd.md";await this.writeFile(a,e.prdContent),n.PRD_FILE=a}if(e.techStackPath)n.TECH_STACK_FILE=e.techStackPath;else if(e.techStackContent){const a=".pdd/temp_tech_stack.md";await this.writeFile(a,e.techStackContent),n.TECH_STACK_FILE=a}e.appName&&(n.APP_NAME=e.appName);const r=e.outputPath||"architecture.json",s=[];for(const[a,o]of Object.entries(n))s.push(`${a}=${o}`);const i={output:r,template:"architecture/architecture_json",env:s};if(e.globalOptions){const{strength:a,temperature:o,time:u,verbose:d,quiet:p,force:m}=e.globalOptions;a!==void 0&&(i.strength=a),o!==void 0&&(i.temperature=o),u!==void 0&&(i.time=u),d&&(i.verbose=!0),p&&(i.quiet=!0),m&&(i.force=!0)}return this.runCommand({command:"generate",args:{},options:i})}async generatePromptFromArchitecture(e){const{module:n,langOrFramework:r,architectureFile:s,prdFile:i,techStackFile:a,outputPath:o,globalOptions:u}=e,d=[`MODULE=${n}`,`LANG_OR_FRAMEWORK=${r}`,`ARCHITECTURE_FILE=${s||"architecture.json"}`];i&&d.push(`PRD_FILE=${i}`),a&&d.push(`TECH_STACK_FILE=${a}`);const p={template:"generic/generate_prompt",env:d,output:o||`prompts/${n}_${r}.prompt`};if(u){const{strength:m,temperature:g,time:x,verbose:v,quiet:b,force:S}=u;m!==void 0&&(p.strength=m),g!==void 0&&(p.temperature=g),x!==void 0&&(p.time=x),v&&(p.verbose=!0),b&&(p.quiet=!0),S&&(p.force=!0)}return this.runCommand({command:"generate",args:{},options:p})}async batchGeneratePrompts(e,n,r){const s=[],{modules:i,architectureFile:a,prdFile:o,techStackFile:u,globalOptions:d}=e;for(let p=0;p<i.length&&!(r!=null&&r());p++){const{module:m,langOrFramework:g}=i[p];n==null||n(p+1,i.length,m);try{const x=await this.generatePromptFromArchitecture({module:m,langOrFramework:g,architectureFile:a,prdFile:o,techStackFile:u,globalOptions:d});s.push({module:`${m}_${g}`,success:x.success,error:x.success?void 0:x.message})}catch(x){s.push({module:`${m}_${g}`,success:!1,error:x instanceof Error?x.message:String(x)})}}return s}async getJWTToken(){try{return(await this.request("/api/v1/auth/jwt-token")).jwt}catch{return null}}async fetchCloudUrl(){try{return(await this.request("/api/v1/config/cloud-url")).cloud_url}catch(e){return console.warn("Failed to fetch cloud URL from server, using default:",e),"https://us-central1-prompt-driven-development.cloudfunctions.net"}}async getCloudUrl(){return this.cachedCloudUrl||(this.cachedCloudUrl=await this.fetchCloudUrl()),this.cachedCloudUrl}async listRemoteSessions(){const e=await this.getJWTToken();if(!e)throw new Error("Not authenticated. Please run: pdd auth login");const n=await this.getCloudUrl(),r=await fetch(`${n}/listSessions`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const i=await r.json().catch(()=>({error:r.statusText}));throw new Error(i.error||`Failed to list sessions: ${r.status}`)}return(await r.json()).sessions||[]}async submitRemoteCommand(e){const n=await this.getJWTToken();if(!n)throw new Error("Not authenticated. Please run: pdd auth login");const r=await this.getCloudUrl(),s=await fetch(`${r}/submitCommand`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const i=await s.json().catch(()=>({error:s.statusText}));throw new Error(i.error||`Failed to submit command: ${s.status}`)}return await s.json()}async getRemoteCommandStatus(e,n){const r=await this.getJWTToken();if(!r)throw new Error("Not authenticated. Please run: pdd auth login");const s=await this.getCloudUrl(),i=await fetch(`${s}/getCommandStatus?sessionId=${encodeURIComponent(e)}&commandId=${encodeURIComponent(n)}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok){if(i.status===404)return null;const u=await i.json().catch(()=>({error:i.statusText}));throw new Error(u.error||`Failed to get command status: ${i.status}`)}const o=(await i.json()).command;return o?{commandId:o.commandId,type:o.type,status:o.status,createdAt:o.createdAt,updatedAt:o.updatedAt,response:o.response}:null}async cancelRemoteCommand(e){const n=await this.getJWTToken();if(!n)throw new Error("Not authenticated. Please run: pdd auth login");const r=await this.getCloudUrl(),s=await fetch(`${r}/cancelCommand`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const i=await s.json().catch(()=>({error:s.statusText}));throw new Error(i.error||`Failed to cancel command: ${s.status}`)}return s.json()}connectToJobStream(e,n){const r=new WebSocket(`${this.wsBaseUrl}/ws/jobs/${e}/stream`);return r.onmessage=s=>{var i,a,o,u,d,p,m,g;try{const x=JSON.parse(s.data);switch((i=n.onMessage)==null||i.call(n,x.type,x.data),x.type){case"stdout":(a=n.onStdout)==null||a.call(n,x.data);break;case"stderr":(o=n.onStderr)==null||o.call(n,x.data);break;case"progress":(u=n.onProgress)==null||u.call(n,x.current,x.total,x.message);break;case"complete":(g=n.onComplete)==null||g.call(n,(d=x.data)==null?void 0:d.success,(p=x.data)==null?void 0:p.result,((m=x.data)==null?void 0:m.cost)||0);break}}catch(x){console.error("Failed to parse WebSocket message:",x)}},r.onerror=s=>{var i;(i=n.onError)==null||i.call(n,new Error("WebSocket error"))},r.onclose=()=>{var s;(s=n.onClose)==null||s.call(n)},r}sendCancelRequest(e){e.readyState===WebSocket.OPEN&&e.send(JSON.stringify({type:"cancel"}))}}const Ee=new nY,rY=t=>t.trim()?t.length<2?"Name must be at least 2 characters":t.length>50?"Name must be 50 characters or less":/^[a-z][a-z0-9_]*$/.test(t)?null:"Name must start with a letter and contain only lowercase letters, numbers, and underscores":"Name is required",Ij=({onClose:t,onCreate:e,isCreating:n,existingPrompts:r})=>{const[s,i]=_.useState(""),[a,o]=_.useState("python"),[u,d]=_.useState(""),[p,m]=_.useState(null),g=_.useMemo(()=>s.trim()?`prompts/${s.trim()}_${a}.prompt`:"",[s,a]),x=_.useMemo(()=>g?r.some(b=>b.prompt===g):!1,[g,r]),v=async b=>{b.preventDefault(),m(null);const S=rY(s.trim());if(S){m(S);return}if(x){m("A prompt with this name and language already exists");return}const Q=D9(s.trim(),a,u),k={prompt:g,sync_basename:s.trim(),language:a};try{await e({path:g,content:Q,info:k})}catch($){m($.message||"Failed to create prompt")}};return f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:n?void 0:t,role:"dialog","aria-modal":"true","aria-labelledby":"create-prompt-title",children:f.jsxs("div",{className:"bg-gray-800 rounded-none sm:rounded-lg shadow-xl w-full h-full sm:h-auto sm:max-w-lg sm:max-h-[90vh] flex flex-col ring-1 ring-white/10 overflow-y-auto",onClick:b=>b.stopPropagation(),children:[f.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[f.jsx("h2",{id:"create-prompt-title",className:"text-lg font-semibold text-white",children:"Create New Prompt"}),f.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50","aria-label":"Close modal",disabled:n,children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("form",{onSubmit:v,children:[f.jsxs("main",{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"prompt-name",className:"block text-sm font-medium text-gray-300 mb-1.5",children:["Prompt Name ",f.jsx("span",{className:"text-red-400",children:"*"})]}),f.jsx("input",{id:"prompt-name",type:"text",value:s,onChange:b=>i(b.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"calculator",className:"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm transition-shadow duration-200",disabled:n,autoFocus:!0}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and underscores only"})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"prompt-language",className:"block text-sm font-medium text-gray-300 mb-1.5",children:["Language ",f.jsx("span",{className:"text-red-400",children:"*"})]}),f.jsx("select",{id:"prompt-language",value:a,onChange:b=>o(b.target.value),className:"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm transition-shadow duration-200",disabled:n,children:Y9.map(b=>f.jsx("option",{value:b.value,className:"bg-gray-800",children:b.label},b.value))})]}),f.jsxs("div",{children:[f.jsxs("label",{htmlFor:"prompt-description",className:"block text-sm font-medium text-gray-300 mb-1.5",children:["Description ",f.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),f.jsx("textarea",{id:"prompt-description",value:u,onChange:b=>d(b.target.value),placeholder:"handles basic arithmetic operations",rows:2,className:"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm transition-shadow duration-200 resize-none",disabled:n}),f.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Brief description - will be included in the prompt template"})]}),g&&f.jsxs("div",{className:`rounded-md p-3 ${x?"bg-red-900/30 ring-1 ring-red-500/30":"bg-gray-900/50"}`,children:[f.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"File will be created at:"}),f.jsx("p",{className:`font-mono text-sm ${x?"text-red-400":"text-blue-400"}`,children:g}),x&&f.jsx("p",{className:"text-xs text-red-400 mt-1",children:"A prompt with this name already exists"})]}),p&&f.jsx("div",{className:"bg-red-900/30 rounded-md p-3 ring-1 ring-red-500/30",children:f.jsx("p",{className:"text-sm text-red-400",children:p})})]}),f.jsxs("footer",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3 rounded-b-lg",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium bg-gray-600 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-gray-500 transition-colors disabled:opacity-50",disabled:n,children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 transition-colors disabled:opacity-50 flex items-center gap-2",disabled:n||!s.trim()||x,children:n?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{children:"Creating..."})]}):f.jsx("span",{children:"Create & Edit"})})]})]})]})})},sY={python:"bg-blue-500/15 text-blue-300 border-blue-500/30",typescript:"bg-cyan-500/15 text-cyan-300 border-cyan-500/30",javascript:"bg-yellow-500/15 text-yellow-300 border-yellow-500/30",java:"bg-orange-500/15 text-orange-300 border-orange-500/30",go:"bg-teal-500/15 text-teal-300 border-teal-500/30",rust:"bg-red-500/15 text-red-300 border-red-500/30"},iY=({prompt:t,isSelected:e,onSelect:n,onEditPrompt:r})=>{const s=t.language&&sY[t.language]||"bg-surface-700/50 text-surface-300 border-surface-600",i=o=>{o.stopPropagation(),n()},a=o=>{o.stopPropagation(),r()};return f.jsx(f.Fragment,{children:f.jsx("div",{className:`
          glass rounded-xl sm:rounded-2xl border transition-all duration-200 card-hover
          ${e?"border-accent-500/50 shadow-lg shadow-accent-500/10 ring-1 ring-accent-500/20":"border-surface-700/50 hover:border-surface-600"}
        `,children:f.jsxs("div",{className:"p-3 sm:p-4 cursor-pointer",onClick:i,children:[f.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 sm:mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap min-w-0",children:[f.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white truncate",children:t.sync_basename}),t.language&&f.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] sm:text-xs border font-medium ${s}`,children:t.language})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsxs("button",{onClick:a,className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-1.5 transition-all duration-200 bg-surface-700/50 text-surface-300 hover:bg-accent-600 hover:text-white border border-surface-600/50 hover:border-accent-500/50",title:"Open in Prompt Space",children:[f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),f.jsx("span",{className:"hidden sm:inline",children:"Open"})]}),e&&f.jsx("span",{className:"px-2 py-1 rounded-full bg-accent-500/20 text-accent-300 text-[10px] sm:text-xs font-medium border border-accent-500/30",children:"Selected"})]})]}),f.jsx("p",{className:"text-[10px] sm:text-xs text-surface-400 font-mono mb-2 sm:mb-3 truncate",children:t.prompt}),f.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[f.jsx(Eh,{label:"Prompt",path:t.prompt,exists:!0,color:"purple"}),f.jsx(Eh,{label:"Code",path:t.code,exists:!!t.code,color:"green"}),f.jsx(Eh,{label:"Test",path:t.test,exists:!!t.test,color:"yellow"}),f.jsx(Eh,{label:"Example",path:t.example,exists:!!t.example,color:"blue"})]})]})})})},Eh=({label:t,path:e,exists:n,color:r})=>{const s={purple:n?"bg-purple-500/15 text-purple-300 border-purple-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50",green:n?"bg-green-500/15 text-green-300 border-green-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50",yellow:n?"bg-yellow-500/15 text-yellow-300 border-yellow-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50",blue:n?"bg-blue-500/15 text-blue-300 border-blue-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50"};return f.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 rounded-md text-[10px] sm:text-xs border font-medium ${s[r]}`,title:e||`No ${t.toLowerCase()} file`,children:[f.jsx("span",{className:n?"text-green-400":"text-surface-500",children:n?"":""}),f.jsx("span",{children:t})]})},aY=({onSelectPrompt:t,onEditPrompt:e,onCreatePrompt:n,selectedPrompt:r})=>{const[s,i]=_.useState([]),[a,o]=_.useState(!0),[u,d]=_.useState(null),[p,m]=_.useState(""),[g,x]=_.useState(!1),[v,b]=_.useState(!1),S=_.useMemo(()=>{if(!p.trim())return s;const $=p.toLowerCase();return s.filter(T=>T.sync_basename.toLowerCase().includes($)||T.prompt.toLowerCase().includes($)||T.language&&T.language.toLowerCase().includes($))},[s,p]);_.useEffect(()=>{Q()},[]);const Q=async()=>{o(!0),d(null);try{const $=await Ee.listPrompts();i($)}catch($){d($.message||"Failed to load prompts")}finally{o(!1)}},k=async $=>{b(!0);try{await Ee.writeFile($.path,$.content),await Q(),x(!1),n&&n($.info)}catch(T){throw new Error(T.message||"Failed to create prompt")}finally{b(!1)}};return a?f.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-20",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center mb-4",children:f.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),f.jsx("div",{className:"text-surface-400 text-sm",children:"Loading prompts..."})]}):u?f.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-20",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center mb-4",children:f.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("div",{className:"text-red-400 mb-2 text-center",children:u}),f.jsx("button",{onClick:Q,className:"px-4 py-2 bg-surface-700/50 hover:bg-surface-600 rounded-xl text-sm text-white transition-colors border border-surface-600",children:"Try Again"})]}):s.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-20",children:[f.jsx("div",{className:"w-14 h-14 rounded-2xl bg-surface-700/50 flex items-center justify-center mb-5",children:f.jsx("svg",{className:"w-7 h-7 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),f.jsx("div",{className:"text-surface-200 mb-2 font-semibold text-lg",children:"No prompts found"}),f.jsxs("p",{className:"text-surface-500 text-sm text-center mb-6 max-w-sm",children:["Get started by creating your first prompt, or add ",f.jsx("code",{className:"bg-surface-800/80 px-1.5 py-0.5 rounded text-accent-300",children:".prompt"})," files to the ",f.jsx("code",{className:"bg-surface-800/80 px-1.5 py-0.5 rounded text-accent-300",children:"prompts/"})," directory."]}),f.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white rounded-xl font-medium shadow-lg shadow-accent-500/25 transition-all",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Prompt"]}),g&&f.jsx(Ij,{onClose:()=>x(!1),onCreate:k,isCreating:v,existingPrompts:s})]}):f.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white flex items-center gap-2",children:[f.jsx("span",{className:"hidden sm:inline",children:"Your Prompts"}),f.jsx("span",{className:"sm:hidden",children:"Prompts"}),f.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-accent-500/20 text-accent-300 text-xs font-medium",children:[S.length,p?`/${s.length}`:""]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 text-xs sm:text-sm bg-accent-600 hover:bg-accent-500 text-white rounded-lg transition-colors",title:"Create new prompt",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),f.jsx("span",{className:"hidden sm:inline",children:"New"})]}),f.jsxs("button",{onClick:Q,className:"flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 text-xs sm:text-sm text-surface-400 hover:text-white bg-surface-800/50 hover:bg-surface-700 rounded-lg transition-colors border border-surface-700/50",title:"Refresh",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Search prompts...",value:p,onChange:$=>m($.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 pl-9 sm:pl-11 bg-surface-800/50 border border-surface-600/50 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm sm:text-base transition-all"}),f.jsx("span",{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-surface-400",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),p&&f.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-400 hover:text-white p-1 rounded-lg hover:bg-surface-700/50 transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-700/50 flex items-center justify-center mb-3",children:f.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),f.jsxs("div",{className:"text-surface-400 text-sm text-center",children:['No prompts matching "',f.jsx("span",{className:"text-white",children:p}),'"']})]}):f.jsx("div",{className:"grid gap-3 sm:gap-4",children:S.map($=>f.jsx(iY,{prompt:$,isSelected:(r==null?void 0:r.prompt)===$.prompt,onSelect:()=>t($),onEditPrompt:()=>e($)},$.prompt))}),g&&f.jsx(Ij,{onClose:()=>x(!1),onCreate:k,isCreating:v,existingPrompts:s})]})};let NS=[],sM=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?sM:NS).push(n=n+t[e])})();function lY(t){if(t<768)return!1;for(let e=0,n=NS.length;;){let r=e+n>>1;if(t<NS[r])n=r;else if(t>=sM[r])e=r+1;else return!0;if(e==n)return!1}}function Hj(t){return t>=127462&&t<=127487}const Fj=8205;function oY(t,e,n=!0,r=!0){return(n?iM:cY)(t,e,r)}function iM(t,e,n){if(e==t.length)return e;e&&aM(t.charCodeAt(e))&&lM(t.charCodeAt(e-1))&&e--;let r=Ig(t,e);for(e+=Kj(r);e<t.length;){let s=Ig(t,e);if(r==Fj||s==Fj||n&&lY(s))e+=Kj(s),r=s;else if(Hj(s)){let i=0,a=e-2;for(;a>=0&&Hj(Ig(t,a));)i++,a-=2;if(i%2==0)break;e+=2}else break}return e}function cY(t,e,n){for(;e>0;){let r=iM(t,e-2,n);if(r<e)return r;e--}return 0}function Ig(t,e){let n=t.charCodeAt(e);if(!lM(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return aM(r)?(n-55296<<10)+(r-56320)+65536:n}function aM(t){return t>=56320&&t<57344}function lM(t){return t>=55296&&t<56320}function Kj(t){return t<65536?1:2}class pt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=pc(this,e,n);let s=[];return this.decompose(0,e,s,2),r.length&&r.decompose(0,r.length,s,3),this.decompose(n,this.length,s,1),Us.from(s,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=pc(this,e,n);let r=[];return this.decompose(e,n,r,0),Us.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),s=new ff(this),i=new ff(e);for(let a=n,o=n;;){if(s.next(a),i.next(a),a=0,s.lineBreak!=i.lineBreak||s.done!=i.done||s.value!=i.value)return!1;if(o+=s.value.length,s.done||o>=r)return!0}}iter(e=1){return new ff(this,e)}iterRange(e,n=this.length){return new oM(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let s=this.line(e).from;r=this.iterRange(s,Math.max(s,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new cM(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?pt.empty:e.length<=32?new xn(e):Us.from(xn.split(e,[]))}}class xn extends pt{constructor(e,n=uY(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,s){for(let i=0;;i++){let a=this.text[i],o=s+a.length;if((n?r:o)>=e)return new fY(s,o,r,a);s=o+1,r++}}decompose(e,n,r,s){let i=e<=0&&n>=this.length?this:new xn(Jj(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(s&1){let a=r.pop(),o=wp(i.text,a.text.slice(),0,i.length);if(o.length<=32)r.push(new xn(o,a.length+i.length));else{let u=o.length>>1;r.push(new xn(o.slice(0,u)),new xn(o.slice(u)))}}else r.push(i)}replace(e,n,r){if(!(r instanceof xn))return super.replace(e,n,r);[e,n]=pc(this,e,n);let s=wp(this.text,wp(r.text,Jj(this.text,0,e)),n),i=this.length+r.length-(n-e);return s.length<=32?new xn(s,i):Us.from(xn.split(s,[]),i)}sliceString(e,n=this.length,r=`
`){[e,n]=pc(this,e,n);let s="";for(let i=0,a=0;i<=n&&a<this.text.length;a++){let o=this.text[a],u=i+o.length;i>e&&a&&(s+=r),e<u&&n>i&&(s+=o.slice(Math.max(0,e-i),n-i)),i=u+1}return s}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],s=-1;for(let i of e)r.push(i),s+=i.length+1,r.length==32&&(n.push(new xn(r,s)),r=[],s=-1);return s>-1&&n.push(new xn(r,s)),n}}class Us extends pt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,s){for(let i=0;;i++){let a=this.children[i],o=s+a.length,u=r+a.lines-1;if((n?u:o)>=e)return a.lineInner(e,n,r,s);s=o+1,r=u+1}}decompose(e,n,r,s){for(let i=0,a=0;a<=n&&i<this.children.length;i++){let o=this.children[i],u=a+o.length;if(e<=u&&n>=a){let d=s&((a<=e?1:0)|(u>=n?2:0));a>=e&&u<=n&&!d?r.push(o):o.decompose(e-a,n-a,r,d)}a=u+1}}replace(e,n,r){if([e,n]=pc(this,e,n),r.lines<this.lines)for(let s=0,i=0;s<this.children.length;s++){let a=this.children[s],o=i+a.length;if(e>=i&&n<=o){let u=a.replace(e-i,n-i,r),d=this.lines-a.lines+u.lines;if(u.lines<d>>4&&u.lines>d>>6){let p=this.children.slice();return p[s]=u,new Us(p,this.length-(n-e)+r.length)}return super.replace(i,o,u)}i=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=pc(this,e,n);let s="";for(let i=0,a=0;i<this.children.length&&a<=n;i++){let o=this.children[i],u=a+o.length;a>e&&i&&(s+=r),e<u&&n>a&&(s+=o.sliceString(e-a,n-a,r)),a=u+1}return s}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Us))return 0;let r=0,[s,i,a,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=n,i+=n){if(s==a||i==o)return r;let u=this.children[s],d=e.children[i];if(u!=d)return r+u.scanIdentical(d,n);r+=u.length+1}}static from(e,n=e.reduce((r,s)=>r+s.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let v of e)v.flatten(x);return new xn(x,n)}let s=Math.max(32,r>>5),i=s<<1,a=s>>1,o=[],u=0,d=-1,p=[];function m(x){let v;if(x.lines>i&&x instanceof Us)for(let b of x.children)m(b);else x.lines>a&&(u>a||!u)?(g(),o.push(x)):x instanceof xn&&u&&(v=p[p.length-1])instanceof xn&&x.lines+v.lines<=32?(u+=x.lines,d+=x.length+1,p[p.length-1]=new xn(v.text.concat(x.text),v.length+1+x.length)):(u+x.lines>s&&g(),u+=x.lines,d+=x.length+1,p.push(x))}function g(){u!=0&&(o.push(p.length==1?p[0]:Us.from(p,d)),d=-1,u=p.length=0)}for(let x of e)m(x);return g(),o.length==1?o[0]:new Us(o,n)}}pt.empty=new xn([""],0);function uY(t){let e=-1;for(let n of t)e+=n.length+1;return e}function wp(t,e,n=0,r=1e9){for(let s=0,i=0,a=!0;i<t.length&&s<=r;i++){let o=t[i],u=s+o.length;u>=n&&(u>r&&(o=o.slice(0,r-s)),s<n&&(o=o.slice(n-s)),a?(e[e.length-1]+=o,a=!1):e.push(o)),s=u+1}return e}function Jj(t,e,n){return wp(t,[""],e,n)}class ff{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof xn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,s=this.nodes[r],i=this.offsets[r],a=i>>1,o=s instanceof xn?s.text.length:s.children.length;if(a==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof xn){let u=s.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=s.children[a+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof xn?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class oM{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new ff(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*n,this.value=s.length<=r?s:n<0?s.slice(s.length-r):s.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class cM{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:s}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(pt.prototype[Symbol.iterator]=function(){return this.iter()},ff.prototype[Symbol.iterator]=oM.prototype[Symbol.iterator]=cM.prototype[Symbol.iterator]=function(){return this});let fY=class{constructor(e,n,r,s){this.from=e,this.to=n,this.number=r,this.text=s}get length(){return this.to-this.from}};function pc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Dn(t,e,n=!0,r=!0){return oY(t,e,n,r)}function dY(t){return t>=56320&&t<57344}function hY(t){return t>=55296&&t<56320}function Ol(t,e){let n=t.charCodeAt(e);if(!hY(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return dY(r)?(n-55296<<10)+(r-56320)+65536:n}function pY(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Do(t){return t<65536?1:2}const CS=/\r\n?|\n/;var nr=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(nr||(nr={}));class Ks{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,s=0;n<this.sections.length;){let i=this.sections[n++],a=this.sections[n++];a<0?(e(r,s,i),s+=i):s+=a,r+=i}}iterChangedRanges(e,n=!1){RS(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],s=this.sections[n++];s<0?e.push(r,s):e.push(s,r)}return new Ks(e)}composeDesc(e){return this.empty?e:e.empty?this:uM(this,e)}mapDesc(e,n=!1){return e.empty?this:ES(this,e,n)}mapPos(e,n=-1,r=nr.Simple){let s=0,i=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],u=this.sections[a++],d=s+o;if(u<0){if(d>e)return i+(e-s);i+=o}else{if(r!=nr.Simple&&d>=e&&(r==nr.TrackDel&&s<e&&d>e||r==nr.TrackBefore&&s<e||r==nr.TrackAfter&&d>e))return null;if(d>e||d==e&&n<0&&!o)return e==s||n<0?i:i+u;i+=u}s=d}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return i}touchesRange(e,n=e){for(let r=0,s=0;r<this.sections.length&&s<=n;){let i=this.sections[r++],a=this.sections[r++],o=s+i;if(a>=0&&s<=n&&o>=e)return s<e&&o>n?"cover":!0;s=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],s=this.sections[n++];e+=(e?" ":"")+r+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ks(e)}static create(e){return new Ks(e)}}class Pn extends Ks{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return RS(this,(n,r,s,i,a)=>e=e.replace(s,s+(r-n),a),!1),e}mapDesc(e,n=!1){return ES(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let s=0,i=0;s<n.length;s+=2){let a=n[s],o=n[s+1];if(o>=0){n[s]=o,n[s+1]=a;let u=s>>1;for(;r.length<u;)r.push(pt.empty);r.push(a?e.slice(i,i+a):pt.empty)}i+=a}return new Pn(n,r)}compose(e){return this.empty?e:e.empty?this:uM(this,e,!0)}map(e,n=!1){return e.empty?this:ES(this,e,n,!0)}iterChanges(e,n=!1){RS(this,e,n)}get desc(){return Ks.create(this.sections)}filter(e){let n=[],r=[],s=[],i=new Sf(this);e:for(let a=0,o=0;;){let u=a==e.length?1e9:e[a++];for(;o<u||o==u&&i.len==0;){if(i.done)break e;let p=Math.min(i.len,u-o);In(s,p,-1);let m=i.ins==-1?-1:i.off==0?i.ins:0;In(n,p,m),m>0&&Ca(r,n,i.text),i.forward(p),o+=p}let d=e[a++];for(;o<d;){if(i.done)break e;let p=Math.min(i.len,d-o);In(n,p,-1),In(s,p,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(p),o+=p}}return{changes:new Pn(n,r),filtered:Ks.create(s)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],s=this.sections[n+1];s<0?e.push(r):s==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let s=[],i=[],a=0,o=null;function u(p=!1){if(!p&&!s.length)return;a<n&&In(s,n-a,-1);let m=new Pn(s,i);o=o?o.compose(m.map(o)):m,s=[],i=[],a=0}function d(p){if(Array.isArray(p))for(let m of p)d(m);else if(p instanceof Pn){if(p.length!=n)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${n})`);u(),o=o?o.compose(p.map(o)):p}else{let{from:m,to:g=m,insert:x}=p;if(m>g||m<0||g>n)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${n})`);let v=x?typeof x=="string"?pt.of(x.split(r||CS)):x:pt.empty,b=v.length;if(m==g&&b==0)return;m<a&&u(),m>a&&In(s,m-a,-1),In(s,g-m,b),Ca(i,s,v),a=g}}return d(e),u(!o),o}static empty(e){return new Pn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let s=0;s<e.length;s++){let i=e[s];if(typeof i=="number")n.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)n.push(i[0],0);else{for(;r.length<s;)r.push(pt.empty);r[s]=pt.of(i.slice(1)),n.push(i[0],r[s].length)}}}return new Pn(n,r)}static createSet(e,n){return new Pn(e,n)}}function In(t,e,n,r=!1){if(e==0&&n<=0)return;let s=t.length-2;s>=0&&n<=0&&n==t[s+1]?t[s]+=e:s>=0&&e==0&&t[s]==0?t[s+1]+=n:r?(t[s]+=e,t[s+1]+=n):t.push(e,n)}function Ca(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(pt.empty);t.push(n)}}function RS(t,e,n){let r=t.inserted;for(let s=0,i=0,a=0;a<t.sections.length;){let o=t.sections[a++],u=t.sections[a++];if(u<0)s+=o,i+=o;else{let d=s,p=i,m=pt.empty;for(;d+=o,p+=u,u&&r&&(m=m.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)o=t.sections[a++],u=t.sections[a++];e(s,d,i,p,m),s=d,i=p}}}function ES(t,e,n,r=!1){let s=[],i=r?[]:null,a=new Sf(t),o=new Sf(e);for(let u=-1;;){if(a.done&&o.len||o.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&o.ins==-1){let d=Math.min(a.len,o.len);In(s,d,-1),a.forward(d),o.forward(d)}else if(o.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!n))){let d=o.len;for(In(s,o.ins,-1);d;){let p=Math.min(a.len,d);a.ins>=0&&u<a.i&&a.len<=p&&(In(s,0,a.ins),i&&Ca(i,s,a.text),u=a.i),a.forward(p),d-=p}o.next()}else if(a.ins>=0){let d=0,p=a.len;for(;p;)if(o.ins==-1){let m=Math.min(p,o.len);d+=m,p-=m,o.forward(m)}else if(o.ins==0&&o.len<p)p-=o.len,o.next();else break;In(s,d,u<a.i?a.ins:0),i&&u<a.i&&Ca(i,s,a.text),u=a.i,a.forward(a.len-p)}else{if(a.done&&o.done)return i?Pn.createSet(s,i):Ks.create(s);throw new Error("Mismatched change set lengths")}}}function uM(t,e,n=!1){let r=[],s=n?[]:null,i=new Sf(t),a=new Sf(e);for(let o=!1;;){if(i.done&&a.done)return s?Pn.createSet(r,s):Ks.create(r);if(i.ins==0)In(r,i.len,0,o),i.next();else if(a.len==0&&!a.done)In(r,0,a.ins,o),s&&Ca(s,r,a.text),a.next();else{if(i.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(i.len2,a.len),d=r.length;if(i.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;In(r,u,p,o),s&&p&&Ca(s,r,a.text)}else a.ins==-1?(In(r,i.off?0:i.len,u,o),s&&Ca(s,r,i.textBit(u))):(In(r,i.off?0:i.len,a.off?0:a.ins,o),s&&!a.off&&Ca(s,r,a.text));o=(i.ins>u||a.ins>=0&&a.len>u)&&(o||r.length>d),i.forward2(u),a.forward(u)}}}}class Sf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?pt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?pt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Ql{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,s;return this.empty?r=s=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),r==this.from&&s==this.to?this:new Ql(r,s,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return we.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return we.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return we.range(e.anchor,e.head)}static create(e,n,r){return new Ql(e,n,r)}}class we{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:we.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new we([this.main],0)}addRange(e,n=!0){return we.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,we.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new we(e.ranges.map(n=>Ql.fromJSON(n)),e.main)}static single(e,n=e){return new we([we.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,s=0;s<e.length;s++){let i=e[s];if(i.empty?i.from<=r:i.from<r)return we.normalized(e.slice(),n);r=i.to}return new we(e,n)}static cursor(e,n=0,r,s){return Ql.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(s??16777215)<<6)}static range(e,n,r,s){let i=(r??16777215)<<6|(s==null?7:Math.min(6,s));return n<e?Ql.create(n,e,48|i):Ql.create(e,n,(n>e?8:0)|i)}static normalized(e,n=0){let r=e[n];e.sort((s,i)=>s.from-i.from),n=e.indexOf(r);for(let s=1;s<e.length;s++){let i=e[s],a=e[s-1];if(i.empty?i.from<=a.to:i.from<a.to){let o=a.from,u=Math.max(i.to,a.to);s<=n&&n--,e.splice(--s,2,i.anchor>i.head?we.range(u,o):we.range(o,u))}}return new we(e,n)}}function fM(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let fQ=0;class Me{constructor(e,n,r,s,i){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=s,this.id=fQ++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new Me(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:dQ),!!e.static,e.enables)}of(e){return new Sp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Sp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Sp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function dQ(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Sp{constructor(e,n,r,s){this.dependencies=e,this.facet=n,this.type=r,this.value=s,this.id=fQ++}dynamicSlot(e){var n;let r=this.value,s=this.facet.compareInput,i=this.id,a=e[i]>>1,o=this.type==2,u=!1,d=!1,p=[];for(let m of this.dependencies)m=="doc"?u=!0:m=="selection"?d=!0:(((n=e[m.id])!==null&&n!==void 0?n:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[a]=r(m),1},update(m,g){if(u&&g.docChanged||d&&(g.docChanged||g.selection)||AS(m,p)){let x=r(m);if(o?!e_(x,m.values[a],s):!s(x,m.values[a]))return m.values[a]=x,1}return 0},reconfigure:(m,g)=>{let x,v=g.config.address[i];if(v!=null){let b=Bp(g,v);if(this.dependencies.every(S=>S instanceof Me?g.facet(S)===m.facet(S):S instanceof ni?g.field(S,!1)==m.field(S,!1):!0)||(o?e_(x=r(m),b,s):s(x=r(m),b)))return m.values[a]=b,0}else x=r(m);return m.values[a]=x,1}}}}function e_(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function AS(t,e){let n=!1;for(let r of e)df(t,r)&1&&(n=!0);return n}function mY(t,e,n){let r=n.map(u=>t[u.id]),s=n.map(u=>u.type),i=r.filter(u=>!(u&1)),a=t[e.id]>>1;function o(u){let d=[];for(let p=0;p<r.length;p++){let m=Bp(u,r[p]);if(s[p]==2)for(let g of m)d.push(g);else d.push(m)}return e.combine(d)}return{create(u){for(let d of r)df(u,d);return u.values[a]=o(u),1},update(u,d){if(!AS(u,i))return 0;let p=o(u);return e.compare(p,u.values[a])?0:(u.values[a]=p,1)},reconfigure(u,d){let p=AS(u,r),m=d.config.facets[e.id],g=d.facet(e);if(m&&!p&&dQ(n,m))return u.values[a]=g,0;let x=o(u);return e.compare(x,g)?(u.values[a]=g,0):(u.values[a]=x,1)}}}const Ah=Me.define({static:!0});class ni{constructor(e,n,r,s,i){this.id=e,this.createF=n,this.updateF=r,this.compareF=s,this.spec=i,this.provides=void 0}static define(e){let n=new ni(fQ++,e.create,e.update,e.compare||((r,s)=>r===s),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Ah).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,s)=>{let i=r.values[n],a=this.updateF(i,s);return this.compareF(i,a)?0:(r.values[n]=a,1)},reconfigure:(r,s)=>{let i=r.facet(Ah),a=s.facet(Ah),o;return(o=i.find(u=>u.field==this))&&o!=a.find(u=>u.field==this)?(r.values[n]=o.create(r),1):s.config.address[this.id]!=null?(r.values[n]=s.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,Ah.of({field:this,create:e})]}get extension(){return this}}const yl={lowest:4,low:3,default:2,high:1,highest:0};function qu(t){return e=>new dM(e,t)}const Bl={highest:qu(yl.highest),high:qu(yl.high),default:qu(yl.default),low:qu(yl.low),lowest:qu(yl.lowest)};class dM{constructor(e,n){this.inner=e,this.prec=n}}class Kf{of(e){return new qS(this,e)}reconfigure(e){return Kf.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class qS{constructor(e,n){this.compartment=e,this.inner=n}}class Dp{constructor(e,n,r,s,i,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=s,this.staticValues=i,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let s=[],i=Object.create(null),a=new Map;for(let g of OY(e,n,a))g instanceof ni?s.push(g):(i[g.facet.id]||(i[g.facet.id]=[])).push(g);let o=Object.create(null),u=[],d=[];for(let g of s)o[g.id]=d.length<<1,d.push(x=>g.slot(x));let p=r==null?void 0:r.config.facets;for(let g in i){let x=i[g],v=x[0].facet,b=p&&p[g]||[];if(x.every(S=>S.type==0))if(o[v.id]=u.length<<1|1,dQ(b,x))u.push(r.facet(v));else{let S=v.combine(x.map(Q=>Q.value));u.push(r&&v.compare(S,r.facet(v))?r.facet(v):S)}else{for(let S of x)S.type==0?(o[S.id]=u.length<<1|1,u.push(S.value)):(o[S.id]=d.length<<1,d.push(Q=>S.dynamicSlot(Q)));o[v.id]=d.length<<1,d.push(S=>mY(S,v,x))}}let m=d.map(g=>g(o));return new Dp(e,a,m,o,u,i)}}function OY(t,e,n){let r=[[],[],[],[],[]],s=new Map;function i(a,o){let u=s.get(a);if(u!=null){if(u<=o)return;let d=r[u].indexOf(a);d>-1&&r[u].splice(d,1),a instanceof qS&&n.delete(a.compartment)}if(s.set(a,o),Array.isArray(a))for(let d of a)i(d,o);else if(a instanceof qS){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let d=e.get(a.compartment)||a.inner;n.set(a.compartment,d),i(d,o)}else if(a instanceof dM)i(a.inner,a.prec);else if(a instanceof ni)r[o].push(a),a.provides&&i(a.provides,o);else if(a instanceof Sp)r[o].push(a),a.facet.extensions&&i(a.facet.extensions,yl.default);else{let d=a.extension;if(!d)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(d,o)}}return i(t,yl.default),r.reduce((a,o)=>a.concat(o))}function df(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let s=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|s}function Bp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const hM=Me.define(),MS=Me.define({combine:t=>t.some(e=>e),static:!0}),pM=Me.define({combine:t=>t.length?t[0]:void 0,static:!0}),mM=Me.define(),OM=Me.define(),gM=Me.define(),xM=Me.define({combine:t=>t.length?t[0]:!1});class Bi{constructor(e,n){this.type=e,this.value=n}static define(){return new gY}}class gY{of(e){return new Bi(this,e)}}class xY{constructor(e){this.map=e}of(e){return new At(this,e)}}class At{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new At(this.type,n)}is(e){return this.type==e}static define(e={}){return new xY(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let s of e){let i=s.map(n);i&&r.push(i)}return r}}At.reconfigure=At.define();At.appendConfig=At.define();class kn{constructor(e,n,r,s,i,a){this.startState=e,this.changes=n,this.selection=r,this.effects=s,this.annotations=i,this.scrollIntoView=a,this._doc=null,this._state=null,r&&fM(r,n.newLength),i.some(o=>o.type==kn.time)||(this.annotations=i.concat(kn.time.of(Date.now())))}static create(e,n,r,s,i,a){return new kn(e,n,r,s,i,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(kn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}kn.time=Bi.define();kn.userEvent=Bi.define();kn.addToHistory=Bi.define();kn.remote=Bi.define();function yY(t,e){let n=[];for(let r=0,s=0;;){let i,a;if(r<t.length&&(s==e.length||e[s]>=t[r]))i=t[r++],a=t[r++];else if(s<e.length)i=e[s++],a=e[s++];else return n;!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function yM(t,e,n){var r;let s,i,a;return n?(s=e.changes,i=Pn.empty(e.changes.length),a=t.changes.compose(e.changes)):(s=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(s)),{changes:a,selection:e.selection?e.selection.map(i):(r=t.selection)===null||r===void 0?void 0:r.map(s),effects:At.mapEffects(t.effects,s).concat(At.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function XS(t,e,n){let r=e.selection,s=nc(e.annotations);return e.userEvent&&(s=s.concat(kn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Pn?e.changes:Pn.of(e.changes||[],n,t.facet(pM)),selection:r&&(r instanceof we?r:we.single(r.anchor,r.head)),effects:nc(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function bM(t,e,n){let r=XS(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(n=!1);let a=!!e[i].sequential;r=yM(r,XS(t,e[i],a?r.changes.newLength:t.doc.length),a)}let s=kn.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return vY(n?bY(s):s)}function bY(t){let e=t.startState,n=!0;for(let s of e.facet(mM)){let i=s(t);if(i===!1){n=!1;break}Array.isArray(i)&&(n=n===!0?i:yY(n,i))}if(n!==!0){let s,i;if(n===!1)i=t.changes.invertedDesc,s=Pn.empty(e.doc.length);else{let a=t.changes.filter(n);s=a.changes,i=a.filtered.mapDesc(a.changes).invertedDesc}t=kn.create(e,s,t.selection&&t.selection.map(i),At.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(OM);for(let s=r.length-1;s>=0;s--){let i=r[s](t);i instanceof kn?t=i:Array.isArray(i)&&i.length==1&&i[0]instanceof kn?t=i[0]:t=bM(e,nc(i),!1)}return t}function vY(t){let e=t.startState,n=e.facet(gM),r=t;for(let s=n.length-1;s>=0;s--){let i=n[s](t);i&&Object.keys(i).length&&(r=yM(r,XS(e,i,t.changes.newLength),!0))}return r==t?t:kn.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const wY=[];function nc(t){return t==null?wY:Array.isArray(t)?t:[t]}var Ei=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Ei||(Ei={}));const SY=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zS;try{zS=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function QY(t){if(zS)return zS.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||SY.test(n)))return!0}return!1}function kY(t){return e=>{if(!/\S/.test(e))return Ei.Space;if(QY(e))return Ei.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ei.Word;return Ei.Other}}class gt{constructor(e,n,r,s,i,a){this.config=e,this.doc=n,this.selection=r,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=i,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)df(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return df(this,r),Bp(this,r)}update(...e){return bM(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:s}=n;for(let o of e.effects)o.is(Kf.reconfigure)?(n&&(s=new Map,n.compartments.forEach((u,d)=>s.set(d,u)),n=null),s.set(o.value.compartment,o.value.extension)):o.is(At.reconfigure)?(n=null,r=o.value):o.is(At.appendConfig)&&(n=null,r=nc(r).concat(o.value));let i;n?i=e.startState.values.slice():(n=Dp.resolve(r,s,this),i=new gt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,d)=>d.reconfigure(u,this),null).values);let a=e.startState.facet(MS)?e.newSelection:e.newSelection.asSingle();new gt(n,e.newDoc,a,i,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:we.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),s=this.changes(r.changes),i=[r.range],a=nc(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),d=this.changes(u.changes),p=d.map(s);for(let g=0;g<o;g++)i[g]=i[g].map(p);let m=s.mapDesc(d,!0);i.push(u.range.map(m)),s=s.compose(p),a=At.mapEffects(a,p).concat(At.mapEffects(nc(u.effects),m))}return{changes:s,selection:we.create(i,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Pn?e:Pn.of(e,this.doc.length,this.facet(gt.lineSeparator))}toText(e){return pt.of(e.split(this.facet(gt.lineSeparator)||CS))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(df(this,n),Bp(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let s=e[r];s instanceof ni&&this.config.address[s.id]!=null&&(n[r]=s.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r){for(let i in r)if(Object.prototype.hasOwnProperty.call(e,i)){let a=r[i],o=e[i];s.push(a.init(u=>a.spec.fromJSON(o,u)))}}return gt.create({doc:e.doc,selection:we.fromJSON(e.selection),extensions:n.extensions?s.concat([n.extensions]):s})}static create(e={}){let n=Dp.resolve(e.extensions||[],new Map),r=e.doc instanceof pt?e.doc:pt.of((e.doc||"").split(n.staticFacet(gt.lineSeparator)||CS)),s=e.selection?e.selection instanceof we?e.selection:we.single(e.selection.anchor,e.selection.head):we.single(0);return fM(s,r.length),n.staticFacet(MS)||(s=s.asSingle()),new gt(n,r,s,n.dynamicSlots.map(()=>null),(i,a)=>a.create(i),null)}get tabSize(){return this.facet(gt.tabSize)}get lineBreak(){return this.facet(gt.lineSeparator)||`
`}get readOnly(){return this.facet(xM)}phrase(e,...n){for(let r of this.facet(gt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,s)=>{if(s=="$")return"$";let i=+(s||1);return!i||i>n.length?r:n[i-1]})),e}languageDataAt(e,n,r=-1){let s=[];for(let i of this.facet(hM))for(let a of i(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&s.push(a[e]);return s}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return kY(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:s}=this.doc.lineAt(e),i=this.charCategorizer(e),a=e-r,o=e-r;for(;a>0;){let u=Dn(n,a,!1);if(i(n.slice(u,a))!=Ei.Word)break;a=u}for(;o<s;){let u=Dn(n,o);if(i(n.slice(o,u))!=Ei.Word)break;o=u}return a==o?null:we.range(a+r,o+r)}}gt.allowMultipleSelections=MS;gt.tabSize=Me.define({combine:t=>t.length?t[0]:4});gt.lineSeparator=pM;gt.readOnly=xM;gt.phrases=Me.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(s=>t[s]==e[s])}});gt.languageData=hM;gt.changeFilter=mM;gt.transactionFilter=OM;gt.transactionExtender=gM;Kf.reconfigure=At.define();function hQ(t,e,n={}){let r={};for(let s of t)for(let i of Object.keys(s)){let a=s[i],o=r[i];if(o===void 0)r[i]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(n,i))r[i]=n[i](o,a);else throw new Error("Config merge conflict for field "+i)}for(let s in e)r[s]===void 0&&(r[s]=e[s]);return r}class Xa{eq(e){return this==e}range(e,n=e){return LS.create(e,n,this)}}Xa.prototype.startSide=Xa.prototype.endSide=0;Xa.prototype.point=!1;Xa.prototype.mapMode=nr.TrackDel;function pQ(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let LS=class vM{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new vM(e,n,r)}};function ZS(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class mQ{constructor(e,n,r,s){this.from=e,this.to=n,this.value=r,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,s=0){let i=r?this.to:this.from;for(let a=s,o=i.length;;){if(a==o)return a;let u=a+o>>1,d=i[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==a)return d>=0?a:o;d>=0?o=u:a=u+1}}between(e,n,r,s){for(let i=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,i);i<a;i++)if(s(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,n){let r=[],s=[],i=[],a=-1,o=-1;for(let u=0;u<this.value.length;u++){let d=this.value[u],p=this.from[u]+e,m=this.to[u]+e,g,x;if(p==m){let v=n.mapPos(p,d.startSide,d.mapMode);if(v==null||(g=x=v,d.startSide!=d.endSide&&(x=n.mapPos(p,d.endSide),x<g)))continue}else if(g=n.mapPos(p,d.startSide),x=n.mapPos(m,d.endSide),g>x||g==x&&d.startSide>0&&d.endSide<=0)continue;(x-g||d.endSide-d.startSide)<0||(a<0&&(a=g),d.point&&(o=Math.max(o,x-g)),r.push(d),s.push(g-a),i.push(x-a))}return{mapped:r.length?new mQ(s,i,r,o):null,pos:a}}}class ht{constructor(e,n,r,s){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=s}static create(e,n,r,s){return new ht(e,n,r,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:s=0,filterTo:i=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(ZS)),this.isEmpty)return n.length?ht.of(n):this;let o=new wM(this,null,-1).goto(0),u=0,d=[],p=new Qf;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let m=n[u++];p.addInner(m.from,m.to,m.value)||d.push(m)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!a||s>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&p.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||s>o.to||i<o.from||a(o.from,o.to,o.value))&&(p.addInner(o.from,o.to,o.value)||d.push(LS.create(o.from,o.to,o.value))),o.next());return p.finishInner(this.nextLayer.isEmpty&&!d.length?ht.empty:this.nextLayer.update({add:d,filter:a,filterFrom:s,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],s=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],u=this.chunk[a],d=e.touchesRange(o,o+u.length);if(d===!1)s=Math.max(s,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(d===!0){let{mapped:p,pos:m}=u.map(o,e);p&&(s=Math.max(s,p.maxPoint),n.push(p),r.push(m))}}let i=this.nextLayer.map(e);return n.length==0?i:new ht(r,n,i||ht.empty,s)}between(e,n,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let i=this.chunkPos[s],a=this.chunk[s];if(n>=i&&e<=i+a.length&&a.between(i,e-i,n-i,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return kf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return kf.from(e).goto(n)}static compare(e,n,r,s,i=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=i),o=n.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=i),u=t_(a,o,r),d=new Mu(a,u,i),p=new Mu(o,u,i);r.iterGaps((m,g,x)=>n_(d,m,p,g,x,s)),r.empty&&r.length==0&&n_(d,0,p,0,0,s)}static eq(e,n,r=0,s){s==null&&(s=999999999);let i=e.filter(p=>!p.isEmpty&&n.indexOf(p)<0),a=n.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(i.length!=a.length)return!1;if(!i.length)return!0;let o=t_(i,a),u=new Mu(i,o,0).goto(r),d=new Mu(a,o,0).goto(r);for(;;){if(u.to!=d.to||!VS(u.active,d.active)||u.point&&(!d.point||!pQ(u.point,d.point)))return!1;if(u.to>s)return!0;u.next(),d.next()}}static spans(e,n,r,s,i=-1){let a=new Mu(e,null,i).goto(n),o=n,u=a.openStart;for(;;){let d=Math.min(a.to,r);if(a.point){let p=a.activeForPoint(a.to),m=a.pointFrom<n?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,u);s.point(o,d,a.point,p,m,a.pointRank),u=Math.min(a.openEnd(d),p.length)}else d>o&&(s.span(o,d,a.active,u),u=a.openEnd(d));if(a.to>r)return u+(a.point&&a.to>r?1:0);o=a.to,a.next()}}static of(e,n=!1){let r=new Qf;for(let s of e instanceof LS?[e]:n?$Y(e):e)r.add(s.from,s.to,s.value);return r.finish()}static join(e){if(!e.length)return ht.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let s=e[r];s!=ht.empty;s=s.nextLayer)n=new ht(s.chunkPos,s.chunk,n,Math.max(s.maxPoint,n.maxPoint));return n}}ht.empty=new ht([],[],null,-1);function $Y(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(ZS(e,r)>0)return t.slice().sort(ZS);e=r}return t}ht.empty.nextLayer=ht.empty;class Qf{finishChunk(e){this.chunks.push(new mQ(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Qf)).add(e,n,r)}addInner(e,n,r){let s=e-this.lastTo||r.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(ht.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ht.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function t_(t,e,n){let r=new Map;for(let i of t)for(let a=0;a<i.chunk.length;a++)i.chunk[a].maxPoint<=0&&r.set(i.chunk[a],i.chunkPos[a]);let s=new Set;for(let i of e)for(let a=0;a<i.chunk.length;a++){let o=r.get(i.chunk[a]);o!=null&&(n?n.mapPos(o):o)==i.chunkPos[a]&&!(n!=null&&n.touchesRange(o,o+i.chunk[a].length))&&s.add(i.chunk[a])}return s}class wM{constructor(e,n,r,s=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class kf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let s=[];for(let i=0;i<e.length;i++)for(let a=e[i];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&s.push(new wM(a,n,r,i));return s.length==1?s[0]:new kf(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)Hg(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)Hg(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Hg(this.heap,0)}}}function Hg(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let s=t[r];if(r+1<t.length&&s.compare(t[r+1])>=0&&(s=t[r+1],r++),n.compare(s)<0)break;t[r]=n,t[e]=s,e=r}}class Mu{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=kf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){qh(this.active,e),qh(this.activeTo,e),qh(this.activeRank,e),this.minActive=r_(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:s,rank:i}=this.cursor;for(;n<this.activeRank.length&&(i-this.activeRank[n]||s-this.activeTo[n])>0;)n++;Mh(this.active,n,r),Mh(this.activeTo,n,s),Mh(this.activeRank,n,i),e&&Mh(e,n,this.cursor.from),this.minActive=r_(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&qh(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let s=r.length-1;s>=0&&r[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function n_(t,e,n,r,s,i){t.goto(e),n.goto(r);let a=r+s,o=r,u=r-e,d=!!i.boundChange;for(let p=!1;;){let m=t.to+u-n.to,g=m||t.endSide-n.endSide,x=g<0?t.to+u:n.to,v=Math.min(x,a);if(t.point||n.point?(t.point&&n.point&&pQ(t.point,n.point)&&VS(t.activeForPoint(t.to),n.activeForPoint(n.to))||i.comparePoint(o,v,t.point,n.point),p=!1):(p&&i.boundChange(o),v>o&&!VS(t.active,n.active)&&i.compareRange(o,v,t.active,n.active),d&&v<a&&(m||t.openEnd(x)!=n.openEnd(x))&&(p=!0)),x>a)break;o=x,g<=0&&t.next(),g>=0&&n.next()}}function VS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!pQ(t[n],e[n]))return!1;return!0}function qh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Mh(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function r_(t,e){let n=-1,r=1e9;for(let s=0;s<e.length;s++)(e[s]-r||t[s].endSide-t[n].endSide)<0&&(n=s,r=e[s]);return n}function Li(t,e,n=t.length){let r=0;for(let s=0;s<n&&s<t.length;)t.charCodeAt(s)==9?(r+=e-r%e,s++):(r++,s=Dn(t,s));return r}function TY(t,e,n,r){for(let s=0,i=0;;){if(i>=e)return s;if(s==t.length)break;i+=t.charCodeAt(s)==9?n-i%n:1,s=Dn(t,s)}return t.length}const YS="",s_=typeof Symbol>"u"?"__"+YS:Symbol.for(YS),DS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class za{constructor(e,n){this.rules=[];let{finish:r}=n||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function i(a,o,u,d){let p=[],m=/^@(\w+)\b/.exec(a[0]),g=m&&m[1]=="keyframes";if(m&&o==null)return u.push(a[0]+";");for(let x in o){let v=o[x];if(/&/.test(x))i(x.split(/,\s*/).map(b=>a.map(S=>b.replace(/&/,S))).reduce((b,S)=>b.concat(S)),v,u);else if(v&&typeof v=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");i(s(x),v,p,g)}else v!=null&&p.push(x.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+v+";")}(p.length||g)&&u.push((r&&!m&&!d?a.map(r):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in e)i(s(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=i_[s_]||1;return i_[s_]=e+1,YS+e.toString(36)}static mount(e,n,r){let s=e[DS],i=r&&r.nonce;s?i&&s.setNonce(i):s=new jY(e,i),s.mount(Array.isArray(n)?n:[n],e)}}let a_=new Map;class jY{constructor(e,n){let r=e.ownerDocument||e,s=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let i=a_.get(r);if(i)return e[DS]=i;this.sheet=new s.CSSStyleSheet,a_.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[DS]=this}mount(e,n){let r=this.sheet,s=0,i=0;for(let a=0;a<e.length;a++){let o=e[a],u=this.modules.indexOf(o);if(u<i&&u>-1&&(this.modules.splice(u,1),i--,u=-1),u==-1){if(this.modules.splice(i++,0,o),r)for(let d=0;d<o.rules.length;d++)r.insertRule(o.rules[d],s++)}else{for(;i<u;)s+=this.modules[i++].rules.length;s+=o.rules.length,i++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var La={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$f={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_Y=typeof navigator<"u"&&/Mac/.test(navigator.platform),PY=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Yn=0;Yn<10;Yn++)La[48+Yn]=La[96+Yn]=String(Yn);for(var Yn=1;Yn<=24;Yn++)La[Yn+111]="F"+Yn;for(var Yn=65;Yn<=90;Yn++)La[Yn]=String.fromCharCode(Yn+32),$f[Yn]=String.fromCharCode(Yn);for(var Fg in La)$f.hasOwnProperty(Fg)||($f[Fg]=La[Fg]);function NY(t){var e=_Y&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||PY&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?$f:La)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}let tr=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},BS=typeof document<"u"?document:{documentElement:{style:{}}};const US=/Edge\/(\d+)/.exec(tr.userAgent),SM=/MSIE \d/.test(tr.userAgent),WS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(tr.userAgent),Dm=!!(SM||WS||US),l_=!Dm&&/gecko\/(\d+)/i.test(tr.userAgent),Kg=!Dm&&/Chrome\/(\d+)/.exec(tr.userAgent),CY="webkitFontSmoothing"in BS.documentElement.style,GS=!Dm&&/Apple Computer/.test(tr.vendor),o_=GS&&(/Mobile\/\w+/.test(tr.userAgent)||tr.maxTouchPoints>2);var Ne={mac:o_||/Mac/.test(tr.platform),windows:/Win/.test(tr.platform),linux:/Linux|X11/.test(tr.platform),ie:Dm,ie_version:SM?BS.documentMode||6:WS?+WS[1]:US?+US[1]:0,gecko:l_,gecko_version:l_?+(/Firefox\/(\d+)/.exec(tr.userAgent)||[0,0])[1]:0,chrome:!!Kg,chrome_version:Kg?+Kg[1]:0,ios:o_,android:/Android\b/.test(tr.userAgent),webkit_version:CY?+(/\bAppleWebKit\/(\d+)/.exec(tr.userAgent)||[0,0])[1]:0,safari:GS,safari_version:GS?+(/\bVersion\/(\d+(\.\d+)?)/.exec(tr.userAgent)||[0,0])[1]:0,tabSize:BS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function OQ(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const Up=Object.create(null);function gQ(t,e,n){if(t==e)return!0;t||(t=Up),e||(e=Up);let r=Object.keys(t),s=Object.keys(e);if(r.length-0!=s.length-0)return!1;for(let i of r)if(i!=n&&(s.indexOf(i)==-1||t[i]!==e[i]))return!1;return!0}function RY(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function c_(t,e,n){let r=!1;if(e)for(let s in e)n&&s in n||(r=!0,s=="style"?t.style.cssText="":t.removeAttribute(s));if(n)for(let s in n)e&&e[s]==n[s]||(r=!0,s=="style"?t.style.cssText=n[s]:t.setAttribute(s,n[s]));return r}function EY(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Jf{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var wr=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(wr||(wr={}));class It extends Xa{constructor(e,n,r,s){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=s}get heightRelevant(){return!1}static mark(e){return new ed(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Al(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,s;if(e.isBlockGap)r=-5e8,s=4e8;else{let{start:i,end:a}=QM(e,n);r=(i?n?-3e8:-1:5e8)-1,s=(a?n?2e8:1:-6e8)+1}return new Al(e,r,s,n,e.widget||null,!0)}static line(e){return new td(e)}static set(e,n=!1){return ht.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}It.none=ht.empty;class ed extends It{constructor(e){let{start:n,end:r}=QM(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?OQ(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||Up}eq(e){return this==e||e instanceof ed&&this.tagName==e.tagName&&gQ(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}ed.prototype.point=!1;class td extends It{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof td&&this.spec.class==e.spec.class&&gQ(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}td.prototype.mapMode=nr.TrackBefore;td.prototype.point=!0;class Al extends It{constructor(e,n,r,s,i,a){super(n,r,i,e),this.block=s,this.isReplace=a,this.mapMode=s?n<=0?nr.TrackBefore:nr.TrackAfter:nr.TrackDel}get type(){return this.startSide!=this.endSide?wr.WidgetRange:this.startSide<=0?wr.WidgetBefore:wr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Al&&AY(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Al.prototype.point=!0;function QM(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function AY(t,e){return t==e||!!(t&&e&&t.compare(e))}function rc(t,e,n,r=0){let s=n.length-1;s>=0&&n[s]+r>=t?n[s]=Math.max(n[s],e):n.push(t,e)}class Tf extends Xa{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof Tf&&this.tagName==e.tagName&&gQ(this.attributes,e.attributes)}static create(e){return new Tf(e.tagName,e.attributes||Up)}static set(e,n=!1){return ht.of(e,n)}}Tf.prototype.startSide=Tf.prototype.endSide=-1;function jf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function IS(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Qp(t,e){if(!e.anchorNode)return!1;try{return IS(t,e.anchorNode)}catch{return!1}}function kp(t){return t.nodeType==3?_f(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function hf(t,e,n,r){return n?u_(t,e,n,r,-1)||u_(t,e,n,r,1):!1}function Za(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Wp(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function u_(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Zi(t))){if(t.nodeName=="DIV")return!1;let i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=Za(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=s<0?Zi(t):0}else return!1}}function Zi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Gp(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function qY(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function kM(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function MY(t,e,n,r,s,i,a,o){let u=t.ownerDocument,d=u.defaultView||window;for(let p=t,m=!1;p&&!m;)if(p.nodeType==1){let g,x=p==u.body,v=1,b=1;if(x)g=qY(d);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let k=p.getBoundingClientRect();({scaleX:v,scaleY:b}=kM(p,k)),g={left:k.left,right:k.left+p.clientWidth*v,top:k.top,bottom:k.top+p.clientHeight*b}}let S=0,Q=0;if(s=="nearest")e.top<g.top?(Q=e.top-(g.top+a),n>0&&e.bottom>g.bottom+Q&&(Q=e.bottom-g.bottom+a)):e.bottom>g.bottom&&(Q=e.bottom-g.bottom+a,n<0&&e.top-Q<g.top&&(Q=e.top-(g.top+a)));else{let k=e.bottom-e.top,$=g.bottom-g.top;Q=(s=="center"&&k<=$?e.top+k/2-$/2:s=="start"||s=="center"&&n<0?e.top-a:e.bottom-$+a)-g.top}if(r=="nearest"?e.left<g.left?(S=e.left-(g.left+i),n>0&&e.right>g.right+S&&(S=e.right-g.right+i)):e.right>g.right&&(S=e.right-g.right+i,n<0&&e.left<g.left+S&&(S=e.left-(g.left+i))):S=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==o?e.left-i:e.right-(g.right-g.left)+i)-g.left,S||Q)if(x)d.scrollBy(S,Q);else{let k=0,$=0;if(Q){let T=p.scrollTop;p.scrollTop+=Q/b,$=(p.scrollTop-T)*b}if(S){let T=p.scrollLeft;p.scrollLeft+=S/v,k=(p.scrollLeft-T)*v}e={left:e.left-k,top:e.top-$,right:e.right-k,bottom:e.bottom-$},k&&Math.abs(k-S)<1&&(r="nearest"),$&&Math.abs($-Q)<1&&(s="nearest")}if(x)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function XY(t){let e=t.ownerDocument,n,r;for(let s=t.parentNode;s&&!(s==e.body||n&&r);)if(s.nodeType==1)!r&&s.scrollHeight>s.clientHeight&&(r=s),!n&&s.scrollWidth>s.clientWidth&&(n=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:n,y:r}}class zY{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Zi(n):0),r,Math.min(e.focusOffset,r?Zi(r):0))}set(e,n,r,s){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=s}}let gl=null;Ne.safari&&Ne.safari_version>=26&&(gl=!1);function $M(t){if(t.setActive)return t.setActive();if(gl)return t.focus(gl);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(gl==null?{get preventScroll(){return gl={preventScroll:!0},!0}}:void 0),!gl){gl=!1;for(let n=0;n<e.length;){let r=e[n++],s=e[n++],i=e[n++];r.scrollTop!=s&&(r.scrollTop=s),r.scrollLeft!=i&&(r.scrollLeft=i)}}}let f_;function _f(t,e,n=e){let r=f_||(f_=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function sc(t,e,n,r){let s={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let i=new KeyboardEvent("keydown",s);i.synthetic=!0,t.dispatchEvent(i);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,t.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function LY(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function ZY(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Zi(n));;)if(r){if(n.nodeType!=1)return!1;let s=n.childNodes[r-1];s.contentEditable=="false"?r--:(n=s,r=Zi(n))}else{if(n==t)return!0;r=Za(n),n=n.parentNode}}function TM(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function jM(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Zi(n)}else if(n.parentNode&&!Wp(n))r=Za(n),n=n.parentNode;else return null}}function _M(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Wp(n))r=Za(n)+1,n=n.parentNode;else return null}}class ks{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new ks(e.parentNode,Za(e),n)}static after(e,n){return new ks(e.parentNode,Za(e)+1,n)}}var rn=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(rn||(rn={}));const ql=rn.LTR,xQ=rn.RTL;function PM(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const VY=PM("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),YY=PM("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),HS=Object.create(null),Vs=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);HS[e]=n,HS[n]=-e}function NM(t){return t<=247?VY[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?YY[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const DY=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ai{get dir(){return this.level%2?xQ:ql}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,s){let i=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=n&&o.to>=n){if(o.level==r)return a;(i<0||(s!=0?s<0?o.from<n:o.to>n:e[i].level>o.level))&&(i=a)}}if(i<0)throw new RangeError("Index out of range");return i}}function CM(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!CM(r.inner,s.inner))return!1}return!0}const Xt=[];function BY(t,e,n,r,s){for(let i=0;i<=r.length;i++){let a=i?r[i-1].to:e,o=i<r.length?r[i].from:n,u=i?256:s;for(let d=a,p=u,m=u;d<o;d++){let g=NM(t.charCodeAt(d));g==512?g=p:g==8&&m==4&&(g=16),Xt[d]=g==4?2:g,g&7&&(m=g),p=g}for(let d=a,p=u,m=u;d<o;d++){let g=Xt[d];if(g==128)d<o-1&&p==Xt[d+1]&&p&24?g=Xt[d]=p:Xt[d]=256;else if(g==64){let x=d+1;for(;x<o&&Xt[x]==64;)x++;let v=d&&p==8||x<n&&Xt[x]==8?m==1?1:8:256;for(let b=d;b<x;b++)Xt[b]=v;d=x-1}else g==8&&m==1&&(Xt[d]=1);p=g,g&7&&(m=g)}}}function UY(t,e,n,r,s){let i=s==1?2:1;for(let a=0,o=0,u=0;a<=r.length;a++){let d=a?r[a-1].to:e,p=a<r.length?r[a].from:n;for(let m=d,g,x,v;m<p;m++)if(x=HS[g=t.charCodeAt(m)])if(x<0){for(let b=o-3;b>=0;b-=3)if(Vs[b+1]==-x){let S=Vs[b+2],Q=S&2?s:S&4?S&1?i:s:0;Q&&(Xt[m]=Xt[Vs[b]]=Q),o=b;break}}else{if(Vs.length==189)break;Vs[o++]=m,Vs[o++]=g,Vs[o++]=u}else if((v=Xt[m])==2||v==1){let b=v==s;u=b?0:1;for(let S=o-3;S>=0;S-=3){let Q=Vs[S+2];if(Q&2)break;if(b)Vs[S+2]|=2;else{if(Q&4)break;Vs[S+2]|=4}}}}}function WY(t,e,n,r){for(let s=0,i=r;s<=n.length;s++){let a=s?n[s-1].to:t,o=s<n.length?n[s].from:e;for(let u=a;u<o;){let d=Xt[u];if(d==256){let p=u+1;for(;;)if(p==o){if(s==n.length)break;p=n[s++].to,o=s<n.length?n[s].from:e}else if(Xt[p]==256)p++;else break;let m=i==1,g=(p<e?Xt[p]:r)==1,x=m==g?m?1:2:r;for(let v=p,b=s,S=b?n[b-1].to:t;v>u;)v==S&&(v=n[--b].from,S=b?n[b-1].to:t),Xt[--v]=x;u=p}else i=d,u++}}}function FS(t,e,n,r,s,i,a){let o=r%2?2:1;if(r%2==s%2)for(let u=e,d=0;u<n;){let p=!0,m=!1;if(d==i.length||u<i[d].from){let b=Xt[u];b!=o&&(p=!1,m=b==16)}let g=!p&&o==1?[]:null,x=p?r:r+1,v=u;e:for(;;)if(d<i.length&&v==i[d].from){if(m)break e;let b=i[d];if(!p)for(let S=b.to,Q=d+1;;){if(S==n)break e;if(Q<i.length&&i[Q].from==S)S=i[Q++].to;else{if(Xt[S]==o)break e;break}}if(d++,g)g.push(b);else{b.from>u&&a.push(new Ai(u,b.from,x));let S=b.direction==ql!=!(x%2);KS(t,S?r+1:r,s,b.inner,b.from,b.to,a),u=b.to}v=b.to}else{if(v==n||(p?Xt[v]!=o:Xt[v]==o))break;v++}g?FS(t,u,v,r+1,s,g,a):u<v&&a.push(new Ai(u,v,x)),u=v}else for(let u=n,d=i.length;u>e;){let p=!0,m=!1;if(!d||u>i[d-1].to){let b=Xt[u-1];b!=o&&(p=!1,m=b==16)}let g=!p&&o==1?[]:null,x=p?r:r+1,v=u;e:for(;;)if(d&&v==i[d-1].to){if(m)break e;let b=i[--d];if(!p)for(let S=b.from,Q=d;;){if(S==e)break e;if(Q&&i[Q-1].to==S)S=i[--Q].from;else{if(Xt[S-1]==o)break e;break}}if(g)g.push(b);else{b.to<u&&a.push(new Ai(b.to,u,x));let S=b.direction==ql!=!(x%2);KS(t,S?r+1:r,s,b.inner,b.from,b.to,a),u=b.from}v=b.from}else{if(v==e||(p?Xt[v-1]!=o:Xt[v-1]==o))break;v--}g?FS(t,v,u,r+1,s,g,a):v<u&&a.push(new Ai(v,u,x)),u=v}}function KS(t,e,n,r,s,i,a){let o=e%2?2:1;BY(t,s,i,r,o),UY(t,s,i,r,o),WY(s,i,r,o),FS(t,s,i,e,n,r,a)}function GY(t,e,n){if(!t)return[new Ai(0,0,e==xQ?1:0)];if(e==ql&&!n.length&&!DY.test(t))return RM(t.length);if(n.length)for(;t.length>Xt.length;)Xt[Xt.length]=256;let r=[],s=e==ql?0:1;return KS(t,s,s,n,0,t.length,r),r}function RM(t){return[new Ai(0,t,0)]}let EM="";function IY(t,e,n,r,s){var i;let a=r.head-t.from,o=Ai.find(e,a,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc),u=e[o],d=u.side(s,n);if(a==d){let g=o+=s?1:-1;if(g<0||g>=e.length)return null;u=e[o=g],a=u.side(!s,n),d=u.side(s,n)}let p=Dn(t.text,a,u.forward(s,n));(p<u.from||p>u.to)&&(p=d),EM=t.text.slice(Math.min(a,p),Math.max(a,p));let m=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return m&&p==d&&m.level+(s?0:1)<u.level?we.cursor(m.side(!s,n)+t.from,m.forward(s,n)?1:-1,m.level):we.cursor(p+t.from,u.forward(s,n)?-1:1,u.level)}function HY(t,e,n){for(let r=e;r<n;r++){let s=NM(t.charCodeAt(r));if(s==1)return ql;if(s==2||s==4)return xQ}return ql}const AM=Me.define(),qM=Me.define(),MM=Me.define(),XM=Me.define(),JS=Me.define(),zM=Me.define(),LM=Me.define(),yQ=Me.define(),bQ=Me.define(),ZM=Me.define({combine:t=>t.some(e=>e)}),FY=Me.define({combine:t=>t.some(e=>e)}),VM=Me.define();class ic{constructor(e,n="nearest",r="nearest",s=5,i=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=s,this.xMargin=i,this.isSnapshot=a}map(e){return e.empty?this:new ic(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ic(we.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Xh=At.define({map:(t,e)=>t.map(e)}),YM=At.define();function Xr(t,e,n){let r=t.facet(XM);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Ci=Me.define({combine:t=>t.length?t[0]:!0});let KY=0;const Io=Me.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class $s{constructor(e,n,r,s,i){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=s,this.baseExtensions=i(this),this.extension=this.baseExtensions.concat(Io.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Io.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:s,provide:i,decorations:a}=n||{};return new $s(KY++,e,r,s,o=>{let u=[];return a&&u.push(Bm.of(d=>{let p=d.plugin(o);return p?a(p):It.none})),i&&u.push(i(o)),u})}static fromClass(e,n){return $s.define((r,s)=>new e(r,s),n)}}class Jg{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Xr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Xr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Xr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const DM=Me.define(),vQ=Me.define(),Bm=Me.define(),BM=Me.define(),wQ=Me.define(),nd=Me.define(),UM=Me.define();function d_(t,e){let n=t.state.facet(UM);if(!n.length)return n;let r=n.map(i=>i instanceof Function?i(t):i),s=[];return ht.spans(r,e.from,e.to,{point(){},span(i,a,o,u){let d=i-e.from,p=a-e.from,m=s;for(let g=o.length-1;g>=0;g--,u--){let x=o[g].spec.bidiIsolate,v;if(x==null&&(x=HY(e.text,d,p)),u>0&&m.length&&(v=m[m.length-1]).to==d&&v.direction==x)v.to=p,m=v.inner;else{let b={from:d,to:p,direction:x,inner:[]};m.push(b),m=b.inner}}}}),s}const WM=Me.define();function SQ(t){let e=0,n=0,r=0,s=0;for(let i of t.state.facet(WM)){let a=i(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:e,right:n,top:r,bottom:s}}const Ku=Me.define();class Hr{constructor(e,n,r,s){this.fromA=e,this.toA=n,this.fromB=r,this.toB=s}join(e){return new Hr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let s=e[n-1];if(!(s.fromA>r.toA)){if(s.toA<r.fromA)break;r=r.join(s),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let s=0,i=0,a=0;;){let o=s<e.length?e[s].fromB:1e9,u=i<n.length?n[i]:1e9,d=Math.min(o,u);if(d==1e9)break;let p=d+a,m=d,g=p;for(;;)if(i<n.length&&n[i]<=m){let x=n[i+1];i+=2,m=Math.max(m,x);for(let v=s;v<e.length&&e[v].fromB<=m;v++)a=e[v].toA-e[v].toB;g=Math.max(g,x+a)}else if(s<e.length&&e[s].fromB<=m){let x=e[s++];m=Math.max(m,x.toB),g=Math.max(g,x.toA),a=x.toA-x.toB}else break;r.push(new Hr(p,g,d,m))}return r}}class Ip{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Pn.empty(this.startState.doc.length);for(let i of r)this.changes=this.changes.compose(i.changes);let s=[];this.changes.iterChangedRanges((i,a,o,u)=>s.push(new Hr(i,a,o,u))),this.changedRanges=s}static create(e,n,r){return new Ip(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const JY=[];class $n{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return JY}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&RY(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let s of this.children){if(s==e)return r;r+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=Za(this.dom),s=this.length?e>0:n>0;return new ks(this.parent.dom,r+(s?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Wm)return e;return null}static get(e){return e.cmTile}}class Um extends $n{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,s,i=(e==null?void 0:e.node)==n?e:null,a=0;for(let o of this.children){if(o.sync(e),a+=o.length+o.breakAfter,s=r?r.nextSibling:n.firstChild,i&&s!=o.dom&&(i.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=h_(s);else n.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:n.firstChild,i&&s&&(i.written=!0);s;)s=h_(s);this.length=a}}function h_(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Wm extends Um{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=$n.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,s=0,i=0;;)if(s==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&i++,s=n.pop()}else{let a=r.children[s++];if(a instanceof Aa)n.push(s),r=a,s=0;else{let o=i+a.length,u=e(a,i);if(u!==void 0)return u;i=o+a.breakAfter}}}resolveBlock(e,n){let r,s=-1,i,a=-1;if(this.blockTiles((o,u)=>{let d=u+o.length;if(e>=u&&e<=d){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==d&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,s=e-u),(d>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!i||!o.isWidget()&&i.isWidget())&&(i=o,a=e-u)}}),!r&&!i)throw new Error("No tile at position "+e);return r&&n<0||!i?{tile:r,offset:s}:{tile:i,offset:a}}}class Aa extends Um{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new Aa(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class mc extends Um{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let s=new mc(n||document.createElement("div"),e);return(!n||!r)&&(s.flags|=4),s}get domAttrs(){return this.attrs}resolveInline(e,n,r){let s=null,i=-1,a=null,o=-1;function u(p,m){for(let g=0,x=0;g<p.children.length&&x<=m;g++){let v=p.children[g],b=x+v.length;b>=m&&(v.isComposite()?u(v,m-x):(!a||a.isHidden&&(n>0||r&&tD(a,v)))&&(b>m||v.flags&32)?(a=v,o=m-x):(x<m||v.flags&16&&!v.isHidden)&&(s=v,i=m-x)),x=b}}u(this,e);let d=(n<0?s:a)||s||a;return d?{tile:d,offset:d==s?i:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):eD(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:s,offset:i}=r;if(this.dom.contains(s.dom))return s.isText()?new ks(s.dom,Math.min(s.dom.nodeValue.length,i)):s.domPosFor(i,s.flags&16?1:s.flags&32?-1:n);let a=r.tile.parent,o=!1;for(let u of a.children){if(o)return new ks(u.dom,0);u==r.tile&&(o=!0)}}return new ks(this.dom,0)}}function eD(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=kp(e);return n[n.length-1]||null}function tD(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class yr extends Um{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new yr(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class kl extends $n{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let s=e,i=e,a=0;e==0&&n<0||e==r&&n>=0?Ne.chrome||Ne.gecko||(e?(s--,a=1):i<r&&(i++,a=-1)):n<0?s--:i<r&&i++;let o=_f(this.dom,s,i).getClientRects();if(!o.length)return null;let u=o[(a?a<0:n>=0)?0:o.length-1];return Ne.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(o,d=>d.width)||u),a?Gp(u,a<0):u||null}static of(e,n){let r=new kl(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Ml extends $n{constructor(e,n,r,s){super(e,n,s),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let s=this.widget.coordsAt(this.dom,e,n);if(s)return s;if(r)return Gp(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let i=this.dom.getClientRects(),a=null;if(!i.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?i.length-1:0;a=i[u],!(e>0?u==0:u==i.length-1||a.top<a.bottom);u+=o?-1:1);return Gp(a,!o)}}get overrideDOMText(){if(!this.length)return pt.empty;let{root:e}=this;if(!e)return pt.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,s,i){return i||(i=e.toDOM(n),e.editable||(i.contentEditable="false")),new Ml(i,r,e,s)}}class Hp extends $n{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return pt.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class nD{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:s,index:i,beforeBreak:a,parents:o}=this;for(;e||n>0;)if(s.isComposite())if(a){if(!e)break;r&&r.break(),e--,a=!1}else if(i==s.children.length){if(!e&&!o.length)break;r&&r.leave(s),a=!!s.breakAfter,{tile:s,index:i}=o.pop(),i++}else{let u=s.children[i],d=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(a=!!d,i++,e-=u.length):(o.push({tile:s,index:i}),s=u,i=0,r&&u.isComposite()&&r.enter(u))}else if(i==s.length)a=!!s.breakAfter,{tile:s,index:i}=o.pop(),i++;else if(e){let u=Math.min(e,s.length-i);r&&r.skip(s,i,i+u),e-=u,i+=u}else break;return this.tile=s,this.index=i,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class rD{constructor(e,n,r,s){this.from=e,this.to=n,this.wrapper=r,this.rank=s}}class sD{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,s){var i;this.flushBuffer();let a=this.ensureMarks(n,r),o=a.lastChild;if(o&&o.isText()&&!(o.flags&8)){this.cache.reused.set(o,2);let u=a.children[a.children.length-1]=new kl(o.dom,o.text+e);u.parent=a}else a.append(s||kl.of(e,(i=this.cache.find(kl))===null||i===void 0?void 0:i.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?ex(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let s=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],d=s.lastChild;if(d instanceof yr&&d.mark.eq(u.mark))d.dom!=u.dom&&d.setDOM(ex(u.dom)),s=d;else{if(this.cache.reused.get(u)){let m=$n.get(u.dom);m&&m.setDOM(ex(u.dom))}let p=yr.of(u.mark,u.dom);s.append(p),s=p}this.cache.reused.set(u,2)}let i=$n.get(e.text);i&&this.cache.reused.set(i,2);let a=new kl(e.text,e.text.nodeValue);a.flags|=8,s.append(a)}addInlineWidget(e,n,r){let s=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);s||this.flushBuffer();let i=this.ensureMarks(n,r);!s&&!(e.flags&16)&&i.append(this.getBuffer(1)),i.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=GM);let s=mc.start(e,n||((r=this.cache.find(mc))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=s)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let s=this.curLine;for(let i=e.length-1;i>=0;i--){let a=e[i],o;if(n>0&&(o=s.lastChild)&&o instanceof yr&&o.mark.eq(a))s=o,n--;else{let u=yr.of(a,(r=this.cache.find(yr,d=>d.mark.eq(a)))===null||r===void 0?void 0:r.dom);s.append(u),s=u,n=0}}return s}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!p_(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(Ne.ios&&p_(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(tx,0,32)||new Ml(tx.toDOM(),0,tx,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new rD(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let s=n.lastChild;if(r.from<this.pos&&s instanceof Aa&&s.wrapper.eq(r.wrapper))n=s;else{let i=Aa.of(r.wrapper,(e=this.cache.find(Aa,a=>a.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(i),n=i}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(Hp,void 0,1);return r&&(r.flags=n),r||new Hp(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class iD{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:s,lineBreak:i,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=s;let o=this.textOff=Math.min(e,s.length);return i?null:s.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const Fp=[Ml,mc,kl,yr,Hp,Aa,Wm];for(let t=0;t<Fp.length;t++)Fp[t].bucket=t;class aD{constructor(e){this.view=e,this.buckets=Fp.map(()=>[]),this.index=Fp.map(()=>0),this.reused=new Map}add(e){e.demo&&console.log("Add widget to cache");let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let s=e.bucket,i=this.buckets[s],a=this.index[s];for(let o=i.length-1;o>=0;o--){let u=(o+a)%i.length,d=i[u];if((!n||n(d))&&!this.reused.has(d))return i.splice(u,1),u<a&&this.index[s]--,this.reused.set(d,r),d}return null}findWidget(e,n,r){let s=this.buckets[0];if(e.demo&&console.log("looking for widget",e,"in cache",s.slice()),s.length)for(let i=0,a=0;;i++){if(i==s.length){if(a)return null;a=1,i=0}let o=s[i];if(!this.reused.has(o)&&(a==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return s.splice(i,1),i<this.index[0]&&this.index[0]--,o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new Ml(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class lD{constructor(e,n,r,s,i){this.view=e,this.decorations=s,this.disallowBlockEffectsFor=i,this.openWidget=!1,this.openMarks=0,this.cache=new aD(e),this.text=new iD(e.state.doc),this.builder=new sD(this.cache,new Wm(e,e.contentDOM),ht.iter(r)),this.cache.reused.set(n,2),this.old=new nD(n),this.reuseWalker={skip:(a,o,u)=>{if(this.cache.add(a),a.isComposite())return!1},enter:a=>this.cache.add(a),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let s=0,i=0,a=0;;){let o=a<e.length?e[a++]:null,u=o?o.fromA:this.old.root.length;if(u>s){let d=u-s;this.preserve(d,!a,!o),s=u,i+=d}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA),this.emit(i,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(i,o.toB)),i=o.toB,s=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let s=uD(this.old),i=this.openMarks;this.old.advance(e,r?1:-1,{skip:(a,o,u)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let d=u>0||o<a.length?Ml.of(a.widget,this.view,u-o,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);d.flags&256?(d.flags&=-2,this.builder.addBlockWidget(d)):(this.builder.ensureLine(null),this.builder.addInlineWidget(d,s,i),i=s.length)}else if(a.isText())this.builder.ensureLine(null),!o&&u==a.length?this.builder.addText(a.text,s,i,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(o,u),s,i)),i=s.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof Hp)this.cache.add(a);else if(a instanceof yr)this.builder.ensureLine(null),this.builder.addMark(a,s,i),this.cache.reused.set(a,1),i=s.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof yr&&s.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?s.length&&(s.length=i=0):a instanceof yr&&(s.shift(),i=Math.min(i,s.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,s=this.builder,i=0,a=ht.spans(this.decorations,e,n,{point:(o,u,d,p,m,g)=>{if(d instanceof Al){if(this.disallowBlockEffectsFor[g]){if(d.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(i=p.length,m>p.length)s.continueWidget(u-o);else{let x=d.widget||(d.block?Oc.block:Oc.inline),v=oD(d),b=this.cache.findWidget(x,u-o,v)||Ml.of(x,this.view,u-o,v);d.block?(d.startSide>0&&s.addLineStartIfNotCovered(r),s.addBlockWidget(b)):(s.ensureLine(r),s.addInlineWidget(b,p,m))}r=null}else r=cD(r,d);u>o&&this.text.skip(u-o)},span:(o,u,d,p)=>{for(let m=o;m<u;){let g=this.text.next(Math.min(512,u-m));g==null?(s.addLineStartIfNotCovered(r),s.addBreak(),m++):(s.ensureLine(r),s.addText(g,d,p),m+=g.length),r=null}}});s.addLineStartIfNotCovered(r),this.openWidget=a>i,this.openMarks=a}forward(e,n){n-e<=10?this.old.advance(n-e,1,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,1,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let s=e.parentNode;;s=s.parentNode){let i=$n.get(s);if(s==this.view.contentDOM)break;i instanceof yr?n.push(i):i!=null&&i.isLine()?r=i:s.nodeName=="DIV"&&!r&&s!=this.view.contentDOM?r=new mc(s,GM):n.push(yr.of(new ed({tagName:s.nodeName.toLowerCase(),attributes:EY(s)}),s))}return{line:r,marks:n}}}function p_(t,e){let n=r=>{for(let s of r.children)if((e?s.isText():s.length)||n(s))return!0;return!1};return n(t)}function oD(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const GM={class:"cm-line"};function cD(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&OQ(n,t),r&&(t.class+=" "+r)),t}function uD(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof yr&&e.push(r.mark)}return e}function ex(t){let e=$n.get(t);return e&&e.setDOM(t.cloneNode()),t}class Oc extends Jf{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Oc.inline=new Oc("span");Oc.block=new Oc("div");const tx=new class extends Jf{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class m_{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=It.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Wm(e,e.contentDOM),this.updateInner([new Hr(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:p,toA:m})=>m<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?s=this.domChanged.newSel.head:!yD(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let i=s>-1?dD(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){let{from:p,to:m}=this.hasComposition;r=new Hr(p,m,e.changes.mapPos(p,-1),e.changes.mapPos(m,1)).addToSet(r.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(Ne.ie||Ne.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.blockWrappers;this.updateDeco();let u=mD(a,this.decorations,e.changes);u.length&&(r=Hr.extendWithRanges(r,u));let d=gD(o,this.blockWrappers,e.changes);return d.length&&(r=Hr.extendWithRanges(r,d)),i&&!r.some(p=>p.fromA<=i.range.fromA&&p.toA>=i.range.toA)&&(r=i.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let a=this.tile,o=new lD(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),e2(a,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let i=Ne.chrome||Ne.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(i),i&&(i.written||r.selectionRange.focusNode!=i.node||!this.tile.dom.contains(i.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let i of this.tile.children)i.isWidget()&&i.widget instanceof nx&&s.push(i.dom);r.updateGaps(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(YM)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,s=this.view.root.activeElement,i=s==r,a=!i&&!(this.view.state.facet(Ci)||r.tabIndex>-1)&&Qp(r,this.view.observer.selectionRange)&&!(s&&r.contains(s));if(!(i||n||a))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,d,p;if(u.empty?p=d=this.inlineDOMNearPos(u.anchor,u.assoc||1):(p=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),d=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),Ne.gecko&&u.empty&&!this.hasComposition&&fD(d)){let g=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(g,d.node.childNodes[d.offset]||null)),d=p=new ks(g,0),o=!0}let m=this.view.observer.selectionRange;(o||!m.focusNode||(!hf(d.node,d.offset,m.anchorNode,m.anchorOffset)||!hf(p.node,p.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{Ne.android&&Ne.chrome&&r.contains(m.focusNode)&&xD(m.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let g=jf(this.view.root);if(g)if(u.empty){if(Ne.gecko){let x=hD(d.node,d.offset);if(x&&x!=3){let v=(x==1?jM:_M)(d.node,d.offset);v&&(d=new ks(v.node,v.offset))}}g.collapse(d.node,d.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(d.node,d.offset);try{g.extend(p.node,p.offset)}catch{}}else{let x=document.createRange();u.anchor>u.head&&([d,p]=[p,d]),x.setEnd(p.node,p.offset),x.setStart(d.node,d.offset),g.removeAllRanges(),g.addRange(x)}a&&this.view.root.activeElement==r&&(r.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(d,p)),this.impreciseAnchor=d.precise?null:new ks(m.anchorNode,m.anchorOffset),this.impreciseHead=p.precise?null:new ks(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&hf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=jf(e.root),{anchorNode:s,anchorOffset:i}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let o=a.posAtStart;if(n.head==o||n.head==o+a.length)return;let u=this.coordsAt(n.head,-1),d=this.coordsAt(n.head,1);if(!u||!d||u.bottom>d.top)return;let p=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(p.node,p.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=n.from&&r.collapse(s,i)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let s=r.posAtStart;if(r.isComposite()){let i;if(e==r.dom)i=r.dom.childNodes[n];else{let a=Zi(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;a==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?a=-1:a=1),e=o}a<0?i=e:i=e.nextSibling}if(i==r.dom.firstChild)return s;for(;i&&!$n.get(i);)i=i.nextSibling;if(!i)return s+r.length;for(let a=0,o=s;;a++){let u=r.children[a];if(u.dom==i)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?s+n:s+(n?r.length:0):s}domAtPos(e,n){let{tile:r,offset:s}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(s,n)}inlineDOMNearPos(e,n){let r,s=-1,i=!1,a,o=-1,u=!1;return this.tile.blockTiles((d,p)=>{if(d.isWidget()){if(d.flags&32&&p>=e)return!0;d.flags&16&&(i=!0)}else{let m=p+d.length;if(p<=e&&(r=d,s=e-p,i=m<e),m>=e&&!a&&(a=d,o=e-p,u=p>e),p>e&&a)return!0}}),!r&&!a?this.domAtPos(e,n):(i&&a?r=null:u&&r&&(a=null),r&&n<0||!a?r.domIn(s,n):a.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:s}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof nx?null:r.coordsInWidget(s,n,!0):r.coordsIn(s,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function s(i,a){if(i.isComposite())for(let o of i.children){if(o.length>=a){let u=s(o,a);if(u)return u}if(a-=o.length,a<0)break}else if(i.isText()&&a<i.length){let o=Dn(i.text,a);if(o==a)return null;let u=_f(i.dom,a,o).getClientRects();for(let d=0;d<u.length;d++){let p=u[d];if(d==u.length-1||p.top<p.bottom&&p.left<p.right)return p}}return null}return s(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:s}=e,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==rn.LTR,d=0,p=(m,g,x)=>{for(let v=0;v<m.children.length&&!(g>s);v++){let b=m.children[v],S=g+b.length,Q=b.dom.getBoundingClientRect(),{height:k}=Q;if(x&&!v&&(d+=Q.top-x.top),b instanceof Aa)S>r&&p(b,g,Q);else if(g>=r&&(d>0&&n.push(-d),n.push(k+d),d=0,a)){let $=b.dom.lastChild,T=$?kp($):[];if(T.length){let j=T[T.length-1],N=u?j.right-Q.left:Q.right-j.left;N>o&&(o=N,this.minWidth=i,this.minWidthFrom=g,this.minWidthTo=S)}}x&&v==m.children.length-1&&(d+=x.bottom-Q.bottom),g=S+b.breakAfter}};return p(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?rn.RTL:rn.LTR}measureTextSize(){let e=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let o=0,u;for(let d of a.children){if(!d.isText()||/[^ -~]/.test(d.text))return;let p=kp(d.dom);if(p.length!=1)return;o+=p[0].width,u=p[0].height}if(o)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:o/a.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,s,i;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=kp(n.firstChild)[0];r=n.getBoundingClientRect().height,s=a&&a.width?a.width/27:7,i=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:s,textHeight:i}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,s=0;;s++){let i=s==n.viewports.length?null:n.viewports[s],a=i?i.from-1:this.view.state.doc.length;if(a>r){let o=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(It.replace({widget:new nx(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!i)break;r=i.to+1}return It.set(e)}updateDeco(){let e=1,n=this.view.state.facet(Bm).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),r=!1,s=this.view.state.facet(wQ).map((i,a)=>{let o=typeof i=="function";return o&&(r=!0),o?i(this.view):i});for(s.length&&(this.dynamicDecorationMap[e++]=r,n.push(ht.join(s))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(BM).map(i=>typeof i=="function"?i(this.view):i)}scrollIntoView(e){if(e.isSnapshot){let d=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=d.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let d of this.view.state.facet(VM))try{if(d(this.view,e.range,e))return!0}catch(p){Xr(this.view.state,p,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),s;if(!r)return;!n.empty&&(s=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,s.left),top:Math.min(r.top,s.top),right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)});let i=SQ(this.view),a={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;MY(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==rn.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){e2(this.tile)}}function e2(t,e){let n=e==null?void 0:e.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)e2(r,e)}}function fD(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function IM(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=jM(n.focusNode,n.focusOffset),s=_M(n.focusNode,n.focusOffset),i=r||s;if(s&&r&&s.node!=r.node){let o=$n.get(s.node);if(!o||o.isText()&&o.text!=s.node.nodeValue)i=s;else if(t.docView.lastCompositionAfterCursor){let u=$n.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(i=s)}}if(t.docView.lastCompositionAfterCursor=i!=r,!i)return null;let a=e-i.offset;return{from:a,to:a+i.node.nodeValue.length,node:i.node}}function dD(t,e,n){let r=IM(t,n);if(!r)return null;let{node:s,from:i,to:a}=r,o=s.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new Hr(u.mapPos(i),u.mapPos(a),i,a),text:s}}function hD(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let pD=class{constructor(){this.changes=[]}compareRange(e,n){rc(e,n,this.changes)}comparePoint(e,n){rc(e,n,this.changes)}boundChange(e){rc(e,e,this.changes)}};function mD(t,e,n){let r=new pD;return ht.compare(t,e,n,r),r.changes}class OD{constructor(){this.changes=[]}compareRange(e,n){rc(e,n,this.changes)}comparePoint(){}boundChange(e){rc(e,e,this.changes)}}function gD(t,e,n){let r=new OD;return ht.compare(t,e,n,r),r.changes}function xD(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function yD(t,e){let n=!1;return e&&t.iterChangedRanges((r,s)=>{r<e.to&&s>e.from&&(n=!0)}),n}class nx extends Jf{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function bD(t,e,n=1){let r=t.charCategorizer(e),s=t.doc.lineAt(e),i=e-s.from;if(s.length==0)return we.cursor(e);i==0?n=1:i==s.length&&(n=-1);let a=i,o=i;n<0?a=Dn(s.text,i,!1):o=Dn(s.text,i);let u=r(s.text.slice(a,o));for(;a>0;){let d=Dn(s.text,a,!1);if(r(s.text.slice(d,a))!=u)break;a=d}for(;o<s.length;){let d=Dn(s.text,o);if(r(s.text.slice(o,d))!=u)break;o=d}return we.range(a+s.from,o+s.from)}function vD(t,e,n,r,s){let i=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((s-n.top-(t.defaultLineHeight-o)*.5)/o);i+=u*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+TY(a,i,t.state.tabSize)}function wD(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let s;for(let i of r.type){if(i.from>e)break;if(!(i.to<e)){if(i.from<e&&i.to>e)return i;(!s||i.type==wr.Text&&(s.type!=i.type||(n<0?i.from<e:i.to>e)))&&(s=i)}}return s||r}return r}function SD(t,e,n,r){let s=wD(t,e.head,e.assoc||-1),i=!r||s.type!=wr.Text||!(t.lineWrapping||s.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(i){let a=t.dom.getBoundingClientRect(),o=t.textDirectionAt(s.from),u=t.posAtCoords({x:n==(o==rn.LTR)?a.right-1:a.left+1,y:(i.top+i.bottom)/2});if(u!=null)return we.cursor(u,n?-1:1)}return we.cursor(n?s.to:s.from,n?-1:1)}function O_(t,e,n,r){let s=t.state.doc.lineAt(e.head),i=t.bidiSpans(s),a=t.textDirectionAt(s.from);for(let o=e,u=null;;){let d=IY(s,i,a,o,n),p=EM;if(!d){if(s.number==(n?t.state.doc.lines:1))return o;p=`
`,s=t.state.doc.line(s.number+(n?1:-1)),i=t.bidiSpans(s),d=t.visualLineSide(s,!n)}if(u){if(!u(p))return o}else{if(!r)return d;u=r(p)}o=d}}function QD(t,e,n){let r=t.state.charCategorizer(e),s=r(n);return i=>{let a=r(i);return s==Ei.Space&&(s=a),s==a}}function kD(t,e,n,r){let s=e.head,i=n?1:-1;if(s==(n?t.state.doc.length:0))return we.cursor(s,e.assoc);let a=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),d=t.coordsAtPos(s,e.assoc||-1),p=t.documentTop;if(d)a==null&&(a=d.left-u.left),o=i<0?d.top:d.bottom;else{let x=t.viewState.lineBlockAt(s);a==null&&(a=Math.min(u.right-u.left,t.defaultCharacterWidth*(s-x.from))),o=(i<0?x.top:x.bottom)+p}let m=u.left+a,g=r??t.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let v=o+(g+x)*i,b=t2(t,{x:m,y:v},!1,i);return we.cursor(b.pos,b.assoc,void 0,a)}}function pf(t,e,n){for(;;){let r=0;for(let s of t)s.between(e-1,e+1,(i,a,o)=>{if(e>i&&e<a){let u=r||n||(e-i<a-e?-1:1);e=u<0?i:a,r=u}});if(!r)return e}}function HM(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let s=e.ranges[r],i=null;if(s.empty){let a=pf(t,s.from,0);a!=s.from&&(i=we.cursor(a,-1))}else{let a=pf(t,s.from,-1),o=pf(t,s.to,1);(a!=s.from||o!=s.to)&&(i=we.range(s.from==s.anchor?a:o,s.from==s.head?a:o))}i&&(n||(n=e.ranges.slice()),n[r]=i)}return n?we.create(n,e.mainIndex):e}function rx(t,e,n){let r=pf(t.state.facet(nd).map(s=>s(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:we.cursor(r,r<n.from?1:-1)}class Ws{constructor(e,n){this.pos=e,this.assoc=n}}function t2(t,e,n,r){let s=t.contentDOM.getBoundingClientRect(),i=s.top+t.viewState.paddingTop,{x:a,y:o}=e,u=o-i,d;for(;;){if(u<0)return new Ws(0,1);if(u>t.viewState.docHeight)return new Ws(t.state.doc.length,-1);if(d=t.elementAtHeight(u),r==null)break;if(d.type==wr.Text){let g=t.docView.coordsAt(r<0?d.from:d.to,r);if(g&&(r<0?g.top<=u+i:g.bottom>=u+i))break}let m=t.viewState.heightOracle.textHeight/2;u=r>0?d.bottom+m:d.top-m}if(t.viewport.from>=d.to||t.viewport.to<=d.from){if(n)return null;if(d.type==wr.Text){let m=vD(t,s,d,a,o);return new Ws(m,m==d.from?1:-1)}}if(d.type!=wr.Text)return u<(d.top+d.bottom)/2?new Ws(d.from,1):new Ws(d.to,-1);let p=t.docView.lineAt(d.from,2);return(!p||p.length!=d.length)&&(p=t.docView.lineAt(d.from,-2)),FM(t,p,d.from,a,o)}function FM(t,e,n,r,s){let i=-1,a=null,o=1e9,u=1e9,d=s,p=s,m=(g,x)=>{for(let v=0;v<g.length;v++){let b=g[v];if(b.top==b.bottom)continue;let S=b.left>r?b.left-r:b.right<r?r-b.right:0,Q=b.top>s?b.top-s:b.bottom<s?s-b.bottom:0;b.top<=p&&b.bottom>=d&&(d=Math.min(b.top,d),p=Math.max(b.bottom,p),Q=0),(i<0||(Q-u||S-o)<0)&&(i>=0&&u&&o<S&&a.top<=p-2&&a.bottom>=d+2?u=0:(i=x,o=S,u=Q,a=b))}};if(e.isText()){for(let x=0;x<e.length;){let v=Dn(e.text,x);if(m(_f(e.dom,x,v).getClientRects(),x),!o&&!u)break;x=v}return r>(a.left+a.right)/2==(g_(t,i+n)==rn.LTR)?new Ws(n+Dn(e.text,i),-1):new Ws(n+i,1)}else{if(!e.length)return new Ws(n,1);for(let b=0;b<e.children.length;b++){let S=e.children[b];if(S.flags&48)continue;let Q=(S.dom.nodeType==1?S.dom:_f(S.dom,0,S.length)).getClientRects();if(m(Q,b),!o&&!u)break}let g=e.children[i],x=e.posBefore(g,n);return g.isComposite()||g.isText()?FM(t,g,x,Math.max(a.left,Math.min(a.right,r)),s):r>(a.left+a.right)/2==(g_(t,i+n)==rn.LTR)?new Ws(x+g.length,-1):new Ws(x,1)}}function g_(t,e){let n=t.state.doc.lineAt(e);return t.bidiSpans(n)[Ai.find(t.bidiSpans(n),e-n.from,-1,1)].dir}const Ju="";class $D{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(gt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ju}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let s=e;;){this.findPointBefore(r,s);let i=this.text.length;this.readNode(s);let a=$n.get(s),o=s.nextSibling;if(o==n){a!=null&&a.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=$n.get(o);(a&&u?a.breakAfter:(a?a.breakAfter:Wp(s))||Wp(o)&&(s.nodeName!="BR"||a!=null&&a.isWidget())&&this.text.length>i)&&!jD(o,n)&&this.lineBreak(),s=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,a=1,o;if(this.lineSeparator?(i=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(o=s.exec(n))&&(i=o.index,a=o[0].length),this.append(n.slice(r,i<0?n.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=i+a}}readNode(e){let n=$n.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let s=r.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(TD(e,r.node,r.offset)?n:0))}}function TD(t,e,n){for(;;){if(!e||n<Zi(e))return!1;if(e==t)return!0;n=Za(e)+1,e=e.parentNode}}function jD(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=$n.get(t);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let s=r.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class x_{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class _D{constructor(e,n,r,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:i,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=KM(e.docView.tile,n,r,0))){let o=i||a?[]:ND(e),u=new $D(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=CD(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=i&&i.node==o.focusNode&&i.offset==o.focusOffset||!IS(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),d=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!IS(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),p=e.viewport;if((Ne.ios||Ne.chrome)&&e.state.selection.main.empty&&u!=d&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(u,d),g=Math.max(u,d),x=p.from-m,v=p.to-g;(x==0||x==1||m==0)&&(v==0||v==-1||g==e.state.doc.length)&&(u=0,d=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(we.range(d,u)):this.newSel=we.single(d,u)}}}function KM(t,e,n,r){if(t.isComposite()){let s=-1,i=-1,a=-1,o=-1;for(let u=0,d=r,p=r;u<t.children.length;u++){let m=t.children[u],g=d+m.length;if(d<e&&g>n)return KM(m,e,n,d);if(g>=e&&s==-1&&(s=u,i=d),d>n&&m.dom.parentNode==t.dom){a=u,o=p;break}p=g,d=g+m.breakAfter}return{from:i,to:o<0?r+t.length:o,startDOM:(s?t.children[s-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:a<t.children.length&&a>=0?t.children[a].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function JM(t,e){let n,{newSel:r}=e,s=t.state.selection.main,i=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,u=s.from,d=null;(i===8||Ne.android&&e.text.length<o-a)&&(u=s.to,d="end");let p=e7(t.state.doc.sliceString(a,o,Ju),e.text,u-a,d);p&&(Ne.chrome&&i==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Ju+Ju&&p.toB--,n={from:a+p.from,to:a+p.toA,insert:pt.of(e.text.slice(p.from,p.toB).split(Ju))})}else r&&(!t.hasFocus&&t.state.facet(Ci)||r.main.eq(s))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!s.empty&&r&&r.main.empty?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:(Ne.mac||Ne.android)&&n&&n.from==n.to&&n.from==s.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=we.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:pt.of([n.insert.toString().replace("."," ")])}):n&&n.from>=s.from&&n.to<=s.to&&(n.from!=s.from||n.to!=s.to)&&s.to-s.from-(n.to-n.from)<=4?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,s.to))}:t.state.doc.lineAt(s.from).to<s.to&&t.docView.lineHasWidget(s.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:s.from,to:s.to,insert:t.state.toText(t.inputState.insertingText)}:Ne.chrome&&n&&n.from==n.to&&n.from==s.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=we.single(r.main.anchor-1,r.main.head-1)),n={from:s.from,to:s.to,insert:pt.of([" "])}),n)return QQ(t,n,r,i);if(r&&!r.main.eq(s)){let a=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=HM(t.state.facet(nd).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:a,userEvent:o}),!0}else return!1}function QQ(t,e,n,r=-1){if(Ne.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(Ne.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&t.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&sc(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&sc(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&sc(t.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,o=()=>a||(a=PD(t,e,n));return t.state.facet(zM).some(u=>u(t,e.from,e.to,i,o))||t.dispatch(o()),!0}function PD(t,e,n){let r,s=t.state,i=s.selection.main,a=-1;if(e.from==e.to&&e.from<i.from||e.from>i.to){let u=e.from<i.from?-1:1,d=u<0?i.from:i.to,p=pf(s.facet(nd).map(m=>m(t)),d,u);e.from==p&&(a=p)}if(a>-1)r={changes:e,selection:we.cursor(e.from+e.insert.length,-1)};else if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=i.from<e.from?s.sliceDoc(i.from,e.from):"",d=i.to>e.to?s.sliceDoc(e.to,i.to):"";r=s.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+d))}else{let u=s.changes(e),d=n&&n.main.to<=u.newLength?n.main:void 0;if(s.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=i.to+10&&e.to>=i.to-10){let p=t.state.sliceDoc(e.from,e.to),m,g=n&&IM(t,n.main.head);if(g){let v=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-v}}else m=t.state.doc.lineAt(i.head);let x=i.to-e.to;r=s.changeByRange(v=>{if(v.from==i.from&&v.to==i.to)return{changes:u,range:d||v.map(u)};let b=v.to-x,S=b-p.length;if(t.state.sliceDoc(S,b)!=p||b>=m.from&&S<=m.to)return{range:v};let Q=s.changes({from:S,to:b,insert:e.insert}),k=v.to-i.to;return{changes:Q,range:d?we.range(Math.max(0,d.anchor+k),Math.max(0,d.head+k)):v.map(Q)}})}else r={changes:u,selection:d&&s.selection.replaceRange(d)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:o,scrollIntoView:!0})}function e7(t,e,n,r){let s=Math.min(t.length,e.length),i=0;for(;i<s&&t.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==s&&t.length==e.length)return null;let a=t.length,o=e.length;for(;a>0&&o>0&&t.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(r=="end"){let u=Math.max(0,i-Math.min(a,o));n-=a+u-i}if(a<i&&t.length<e.length){let u=n<=i&&n>=a?i-n:0;i-=u,o=i+(o-a),a=i}else if(o<i){let u=n<=i&&n>=o?i-n:0;i-=u,a=i+(a-o),o=i}return{from:i,toA:a,toB:o}}function ND(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}=t.observer.selectionRange;return n&&(e.push(new x_(n,r)),(s!=n||i!=r)&&e.push(new x_(s,i))),e}function CD(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?we.single(n+e,r+e):null}class RD{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ne.safari&&e.contentDOM.addEventListener("input",()=>null),Ne.gecko&&GD(e.contentDOM.ownerDocument)}handleEvent(e){!ZD(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let s of r.observers)s(this.view,n);for(let s of r.handlers){if(n.defaultPrevented)break;if(s(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=ED(e),r=this.handlers,s=this.view.contentDOM;for(let i in n)if(i!="scroll"){let a=!n[i].handlers.length,o=r[i];o&&a!=!o.handlers.length&&(s.removeEventListener(i,this.handleEvent),o=null),o||s.addEventListener(i,this.handleEvent,{passive:a})}for(let i in r)i!="scroll"&&!n[i]&&s.removeEventListener(i,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&n7.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ne.android&&Ne.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ne.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=t7.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||AD.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,sc(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:Ne.safari&&!Ne.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function y_(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(s){Xr(n.state,s)}}}function ED(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let s=r.spec,i=s&&s.plugin.domEventHandlers,a=s&&s.plugin.domEventObservers;if(i)for(let o in i){let u=i[o];u&&n(o).handlers.push(y_(r.value,u))}if(a)for(let o in a){let u=a[o];u&&n(o).observers.push(y_(r.value,u))}}for(let r in Ts)n(r).handlers.push(Ts[r]);for(let r in is)n(r).observers.push(is[r]);return e}const t7=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],AD="dthko",n7=[16,17,18,20,91,92,224,225],zh=6;function Lh(t){return Math.max(0,t)*.7+8}function qD(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class MD{constructor(e,n,r,s){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=XY(e.contentDOM),this.atoms=e.state.facet(nd).map(a=>a(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(gt.allowMultipleSelections)&&XD(e,n),this.dragging=LD(e,n)&&i7(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&qD(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,s=0,i=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=SQ(this.view);e.clientX-u.left<=s+zh?n=-Lh(s-e.clientX):e.clientX+u.right>=a-zh&&(n=Lh(e.clientX-a)),e.clientY-u.top<=i+zh?r=-Lh(i-e.clientY):e.clientY+u.bottom>=o-zh&&(r=Lh(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=HM(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function XD(t,e){let n=t.state.facet(AM);return n.length?n[0](e):Ne.mac?e.metaKey:e.ctrlKey}function zD(t,e){let n=t.state.facet(qM);return n.length?n[0](e):Ne.mac?!e.altKey:!e.ctrlKey}function LD(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=jf(t.root);if(!r||r.rangeCount==0)return!0;let s=r.getRangeAt(0).getClientRects();for(let i=0;i<s.length;i++){let a=s[i];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function ZD(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=$n.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const Ts=Object.create(null),is=Object.create(null),r7=Ne.ie&&Ne.ie_version<15||Ne.ios&&Ne.webkit_version<604;function VD(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),s7(t,n.value)},50)}function Gm(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function s7(t,e){e=Gm(t.state,yQ,e);let{state:n}=t,r,s=1,i=n.toText(e),a=i.lines==n.selection.ranges.length;if(n2!=null&&n.selection.ranges.every(u=>u.empty)&&n2==i.toString()){let u=-1;r=n.changeByRange(d=>{let p=n.doc.lineAt(d.from);if(p.from==u)return{range:d};u=p.from;let m=n.toText((a?i.line(s++).text:e)+n.lineBreak);return{changes:{from:p.from,insert:m},range:we.cursor(d.from+m.length)}})}else a?r=n.changeByRange(u=>{let d=i.line(s++);return{changes:{from:u.from,to:u.to,insert:d.text},range:we.cursor(u.from+d.length)}}):r=n.replaceSelection(i);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}is.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};Ts.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);is.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};is.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Ts.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(MM))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=DD(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new MD(t,e,n,r)),r&&t.observer.ignore(()=>{$M(t.contentDOM);let i=t.root.activeElement;i&&!i.contains(t.contentDOM)&&i.blur()});let s=t.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function b_(t,e,n,r){if(r==1)return we.cursor(e,n);if(r==2)return bD(t.state,e,n);{let s=t.docView.lineAt(e,n),i=t.state.doc.lineAt(s?s.posAtEnd:e),a=s?s.posAtStart:i.from,o=s?s.posAtEnd:i.to;return o<t.state.doc.length&&o==i.to&&o++,we.range(a,o)}}const YD=Ne.ie&&Ne.ie_version<=11;let v_=null,w_=0,S_=0;function i7(t){if(!YD)return t.detail;let e=v_,n=S_;return v_=t,S_=Date.now(),w_=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(w_+1)%3:1}function DD(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=i7(e),s=t.state.selection;return{update(i){i.docChanged&&(n.pos=i.changes.mapPos(n.pos),s=s.map(i.changes))},get(i,a,o){let u=t.posAndSideAtCoords({x:i.clientX,y:i.clientY},!1),d,p=b_(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!a){let m=b_(t,n.pos,n.assoc,r),g=Math.min(m.from,p.from),x=Math.max(m.to,p.to);p=g<p.from?we.range(g,x):we.range(x,g)}return a?s.replaceRange(s.main.extend(p.from,p.to)):o&&r==1&&s.ranges.length>1&&(d=BD(s,u.pos))?d:o?s.addRange(p):we.create([p])}}}function BD(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:s}=t.ranges[n];if(r<=e&&s>=e)return we.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Ts.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let s=t.docView.tile.nearest(e.target);if(s&&s.isWidget()){let i=s.posAtStart,a=i+s.length;(i>=n.to||a<=n.from)&&(n=we.range(i,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Gm(t.state,bQ,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};Ts.dragend=t=>(t.inputState.draggedContent=null,!1);function Q_(t,e,n,r){if(n=Gm(t.state,yQ,n),!n)return;let s=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=t.inputState,a=r&&i&&zD(t,e)?{from:i.from,to:i.to}:null,o={from:s,insert:n},u=t.state.changes(a?[a,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(s,-1),head:u.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}Ts.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),s=0,i=()=>{++s==n.length&&Q_(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let o=new FileReader;o.onerror=i,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[a]=o.result),i()},o.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Q_(t,e,r,!0),!0}return!1};Ts.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=r7?null:e.clipboardData;return n?(s7(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(VD(t),!1)};function UD(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function WD(t){let e=[],n=[],r=!1;for(let s of t.selection.ranges)s.empty||(e.push(t.sliceDoc(s.from,s.to)),n.push(s));if(!e.length){let s=-1;for(let{from:i}of t.selection.ranges){let a=t.doc.lineAt(i);a.number>s&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),s=a.number}r=!0}return{text:Gm(t,bQ,e.join(t.lineBreak)),ranges:n,linewise:r}}let n2=null;Ts.copy=Ts.cut=(t,e)=>{let{text:n,ranges:r,linewise:s}=WD(t.state);if(!n&&!s)return!1;n2=s?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=r7?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(UD(t,n),!1)};const a7=Bi.define();function l7(t,e){let n=[];for(let r of t.facet(LM)){let s=r(t,e);s&&n.push(s)}return n.length?t.update({effects:n,annotations:a7.of(!0)}):null}function o7(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=l7(t.state,e);n?t.dispatch(n):t.update([])}},10)}is.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),o7(t)};is.blur=t=>{t.observer.clearSelectionRange(),o7(t)};is.compositionstart=is.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};is.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ne.chrome&&Ne.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};is.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Ts.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let i=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(i&&a.length){let o=a[0],u=t.posAtDOM(o.startContainer,o.startOffset),d=t.posAtDOM(o.endContainer,o.endOffset);return QQ(t,{from:u,to:d,insert:t.state.toText(i)},null),!0}}let s;if(Ne.chrome&&Ne.android&&(s=t7.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ne.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ne.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>is.compositionend(t,e),20),!1};const k_=new Set;function GD(t){k_.has(t)||(k_.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const $_=["pre-wrap","normal","pre-line","break-spaces"];let gc=!1;function T_(){gc=!1}class ID{constructor(e){this.lineWrapping=e,this.doc=pt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return $_.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let s=e[r];s<0?r++:this.heightSamples[Math.floor(s*10)]||(n=!0,this.heightSamples[Math.floor(s*10)]=!0)}return n}refresh(e,n,r,s,i,a){let o=$_.indexOf(e)>-1,u=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=s,this.lineLength=i,u){this.heightSamples={};for(let d=0;d<a.length;d++){let p=a[d];p<0?d++:this.heightSamples[Math.floor(p*10)]=!0}}return u}}class HD{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Ss{constructor(e,n,r,s,i){this.from=e,this.length=n,this.top=r,this.height=s,this._content=i}get type(){return typeof this._content=="number"?wr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Al?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Ss(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Zt=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(Zt||(Zt={}));const $p=.001;class sr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>$p&&(gc=!0),this.height=e)}replace(e,n,r){return sr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,s){let i=this,a=r.doc;for(let o=s.length-1;o>=0;o--){let{fromA:u,toA:d,fromB:p,toB:m}=s[o],g=i.lineAt(u,Zt.ByPosNoHeight,r.setDoc(n),0,0),x=g.to>=d?g:i.lineAt(d,Zt.ByPosNoHeight,r,0,0);for(m+=x.to-d,d=x.to;o>0&&g.from<=s[o-1].toA;)u=s[o-1].fromA,p=s[o-1].fromB,o--,u<g.from&&(g=i.lineAt(u,Zt.ByPosNoHeight,r,0,0));p+=g.from-u,u=g.from;let v=kQ.build(r.setDoc(a),e,p,m);i=Kp(i,i.replace(u,d,v))}return i.updateHeight(r,0)}static empty(){return new Er(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,s=0,i=0;for(;;)if(n==r)if(s>i*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,s-=o.size}else if(i>s*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,i-=o.size}else break;else if(s<i){let o=e[n++];o&&(s+=o.size)}else{let o=e[--r];o&&(i+=o.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new KD(sr.of(e.slice(0,n)),a,sr.of(e.slice(r)))}}function Kp(t,e){return t==e?t:(t.constructor!=e.constructor&&(gc=!0),e)}sr.prototype.size=1;const FD=It.replace({});class c7 extends sr{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new Ss(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,s){return this.spaceAbove&&e<r+this.spaceAbove?new Ss(s,0,r,this.spaceAbove,FD):this.mainBlock(r,s)}lineAt(e,n,r,s,i){let a=this.mainBlock(s,i);return this.spaceAbove?this.blockAt(0,r,s,i).join(a):a}forEachLine(e,n,r,s,i,a){e<=i+this.length&&n>=i&&a(this.lineAt(0,Zt.ByPos,r,s,i))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,s){return s&&s.from<=n&&s.more&&this.setMeasuredHeight(s),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Er extends c7{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new Ss(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let s=r[0];return r.length==1&&(s instanceof Er||s instanceof Vn&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof Vn?s=new Er(s.length,this.height,this.spaceAbove):s.height=this.height,this.outdated||(s.outdated=!1),s):sr.of(r)}updateHeight(e,n=0,r=!1,s){return s&&s.from<=n&&s.more?this.setMeasuredHeight(s):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vn extends sr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,s=e.doc.lineAt(n+this.length).number,i=s-r+1,a,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*i);a=u/i,this.length>i+1&&(o=(this.height-u)/(this.length-i-1))}else a=this.height/i;return{firstLine:r,lastLine:s,perLine:a,perChar:o}}blockAt(e,n,r,s){let{firstLine:i,lastLine:a,perLine:o,perChar:u}=this.heightMetrics(n,s);if(n.lineWrapping){let d=s+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),p=n.doc.lineAt(d),m=o+p.length*u,g=Math.max(r,e-m/2);return new Ss(p.from,p.length,g,m,0)}else{let d=Math.max(0,Math.min(a-i,Math.floor((e-r)/o))),{from:p,length:m}=n.doc.line(i+d);return new Ss(p,m,r+o*d,o,0)}}lineAt(e,n,r,s,i){if(n==Zt.ByHeight)return this.blockAt(e,r,s,i);if(n==Zt.ByPosNoHeight){let{from:x,to:v}=r.doc.lineAt(e);return new Ss(x,v-x,0,0,0)}let{firstLine:a,perLine:o,perChar:u}=this.heightMetrics(r,i),d=r.doc.lineAt(e),p=o+d.length*u,m=d.number-a,g=s+o*m+u*(d.from-i-m);return new Ss(d.from,d.length,Math.max(s,Math.min(g,s+this.height-p)),p,0)}forEachLine(e,n,r,s,i,a){e=Math.max(e,i),n=Math.min(n,i+this.length);let{firstLine:o,perLine:u,perChar:d}=this.heightMetrics(r,i);for(let p=e,m=s;p<=n;){let g=r.doc.lineAt(p);if(p==e){let v=g.number-o;m+=u*v+d*(e-i-v)}let x=u+d*g.length;a(new Ss(g.from,g.length,m,x,0)),m+=x,p=g.to+1}}replace(e,n,r){let s=this.length-n;if(s>0){let i=r[r.length-1];i instanceof Vn?r[r.length-1]=new Vn(i.length+s):r.push(null,new Vn(s-1))}if(e>0){let i=r[0];i instanceof Vn?r[0]=new Vn(e+i.length):r.unshift(new Vn(e-1),null)}return sr.of(r)}decomposeLeft(e,n){n.push(new Vn(e-1),null)}decomposeRight(e,n){n.push(null,new Vn(this.length-e-1))}updateHeight(e,n=0,r=!1,s){let i=n+this.length;if(s&&s.from<=n+this.length&&s.more){let a=[],o=Math.max(n,s.from),u=-1;for(s.from>n&&a.push(new Vn(s.from-n-1).updateHeight(e,n));o<=i&&s.more;){let p=e.doc.lineAt(o).length;a.length&&a.push(null);let m=s.heights[s.index++],g=0;m<0&&(g=-m,m=s.heights[s.index++]),u==-1?u=m:Math.abs(m-u)>=$p&&(u=-2);let x=new Er(p,m,g);x.outdated=!1,a.push(x),o+=p+1}o<=i&&a.push(null,new Vn(i-o).updateHeight(e,o));let d=sr.of(a);return(u<0||Math.abs(d.height-this.height)>=$p||Math.abs(u-this.heightMetrics(e,n).perLine)>=$p)&&(gc=!0),Kp(this,d)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class KD extends sr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,s){let i=r+this.left.height;return e<i?this.left.blockAt(e,n,r,s):this.right.blockAt(e,n,i,s+this.left.length+this.break)}lineAt(e,n,r,s,i){let a=s+this.left.height,o=i+this.left.length+this.break,u=n==Zt.ByHeight?e<a:e<o,d=u?this.left.lineAt(e,n,r,s,i):this.right.lineAt(e,n,r,a,o);if(this.break||(u?d.to<o:d.from>o))return d;let p=n==Zt.ByPosNoHeight?Zt.ByPosNoHeight:Zt.ByPos;return u?d.join(this.right.lineAt(o,p,r,a,o)):this.left.lineAt(o,p,r,s,i).join(d)}forEachLine(e,n,r,s,i,a){let o=s+this.left.height,u=i+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,s,i,a),n>=u&&this.right.forEachLine(e,n,r,o,u,a);else{let d=this.lineAt(u,Zt.ByPos,r,s,i);e<d.from&&this.left.forEachLine(e,d.from-1,r,s,i,a),d.to>=e&&d.from<=n&&a(d),n>d.to&&this.right.forEachLine(d.to+1,n,r,o,u,a)}}replace(e,n,r){let s=this.left.length+this.break;if(n<s)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,n-s,r));let i=[];e>0&&this.decomposeLeft(e,i);let a=i.length;for(let o of r)i.push(o);if(e>0&&j_(i,a-1),n<this.length){let o=i.length;this.decomposeRight(n,i),j_(i,o)}return sr.of(i)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,s=r+this.break;if(e>=s)return this.right.decomposeRight(e-s,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<s&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?sr.of(this.break?[e,null,n]:[e,n]):(this.left=Kp(this.left,e),this.right=Kp(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,s){let{left:i,right:a}=this,o=n+i.length+this.break,u=null;return s&&s.from<=n+i.length&&s.more?u=i=i.updateHeight(e,n,r,s):i.updateHeight(e,n,r),s&&s.from<=o+a.length&&s.more?u=a=a.updateHeight(e,o,r,s):a.updateHeight(e,o,r),u?this.balanced(i,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function j_(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Vn&&(r=t[e+1])instanceof Vn&&t.splice(e-1,3,new Vn(n.length+1+r.length))}const JD=5;class kQ{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof Er?s.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Er(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let s=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new c7(a,s,r)):(a||i||s>=JD)&&this.addLineDeco(s,i,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Er(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new Vn(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Er)return e;let n=new Er(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let s=this.ensureLine();s.length+=r,s.collapsed+=r,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Er)&&!this.isCovered?this.nodes.push(new Er(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let s of this.nodes)s instanceof Er&&s.updateHeight(this.oracle,r),r+=s?s.length:1;return this.nodes}static build(e,n,r,s){let i=new kQ(r,e);return ht.spans(n,r,s,i,0),i.finish(r)}}function eB(t,e,n){let r=new tB;return ht.compare(t,e,n,r,0),r.changes}class tB{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,s){(e<n||r&&r.heightRelevant||s&&s.heightRelevant)&&rc(e,n,this.changes,5)}}function nB(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,s=r.defaultView||window,i=Math.max(0,n.left),a=Math.min(s.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(s.innerHeight,n.bottom);for(let d=t.parentNode;d&&d!=r.body;)if(d.nodeType==1){let p=d,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let g=p.getBoundingClientRect();i=Math.max(i,g.left),a=Math.min(a,g.right),o=Math.max(o,g.top),u=Math.min(d==t.parentNode?s.innerHeight:u,g.bottom)}d=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(d.nodeType==11)d=d.host;else break;return{left:i-n.left,right:Math.max(i,a)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function rB(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function sB(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class sx{constructor(e,n,r,s){this.from=e,this.to=n,this.size=r,this.displaySize=s}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=n[r];if(s.from!=i.from||s.to!=i.to||s.size!=i.size)return!1}return!0}draw(e,n){return It.replace({widget:new iB(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class iB extends Jf{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class __{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=P_,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=rn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(vQ).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new ID(n),this.stateDeco=N_(e),this.heightMap=sr.empty().applyChanges(this.stateDeco,pt.empty,this.heightOracle.setDoc(e.doc),[new Hr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=It.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let s=r?n.head:n.anchor;if(!e.some(({from:i,to:a})=>s>=i&&s<=a)){let{from:i,to:a}=this.lineBlockAt(s);e.push(new Zh(i,a))}}return this.viewports=e.sort((r,s)=>r.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?P_:new $Q(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(ef(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=N_(this.state);let s=e.changedRanges,i=Hr.extendWithRanges(s,eB(r,this.stateDeco,e?e.changes:Pn.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);T_(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=a||gc)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let d=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(d||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(FY)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),s=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?rn.RTL:rn.LTR;let a=this.heightOracle.mustRefreshForWrapping(i),o=n.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let d=0,p=0;if(o.width&&o.height){let{scaleX:T,scaleY:j}=kM(n,o);(T>.005&&Math.abs(this.scaleX-T)>.005||j>.005&&Math.abs(this.scaleY-j)>.005)&&(this.scaleX=T,this.scaleY=j,d|=16,a=u=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,d|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,d|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=TM(e.scrollDOM);let v=(this.printing?sB:nB)(n,this.paddingTop),b=v.top-this.pixelViewport.top,S=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let Q=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Q!=this.inView&&(this.inView=Q,Q&&(u=!0)),!this.inView&&!this.scrollTarget&&!rB(e.dom))return 0;let k=o.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,d|=16),u){let T=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(T)&&(a=!0),a||s.lineWrapping&&Math.abs(k-this.contentDOMWidth)>s.charWidth){let{lineHeight:j,charWidth:N,textHeight:C}=e.docView.measureTextSize();a=j>0&&s.refresh(i,j,N,C,Math.max(5,k/N),T),a&&(e.docView.minWidth=0,d|=16)}b>0&&S>0?p=Math.max(b,S):b<0&&S<0&&(p=Math.min(b,S)),T_();for(let j of this.viewports){let N=j.from==this.viewport.from?T:e.docView.measureVisibleLineHeights(j);this.heightMap=(a?sr.empty().applyChanges(this.stateDeco,pt.empty,this.heightOracle,[new Hr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new HD(j.from,N))}gc&&(d|=2)}let $=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(d&2&&(d|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),d|=this.updateForViewport()),(d&2||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,i=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,u=new Zh(s.lineAt(a-r*1e3,Zt.ByHeight,i,0,0).from,s.lineAt(o+(1-r)*1e3,Zt.ByHeight,i,0,0).to);if(n){let{head:d}=n.range;if(d<u.from||d>u.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(d,Zt.ByPos,i,0,0),g;n.y=="center"?g=(m.top+m.bottom)/2-p/2:n.y=="start"||n.y=="nearest"&&d<u.from?g=m.top:g=m.bottom-p,u=new Zh(s.lineAt(g-1e3/2,Zt.ByHeight,i,0,0).from,s.lineAt(g+p+1e3/2,Zt.ByHeight,i,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),s=n.mapPos(e.to,1);return new Zh(this.heightMap.lineAt(r,Zt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Zt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(n,Zt.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||s<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||i>=o+Math.max(10,Math.min(r,250)))&&s>a-2*1e3&&i<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let s of e)n.touchesRange(s.from,s.to)||r.push(new sx(n.mapPos(s.from),n.mapPos(s.to),s.size,s.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,s=r?1e4:2e3,i=s>>1,a=s<<1;if(this.defaultTextDirection!=rn.LTR&&!r)return[];let o=[],u=(p,m,g,x)=>{if(m-p<i)return;let v=this.state.selection.main,b=[v.from];v.empty||b.push(v.to);for(let Q of b)if(Q>p&&Q<m){u(p,Q-10,g,x),u(Q+10,m,g,x);return}let S=lB(e,Q=>Q.from>=g.from&&Q.to<=g.to&&Math.abs(Q.from-p)<i&&Math.abs(Q.to-m)<i&&!b.some(k=>Q.from<k&&Q.to>k));if(!S){if(m<g.to&&n&&r&&n.visibleRanges.some($=>$.from<=m&&$.to>=m)){let $=n.moveToLineBoundary(we.cursor(m),!1,!0).head;$>p&&(m=$)}let Q=this.gapSize(g,p,m,x),k=r||Q<2e6?Q:2e6;S=new sx(p,m,Q,k)}o.push(S)},d=p=>{if(p.length<a||p.type!=wr.Text)return;let m=aB(p.from,p.to,this.stateDeco);if(m.total<a)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,x,v;if(r){let b=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,S,Q;if(g!=null){let k=Yh(m,g),$=((this.visibleBottom-this.visibleTop)/2+b)/p.height;S=k-$,Q=k+$}else S=(this.visibleTop-p.top-b)/p.height,Q=(this.visibleBottom-p.top+b)/p.height;x=Vh(m,S),v=Vh(m,Q)}else{let b=m.total*this.heightOracle.charWidth,S=s*this.heightOracle.charWidth,Q=0;if(b>2e6)for(let N of e)N.from>=p.from&&N.from<p.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+Q<this.pixelViewport.left&&(Q=N.size-N.displaySize);let k=this.pixelViewport.left+Q,$=this.pixelViewport.right+Q,T,j;if(g!=null){let N=Yh(m,g),C=(($-k)/2+S)/b;T=N-C,j=N+C}else T=(k-S)/b,j=($+S)/b;x=Vh(m,T),v=Vh(m,j)}x>p.from&&u(p.from,x,p,m),v<p.to&&u(v,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(d):d(p);return o}gapSize(e,n,r,s){let i=Yh(s,r)-Yh(s,n);return this.heightOracle.lineWrapping?e.height*i:s.total*this.heightOracle.charWidth*i}updateLineGaps(e){sx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=It.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];ht.spans(n,this.viewport.from,this.viewport.to,{span(i,a){r.push({from:i,to:a})},point(){}},20);let s=0;if(r.length!=this.visibleRanges.length)s=12;else for(let i=0;i<r.length&&!(s&8);i++){let a=this.visibleRanges[i],o=r[i];(a.from!=o.from||a.to!=o.to)&&(s|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(s|=8))}return this.visibleRanges=r,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||ef(this.heightMap.lineAt(e,Zt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||ef(this.heightMap.lineAt(this.scaler.fromDOM(e),Zt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return ef(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Zh=class{constructor(e,n){this.from=e,this.to=n}};function aB(t,e,n){let r=[],s=t,i=0;return ht.spans(n,t,e,{span(){},point(a,o){a>s&&(r.push({from:s,to:a}),i+=a-s),s=o}},20),s<e&&(r.push({from:s,to:e}),i+=e-s),{total:i,ranges:r}}function Vh({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let s=0;;s++){let{from:i,to:a}=e[s],o=a-i;if(r<=o)return i+r;r-=o}}function Yh(t,e){let n=0;for(let{from:r,to:s}of t.ranges){if(e<=s){n+=e-r;break}n+=s-r}return n/t.total}function lB(t,e){for(let n of t)if(e(n))return n}const P_={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function N_(t){let e=t.facet(Bm).filter(r=>typeof r!="function"),n=t.facet(wQ).filter(r=>typeof r!="function");return n.length&&e.push(ht.join(n)),e}class $Q{constructor(e,n,r){let s=0,i=0,a=0;this.viewports=r.map(({from:o,to:u})=>{let d=n.lineAt(o,Zt.ByPos,e,0,0).top,p=n.lineAt(u,Zt.ByPos,e,0,0).bottom;return s+=p-d,{from:o,to:u,top:d,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(n.height-s);for(let o of this.viewports)o.domTop=a+(o.top-i)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),i=o.bottom}toDOM(e){for(let n=0,r=0,s=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.top)return s+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,s=i.domBottom}}fromDOM(e){for(let n=0,r=0,s=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.domTop)return r+(e-s)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,s=i.domBottom}}eq(e){return e instanceof $Q?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function ef(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Ss(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(s=>ef(s,e)):t._content)}const Dh=Me.define({combine:t=>t.join(" ")}),r2=Me.define({combine:t=>t.indexOf(!0)>-1}),s2=za.newName(),u7=za.newName(),f7=za.newName(),d7={"&light":"."+u7,"&dark":"."+f7};function i2(t,e,n){return new za(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,s=>{if(s=="&")return t;if(!n||!n[s])throw new RangeError(`Unsupported selector: ${s}`);return n[s]}):t+" "+r}})}const oB=i2("."+s2,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},d7),cB={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ix=Ne.ie&&Ne.ie_version<=11;class uB{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new zY,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Ne.ie&&Ne.ie_version<=11||Ne.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Ne.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Ne.chrome&&Ne.chrome_version<126)&&(this.editContext=new dB(e),e.state.facet(Ci)&&(e.contentDOM.editContext=this.editContext.editContext)),ix&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,s=this.selectionRange;if(r.state.facet(Ci)?r.root.activeElement!=this.dom:!Qp(this.dom,s))return;let i=s.anchorNode&&r.docView.tile.nearest(s.anchorNode);if(i&&i.isWidget()&&i.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ne.ie&&Ne.ie_version<=11||Ne.android&&Ne.chrome)&&!r.state.selection.main.empty&&s.focusNode&&hf(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=jf(e.root);if(!n)return!1;let r=Ne.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&fB(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let s=Qp(this.dom,r);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&ZY(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,cB),ix&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ix&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let s=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&sc(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,s=!1;for(let i of e){let a=this.readMutation(i);a&&(a.typeOver&&(s=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:s}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),s=this.selectionChanged&&Qp(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new _D(this.view,e,n,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,s=JM(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=C_(n,e.previousSibling||e.target.previousSibling,-1),s=C_(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:s?n.posBefore(s):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ci)!=e.state.facet(Ci)&&(e.view.contentDOM.editContext=e.state.facet(Ci)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function C_(t,e,n){for(;e;){let r=$n.get(e);if(r&&r.parent==t)return r;let s=e.parentNode;e=s!=t.dom?s:n>0?e.nextSibling:e.previousSibling}return null}function R_(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor,1);return hf(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function fB(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return R_(t,s)}let n=null;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?R_(t,n):null}class dB{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let s=e.state.selection.main,{anchor:i,head:a}=s,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let d=u-o>r.text.length;o==this.from&&i<this.from?o=i:u==this.to&&i>this.to&&(u=i);let p=e7(e.state.sliceDoc(o,u),r.text,(d?s.from:s.to)-o,d?"end":null);if(!p){let g=we.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));g.main.eq(s)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:p.from+o,to:p.toA+o,insert:pt.of(r.text.slice(p.from,p.toB).split(`
`))};if((Ne.mac||Ne.android)&&m.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:o,to:u,insert:pt.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);QQ(e,m,we.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let s=[],i=null;for(let a=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);a<o;a++){let u=e.coordsForChar(a);i=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||i||new DOMRect,s.push(i)}n.updateCharacterBounds(r.rangeStart,s)},this.handlers.textformatupdate=r=>{let s=[];for(let i of r.getTextFormats()){let a=i.underlineStyle,o=i.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(o)){let u=this.toEditorPos(i.rangeStart),d=this.toEditorPos(i.rangeEnd);if(u<d){let p=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;s.push(It.mark({attributes:{style:p}}).range(u,d))}}}e.dispatch({effects:YM.of(It.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let s=jf(r.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,s=this.pendingContextChange;return e.changes.iterChanges((i,a,o,u,d)=>{if(r)return;let p=d.length-(a-i);if(s&&a>=s.to)if(s.from==i&&s.to==a&&s.insert.eq(d)){s=this.pendingContextChange=null,n+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(i+=n,a+=n,a<=this.from)this.from+=p,this.to+=p;else if(i<this.to){if(i<this.from||a>this.to||this.to-this.from+d.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(a),d.toString()),this.to+=p}n+=p}),s&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),s=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(r,s)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class qe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(s=>s.forEach(i=>r(i,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||LY(e.parent)||document,this.viewState=new __(e.state||gt.create(e)),e.scrollTo&&e.scrollTo.is(Xh)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Io).map(s=>new Jg(s));for(let s of this.plugins)s.update(this);this.observer=new uB(this),this.inputState=new RD(this),this.inputState.ensureHandlers(this.plugins),this.docView=new m_(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof kn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,s,i=this.state;for(let g of e){if(g.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=g.state}if(this.destroyed){this.viewState.state=i;return}let a=this.hasFocus,o=0,u=null;e.some(g=>g.annotation(a7))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=l7(i,a),u||(o=1));let d=this.observer.delayedAndroidKey,p=null;if(d?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(p=null)):this.observer.clear(),i.facet(gt.phrases)!=this.state.facet(gt.phrases))return this.setState(i);s=Ip.create(this,i,e),s.flags|=o;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:x}=g.state.selection;m=new ic(x.empty?x:we.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of g.effects)x.is(Xh)&&(m=x.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=Jp.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),n=this.docView.update(s),this.state.facet(Ku)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Dh)!=s.state.facet(Dh)&&(this.viewState.mustMeasureContent=!0),(n||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!s.empty)for(let g of this.state.facet(JS))try{g(s)}catch(x){Xr(this.state,x,"update listener")}(u||p)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),p&&!JM(this,p)&&d.force&&sc(this.contentDOM,d.key,d.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new __(e),this.plugins=e.facet(Io).map(r=>new Jg(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new m_(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Io),r=e.state.facet(Io);if(n!=r){let s=[];for(let i of r){let a=n.indexOf(i);if(a<0)s.push(new Jg(i));else{let o=this.plugins[a];o.mustUpdate=e,s.push(o)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Xr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(TM(r))i=-1,a=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(s);i=x.from,a=x.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];u&4||([this.measureRequests,d]=[d,this.measureRequests]);let p=d.map(x=>{try{return x.read(this)}catch(v){return Xr(this.state,v),E_}}),m=Ip.create(this,this.state,[]),g=!1;m.flags|=u,n?n.flags|=u:n=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let x=0;x<d.length;x++)if(p[x]!=E_)try{let v=d[x];v.write&&v.write(p[x],this)}catch(v){Xr(this.state,v)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let v=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-a;if(v>1||v<-1){s=s+v,r.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(JS))o(n)}get themeClasses(){return s2+" "+(this.state.facet(r2)?f7:u7)+" "+this.state.facet(Dh)}updateAttrs(){let e=A_(this,DM,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Ci)?"true":"false",class:"cm-content",style:`${Ne.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),A_(this,vQ,n);let r=this.observer.ignore(()=>{let s=c_(this.contentDOM,this.contentAttrs,n),i=c_(this.dom,this.editorAttrs,e);return s||i});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let s of r.effects)if(s.is(qe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Ku);let e=this.state.facet(qe.cspNonce);za.mount(this.root,this.styleModules.concat(oB).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return rx(this,e,O_(this,e,n,r))}moveByGroup(e,n){return rx(this,e,O_(this,e,n,r=>QD(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),s=this.textDirectionAt(e.from),i=r[n?r.length-1:0];return we.cursor(i.side(n,s)+e.from,i.forward(!n,s)?1:-1)}moveToLineBoundary(e,n,r=!0){return SD(this,e,n,r)}moveVertically(e,n,r){return rx(this,e,kD(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=t2(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),t2(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(e),i=this.bidiSpans(s),a=i[Ai.find(i,e-s.from,-1,n)];return Gp(r,a.dir==rn.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(ZM)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>hB)return RM(e.length);let n=this.textDirectionAt(e.from),r;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n&&(i.fresh||CM(i.isolates,r=d_(this,e))))return i.order;r||(r=d_(this,e));let s=GY(e.text,n,r);return this.bidiCache.push(new Jp(e.from,e.to,n,r,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ne.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{$M(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Xh.of(new ic(typeof e=="number"?we.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Xh.of(new ic(we.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return $s.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return $s.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=za.newName(),s=[Dh.of(r),Ku.of(i2(`.${r}`,e))];return n&&n.dark&&s.push(r2.of(!0)),s}static baseTheme(e){return Bl.lowest(Ku.of(i2("."+s2,e,d7)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),s=r&&$n.get(r)||$n.get(e);return((n=s==null?void 0:s.root)===null||n===void 0?void 0:n.view)||null}}qe.styleModule=Ku;qe.inputHandler=zM;qe.clipboardInputFilter=yQ;qe.clipboardOutputFilter=bQ;qe.scrollHandler=VM;qe.focusChangeEffect=LM;qe.perLineTextDirection=ZM;qe.exceptionSink=XM;qe.updateListener=JS;qe.editable=Ci;qe.mouseSelectionStyle=MM;qe.dragMovesSelection=qM;qe.clickAddsSelectionRange=AM;qe.decorations=Bm;qe.blockWrappers=BM;qe.outerDecorations=wQ;qe.atomicRanges=nd;qe.bidiIsolatedRanges=UM;qe.scrollMargins=WM;qe.darkTheme=r2;qe.cspNonce=Me.define({combine:t=>t.length?t[0]:""});qe.contentAttributes=vQ;qe.editorAttributes=DM;qe.lineWrapping=qe.contentAttributes.of({class:"cm-lineWrapping"});qe.announce=At.define();const hB=4096,E_={};class Jp{constructor(e,n,r,s,i,a){this.from=e,this.to=n,this.dir=r,this.isolates=s,this.fresh=i,this.order=a}static update(e,n){if(n.empty&&!e.some(i=>i.fresh))return e;let r=[],s=e.length?e[e.length-1].dir:rn.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let a=e[i];a.dir==s&&!n.touchesRange(a.from,a.to)&&r.push(new Jp(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function A_(t,e,n){for(let r=t.state.facet(e),s=r.length-1;s>=0;s--){let i=r[s],a=typeof i=="function"?i(t):i;a&&OQ(a,n)}return n}const pB=Ne.mac?"mac":Ne.windows?"win":Ne.linux?"linux":"key";function mB(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let s,i,a,o;for(let u=0;u<n.length-1;++u){const d=n[u];if(/^(cmd|meta|m)$/i.test(d))o=!0;else if(/^a(lt)?$/i.test(d))s=!0;else if(/^(c|ctrl|control)$/i.test(d))i=!0;else if(/^s(hift)?$/i.test(d))a=!0;else if(/^mod$/i.test(d))e=="mac"?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+d)}return s&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function Bh(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const OB=Bl.default(qe.domEventHandlers({keydown(t,e){return bB(gB(e.state),t,e,"editor")}})),Rc=Me.define({enables:OB}),q_=new WeakMap;function gB(t){let e=t.facet(Rc),n=q_.get(e);return n||q_.set(e,n=yB(e.reduce((r,s)=>r.concat(s),[]))),n}let Pa=null;const xB=4e3;function yB(t,e=pB){let n=Object.create(null),r=Object.create(null),s=(a,o)=>{let u=r[a];if(u==null)r[a]=o;else if(u!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},i=(a,o,u,d,p)=>{var m,g;let x=n[a]||(n[a]=Object.create(null)),v=o.split(/ (?!$)/).map(Q=>mB(Q,e));for(let Q=1;Q<v.length;Q++){let k=v.slice(0,Q).join(" ");s(k,!0),x[k]||(x[k]={preventDefault:!0,stopPropagation:!1,run:[$=>{let T=Pa={view:$,prefix:k,scope:a};return setTimeout(()=>{Pa==T&&(Pa=null)},xB),!0}]})}let b=v.join(" ");s(b,!1);let S=x[b]||(x[b]={preventDefault:!1,stopPropagation:!1,run:((g=(m=x._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});u&&S.run.push(u),d&&(S.preventDefault=!0),p&&(S.stopPropagation=!0)};for(let a of t){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let d of o){let p=n[d]||(n[d]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=a;for(let g in p)p[g].run.push(x=>m(x,a2))}let u=a[e]||a.key;if(u)for(let d of o)i(d,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&i(d,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return n}let a2=null;function bB(t,e,n,r){a2=e;let s=NY(e),i=Ol(s,0),a=Do(i)==s.length&&s!=" ",o="",u=!1,d=!1,p=!1;Pa&&Pa.view==n&&Pa.scope==r&&(o=Pa.prefix+" ",n7.indexOf(e.keyCode)<0&&(d=!0,Pa=null));let m=new Set,g=S=>{if(S){for(let Q of S.run)if(!m.has(Q)&&(m.add(Q),Q(n)))return S.stopPropagation&&(p=!0),!0;S.preventDefault&&(S.stopPropagation&&(p=!0),d=!0)}return!1},x=t[r],v,b;return x&&(g(x[o+Bh(s,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ne.windows&&e.ctrlKey&&e.altKey)&&!(Ne.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(v=La[e.keyCode])&&v!=s?(g(x[o+Bh(v,e,!0)])||e.shiftKey&&(b=$f[e.keyCode])!=s&&b!=v&&g(x[o+Bh(b,e,!1)]))&&(u=!0):a&&e.shiftKey&&g(x[o+Bh(s,e,!0)])&&(u=!0),!u&&g(x._any)&&(u=!0)),d&&(u=!0),u&&p&&e.stopPropagation(),a2=null,u}function M_(){return wB}const vB=It.line({class:"cm-activeLine"}),wB=$s.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let s=t.lineBlockAt(r.head);s.from>e&&(n.push(vB.range(s.from)),e=s.from)}return It.set(n)}},{decorations:t=>t.decorations}),Uh="-10000px";class SB{constructor(e,n,r,s){this.facet=n,this.createTooltipView=r,this.removeTooltipView=s,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let i=null;this.tooltipViews=this.tooltips.map(a=>i=r(a,i))}update(e,n){var r;let s=e.state.facet(this.facet),i=s.filter(u=>u);if(s===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],o=n?[]:null;for(let u=0;u<i.length;u++){let d=i[u],p=-1;if(d){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==d.create&&(p=m)}if(p<0)a[u]=this.createTooltipView(d,u?a[u-1]:null),o&&(o[u]=!!d.above);else{let m=a[u]=this.tooltipViews[p];o&&(o[u]=n[p]),m.update&&m.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,d)=>n[d]=u),n.length=o.length),this.input=s,this.tooltips=i,this.tooltipViews=a,!0}}function QB(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const ax=Me.define({combine:t=>{var e,n,r;return{position:Ne.ios?"absolute":((e=t.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(s=>s.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(s=>s.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||QB}}}),X_=new WeakMap,h7=$s.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(ax);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new SB(t,p7,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(ax);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",n.dom.appendChild(s)}return n.dom.style.position=this.position,n.dom.style.top=Uh,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(Ne.safari){let a=i.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!i.offsetParent&&i.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),s=SQ(this.view);return{visible:{left:r.left+s.left,top:r.top+s.top,right:r.right-s.right,bottom:r.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((i,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(ax).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:s,scaleY:i}=t,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],d=this.manager.tooltipViews[o],{dom:p}=d,m=t.pos[o],g=t.size[o];if(!m||u.clip!==!1&&(m.bottom<=Math.max(n.top,r.top)||m.top>=Math.min(n.bottom,r.bottom)||m.right<Math.max(n.left,r.left)-.1||m.left>Math.min(n.right,r.right)+.1)){p.style.top=Uh;continue}let x=u.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,v=x?7:0,b=g.right-g.left,S=(e=X_.get(d))!==null&&e!==void 0?e:g.bottom-g.top,Q=d.offset||$B,k=this.view.textDirection==rn.LTR,$=g.width>r.right-r.left?k?r.left:r.right-g.width:k?Math.max(r.left,Math.min(m.left-(x?14:0)+Q.x,r.right-b)):Math.min(Math.max(r.left,m.left-b+(x?14:0)-Q.x),r.right-b),T=this.above[o];!u.strictSide&&(T?m.top-S-v-Q.y<r.top:m.bottom+S+v+Q.y>r.bottom)&&T==r.bottom-m.bottom>m.top-r.top&&(T=this.above[o]=!T);let j=(T?m.top-r.top:r.bottom-m.bottom)-v;if(j<S&&d.resize!==!1){if(j<this.view.defaultLineHeight){p.style.top=Uh;continue}X_.set(d,S),p.style.height=(S=j)/i+"px"}else p.style.height&&(p.style.height="");let N=T?m.top-S-v-Q.y:m.bottom+v+Q.y,C=$+b;if(d.overlap!==!0)for(let q of a)q.left<C&&q.right>$&&q.top<N+S&&q.bottom>N&&(N=T?q.top-S-2-v:q.bottom+v+2);if(this.position=="absolute"?(p.style.top=(N-t.parent.top)/i+"px",z_(p,($-t.parent.left)/s)):(p.style.top=N/i+"px",z_(p,$/s)),x){let q=m.left+(k?Q.x:-Q.x)-($+14-7);x.style.left=q/s+"px"}d.overlap!==!0&&a.push({left:$,top:N,right:C,bottom:N+S}),p.classList.toggle("cm-tooltip-above",T),p.classList.toggle("cm-tooltip-below",!T),d.positioned&&d.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Uh}},{eventObservers:{scroll(){this.maybeMeasure()}}});function z_(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const kB=qe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),$B={x:0,y:0},p7=Me.define({enables:[h7,kB]});function m7(t,e){let n=t.plugin(h7);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}class Xl extends Xa{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Xl.prototype.elementClass="";Xl.prototype.toDOM=void 0;Xl.prototype.mapMode=nr.TrackBefore;Xl.prototype.startSide=Xl.prototype.endSide=-1;Xl.prototype.point=!0;const lx=Me.define(),TB=Me.define(),Tp=Me.define(),L_=Me.define({combine:t=>t.some(e=>e)});function jB(t){return[_B]}const _B=$s.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Tp).map(e=>new V_(t,e)),this.fixed=!t.state.facet(L_);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(L_)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=ht.iter(this.view.state.facet(lx),this.view.viewport.from),r=[],s=this.gutters.map(i=>new PB(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(i.type)){let a=!0;for(let o of i.type)if(o.type==wr.Text&&a){l2(n,r,o.from);for(let u of s)u.line(this.view,o,r);a=!1}else if(o.widget)for(let u of s)u.widget(this.view,o)}else if(i.type==wr.Text){l2(n,r,i.from);for(let a of s)a.line(this.view,i,r)}else if(i.widget)for(let a of s)a.widget(this.view,i);for(let i of s)i.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Tp),n=t.state.facet(Tp),r=t.docChanged||t.heightChanged||t.viewportChanged||!ht.eq(t.startState.facet(lx),t.state.facet(lx),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let s of this.gutters)s.update(t)&&(r=!0);else{r=!0;let s=[];for(let i of n){let a=e.indexOf(i);a<0?s.push(new V_(this.view,i)):(this.gutters[a].update(t),s.push(this.gutters[a]))}for(let i of this.gutters)i.dom.remove(),s.indexOf(i)<0&&i.destroy();for(let i of s)i.config.side=="after"?this.getDOMAfter().appendChild(i.dom):this.dom.appendChild(i.dom);this.gutters=s}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>qe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,s=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==rn.LTR?{left:r,right:s}:{right:r,left:s}})});function Z_(t){return Array.isArray(t)?t:[t]}function l2(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class PB{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ht.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:s}=this,i=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==s.elements.length){let o=new O7(e,a,i,r);s.elements.push(o),s.dom.appendChild(o.dom)}else s.elements[this.i].update(e,a,i,r);this.height=n.bottom,this.i++}line(e,n,r){let s=[];l2(this.cursor,s,n.from),r.length&&(s=s.concat(r));let i=this.gutter.config.lineMarker(e,n,s);i&&s.unshift(i);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,s)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),s=r?[r]:null;for(let i of e.state.facet(TB)){let a=i(e,n.widget,n);a&&(s||(s=[])).push(a)}s&&this.addElement(e,n,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class V_{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,s=>{let i=s.target,a;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let u=i.getBoundingClientRect();a=(u.top+u.bottom)/2}else a=s.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,o,s)&&s.preventDefault()});this.markers=Z_(n.markers(e)),n.initialSpacer&&(this.spacer=new O7(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=Z_(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let r=e.view.viewport;return!ht.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class O7{constructor(e,n,r,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,s)}update(e,n,r,s){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),NB(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,n){let r="cm-gutterElement",s=this.dom.firstChild;for(let i=0,a=0;;){let o=a,u=i<n.length?n[i++]:null,d=!1;if(u){let p=u.elementClass;p&&(r+=" "+p);for(let m=a;m<this.markers.length;m++)if(this.markers[m].compare(u)){o=m,d=!0;break}}else o=this.markers.length;for(;a<o;){let p=this.markers[a++];if(p.toDOM){p.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!u)break;u.toDOM&&(d?s=s.nextSibling:this.dom.insertBefore(u.toDOM(e),s)),d&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function NB(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const CB=Me.define(),RB=Me.define(),Ho=Me.define({combine(t){return hQ(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let s in n){let i=r[s],a=n[s];r[s]=i?(o,u,d)=>i(o,u,d)||a(o,u,d):a}return r}})}});class ox extends Xl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function cx(t,e){return t.state.facet(Ho).formatNumber(e,t.state)}const EB=Tp.compute([Ho],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(CB)},lineMarker(e,n,r){return r.some(s=>s.toDOM)?null:new ox(cx(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let s of e.state.facet(RB)){let i=s(e,n,r);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(Ho)!=e.state.facet(Ho),initialSpacer(e){return new ox(cx(e,D_(e.state.doc.lines)))},updateSpacer(e,n){let r=cx(n.view,D_(n.view.state.doc.lines));return r==e.number?e:new ox(r)},domEventHandlers:t.facet(Ho).domEventHandlers,side:"before"}));function Y_(t={}){return[Ho.of(t),jB(),EB]}function D_(t){let e=9;for(;e<t;)e=e*10+9;return e}const g7=1024;let AB=0;class Fr{constructor(e,n){this.from=e,this.to=n}}class Ue{constructor(e={}){this.id=AB++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Nn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ue.closedBy=new Ue({deserialize:t=>t.split(" ")});Ue.openedBy=new Ue({deserialize:t=>t.split(" ")});Ue.group=new Ue({deserialize:t=>t.split(" ")});Ue.isolate=new Ue({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ue.contextHash=new Ue({perNode:!0});Ue.lookAhead=new Ue({perNode:!0});Ue.mounted=new Ue({perNode:!0});class ac{constructor(e,n,r,s=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=s}static get(e){return e&&e.props&&e.props[Ue.mounted.id]}}const qB=Object.create(null);class Nn{constructor(e,n,r,s=0){this.name=e,this.props=n,this.id=r,this.flags=s}static define(e){let n=e.props&&e.props.length?Object.create(null):qB,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new Nn(e.name||"",n,e.id,r);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(s)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[i[0].id]=i[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ue.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let s of r.split(" "))n[s]=e[r];return r=>{for(let s=r.prop(Ue.group),i=-1;i<(s?s.length:0);i++){let a=n[i<0?r.name:s[i]];if(a)return a}}}}Nn.none=new Nn("",Object.create(null),0,8);class rd{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let s=null;for(let i of e){let a=i(r);if(a){s||(s=Object.assign({},r.props));let o=a[1],u=a[0];u.combine&&u.id in s&&(o=u.combine(s[u.id],o)),s[u.id]=o}}n.push(s?new Nn(r.name,s,r.id,r.flags):r)}return new rd(n)}}const Wh=new WeakMap,B_=new WeakMap;var vt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(vt||(vt={}));class wt{constructor(e,n,r,s,i){if(this.type=e,this.children=n,this.positions=r,this.length=s,this.props=null,i&&i.length){this.props=Object.create(null);for(let[a,o]of i)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=ac.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let s=r.toString();s&&(n&&(n+=","),n+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new em(this.topNode,e)}cursorAt(e,n=0,r=0){let s=Wh.get(this)||this.topNode,i=new em(s);return i.moveTo(e,n),Wh.set(this,i._tree),i}get topNode(){return new as(this,0,0,null)}resolve(e,n=0){let r=Pf(Wh.get(this)||this.topNode,e,n,!1);return Wh.set(this,r),r}resolveInner(e,n=0){let r=Pf(B_.get(this)||this.topNode,e,n,!0);return B_.set(this,r),r}resolveStack(e,n=0){return zB(this,e,n)}iterate(e){let{enter:n,leave:r,from:s=0,to:i=this.length}=e,a=e.mode||0,o=(a&vt.IncludeAnonymous)>0;for(let u=this.cursor(a|vt.IncludeAnonymous);;){let d=!1;if(u.from<=i&&u.to>=s&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;d=!0}for(;d&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;d=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:_Q(Nn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,s)=>new wt(this.type,n,r,s,this.propValues),e.makeTree||((n,r,s)=>new wt(Nn.none,n,r,s)))}static build(e){return LB(e)}}wt.empty=new wt(Nn.none,[],[],0);class TQ{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new TQ(this.buffer,this.index)}}class Va{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Nn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],s=this.set.types[n],i=s.name;if(/\W/.test(i)&&!s.isError&&(i=JSON.stringify(i)),e+=4,r==e)return i;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return i+"("+a.join(",")+")"}findChild(e,n,r,s,i){let{buffer:a}=this,o=-1;for(let u=e;u!=n&&!(x7(i,s,a[u+1],a[u+2])&&(o=u,r>0));u=a[u+3]);return o}slice(e,n,r){let s=this.buffer,i=new Uint16Array(n-e),a=0;for(let o=e,u=0;o<n;){i[u++]=s[o++],i[u++]=s[o++]-r;let d=i[u++]=s[o++]-r;i[u++]=s[o++]-e,a=Math.max(a,d)}return new Va(i,a,this.set)}}function x7(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function Pf(t,e,n,r){for(var s;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof as&&t.index<0?null:t.parent;if(!a)return t;t=a}let i=r?0:vt.IgnoreOverlays;if(r)for(let a=t,o=a.parent;o;a=o,o=a.parent)a instanceof as&&a.index<0&&((s=o.enter(e,n,i))===null||s===void 0?void 0:s.from)!=a.from&&(t=o);for(;;){let a=t.enter(e,n,i);if(!a)return t;t=a}}class y7{cursor(e=0){return new em(this,e)}getChild(e,n=null,r=null){let s=U_(this,e,n,r);return s.length?s[0]:null}getChildren(e,n=null,r=null){return U_(this,e,n,r)}resolve(e,n=0){return Pf(this,e,n,!1)}resolveInner(e,n=0){return Pf(this,e,n,!0)}matchContext(e){return o2(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let s=n.lastChild;if(!s||s.to!=n.to)break;s.type.isError&&s.from==s.to?(r=n,n=s.prevSibling):n=s}return r}get node(){return this}get next(){return this.parent}}let as=class jp extends y7{constructor(e,n,r,s){super(),this._tree=e,this.from=n,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,s,i=0){var a;for(let o=this;;){for(let{children:u,positions:d}=o._tree,p=n>0?u.length:-1;e!=p;e+=n){let m=u[e],g=d[e]+o.from;if(!(!(i&vt.EnterBracketed&&m instanceof wt&&((a=ac.get(m))===null||a===void 0?void 0:a.overlay)===null&&(g>=r||g+m.length<=r))&&!x7(s,r,g,g+m.length))){if(m instanceof Va){if(i&vt.ExcludeBuffers)continue;let x=m.findChild(0,m.buffer.length,n,r-g,s);if(x>-1)return new Gs(new MB(o,m,e,g),null,x)}else if(i&vt.IncludeAnonymous||!m.type.isAnonymous||jQ(m)){let x;if(!(i&vt.IgnoreMounts)&&(x=ac.get(m))&&!x.overlay)return new jp(x.tree,g,e,o);let v=new jp(m,g,e,o);return i&vt.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?m.children.length-1:0,n,r,s,i)}}}if(i&vt.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let s;if(!(r&vt.IgnoreOverlays)&&(s=ac.get(this._tree))&&s.overlay){let i=e-this.from,a=r&vt.EnterBracketed&&s.bracketed;for(let{from:o,to:u}of s.overlay)if((n>0||a?o<=i:o<i)&&(n<0||a?u>=i:u>i))return new jp(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function U_(t,e,n,r){let s=t.cursor(),i=[];if(!s.firstChild())return i;if(n!=null){for(let a=!1;!a;)if(a=s.type.is(n),!s.nextSibling())return i}for(;;){if(r!=null&&s.type.is(r))return i;if(s.type.is(e)&&i.push(s.node),!s.nextSibling())return r==null?i:[]}}function o2(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class MB{constructor(e,n,r,s){this.parent=e,this.buffer=n,this.index=r,this.start=s}}class Gs extends y7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],e,n-this.context.start,r);return i<0?null:new Gs(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&vt.ExcludeBuffers)return null;let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return i<0?null:new Gs(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Gs(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Gs(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,s=this.index+4,i=r.buffer[this.index+3];if(i>s){let a=r.buffer[this.index+1];e.push(r.slice(s,i,a)),n.push(0)}return new wt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function b7(t){if(!t.length)return null;let e=0,n=t[0];for(let i=1;i<t.length;i++){let a=t[i];(a.from>n.from||a.to<n.to)&&(n=a,e=i)}let r=n instanceof as&&n.index<0?null:n.parent,s=t.slice();return r?s[e]=r:s.splice(e,1),new XB(s,n)}class XB{constructor(e,n){this.heads=e,this.node=n}get next(){return b7(this.heads)}}function zB(t,e,n){let r=t.resolveInner(e,n),s=null;for(let i=r instanceof as?r:r.context.parent;i;i=i.parent)if(i.index<0){let a=i.parent;(s||(s=[r])).push(a.resolve(e,n)),i=a}else{let a=ac.get(i.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new as(a.tree,a.overlay[0].from+i.from,-1,i);(s||(s=[r])).push(Pf(o,e,n,!1))}}return s?b7(s):r}class em{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~vt.EnterBracketed,e instanceof as)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:s}=this.buffer;return this.type=n||s.set.types[s.buffer[e]],this.from=r+s.buffer[e+1],this.to=r+s.buffer[e+2],!0}yield(e){return e?e instanceof as?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:s}=this.buffer,i=s.findChild(this.index+4,s.buffer[this.index+3],e,n-this.buffer.start,r);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&vt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&vt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&vt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(n.findChild(s,this.index,-1,0,4))}else{let s=n.buffer[this.index+3];if(s<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(s.buffer.buffer[i+3]<this.index)return!1;({index:n,parent:r}=s)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let i=n+e,a=e<0?-1:r._tree.children.length;i!=a;i+=e){let o=r._tree.children[i];if(this.mode&vt.IncludeAnonymous||o instanceof Va||!o.type.isAnonymous||jQ(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let s=this.index,i=this.stack.length;i>=0;){for(let a=e;a;a=a._parent)if(a.index==s){if(s==this.index)return a;n=a,r=i+1;break e}s=this.stack[--i]}for(let s=r;s<this.stack.length;s++)n=new Gs(this.buffer,n,this.stack[s]);return this.bufferNode=new Gs(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&n&&n(this),s=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,s=!0}}}matchContext(e){if(!this.buffer)return o2(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let s=e.length-1,i=this.stack.length-1;s>=0;i--){if(i<0)return o2(this._tree,e,s);let a=r[n.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[s]&&e[s]!=a.name)return!1;s--}}return!0}}function jQ(t){return t.children.some(e=>e instanceof Va||!e.type.isAnonymous||jQ(e))}function LB(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:s=g7,reused:i=[],minRepeatType:a=r.types.length}=t,o=Array.isArray(n)?new TQ(n,n.length):n,u=r.types,d=0,p=0;function m(j,N,C,q,M,L){let{id:E,start:Z,end:Y,size:R}=o,G=p,A=d;if(R<0)if(o.next(),R==-1){let z=i[E];C.push(z),q.push(Z-j);return}else if(R==-3){d=E;return}else if(R==-4){p=E;return}else throw new RangeError(`Unrecognized record size: ${R}`);let W=u[E],I,U,ee=Z-j;if(Y-Z<=s&&(U=S(o.pos-N,M))){let z=new Uint16Array(U.size-U.skip),D=o.pos-U.size,K=z.length;for(;o.pos>D;)K=Q(U.start,z,K);I=new Va(z,Y-U.start,r),ee=U.start-j}else{let z=o.pos-R;o.next();let D=[],K=[],B=E>=a?E:-1,H=0,J=Y;for(;o.pos>z;)B>=0&&o.id==B&&o.size>=0?(o.end<=J-s&&(v(D,K,Z,H,o.end,J,B,G,A),H=D.length,J=o.end),o.next()):L>2500?g(Z,z,D,K):m(Z,z,D,K,B,L+1);if(B>=0&&H>0&&H<D.length&&v(D,K,Z,H,Z,J,B,G,A),D.reverse(),K.reverse(),B>-1&&H>0){let re=x(W,A);I=_Q(W,D,K,0,D.length,0,Y-Z,re,re)}else I=b(W,D,K,Y-Z,G-Y,A)}C.push(I),q.push(ee)}function g(j,N,C,q){let M=[],L=0,E=-1;for(;o.pos>N;){let{id:Z,start:Y,end:R,size:G}=o;if(G>4)o.next();else{if(E>-1&&Y<E)break;E<0&&(E=R-s),M.push(Z,Y,R),L++,o.next()}}if(L){let Z=new Uint16Array(L*4),Y=M[M.length-2];for(let R=M.length-3,G=0;R>=0;R-=3)Z[G++]=M[R],Z[G++]=M[R+1]-Y,Z[G++]=M[R+2]-Y,Z[G++]=G;C.push(new Va(Z,M[2]-Y,r)),q.push(Y-j)}}function x(j,N){return(C,q,M)=>{let L=0,E=C.length-1,Z,Y;if(E>=0&&(Z=C[E])instanceof wt){if(!E&&Z.type==j&&Z.length==M)return Z;(Y=Z.prop(Ue.lookAhead))&&(L=q[E]+Z.length+Y)}return b(j,C,q,M,L,N)}}function v(j,N,C,q,M,L,E,Z,Y){let R=[],G=[];for(;j.length>q;)R.push(j.pop()),G.push(N.pop()+C-M);j.push(b(r.types[E],R,G,L-M,Z-L,Y)),N.push(M-C)}function b(j,N,C,q,M,L,E){if(L){let Z=[Ue.contextHash,L];E=E?[Z].concat(E):[Z]}if(M>25){let Z=[Ue.lookAhead,M];E=E?[Z].concat(E):[Z]}return new wt(j,N,C,q,E)}function S(j,N){let C=o.fork(),q=0,M=0,L=0,E=C.end-s,Z={size:0,start:0,skip:0};e:for(let Y=C.pos-j;C.pos>Y;){let R=C.size;if(C.id==N&&R>=0){Z.size=q,Z.start=M,Z.skip=L,L+=4,q+=4,C.next();continue}let G=C.pos-R;if(R<0||G<Y||C.start<E)break;let A=C.id>=a?4:0,W=C.start;for(C.next();C.pos>G;){if(C.size<0)if(C.size==-3||C.size==-4)A+=4;else break e;else C.id>=a&&(A+=4);C.next()}M=W,q+=R,L+=A}return(N<0||q==j)&&(Z.size=q,Z.start=M,Z.skip=L),Z.size>4?Z:void 0}function Q(j,N,C){let{id:q,start:M,end:L,size:E}=o;if(o.next(),E>=0&&q<a){let Z=C;if(E>4){let Y=o.pos-(E-4);for(;o.pos>Y;)C=Q(j,N,C)}N[--C]=Z,N[--C]=L-j,N[--C]=M-j,N[--C]=q}else E==-3?d=q:E==-4&&(p=q);return C}let k=[],$=[];for(;o.pos>0;)m(t.start||0,t.bufferStart||0,k,$,-1,0);let T=(e=t.length)!==null&&e!==void 0?e:k.length?$[0]+k[0].length:0;return new wt(u[t.topID],k.reverse(),$.reverse(),T)}const W_=new WeakMap;function _p(t,e){if(!t.isAnonymous||e instanceof Va||e.type!=t)return 1;let n=W_.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof wt)){n=1;break}n+=_p(t,r)}W_.set(e,n)}return n}function _Q(t,e,n,r,s,i,a,o,u){let d=0;for(let v=r;v<s;v++)d+=_p(t,e[v]);let p=Math.ceil(d*1.5/8),m=[],g=[];function x(v,b,S,Q,k){for(let $=S;$<Q;){let T=$,j=b[$],N=_p(t,v[$]);for($++;$<Q;$++){let C=_p(t,v[$]);if(N+C>=p)break;N+=C}if($==T+1){if(N>p){let C=v[T];x(C.children,C.positions,0,C.children.length,b[T]+k);continue}m.push(v[T])}else{let C=b[$-1]+v[$-1].length-j;m.push(_Q(t,v,b,T,$,j,C,null,u))}g.push(j+k-i)}}return x(e,n,r,s,0),(o||u)(m,g,a)}class PQ{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Gs?this.setBuffer(e.context.buffer,e.index,n):e instanceof as&&this.map.set(e.tree,n)}get(e){return e instanceof Gs?this.getBuffer(e.context.buffer,e.index):e instanceof as?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Xi{constructor(e,n,r,s,i=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=s,this.open=(i?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let s=[new Xi(0,e.length,e,0,!1,r)];for(let i of n)i.to>e.length&&s.push(i);return s}static applyChanges(e,n,r=128){if(!n.length)return e;let s=[],i=1,a=e.length?e[0]:null;for(let o=0,u=0,d=0;;o++){let p=o<n.length?n[o]:null,m=p?p.fromA:1e9;if(m-u>=r)for(;a&&a.from<m;){let g=a;if(u>=g.from||m<=g.to||d){let x=Math.max(g.from,u)-d,v=Math.min(g.to,m)-d;g=x>=v?null:new Xi(x,v,g.tree,g.offset+d,o>0,!!p)}if(g&&s.push(g),a.to>m)break;a=i<e.length?e[i++]:null}if(!p)break;u=p.toA,d=p.toA-p.toB}return s}}class NQ{startParse(e,n,r){return typeof e=="string"&&(e=new ZB(e)),r=r?r.length?r.map(s=>new Fr(s.from,s.to)):[new Fr(0,0)]:[new Fr(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let s=this.startParse(e,n,r);for(;;){let i=s.advance();if(i)return i}}}class ZB{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function v7(t){return(e,n,r,s)=>new YB(e,t,n,r,s)}class G_{constructor(e,n,r,s,i,a){this.parser=e,this.parse=n,this.overlay=r,this.bracketed=s,this.target=i,this.from=a}}function I_(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class VB{constructor(e,n,r,s,i,a,o,u){this.parser=e,this.predicate=n,this.mounts=r,this.index=s,this.start=i,this.bracketed=a,this.target=o,this.prev=u,this.depth=0,this.ranges=[]}}const c2=new Ue({perNode:!0});class YB{constructor(e,n,r,s,i){this.nest=n,this.input=r,this.fragments=s,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new wt(r.type,r.children,r.positions,r.length,r.propValues.concat([[c2,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ue.mounted.id]=new ac(n,e.overlay,e.parser,e.bracketed),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new UB(this.fragments),n=null,r=null,s=new em(new as(this.baseTree,this.ranges[0].from,0,null),vt.IncludeAnonymous|vt.IgnoreMounts);e:for(let i,a;;){let o=!0,u;if(this.stoppedAt!=null&&s.from>=this.stoppedAt)o=!1;else if(e.hasNode(s)){if(n){let d=n.mounts.find(p=>p.frag.from<=s.from&&p.frag.to>=s.to&&p.mount.overlay);if(d)for(let p of d.mount.overlay){let m=p.from+d.pos,g=p.to+d.pos;m>=s.from&&g<=s.to&&!n.ranges.some(x=>x.from<g&&x.to>m)&&n.ranges.push({from:m,to:g})}}o=!1}else if(r&&(a=DB(r.ranges,s.from,s.to)))o=a!=2;else if(!s.type.isAnonymous&&(i=this.nest(s,this.input))&&(s.from<s.to||!i.overlay)){s.tree||(BB(s),n&&n.depth++,r&&r.depth++);let d=e.findMounts(s.from,i.parser);if(typeof i.overlay=="function")n=new VB(i.parser,i.overlay,d,this.inner.length,s.from,!!i.bracketed,s.tree,n);else{let p=K_(this.ranges,i.overlay||(s.from<s.to?[new Fr(s.from,s.to)]:[]));p.length&&I_(p),(p.length||!i.overlay)&&this.inner.push(new G_(i.parser,p.length?i.parser.startParse(this.input,J_(d,p),p):i.parser.startParse(""),i.overlay?i.overlay.map(m=>new Fr(m.from-s.from,m.to-s.from)):null,!!i.bracketed,s.tree,p.length?p[0].from:s.from)),i.overlay?p.length&&(r={ranges:p,depth:0,prev:r}):o=!1}}else if(n&&(u=n.predicate(s))&&(u===!0&&(u=new Fr(s.from,s.to)),u.from<u.to)){let d=n.ranges.length-1;d>=0&&n.ranges[d].to==u.from?n.ranges[d]={from:n.ranges[d].from,to:u.to}:n.ranges.push(u)}if(o&&s.firstChild())n&&n.depth++,r&&r.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(n&&!--n.depth){let d=K_(this.ranges,n.ranges);d.length&&(I_(d),this.inner.splice(n.index,0,new G_(n.parser,n.parser.startParse(this.input,J_(n.mounts,d),d),n.ranges.map(p=>new Fr(p.from-n.start,p.to-n.start)),n.bracketed,n.target,d[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function DB(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function H_(t,e,n,r,s,i){if(e<n){let a=t.buffer[e+1];r.push(t.slice(e,n,a)),s.push(a-i)}}function BB(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let s=t.tree,i=s.children.indexOf(r),a=s.children[i],o=a.buffer,u=[i];function d(p,m,g,x,v,b){let S=n[b],Q=[],k=[];H_(a,p,S,Q,k,x);let $=o[S+1],T=o[S+2];u.push(Q.length);let j=b?d(S+4,o[S+3],a.set.types[o[S]],$,T-$,b-1):e.toTree();return Q.push(j),k.push($-x),H_(a,o[S+3],m,Q,k,x),new wt(g,Q,k,v)}s.children[i]=d(0,o.length,Nn.none,0,a.length,n.length-1);for(let p of u){let m=t.tree.children[p],g=t.tree.positions[p];t.yield(new as(m,g+t.from,p,t._tree))}}class F_{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(vt.IncludeAnonymous|vt.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,vt.IgnoreOverlays|vt.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof wt)n=n.children[0];else break}return!1}}let UB=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(c2))!==null&&n!==void 0?n:r.to,this.inner=new F_(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(c2))!==null&&e!==void 0?e:n.to,this.inner=new F_(n.tree,-n.offset)}}findMounts(e,n){var r;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let i=this.inner.cursor.node;i;i=i.parent){let a=(r=i.tree)===null||r===void 0?void 0:r.prop(Ue.mounted);if(a&&a.parser==n)for(let o=this.fragI;o<this.fragments.length;o++){let u=this.fragments[o];if(u.from>=i.to)break;u.tree==this.curFrag.tree&&s.push({frag:u,pos:i.from-u.offset,mount:a})}}}return s}};function K_(t,e){let n=null,r=e;for(let s=1,i=0;s<t.length;s++){let a=t[s-1].to,o=t[s].from;for(;i<r.length;i++){let u=r[i];if(u.from>=o)break;u.to<=a||(n||(r=n=e.slice()),u.from<a?(n[i]=new Fr(u.from,a),u.to>o&&n.splice(i+1,0,new Fr(o,u.to))):u.to>o?n[i--]=new Fr(o,u.to):n.splice(i--,1))}}return r}function WB(t,e,n,r){let s=0,i=0,a=!1,o=!1,u=-1e9,d=[];for(;;){let p=s==t.length?1e9:a?t[s].to:t[s].from,m=i==e.length?1e9:o?e[i].to:e[i].from;if(a!=o){let g=Math.max(u,n),x=Math.min(p,m,r);g<x&&d.push(new Fr(g,x))}if(u=Math.min(p,m),u==1e9)break;p==u&&(a?(a=!1,s++):a=!0),m==u&&(o?(o=!1,i++):o=!0)}return d}function J_(t,e){let n=[];for(let{pos:r,mount:s,frag:i}of t){let a=r+(s.overlay?s.overlay[0].from:0),o=a+s.tree.length,u=Math.max(i.from,a),d=Math.min(i.to,o);if(s.overlay){let p=s.overlay.map(g=>new Fr(g.from+r,g.to+r)),m=WB(e,p,u,d);for(let g=0,x=u;;g++){let v=g==m.length,b=v?d:m[g].from;if(b>x&&n.push(new Xi(x,b,s.tree,-a,i.from>=x||i.openStart,i.to<=b||i.openEnd)),v)break;x=m[g].to}}else n.push(new Xi(u,d,s.tree,-a,i.from>=a||i.openStart,i.to<=o||i.openEnd))}return n}let GB=0;class qr{constructor(e,n,r,s){this.name=e,this.set=n,this.base=r,this.modified=s,this.id=GB++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof qr&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let s=new qr(r,[],null,[]);if(s.set.push(s),n)for(let i of n.set)s.set.push(i);return s}static defineModifier(e){let n=new tm(e);return r=>r.modified.indexOf(n)>-1?r:tm.get(r.base||r,r.modified.concat(n).sort((s,i)=>s.id-i.id))}}let IB=0;class tm{constructor(e){this.name=e,this.instances=[],this.id=IB++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&HB(n,o.modified));if(r)return r;let s=[],i=new qr(e.name,s,e,n);for(let o of n)o.instances.push(i);let a=FB(n);for(let o of e.set)if(!o.modified.length)for(let u of a)s.push(tm.get(o,u));return i}}function HB(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function FB(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,s=e.length;r<s;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Ua(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let s of n.split(" "))if(s){let i=[],a=2,o=s;for(let m=0;;){if(o=="..."&&m>0&&m+3==s.length){a=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!g)throw new RangeError("Invalid path: "+s);if(i.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==s.length)break;let x=s[m++];if(m==s.length&&x=="!"){a=0;break}if(x!="/")throw new RangeError("Invalid path: "+s);o=s.slice(m)}let u=i.length-1,d=i[u];if(!d)throw new RangeError("Invalid path: "+s);let p=new Nf(r,a,u>0?i.slice(0,u):null);e[d]=p.sort(e[d])}}return w7.add(e)}const w7=new Ue({combine(t,e){let n,r,s;for(;t||e;){if(!t||e&&t.depth>=e.depth?(s=e,e=e.next):(s=t,t=t.next),n&&n.mode==s.mode&&!s.context&&!n.context)continue;let i=new Nf(s.tags,s.mode,s.context);n?n.next=i:r=i,n=i}return r}});class Nf{constructor(e,n,r,s){this.tags=e,this.mode=n,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Nf.empty=new Nf([],2,null);function S7(t,e){let n=Object.create(null);for(let i of t)if(!Array.isArray(i.tag))n[i.tag.id]=i.class;else for(let a of i.tag)n[a.id]=i.class;let{scope:r,all:s=null}=e||{};return{style:i=>{let a=s;for(let o of i)for(let u of o.set){let d=n[u.id];if(d){a=a?a+" "+d:d;break}}return a},scope:r}}function KB(t,e){let n=null;for(let r of t){let s=r.style(e);s&&(n=n?n+" "+s:s)}return n}function JB(t,e,n,r=0,s=t.length){let i=new eU(r,Array.isArray(e)?e:[e],n);i.highlightRange(t.cursor(),r,s,"",i.highlighters),i.flush(s)}class eU{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,s,i){let{type:a,from:o,to:u}=e;if(o>=r||u<=n)return;a.isTop&&(i=this.highlighters.filter(x=>!x.scope||x.scope(a)));let d=s,p=tU(e)||Nf.empty,m=KB(i,p.tags);if(m&&(d&&(d+=" "),d+=m,p.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(n,o),d),p.opaque)return;let g=e.tree&&e.tree.prop(Ue.mounted);if(g&&g.overlay){let x=e.node.enter(g.overlay[0].from+o,1),v=this.highlighters.filter(S=>!S.scope||S.scope(g.tree.type)),b=e.firstChild();for(let S=0,Q=o;;S++){let k=S<g.overlay.length?g.overlay[S]:null,$=k?k.from+o:u,T=Math.max(n,Q),j=Math.min(r,$);if(T<j&&b)for(;e.from<j&&(this.highlightRange(e,T,j,s,i),this.startSpan(Math.min(j,e.to),d),!(e.to>=$||!e.nextSibling())););if(!k||$>r)break;Q=k.to+o,Q>n&&(this.highlightRange(x.cursor(),Math.max(n,k.from+o),Math.min(r,Q),"",v),this.startSpan(Math.min(r,Q),d))}b&&e.parent()}else if(e.firstChild()){g&&(s="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,s,i),this.startSpan(Math.min(r,e.to),d)}while(e.nextSibling());e.parent()}}}function tU(t){let e=t.type.prop(w7);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Te=qr.define,Gh=Te(),$a=Te(),eP=Te($a),tP=Te($a),Ta=Te(),Ih=Te(Ta),ux=Te(Ta),Bs=Te(),ml=Te(Bs),Ys=Te(),Ds=Te(),u2=Te(),Xu=Te(u2),Hh=Te(),V={comment:Gh,lineComment:Te(Gh),blockComment:Te(Gh),docComment:Te(Gh),name:$a,variableName:Te($a),typeName:eP,tagName:Te(eP),propertyName:tP,attributeName:Te(tP),className:Te($a),labelName:Te($a),namespace:Te($a),macroName:Te($a),literal:Ta,string:Ih,docString:Te(Ih),character:Te(Ih),attributeValue:Te(Ih),number:ux,integer:Te(ux),float:Te(ux),bool:Te(Ta),regexp:Te(Ta),escape:Te(Ta),color:Te(Ta),url:Te(Ta),keyword:Ys,self:Te(Ys),null:Te(Ys),atom:Te(Ys),unit:Te(Ys),modifier:Te(Ys),operatorKeyword:Te(Ys),controlKeyword:Te(Ys),definitionKeyword:Te(Ys),moduleKeyword:Te(Ys),operator:Ds,derefOperator:Te(Ds),arithmeticOperator:Te(Ds),logicOperator:Te(Ds),bitwiseOperator:Te(Ds),compareOperator:Te(Ds),updateOperator:Te(Ds),definitionOperator:Te(Ds),typeOperator:Te(Ds),controlOperator:Te(Ds),punctuation:u2,separator:Te(u2),bracket:Xu,angleBracket:Te(Xu),squareBracket:Te(Xu),paren:Te(Xu),brace:Te(Xu),content:Bs,heading:ml,heading1:Te(ml),heading2:Te(ml),heading3:Te(ml),heading4:Te(ml),heading5:Te(ml),heading6:Te(ml),contentSeparator:Te(Bs),list:Te(Bs),quote:Te(Bs),emphasis:Te(Bs),strong:Te(Bs),link:Te(Bs),monospace:Te(Bs),strikethrough:Te(Bs),inserted:Te(),deleted:Te(),changed:Te(),invalid:Te(),meta:Hh,documentMeta:Te(Hh),annotation:Te(Hh),processingInstruction:Te(Hh),definition:qr.defineModifier("definition"),constant:qr.defineModifier("constant"),function:qr.defineModifier("function"),standard:qr.defineModifier("standard"),local:qr.defineModifier("local"),special:qr.defineModifier("special")};for(let t in V){let e=V[t];e instanceof qr&&(e.name=t)}S7([{tag:V.link,class:"tok-link"},{tag:V.heading,class:"tok-heading"},{tag:V.emphasis,class:"tok-emphasis"},{tag:V.strong,class:"tok-strong"},{tag:V.keyword,class:"tok-keyword"},{tag:V.atom,class:"tok-atom"},{tag:V.bool,class:"tok-bool"},{tag:V.url,class:"tok-url"},{tag:V.labelName,class:"tok-labelName"},{tag:V.inserted,class:"tok-inserted"},{tag:V.deleted,class:"tok-deleted"},{tag:V.literal,class:"tok-literal"},{tag:V.string,class:"tok-string"},{tag:V.number,class:"tok-number"},{tag:[V.regexp,V.escape,V.special(V.string)],class:"tok-string2"},{tag:V.variableName,class:"tok-variableName"},{tag:V.local(V.variableName),class:"tok-variableName tok-local"},{tag:V.definition(V.variableName),class:"tok-variableName tok-definition"},{tag:V.special(V.variableName),class:"tok-variableName2"},{tag:V.definition(V.propertyName),class:"tok-propertyName tok-definition"},{tag:V.typeName,class:"tok-typeName"},{tag:V.namespace,class:"tok-namespace"},{tag:V.className,class:"tok-className"},{tag:V.macroName,class:"tok-macroName"},{tag:V.propertyName,class:"tok-propertyName"},{tag:V.operator,class:"tok-operator"},{tag:V.comment,class:"tok-comment"},{tag:V.meta,class:"tok-meta"},{tag:V.invalid,class:"tok-invalid"},{tag:V.punctuation,class:"tok-punctuation"}]);var fx;const $l=new Ue;function CQ(t){return Me.define({combine:t?e=>e.concat(t):void 0})}const RQ=new Ue;class Kr{constructor(e,n,r=[],s=""){this.data=e,this.name=s,gt.prototype.hasOwnProperty("tree")||Object.defineProperty(gt.prototype,"tree",{get(){return an(this)}}),this.parser=n,this.extension=[yc.of(this),gt.languageData.of((i,a,o)=>{let u=nP(i,a,o),d=u.type.prop($l);if(!d)return[];let p=i.facet(d),m=u.type.prop(RQ);if(m){let g=u.resolve(a-u.from,o);for(let x of m)if(x.test(g,i)){let v=i.facet(x.facet);return x.type=="replace"?v:v.concat(p)}}return p})].concat(r)}isActiveAt(e,n,r=-1){return nP(e,n,r).type.prop($l)==this.data}findRegions(e){let n=e.facet(yc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],s=(i,a)=>{if(i.prop($l)==this.data){r.push({from:a,to:a+i.length});return}let o=i.prop(Ue.mounted);if(o){if(o.tree.prop($l)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+i.length});return}else if(o.overlay){let u=r.length;if(s(o.tree,o.overlay[0].from+a),r.length>u)return}}for(let u=0;u<i.children.length;u++){let d=i.children[u];d instanceof wt&&s(d,i.positions[u]+a)}};return s(an(e),0),r}get allowsNesting(){return!0}}Kr.setState=At.define();function nP(t,e,n){let r=t.facet(yc),s=an(t).topNode;if(!r||r.allowsNesting)for(let i=s;i;i=i.enter(e,n,vt.ExcludeBuffers|vt.EnterBracketed))i.type.isTop&&(s=i);return s}class Ya extends Kr{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=CQ(e.languageData);return new Ya(n,e.parser.configure({props:[$l.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ya(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function an(t){let e=t.field(Kr.state,!1);return e?e.tree:wt.empty}class nU{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let zu=null;class Cf{constructor(e,n,r=[],s,i,a,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=s,this.treeLen=i,this.viewport=a,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Cf(e,n,[],wt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new nU(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=wt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(Xi.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Xi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=zu;zu=this;try{return e()}finally{zu=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=rP(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:s,treeLen:i,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((d,p,m,g)=>u.push({fromA:d,toA:p,fromB:m,toB:g})),r=Xi.applyChanges(r,u),s=wt.empty,i=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let d of this.skipped){let p=e.mapPos(d.from,1),m=e.mapPos(d.to,-1);p<m&&o.push({from:p,to:m})}}}return new Cf(this.parser,n,r,s,i,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:s,to:i}=this.skipped[r];s<e.to&&i>e.from&&(this.fragments=rP(this.fragments,s,i),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends NQ{createParse(n,r,s){let i=s[0].from,a=s[s.length-1].to;return{parsedPos:i,advance(){let u=zu;if(u){for(let d of s)u.tempSkipped.push(d);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new wt(Nn.none,[],[],a-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return zu}}function rP(t,e,n){return Xi.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class xc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new xc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Cf.create(e.facet(yc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new xc(r)}}Kr.state=ni.define({create:xc.init,update(t,e){for(let n of e.effects)if(n.is(Kr.setState))return n.value;return e.startState.facet(yc)!=e.state.facet(yc)?xc.init(e.state):t.apply(e)}});let Q7=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Q7=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const dx=typeof navigator<"u"&&(!((fx=navigator.scheduling)===null||fx===void 0)&&fx.isInputPending)?()=>navigator.scheduling.isInputPending():null,rU=$s.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Kr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Kr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=Q7(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:s}}=this.view,i=r.field(Kr.state);if(i.tree==i.context.tree&&i.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!dx?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<s&&r.doc.length>s+1e3,u=i.context.work(()=>dx&&dx()||Date.now()>a,s+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Kr.setState.of(new xc(i.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Xr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),yc=Me.define({combine(t){return t.length?t[0]:null},enables:t=>[Kr.state,rU,qe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class zl{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class nm{constructor(e,n,r,s,i,a=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=s,this.loadFunc=i,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new nm(e.name,(e.alias||[]).concat(e.name).map(s=>s.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let s of e)if(s.filename&&s.filename.test(n))return s;let r=/\.([^.]+)$/.exec(n);if(r){for(let s of e)if(s.extensions.indexOf(r[1])>-1)return s}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let s of e)if(s.alias.some(i=>i==n))return s;if(r)for(let s of e)for(let i of s.alias){let a=n.indexOf(i);if(a>-1&&(i.length>2||!/\w/.test(n[a-1])&&!/\w/.test(n[a+i.length])))return s}return null}}const sU=Me.define(),sd=Me.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function rm(t){let e=t.facet(sd);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function sm(t,e){let n="",r=t.tabSize,s=t.facet(sd)[0];if(s=="	"){for(;e>=r;)n+="	",e-=r;s=" "}for(let i=0;i<e;i++)n+=s;return n}function k7(t,e){t instanceof gt&&(t=new Im(t));for(let r of t.state.facet(sU)){let s=r(t,e);if(s!==void 0)return s}let n=an(t.state);return n.length>=e?iU(t,n,e):null}class Im{constructor(e,n={}){this.state=e,this.options=n,this.unit=rm(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:i}=this.options;return s!=null&&s>=r.from&&s<=r.to?i&&s==e?{text:"",from:e}:(n<0?s<e:s<=e)?{text:r.text.slice(s-r.from),from:s}:{text:r.text.slice(0,s-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:s}=this.lineAt(e,n);return r.slice(e-s,Math.min(r.length,e+100-s))}column(e,n=1){let{text:r,from:s}=this.lineAt(e,n),i=this.countColumn(r,e-s),a=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return a>-1&&(i+=a-this.countColumn(r,r.search(/\S|$/))),i}countColumn(e,n=e.length){return Li(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:s}=this.lineAt(e,n),i=this.options.overrideIndentation;if(i){let a=i(s);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ul=new Ue;function iU(t,e,n){let r=e.resolveStack(n),s=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(s!=r.node){let i=[];for(let a=s;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)i.push(a);for(let a=i.length-1;a>=0;a--)r={node:i[a],next:r}}return $7(r,t,n)}function $7(t,e,n){for(let r=t;r;r=r.next){let s=lU(r.node);if(s)return s(EQ.create(e,n,r))}return 0}function aU(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function lU(t){let e=t.type.prop(Ul);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ue.closedBy))){let s=t.lastChild,i=s&&r.indexOf(s.name)>-1;return a=>T7(a,!0,1,void 0,i&&!aU(a)?s.from:void 0)}return t.parent==null?oU:null}function oU(){return 0}class EQ extends Im{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new EQ(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(cU(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return $7(this.context.next,this.base,this.pos)}}function cU(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function uU(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let s=t.options.simulateBreak,i=t.state.doc.lineAt(n.from),a=s==null||s<=i.from?i.to:Math.min(i.to,s);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let d=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+d}}o=u.to}}function mf({closing:t,align:e=!0,units:n=1}){return r=>T7(r,e,n,t)}function T7(t,e,n,r,s){let i=t.textAfter,a=i.match(/^\s*/)[0].length,o=r&&i.slice(a,a+r.length)==r||s==t.pos+a,u=e?uU(t):null;return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}const j7=t=>t.baseIndent;function _l({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const fU=Me.define(),Wl=new Ue;function Hm(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class Fm{constructor(e,n){this.specs=e;let r;function s(o){let u=za.newName();return(r||(r=Object.create(null)))["."+u]=o,u}const i=typeof n.all=="string"?n.all:n.all?s(n.all):void 0,a=n.scope;this.scope=a instanceof Kr?o=>o.prop($l)==a.data:a?o=>o==a:void 0,this.style=S7(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:i}).style,this.module=r?new za(r):null,this.themeType=n.themeType}static define(e,n){return new Fm(e,n||{})}}const f2=Me.define(),dU=Me.define({combine(t){return t.length?[t[0]]:null}});function hx(t){let e=t.facet(f2);return e.length?e:t.facet(dU)}function hU(t,e){let n=[mU],r;return t instanceof Fm&&(t.module&&n.push(qe.styleModule.of(t.module)),r=t.themeType),r?n.push(f2.computeN([qe.darkTheme],s=>s.facet(qe.darkTheme)==(r=="dark")?[t]:[])):n.push(f2.of(t)),n}class pU{constructor(e){this.markCache=Object.create(null),this.tree=an(e.state),this.decorations=this.buildDeco(e,hx(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=an(e.state),r=hx(e.state),s=r!=hx(e.startState),{viewport:i}=e.view,a=e.changes.mapPos(this.decoratedTo,1);n.length<i.to&&!s&&n.type==this.tree.type&&a>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(n!=this.tree||e.viewportChanged||s)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=i.to)}buildDeco(e,n){if(!n||!this.tree.length)return It.none;let r=new Qf;for(let{from:s,to:i}of e.visibleRanges)JB(this.tree,n,(a,o,u)=>{r.add(a,o,this.markCache[u]||(this.markCache[u]=It.mark({class:u})))},s,i);return r.finish()}}const mU=Bl.high($s.fromClass(pU,{decorations:t=>t.decorations})),OU=1e4,gU="()[]{}",_7=new Ue;function d2(t,e,n){let r=t.prop(e<0?Ue.openedBy:Ue.closedBy);if(r)return r;if(t.name.length==1){let s=n.indexOf(t.name);if(s>-1&&s%2==(e<0?1:0))return[n[s+e]]}return null}function h2(t){let e=t.type.prop(_7);return e?e(t.node):t}function Fo(t,e,n,r={}){let s=r.maxScanDistance||OU,i=r.brackets||gU,a=an(t),o=a.resolveInner(e,n);for(let u=o;u;u=u.parent){let d=d2(u.type,n,i);if(d&&u.from<u.to){let p=h2(u);if(p&&(n>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return xU(t,e,n,u,p,d,i)}}return yU(t,e,n,a,o.type,s,i)}function xU(t,e,n,r,s,i,a){let o=r.parent,u={from:s.from,to:s.to},d=0,p=o==null?void 0:o.cursor();if(p&&(n<0?p.childBefore(r.from):p.childAfter(r.to)))do if(n<0?p.to<=r.from:p.from>=r.to){if(d==0&&i.indexOf(p.type.name)>-1&&p.from<p.to){let m=h2(p);return{start:u,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(d2(p.type,n,a))d++;else if(d2(p.type,-n,a)){if(d==0){let m=h2(p);return{start:u,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(n<0?p.prevSibling():p.nextSibling());return{start:u,matched:!1}}function yU(t,e,n,r,s,i,a){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=a.indexOf(o);if(u<0||u%2==0!=n>0)return null;let d={from:n<0?e-1:e,to:n>0?e+1:e},p=t.doc.iterRange(e,n>0?t.doc.length:0),m=0;for(let g=0;!p.next().done&&g<=i;){let x=p.value;n<0&&(g+=x.length);let v=e+g*n;for(let b=n>0?0:x.length-1,S=n>0?x.length:-1;b!=S;b+=n){let Q=a.indexOf(x[b]);if(!(Q<0||r.resolveInner(v+b,1).type!=s))if(Q%2==0==n>0)m++;else{if(m==1)return{start:d,end:{from:v+b,to:v+b+1},matched:Q>>1==u>>1};m--}}n>0&&(g+=x.length)}return p.done?{start:d,matched:!1}:null}const bU=Object.create(null),sP=[Nn.none],iP=[],aP=Object.create(null),vU=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])vU[t]=wU(bU,e);function px(t,e){iP.indexOf(t)>-1||(iP.push(t),console.warn(e))}function wU(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let d of o.split(".")){let p=t[d]||V[d];p?typeof p=="function"?u.length?u=u.map(p):px(d,`Modifier ${d} used at start of tag`):u.length?px(d,`Tag ${d} used as modifier`):u=Array.isArray(p)?p:[p]:px(d,`Unknown highlighting tag ${d}`)}for(let d of u)n.push(d)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),s=r+" "+n.map(o=>o.id),i=aP[s];if(i)return i.id;let a=aP[s]=Nn.define({id:sP.length,name:r,props:[Ua({[r]:n})]});return sP.push(a),a.id}rn.RTL,rn.LTR;const SU=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=qQ(t.state,n.from);return r.line?QU(t):r.block?$U(t):!1};function AQ(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let s=t(e,n);return s?(r(n.update(s)),!0):!1}}const QU=AQ(_U,0),kU=AQ(P7,0),$U=AQ((t,e)=>P7(t,e,jU(e)),0);function qQ(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const Lu=50;function TU(t,{open:e,close:n},r,s){let i=t.sliceDoc(r-Lu,r),a=t.sliceDoc(s,s+Lu),o=/\s*$/.exec(i)[0].length,u=/^\s*/.exec(a)[0].length,d=i.length-o;if(i.slice(d-e.length,d)==e&&a.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:s+u,margin:u&&1}};let p,m;s-r<=2*Lu?p=m=t.sliceDoc(r,s):(p=t.sliceDoc(r,r+Lu),m=t.sliceDoc(s-Lu,s));let g=/^\s*/.exec(p)[0].length,x=/\s*$/.exec(m)[0].length,v=m.length-x-n.length;return p.slice(g,g+e.length)==e&&m.slice(v,v+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(p.charAt(g+e.length))?1:0},close:{pos:s-x-n.length,margin:/\s/.test(m.charAt(v-1))?1:0}}:null}function jU(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),s=n.to<=r.to?r:t.doc.lineAt(n.to);s.from>r.from&&s.from==n.to&&(s=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let i=e.length-1;i>=0&&e[i].to>r.from?e[i].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function P7(t,e,n=e.selection.ranges){let r=n.map(i=>qQ(e,i.from).block);if(!r.every(i=>i))return null;let s=n.map((i,a)=>TU(e,r[a],i.from,i.to));if(t!=2&&!s.every(i=>i))return{changes:e.changes(n.map((i,a)=>s[a]?[]:[{from:i.from,insert:r[a].open+" "},{from:i.to,insert:" "+r[a].close}]))};if(t!=1&&s.some(i=>i)){let i=[];for(let a=0,o;a<s.length;a++)if(o=s[a]){let u=r[a],{open:d,close:p}=o;i.push({from:d.pos-u.open.length,to:d.pos+d.margin},{from:p.pos-p.margin,to:p.pos+u.close.length})}return{changes:i}}return null}function _U(t,e,n=e.selection.ranges){let r=[],s=-1;for(let{from:i,to:a}of n){let o=r.length,u=1e9,d=qQ(e,i).line;if(d){for(let p=i;p<=a;){let m=e.doc.lineAt(p);if(m.from>s&&(i==a||a>m.from)){s=m.from;let g=/^\s*/.exec(m.text)[0].length,x=g==m.length,v=m.text.slice(g,g+d.length)==d?g:-1;g<m.text.length&&g<u&&(u=g),r.push({line:m,comment:v,token:d,indent:g,empty:x,single:!1})}p=m.to+1}if(u<1e9)for(let p=o;p<r.length;p++)r[p].indent<r[p].line.text.length&&(r[p].indent=u);r.length==o+1&&(r[o].single=!0)}}if(t!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:o,token:u,indent:d,empty:p,single:m}of r)(m||!p)&&i.push({from:o.from+d,insert:u+" "});let a=e.changes(i);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:a,comment:o,token:u}of r)if(o>=0){let d=a.from+o,p=d+u.length;a.text[p-a.from]==" "&&p++,i.push({from:d,to:p})}return{changes:i}}return null}const p2=Bi.define(),PU=Bi.define(),NU=Me.define(),N7=Me.define({combine(t){return hQ(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,s)=>e(r,s)||n(r,s)})}}),C7=ni.define({create(){return Is.empty},update(t,e){let n=e.state.facet(N7),r=e.annotation(p2);if(r){let u=br.fromTransaction(e,r.selection),d=r.side,p=d==0?t.undone:t.done;return u?p=im(p,p.length,n.minDepth,u):p=A7(p,e.startState.selection),new Is(d==0?r.rest:p,d==0?p:r.rest)}let s=e.annotation(PU);if((s=="full"||s=="before")&&(t=t.isolate()),e.annotation(kn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let i=br.fromTransaction(e),a=e.annotation(kn.time),o=e.annotation(kn.userEvent);return i?t=t.addChanges(i,a,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,o,n.newGroupDelay)),(s=="full"||s=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Is(t.done.map(br.fromJSON),t.undone.map(br.fromJSON))}});function CU(t={}){return[C7,N7.of(t),qe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?R7:e.inputType=="historyRedo"?m2:null;return r?(e.preventDefault(),r(n)):!1}})]}function Km(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let s=n.field(C7,!1);if(!s)return!1;let i=s.pop(t,n,e);return i?(r(i),!0):!1}}const R7=Km(0,!1),m2=Km(1,!1),RU=Km(0,!0),EU=Km(1,!0);class br{constructor(e,n,r,s,i){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=s,this.selectionsAfter=i}setSelAfter(e){return new br(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new br(e.changes&&Pn.fromJSON(e.changes),[],e.mapped&&Ks.fromJSON(e.mapped),e.startSelection&&we.fromJSON(e.startSelection),e.selectionsAfter.map(we.fromJSON))}static fromTransaction(e,n){let r=Jr;for(let s of e.startState.facet(NU)){let i=s(e);i.length&&(r=r.concat(i))}return!r.length&&e.changes.empty?null:new br(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Jr)}static selection(e){return new br(void 0,Jr,void 0,void 0,e)}}function im(t,e,n,r){let s=e+1>n+20?e-n-1:0,i=t.slice(s,e);return i.push(r),i}function AU(t,e){let n=[],r=!1;return t.iterChangedRanges((s,i)=>n.push(s,i)),e.iterChangedRanges((s,i,a,o)=>{for(let u=0;u<n.length;){let d=n[u++],p=n[u++];o>=d&&a<=p&&(r=!0)}}),r}function qU(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function E7(t,e){return t.length?e.length?t.concat(e):t:e}const Jr=[],MU=200;function A7(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-MU));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),im(t,t.length-1,1e9,n.setSelAfter(r)))}else return[br.selection([e])]}function XU(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function mx(t,e){if(!t.length)return t;let n=t.length,r=Jr;for(;n;){let s=zU(t[n-1],e,r);if(s.changes&&!s.changes.empty||s.effects.length){let i=t.slice(0,n);return i[n-1]=s,i}else e=s.mapped,n--,r=s.selectionsAfter}return r.length?[br.selection(r)]:Jr}function zU(t,e,n){let r=E7(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):Jr,n);if(!t.changes)return br.selection(r);let s=t.changes.map(e),i=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(i):i;return new br(s,At.mapEffects(t.effects,e),a,t.startSelection.map(i),r)}const LU=/^(input\.type|delete)($|\.)/;class Is{constructor(e,n,r=0,s=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=s}isolate(){return this.prevTime?new Is(this.done,this.undone):this}addChanges(e,n,r,s,i){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||LU.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<s.newGroupDelay&&s.joinToEvent(i,AU(o.changes,e.changes))||r=="input.type.compose")?a=im(a,a.length-1,s.minDepth,new br(e.changes.compose(o.changes),E7(At.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Jr)):a=im(a,a.length,s.minDepth,e),new Is(a,Jr,n,r)}addSelection(e,n,r,s){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Jr;return i.length>0&&n-this.prevTime<s&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&qU(i[i.length-1],e)?this:new Is(A7(this.done,e),this.undone,n,r)}addMapping(e){return new Is(mx(this.done,e),mx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let s=e==0?this.done:this.undone;if(s.length==0)return null;let i=s[s.length-1],a=i.selectionsAfter[0]||n.selection;if(r&&i.selectionsAfter.length)return n.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:p2.of({side:e,rest:XU(s),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let o=s.length==1?Jr:s.slice(0,s.length-1);return i.mapped&&(o=mx(o,i.mapped)),n.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:p2.of({side:e,rest:o,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Is.empty=new Is(Jr,Jr);const ZU=[{key:"Mod-z",run:R7,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:m2,preventDefault:!0},{linux:"Ctrl-Shift-z",run:m2,preventDefault:!0},{key:"Mod-u",run:RU,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:EU,preventDefault:!0}];function Ec(t,e){return we.create(t.ranges.map(e),t.mainIndex)}function Ps(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ns({state:t,dispatch:e},n){let r=Ec(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Ps(t,r)),!0)}function Jm(t,e){return we.cursor(e?t.to:t.from)}function q7(t,e){return Ns(t,n=>n.empty?t.moveByChar(n,e):Jm(n,e))}function Fn(t){return t.textDirectionAt(t.state.selection.main.head)==rn.LTR}const M7=t=>q7(t,!Fn(t)),X7=t=>q7(t,Fn(t));function z7(t,e){return Ns(t,n=>n.empty?t.moveByGroup(n,e):Jm(n,e))}const VU=t=>z7(t,!Fn(t)),YU=t=>z7(t,Fn(t));function DU(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function eO(t,e,n){let r=an(t).resolveInner(e.head),s=n?Ue.closedBy:Ue.openedBy;for(let u=e.head;;){let d=n?r.childAfter(u):r.childBefore(u);if(!d)break;DU(t,d,s)?r=d:u=n?d.to:d.from}let i=r.type.prop(s),a,o;return i&&(a=n?Fo(t,r.from,1):Fo(t,r.to,-1))&&a.matched?o=n?a.end.to:a.end.from:o=n?r.to:r.from,we.cursor(o,n?-1:1)}const BU=t=>Ns(t,e=>eO(t.state,e,!Fn(t))),UU=t=>Ns(t,e=>eO(t.state,e,Fn(t)));function L7(t,e){return Ns(t,n=>{if(!n.empty)return Jm(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const Z7=t=>L7(t,!1),V7=t=>L7(t,!0);function Y7(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,s;if(e){for(let i of t.state.facet(qe.scrollMargins)){let a=i(t);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}s=t.scrollDOM.clientHeight-n-r}else s=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,s-5)}}function D7(t,e){let n=Y7(t),{state:r}=t,s=Ec(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):Jm(a,e));if(s.eq(r.selection))return!1;let i;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+n.marginTop,d=o.bottom-n.marginBottom;a&&a.top>u&&a.bottom<d&&(i=qe.scrollIntoView(s.main.head,{y:"start",yMargin:a.top-u}))}return t.dispatch(Ps(r,s),{effects:i}),!0}const lP=t=>D7(t,!1),O2=t=>D7(t,!0);function Wa(t,e,n){let r=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,n);if(s.head==e.head&&s.head!=(n?r.to:r.from)&&(s=t.moveToLineBoundary(e,n,!1)),!n&&s.head==r.from&&r.length){let i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(s=we.cursor(r.from+i))}return s}const WU=t=>Ns(t,e=>Wa(t,e,!0)),GU=t=>Ns(t,e=>Wa(t,e,!1)),IU=t=>Ns(t,e=>Wa(t,e,!Fn(t))),HU=t=>Ns(t,e=>Wa(t,e,Fn(t))),FU=t=>Ns(t,e=>we.cursor(t.lineBlockAt(e.head).from,1)),KU=t=>Ns(t,e=>we.cursor(t.lineBlockAt(e.head).to,-1));function JU(t,e,n){let r=!1,s=Ec(t.selection,i=>{let a=Fo(t,i.head,-1)||Fo(t,i.head,1)||i.head>0&&Fo(t,i.head-1,1)||i.head<t.doc.length&&Fo(t,i.head+1,-1);if(!a||!a.end)return i;r=!0;let o=a.start.from==i.head?a.end.to:a.end.from;return we.cursor(o)});return r?(e(Ps(t,s)),!0):!1}const eW=({state:t,dispatch:e})=>JU(t,e);function ls(t,e){let n=Ec(t.state.selection,r=>{let s=e(r);return we.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Ps(t.state,n)),!0)}function B7(t,e){return ls(t,n=>t.moveByChar(n,e))}const U7=t=>B7(t,!Fn(t)),W7=t=>B7(t,Fn(t));function G7(t,e){return ls(t,n=>t.moveByGroup(n,e))}const tW=t=>G7(t,!Fn(t)),nW=t=>G7(t,Fn(t)),rW=t=>ls(t,e=>eO(t.state,e,!Fn(t))),sW=t=>ls(t,e=>eO(t.state,e,Fn(t)));function I7(t,e){return ls(t,n=>t.moveVertically(n,e))}const H7=t=>I7(t,!1),F7=t=>I7(t,!0);function K7(t,e){return ls(t,n=>t.moveVertically(n,e,Y7(t).height))}const oP=t=>K7(t,!1),cP=t=>K7(t,!0),iW=t=>ls(t,e=>Wa(t,e,!0)),aW=t=>ls(t,e=>Wa(t,e,!1)),lW=t=>ls(t,e=>Wa(t,e,!Fn(t))),oW=t=>ls(t,e=>Wa(t,e,Fn(t))),cW=t=>ls(t,e=>we.cursor(t.lineBlockAt(e.head).from)),uW=t=>ls(t,e=>we.cursor(t.lineBlockAt(e.head).to)),uP=({state:t,dispatch:e})=>(e(Ps(t,{anchor:0})),!0),fP=({state:t,dispatch:e})=>(e(Ps(t,{anchor:t.doc.length})),!0),dP=({state:t,dispatch:e})=>(e(Ps(t,{anchor:t.selection.main.anchor,head:0})),!0),hP=({state:t,dispatch:e})=>(e(Ps(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),fW=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dW=({state:t,dispatch:e})=>{let n=tO(t).map(({from:r,to:s})=>we.range(r,Math.min(s+1,t.doc.length)));return e(t.update({selection:we.create(n),userEvent:"select"})),!0},hW=({state:t,dispatch:e})=>{let n=Ec(t.selection,r=>{let s=an(t),i=s.resolveStack(r.from,1);if(r.empty){let a=s.resolveStack(r.from,-1);a.node.from>=i.node.from&&a.node.to<=i.node.to&&(i=a)}for(let a=i;a;a=a.next){let{node:o}=a;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&a.next)return we.range(o.to,o.from)}return r});return n.eq(t.selection)?!1:(e(Ps(t,n)),!0)};function J7(t,e){let{state:n}=t,r=n.selection,s=n.selection.ranges.slice();for(let i of n.selection.ranges){let a=n.doc.lineAt(i.head);if(e?a.to<t.state.doc.length:a.from>0)for(let o=i;;){let u=t.moveVertically(o,e);if(u.head<a.from||u.head>a.to){s.some(d=>d.head==u.head)||s.push(u);break}else{if(u.head==o.head)break;o=u}}}return s.length==r.ranges.length?!1:(t.dispatch(Ps(n,we.create(s,s.length-1))),!0)}const pW=t=>J7(t,!1),mW=t=>J7(t,!0),OW=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=we.create([n.main]):n.main.empty||(r=we.create([we.cursor(n.main.head)])),r?(e(Ps(t,r)),!0):!1};function id(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,s=r.changeByRange(i=>{let{from:a,to:o}=i;if(a==o){let u=e(i);u<a?(n="delete.backward",u=Fh(t,u,!1)):u>a&&(n="delete.forward",u=Fh(t,u,!0)),a=Math.min(a,u),o=Math.max(o,u)}else a=Fh(t,a,!1),o=Fh(t,o,!0);return a==o?{range:i}:{changes:{from:a,to:o},range:we.cursor(a,a<i.head?-1:1)}});return s.changes.empty?!1:(t.dispatch(r.update(s,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?qe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Fh(t,e,n){if(t instanceof qe)for(let r of t.state.facet(qe.atomicRanges).map(s=>s(t)))r.between(e,e,(s,i)=>{s<e&&i>e&&(e=n?i:s)});return e}const eX=(t,e,n)=>id(t,r=>{let s=r.from,{state:i}=t,a=i.doc.lineAt(s),o,u;if(n&&!e&&s>a.from&&s<a.from+200&&!/[^ \t]/.test(o=a.text.slice(0,s-a.from))){if(o[o.length-1]=="	")return s-1;let d=Li(o,i.tabSize),p=d%rm(i)||rm(i);for(let m=0;m<p&&o[o.length-1-m]==" ";m++)s--;u=s}else u=Dn(a.text,s-a.from,e,e)+a.from,u==s&&a.number!=(e?i.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(u-a.from,s-a.from))&&(u=Dn(a.text,u-a.from,!1,!1)+a.from);return u}),g2=t=>eX(t,!1,!0),tX=t=>eX(t,!0,!1),nX=(t,e)=>id(t,n=>{let r=n.head,{state:s}=t,i=s.doc.lineAt(r),a=s.charCategorizer(r);for(let o=null;;){if(r==(e?i.to:i.from)){r==n.head&&i.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let u=Dn(i.text,r-i.from,e)+i.from,d=i.text.slice(Math.min(r,u)-i.from,Math.max(r,u)-i.from),p=a(d);if(o!=null&&p!=o)break;(d!=" "||r!=n.head)&&(o=p),r=u}return r}),rX=t=>nX(t,!1),gW=t=>nX(t,!0),xW=t=>id(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),yW=t=>id(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),bW=t=>id(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),vW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:pt.of(["",""])},range:we.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},wW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let s=r.from,i=t.doc.lineAt(s),a=s==i.from?s-1:Dn(i.text,s-i.from,!1)+i.from,o=s==i.to?s+1:Dn(i.text,s-i.from,!0)+i.from;return{changes:{from:a,to:o,insert:t.doc.slice(s,o).append(t.doc.slice(a,s))},range:we.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function tO(t){let e=[],n=-1;for(let r of t.selection.ranges){let s=t.doc.lineAt(r.from),i=t.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=t.doc.lineAt(r.to-1)),n>=s.number){let a=e[e.length-1];a.to=i.to,a.ranges.push(r)}else e.push({from:s.from,to:i.to,ranges:[r]});n=i.number+1}return e}function sX(t,e,n){if(t.readOnly)return!1;let r=[],s=[];for(let i of tO(t)){if(n?i.to==t.doc.length:i.from==0)continue;let a=t.doc.lineAt(n?i.to+1:i.from-1),o=a.length+1;if(n){r.push({from:i.to,to:a.to},{from:i.from,insert:a.text+t.lineBreak});for(let u of i.ranges)s.push(we.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:a.from,to:i.from},{from:i.to,insert:t.lineBreak+a.text});for(let u of i.ranges)s.push(we.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:we.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const SW=({state:t,dispatch:e})=>sX(t,e,!1),QW=({state:t,dispatch:e})=>sX(t,e,!0);function iX(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of tO(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});let s=t.changes(r);return e(t.update({changes:s,selection:t.selection.map(s,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const kW=({state:t,dispatch:e})=>iX(t,e,!1),$W=({state:t,dispatch:e})=>iX(t,e,!0),TW=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(tO(e).map(({from:s,to:i})=>(s>0?s--:i<e.doc.length&&i++,{from:s,to:i}))),r=Ec(e.selection,s=>{let i;if(t.lineWrapping){let a=t.lineBlockAt(s.head),o=t.coordsAtPos(s.head,s.assoc||1);o&&(i=a.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(s,!0,i)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function jW(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=an(t).resolveInner(e),r=n.childBefore(e),s=n.childAfter(e),i;return r&&s&&r.to<=e&&s.from>=e&&(i=r.type.prop(Ue.closedBy))&&i.indexOf(s.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}const pP=aX(!1),_W=aX(!0);function aX(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:i,to:a}=s,o=e.doc.lineAt(i),u=!t&&i==a&&jW(e,i);t&&(i=a=(a<=o.to?o:e.doc.lineAt(a)).to);let d=new Im(e,{simulateBreak:i,simulateDoubleBreak:!!u}),p=k7(d,i);for(p==null&&(p=Li(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));a<o.to&&/\s/.test(o.text[a-o.from]);)a++;u?{from:i,to:a}=u:i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let m=["",sm(e,p)];return u&&m.push(sm(e,d.lineIndent(o.from,-1))),{changes:{from:i,to:a,insert:pt.of(m)},range:we.cursor(i+1+m[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function MQ(t,e){let n=-1;return t.changeByRange(r=>{let s=[];for(let a=r.from;a<=r.to;){let o=t.doc.lineAt(a);o.number>n&&(r.empty||r.to>o.from)&&(e(o,s,r),n=o.number),a=o.to+1}let i=t.changes(s);return{changes:s,range:we.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const PW=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Im(t,{overrideIndentation:i=>{let a=n[i];return a??-1}}),s=MQ(t,(i,a,o)=>{let u=k7(r,i.from);if(u==null)return;/\S/.test(i.text)||(u=0);let d=/^\s*/.exec(i.text)[0],p=sm(t,u);(d!=p||o.from<i.from+d.length)&&(n[i.from]=u,a.push({from:i.from,to:i.from+d.length,insert:p}))});return s.changes.empty||e(t.update(s,{userEvent:"indent"})),!0},NW=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(MQ(t,(n,r)=>{r.push({from:n.from,insert:t.facet(sd)})}),{userEvent:"input.indent"})),!0),CW=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(MQ(t,(n,r)=>{let s=/^\s*/.exec(n.text)[0];if(!s)return;let i=Li(s,t.tabSize),a=0,o=sm(t,Math.max(0,i-rm(t)));for(;a<s.length&&a<o.length&&s.charCodeAt(a)==o.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+s.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),RW=t=>(t.setTabFocusMode(),!0),EW=[{key:"Ctrl-b",run:M7,shift:U7,preventDefault:!0},{key:"Ctrl-f",run:X7,shift:W7},{key:"Ctrl-p",run:Z7,shift:H7},{key:"Ctrl-n",run:V7,shift:F7},{key:"Ctrl-a",run:FU,shift:cW},{key:"Ctrl-e",run:KU,shift:uW},{key:"Ctrl-d",run:tX},{key:"Ctrl-h",run:g2},{key:"Ctrl-k",run:xW},{key:"Ctrl-Alt-h",run:rX},{key:"Ctrl-o",run:vW},{key:"Ctrl-t",run:wW},{key:"Ctrl-v",run:O2}],AW=[{key:"ArrowLeft",run:M7,shift:U7,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:VU,shift:tW,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:IU,shift:lW,preventDefault:!0},{key:"ArrowRight",run:X7,shift:W7,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:YU,shift:nW,preventDefault:!0},{mac:"Cmd-ArrowRight",run:HU,shift:oW,preventDefault:!0},{key:"ArrowUp",run:Z7,shift:H7,preventDefault:!0},{mac:"Cmd-ArrowUp",run:uP,shift:dP},{mac:"Ctrl-ArrowUp",run:lP,shift:oP},{key:"ArrowDown",run:V7,shift:F7,preventDefault:!0},{mac:"Cmd-ArrowDown",run:fP,shift:hP},{mac:"Ctrl-ArrowDown",run:O2,shift:cP},{key:"PageUp",run:lP,shift:oP},{key:"PageDown",run:O2,shift:cP},{key:"Home",run:GU,shift:aW,preventDefault:!0},{key:"Mod-Home",run:uP,shift:dP},{key:"End",run:WU,shift:iW,preventDefault:!0},{key:"Mod-End",run:fP,shift:hP},{key:"Enter",run:pP,shift:pP},{key:"Mod-a",run:fW},{key:"Backspace",run:g2,shift:g2,preventDefault:!0},{key:"Delete",run:tX,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:rX,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:gW,preventDefault:!0},{mac:"Mod-Backspace",run:yW,preventDefault:!0},{mac:"Mod-Delete",run:bW,preventDefault:!0}].concat(EW.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),qW=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:BU,shift:rW},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:UU,shift:sW},{key:"Alt-ArrowUp",run:SW},{key:"Shift-Alt-ArrowUp",run:kW},{key:"Alt-ArrowDown",run:QW},{key:"Shift-Alt-ArrowDown",run:$W},{key:"Mod-Alt-ArrowUp",run:pW},{key:"Mod-Alt-ArrowDown",run:mW},{key:"Escape",run:OW},{key:"Mod-Enter",run:_W},{key:"Alt-l",mac:"Ctrl-l",run:dW},{key:"Mod-i",run:hW,preventDefault:!0},{key:"Mod-[",run:CW},{key:"Mod-]",run:NW},{key:"Mod-Alt-\\",run:PW},{key:"Shift-Mod-k",run:TW},{key:"Shift-Mod-\\",run:eW},{key:"Mod-/",run:SU},{key:"Alt-A",run:kU},{key:"Ctrl-m",mac:"Shift-Alt-m",run:RW}].concat(AW);class XQ{constructor(e,n,r,s){this.state=e,this.pos=n,this.explicit=r,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=an(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),s=n.text.slice(r-n.from,this.pos-n.from),i=s.search(oX(e,!1));return i<0?null:{from:r+i,to:this.pos,text:s.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function mP(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function MW(t){let e=Object.create(null),n=Object.create(null);for(let{label:s}of t){e[s[0]]=!0;for(let i=1;i<s.length;i++)n[s[i]]=!0}let r=mP(e)+mP(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function zQ(t){let e=t.map(s=>typeof s=="string"?{label:s}:s),[n,r]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:MW(e);return s=>{let i=s.matchBefore(r);return i||s.explicit?{from:i?i.from:s.pos,options:e,validFor:n}:null}}function lX(t,e){return n=>{for(let r=an(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class OP{constructor(e,n,r,s){this.completion=e,this.source=n,this.match=r,this.score=s}}function Pl(t){return t.selection.main.from}function oX(t,e){var n;let{source:r}=t,s=e&&r[0]!="^",i=r[r.length-1]!="$";return!s&&!i?t:new RegExp(`${s?"^":""}(?:${r})${i?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const LQ=Bi.define();function XW(t,e,n,r){let{main:s}=t.selection,i=n-s.from,a=r-s.from;return{...t.changeByRange(o=>{if(o!=s&&n!=r&&t.sliceDoc(o.from+i,o.from+a)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+i,to:r==s.from?o.to:o.from+a,insert:u},range:we.cursor(o.from+i+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const gP=new WeakMap;function zW(t){if(!Array.isArray(t))return t;let e=gP.get(t);return e||gP.set(t,e=zQ(t)),e}const am=At.define(),Rf=At.define();class LW{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Ol(e,n),s=Do(r);this.chars.push(r);let i=e.slice(n,n+s),a=i.toUpperCase();this.folded.push(Ol(a==i?i.toLowerCase():a,0)),n+=s}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:s,precise:i,byWord:a}=this;if(n.length==1){let k=Ol(e,0),$=Do(k),T=$==e.length?0:-100;if(k!=n[0])if(k==r[0])T+=-200;else return null;return this.ret(T,[0,$])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,d=0;if(o<0){for(let k=0,$=Math.min(e.length,200);k<$&&d<u;){let T=Ol(e,k);(T==n[d]||T==r[d])&&(s[d++]=k),k+=Do(T)}if(d<u)return null}let p=0,m=0,g=!1,x=0,v=-1,b=-1,S=/[a-z]/.test(e),Q=!0;for(let k=0,$=Math.min(e.length,200),T=0;k<$&&m<u;){let j=Ol(e,k);o<0&&(p<u&&j==n[p]&&(i[p++]=k),x<u&&(j==n[x]||j==r[x]?(x==0&&(v=k),b=k+1,x++):x=0));let N,C=j<255?j>=48&&j<=57||j>=97&&j<=122?2:j>=65&&j<=90?1:0:(N=pY(j))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!k||C==1&&S||T==0&&C!=0)&&(n[m]==j||r[m]==j&&(g=!0)?a[m++]=k:a.length&&(Q=!1)),T=C,k+=Do(j)}return m==u&&a[0]==0&&Q?this.result(-100+(g?-200:0),a,e):x==u&&v==0?this.ret(-200-e.length+(b==e.length?0:-100),[0,b]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):x==u?this.ret(-900-e.length,[v,b]):m==u?this.result(-100+(g?-200:0)+-700+(Q?0:-1100),a,e):n.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,n,r){let s=[],i=0;for(let a of n){let o=a+(this.astral?Do(Ol(r,a)):1);i&&s[i-1]==a?s[i-1]=o:(s[i++]=a,s[i++]=o)}return this.ret(e-r.length,s)}}class ZW{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const An=Me.define({combine(t){return hQ(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:VW,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>xP(e(r),n(r)),optionClass:(e,n)=>r=>xP(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function xP(t,e){return t?e?t+" "+e:t:e}function VW(t,e,n,r,s,i){let a=t.textDirection==rn.RTL,o=a,u=!1,d="top",p,m,g=e.left-s.left,x=s.right-e.right,v=r.right-r.left,b=r.bottom-r.top;if(o&&g<Math.min(v,x)?o=!1:!o&&x<Math.min(v,g)&&(o=!0),v<=(o?g:x))p=Math.max(s.top,Math.min(n.top,s.bottom-b))-e.top,m=Math.min(400,o?g:x);else{u=!0,m=Math.min(400,(a?e.right:s.right-e.left)-30);let k=s.bottom-e.bottom;k>=b||k>e.top?p=n.bottom-e.top:(d="bottom",p=e.bottom-n.top)}let S=(e.bottom-e.top)/i.offsetHeight,Q=(e.right-e.left)/i.offsetWidth;return{style:`${d}: ${p/S}px; max-width: ${m/Q}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":o?"left":"right")}}function YW(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,s,i){let a=document.createElement("span");a.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let d=0;d<i.length;){let p=i[d++],m=i[d++];p>u&&a.appendChild(document.createTextNode(o.slice(u,p)));let g=a.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(p,m))),g.className="cm-completionMatchedText",u=m}return u<o.length&&a.appendChild(document.createTextNode(o.slice(u))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Ox(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let s=Math.floor(e/n);return{from:s*n,to:(s+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class DW{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let s=e.state.field(n),{options:i,selected:a}=s.open,o=e.state.facet(An);this.optionContent=YW(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=Ox(i.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:d}=e.state.field(n).open;for(let p=u.target,m;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(m=/-(\d+)$/.exec(p.id))&&+m[1]<d.length){this.applyCompletion(e,d[+m[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let d=e.state.field(this.stateField,!1);d&&d.tooltip&&e.state.facet(An).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:Rf.of(null)})}),this.showOptions(i,s.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=s){let{options:i,selected:a,disabled:o}=r.open;(!s.open||s.open.options!=i)&&(this.range=Ox(i.length,a,e.state.facet(An).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),o!=((n=s.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Ox(n.options.length,n.selected,this.view.state.facet(An).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:s}=n.options[n.selected],{info:i}=s;if(!i)return;let a=typeof i=="string"?document.createTextNode(i):i(s);if(!a)return;"then"in a?a.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,s)}).catch(o=>Xr(this.view.state,o,"completion info")):(this.addInfoPane(a,s),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:i}=e;r.appendChild(s),this.infoDestroy=i||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,s=this.range.from;r;r=r.nextSibling,s++)r.nodeName!="LI"||!r.id?s--:s==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&UW(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),i=this.space;if(!i){let a=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return s.top>Math.min(i.bottom,n.bottom)-10||s.bottom<Math.max(i.top,n.top)+10?null:this.view.state.facet(An).positionInfo(this.view,n,s,r,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const s=document.createElement("ul");s.id=n,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",a=>{a.target==s&&a.preventDefault()});let i=null;for(let a=r.from;a<r.to;a++){let{completion:o,match:u}=e[a],{section:d}=o;if(d){let g=typeof d=="string"?d:d.name;if(g!=i&&(a>r.from||r.from==0))if(i=g,typeof d!="string"&&d.header)s.appendChild(d.header(d));else{let x=s.appendChild(document.createElement("completion-section"));x.textContent=g}}const p=s.appendChild(document.createElement("li"));p.id=n+"-"+a,p.setAttribute("role","option");let m=this.optionClass(o);m&&(p.className=m);for(let g of this.optionContent){let x=g(o,this.view.state,this.view,u);x&&p.appendChild(x)}}return r.from&&s.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function BW(t,e){return n=>new DW(n,t,e)}function UW(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/s:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/s)}function yP(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function WW(t,e){let n=[],r=null,s=null,i=p=>{n.push(p);let{section:m}=p.completion;if(m){r||(r=[]);let g=typeof m=="string"?m:m.name;r.some(x=>x.name==g)||r.push(typeof m=="string"?{name:g}:m)}},a=e.facet(An);for(let p of t)if(p.hasResult()){let m=p.result.getMatch;if(p.result.filter===!1)for(let g of p.result.options)i(new OP(g,p.source,m?m(g):[],1e9-n.length));else{let g=e.sliceDoc(p.from,p.to),x,v=a.filterStrict?new ZW(g):new LW(g);for(let b of p.result.options)if(x=v.match(b.label)){let S=b.displayLabel?m?m(b,x.matched):[]:x.matched,Q=x.score+(b.boost||0);if(i(new OP(b,p.source,S,Q)),typeof b.section=="object"&&b.section.rank==="dynamic"){let{name:k}=b.section;s||(s=Object.create(null)),s[k]=Math.max(Q,s[k]||-1e9)}}}}if(r){let p=Object.create(null),m=0,g=(x,v)=>(x.rank==="dynamic"&&v.rank==="dynamic"?s[v.name]-s[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof v.rank=="number"?v.rank:1e9)||(x.name<v.name?-1:1);for(let x of r.sort(g))m-=1e5,p[x.name]=m;for(let x of n){let{section:v}=x.completion;v&&(x.score+=p[typeof v=="string"?v:v.name])}}let o=[],u=null,d=a.compareCompletions;for(let p of n.sort((m,g)=>g.score-m.score||d(m.completion,g.completion))){let m=p.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?o.push(p):yP(p.completion)>yP(u)&&(o[o.length-1]=p),u=p.completion}return o}class Ko{constructor(e,n,r,s,i,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=s,this.selected=i,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Ko(this.options,bP(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,s,i,a){if(s&&!a&&e.some(d=>d.isPending))return s.setDisabled();let o=WW(e,n);if(!o.length)return s&&e.some(d=>d.isPending)?s.setDisabled():null;let u=n.facet(An).selectOnOpen?0:-1;if(s&&s.selected!=u&&s.selected!=-1){let d=s.options[s.selected].completion;for(let p=0;p<o.length;p++)if(o[p].completion==d){u=p;break}}return new Ko(o,bP(r,u),{pos:e.reduce((d,p)=>p.hasResult()?Math.min(d,p.from):d,1e8),create:JW,above:i.aboveCursor},s?s.timestamp:Date.now(),u,!1)}map(e){return new Ko(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Ko(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class lm{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new lm(FW,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(An),i=(r.override||n.languageDataAt("autocomplete",Pl(n)).map(zW)).map(u=>(this.active.find(p=>p.source==u)||new es(u,this.active.some(p=>p.state!=0)?1:0)).update(e,r));i.length==this.active.length&&i.every((u,d)=>u==this.active[d])&&(i=this.active);let a=this.open,o=e.effects.some(u=>u.is(ZQ));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||i.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!GW(i,this.active)||o?a=Ko.build(i,n,this.id,a,r,o):a&&a.disabled&&!i.some(u=>u.isPending)&&(a=null),!a&&i.every(u=>!u.isPending)&&i.some(u=>u.hasResult())&&(i=i.map(u=>u.hasResult()?new es(u.source,0):u));for(let u of e.effects)u.is(uX)&&(a=a&&a.setSelected(u.value,this.id));return i==this.active&&a==this.open?this:new lm(i,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?IW:HW}}function GW(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let s=n==t.length,i=r==e.length;if(s||i)return s==i;if(t[n++].result!=e[r++].result)return!1}}const IW={"aria-autocomplete":"list"},HW={};function bP(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const FW=[];function cX(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(LQ);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class es{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=cX(e,n),s=this;(r&8||r&16&&this.touches(e))&&(s=new es(s.source,0)),r&4&&s.state==0&&(s=new es(this.source,1)),s=s.updateFor(e,r);for(let i of e.effects)if(i.is(am))s=new es(s.source,1,i.value);else if(i.is(Rf))s=new es(s.source,0);else if(i.is(ZQ))for(let a of i.value)a.source==s.source&&(s=a);return s}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Pl(e.state))}}class lc extends es{constructor(e,n,r,s,i,a){super(e,3,n),this.limit=r,this.result=s,this.from=i,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let i=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=Pl(e.state);if(o>a||!s||n&2&&(Pl(e.startState)==this.from||o<this.limit))return new es(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return KW(s.validFor,e.state,i,a)?new lc(this.source,this.explicit,u,s,i,a):s.update&&(s=s.update(s,i,a,new XQ(e.state,o,!1)))?new lc(this.source,this.explicit,u,s,s.from,(r=s.to)!==null&&r!==void 0?r:Pl(e.state)):new es(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new lc(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new es(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function KW(t,e,n,r){if(!t)return!1;let s=e.sliceDoc(n,r);return typeof t=="function"?t(s,n,r,e):oX(t,!0).test(s)}const ZQ=At.define({map(t,e){return t.map(n=>n.map(e))}}),uX=At.define(),xr=ni.define({create(){return lm.start()},update(t,e){return t.update(e)},provide:t=>[p7.from(t,e=>e.tooltip),qe.contentAttributes.from(t,e=>e.attrs)]});function VQ(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(xr).active.find(s=>s.source==e.source);return r instanceof lc?(typeof n=="string"?t.dispatch({...XW(t.state,n,r.from,r.to),annotations:LQ.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const JW=BW(xr,VQ);function Kh(t,e="option"){return n=>{let r=n.state.field(xr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(An).interactionDelay)return!1;let s=1,i;e=="page"&&(i=m7(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,o=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),n.dispatch({effects:uX.of(o)}),!0}}const fX=t=>{let e=t.state.field(xr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(An).interactionDelay?!1:VQ(t,e.open.options[e.open.selected])},gx=t=>t.state.field(xr,!1)?(t.dispatch({effects:am.of(!0)}),!0):!1,eG=t=>{let e=t.state.field(xr,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Rf.of(null)}),!0)};class tG{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const nG=50,rG=1e3,sG=$s.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(xr).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(xr),n=t.state.facet(An);if(!t.selectionSet&&!t.docChanged&&t.startState.field(xr)==e)return;let r=t.transactions.some(i=>{let a=cX(i,n);return a&8||(i.selection||i.docChanged)&&!(a&3)});for(let i=0;i<this.running.length;i++){let a=this.running[i];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>nG&&Date.now()-a.time>rG){for(let o of a.context.abortListeners)try{o()}catch(u){Xr(this.view.state,u)}a.context.abortListeners=null,this.running.splice(i--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(i=>i.effects.some(a=>a.is(am)))&&(this.pendingStart=!0);let s=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.isPending&&!this.running.some(a=>a.active.source==i.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let i of t.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(xr);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(An).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Pl(e),r=new XQ(e,n,t.explicit,this.view),s=new tG(t,r);this.running.push(s),Promise.resolve(t.source(r)).then(i=>{s.context.aborted||(s.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:Rf.of(null)}),Xr(this.view.state,i)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(An).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(An),r=this.view.state.field(xr);for(let s=0;s<this.running.length;s++){let i=this.running[s];if(i.done===void 0)continue;if(this.running.splice(s--,1),i.done){let o=Pl(i.updates.length?i.updates[0].startState:this.view.state),u=Math.min(o,i.done.from+(i.active.explicit?0:1)),d=new lc(i.active.source,i.active.explicit,u,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:o);for(let p of i.updates)d=d.update(p,n);if(d.hasResult()){e.push(d);continue}}let a=r.active.find(o=>o.source==i.active.source);if(a&&a.isPending)if(i.done==null){let o=new es(i.active.source,0);for(let u of i.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:ZQ.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(xr,!1);if(e&&e.tooltip&&this.view.state.facet(An).closeOnBlur){let n=e.open&&m7(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Rf.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:am.of(!1)}),20),this.composing=0}}}),iG=typeof navigator=="object"&&/Win/.test(navigator.platform),aG=Bl.highest(qe.domEventHandlers({keydown(t,e){let n=e.state.field(xr,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(iG&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],s=n.active.find(a=>a.source==r.source),i=r.completion.commitCharacters||s.result.commitCharacters;return i&&i.indexOf(t.key)>-1&&VQ(e,r),!1}})),dX=qe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class lG{constructor(e,n,r,s){this.field=e,this.line=n,this.from=r,this.to=s}}class YQ{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,nr.TrackDel),r=e.mapPos(this.to,1,nr.TrackDel);return n==null||r==null?null:new YQ(this.field,n,r)}}class DQ{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],s=[n],i=e.doc.lineAt(n),a=/^\s*/.exec(i.text)[0];for(let u of this.lines){if(r.length){let d=a,p=/^\t*/.exec(u)[0].length;for(let m=0;m<p;m++)d+=e.facet(sd);s.push(n+d.length-p),u=d+u.slice(p)}r.push(u),n+=u.length+1}let o=this.fieldPositions.map(u=>new YQ(u.field,s[u.line]+u.from,s[u.line]+u.to));return{text:r,ranges:o}}static parse(e){let n=[],r=[],s=[],i;for(let a of e.split(/\r\n?|\n/)){for(;i=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(a);){let o=i[1]?+i[1]:null,u=i[2]||i[3]||"",d=-1,p=u.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<n.length;m++)(o!=null?n[m].seq==o:p&&n[m].name==p)&&(d=m);if(d<0){let m=0;for(;m<n.length&&(o==null||n[m].seq!=null&&n[m].seq<o);)m++;n.splice(m,0,{seq:o,name:p}),d=m;for(let g of s)g.field>=d&&g.field++}for(let m of s)if(m.line==r.length&&m.from>i.index){let g=i[2]?3+(i[1]||"").length:2;m.from-=g,m.to-=g}s.push(new lG(d,r.length,i.index,i.index+p.length)),a=a.slice(0,i.index)+u+a.slice(i.index+i[0].length)}a=a.replace(/\\([{}])/g,(o,u,d)=>{for(let p of s)p.line==r.length&&p.from>d&&(p.from--,p.to--);return u}),r.push(a)}return new DQ(r,s)}}let oG=It.widget({widget:new class extends Jf{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),cG=It.mark({class:"cm-snippetField"});class Ac{constructor(e,n){this.ranges=e,this.active=n,this.deco=It.set(e.map(r=>(r.from==r.to?oG:cG).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let s=r.map(e);if(!s)return null;n.push(s)}return new Ac(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const ad=At.define({map(t,e){return t&&t.map(e)}}),uG=At.define(),Ef=ni.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(ad))return n.value;if(n.is(uG)&&t)return new Ac(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>qe.decorations.from(t,e=>e?e.deco:It.none)});function BQ(t,e){return we.create(t.filter(n=>n.field==e).map(n=>we.range(n.from,n.to)))}function fG(t){let e=DQ.parse(t);return(n,r,s,i)=>{let{text:a,ranges:o}=e.instantiate(n.state,s),{main:u}=n.state.selection,d={changes:{from:s,to:i==u.from?u.to:i,insert:pt.of(a)},scrollIntoView:!0,annotations:r?[LQ.of(r),kn.userEvent.of("input.complete")]:void 0};if(o.length&&(d.selection=BQ(o,0)),o.some(p=>p.field>0)){let p=new Ac(o,0),m=d.effects=[ad.of(p)];n.state.field(Ef,!1)===void 0&&m.push(At.appendConfig.of([Ef,OG,gG,dX]))}n.dispatch(n.state.update(d))}}function hX(t){return({state:e,dispatch:n})=>{let r=e.field(Ef,!1);if(!r||t<0&&r.active==0)return!1;let s=r.active+t,i=t>0&&!r.ranges.some(a=>a.field==s+t);return n(e.update({selection:BQ(r.ranges,s),effects:ad.of(i?null:new Ac(r.ranges,s)),scrollIntoView:!0})),!0}}const dG=({state:t,dispatch:e})=>t.field(Ef,!1)?(e(t.update({effects:ad.of(null)})),!0):!1,hG=hX(1),pG=hX(-1),mG=[{key:"Tab",run:hG,shift:pG},{key:"Escape",run:dG}],vP=Me.define({combine(t){return t.length?t[0]:mG}}),OG=Bl.highest(Rc.compute([vP],t=>t.facet(vP)));function tn(t,e){return{...e,apply:fG(t)}}const gG=qe.domEventHandlers({mousedown(t,e){let n=e.state.field(Ef,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let s=n.ranges.find(i=>i.from<=r&&i.to>=r);return!s||s.field==n.active?!1:(e.dispatch({selection:BQ(n.ranges,s.field),effects:ad.of(n.ranges.some(i=>i.field>s.field)?new Ac(n.ranges,s.field):null),scrollIntoView:!0}),!0)}}),pX=new class extends Xa{};pX.startSide=1;pX.endSide=-1;function xG(t={}){return[aG,xr,An.of(t),sG,yG,dX]}const mX=[{key:"Ctrl-Space",run:gx},{mac:"Alt-`",run:gx},{mac:"Alt-i",run:gx},{key:"Escape",run:eG},{key:"ArrowDown",run:Kh(!0)},{key:"ArrowUp",run:Kh(!1)},{key:"PageDown",run:Kh(!0,"page")},{key:"PageUp",run:Kh(!1,"page")},{key:"Enter",run:fX}],yG=Bl.highest(Rc.computeN([An],t=>t.facet(An).defaultKeymap?[mX]:[]));class om{static create(e,n,r,s,i){let a=s+(s<<8)+e+(n<<4)|0;return new om(e,n,r,a,i,[],[])}constructor(e,n,r,s,i,a,o){this.type=e,this.value=n,this.from=r,this.hash=s,this.end=i,this.children=a,this.positions=o,this.hashProp=[[Ue.contextHash,s]]}addChild(e,n){e.prop(Ue.contextHash)!=this.hash&&(e=new wt(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new wt(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(s,i,a)=>new wt(Nn.none,s,i,a,this.hashProp)})}}var Se;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(Se||(Se={}));class bG{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class vG{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Of(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let s=n;s<e;s++)r+=this.text.charCodeAt(s)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function wP(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==Se.OrderedList?GQ:WQ)(n,e,!1);return r>0&&(t.type!=Se.BulletList||UQ(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const OX={[Se.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(ft(Se.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(os(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[Se.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[Se.OrderedList]:wP,[Se.BulletList]:wP,[Se.Document](){return!0}};function os(t){return t==32||t==9||t==10||t==13}function Of(t,e=0){for(;e<t.length&&os(t.charCodeAt(e));)e++;return e}function SP(t,e,n){for(;e>n&&os(t.charCodeAt(e-1));)e--;return e}function gX(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function xX(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function UQ(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let s=t.pos+1;s<t.text.length;s++){let i=t.text.charCodeAt(s);if(i==t.next)r++;else if(!os(i))return-1}return n&&t.next==45&&vX(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(kX.SetextHeading)>-1||r<3?-1:1}function yX(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function WQ(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||os(t.text.charCodeAt(t.pos+1)))&&(!n||yX(e,Se.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function GQ(t,e,n){let r=t.pos,s=t.next;for(;s>=48&&s<=57;){r++;if(r==t.text.length)return-1;s=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||s!=46&&s!=41||r<t.text.length-1&&!os(t.text.charCodeAt(r+1))||n&&!yX(e,Se.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function bX(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function vX(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&os(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const x2=/^[ \t]*$/,wX=/-->/,SX=/\?>/,y2=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,wX],[/^\s*<\?/,SX],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,x2],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,x2]];function QX(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let s=0,i=y2.length-(n?1:0);s<i;s++)if(y2[s][0].test(r))return s;return-1}function QP(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function Sa(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==Se.CodeText?t[r].to=n:t.push(ft(Se.CodeText,e,n))}const Jh={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),s=t.lineStart+r,i=t.lineStart+e.text.length,a=[],o=[];for(Sa(a,s,i);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){Sa(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u)}else{if(e.indent<n)break;{if(o.length){for(let d of o)d.type==Se.CodeText?Sa(a,d.from,d.to):a.push(d);o=[]}Sa(a,t.lineStart-1,t.lineStart);for(let d of e.markers)a.push(d);i=t.lineStart+e.text.length;let u=t.lineStart+e.findColumn(e.baseIndent+4);u<i&&Sa(a,u,i)}}return o.length&&(o=o.filter(u=>u.type!=Se.CodeText),o.length&&(e.markers=o.concat(e.markers))),t.addNode(t.buffer.writeElements(a,-s).finish(Se.CodeBlock,i-s),s),!0},FencedCode(t,e){let n=gX(e);if(n<0)return!1;let r=t.lineStart+e.pos,s=e.next,i=n-e.pos,a=e.skipSpace(n),o=SP(e.text,e.text.length,a),u=[ft(Se.CodeMark,r,r+i)];a<o&&u.push(ft(Se.CodeInfo,t.lineStart+a,t.lineStart+o));for(let d=!0,p=!0,m=!1;t.nextLine()&&e.depth>=t.stack.length;d=!1){let g=e.pos;if(e.indent-e.baseIndent<4)for(;g<e.text.length&&e.text.charCodeAt(g)==s;)g++;if(g-e.pos>=i&&e.skipSpace(g)==e.text.length){for(let x of e.markers)u.push(x);p&&m&&Sa(u,t.lineStart-1,t.lineStart),u.push(ft(Se.CodeMark,t.lineStart+e.pos,t.lineStart+g)),t.nextLine();break}else{m=!0,d||(Sa(u,t.lineStart-1,t.lineStart),p=!1);for(let b of e.markers)u.push(b);let x=t.lineStart+e.basePos,v=t.lineStart+e.text.length;x<v&&(Sa(u,x,v),p=!1)}}return t.addNode(t.buffer.writeElements(u,-r).finish(Se.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=xX(e);return n<0?!1:(t.startContext(Se.Blockquote,e.pos),t.addNode(Se.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(UQ(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(Se.HorizontalRule,n),!0},BulletList(t,e){let n=WQ(e,t,!1);if(n<0)return!1;t.block.type!=Se.BulletList&&t.startContext(Se.BulletList,e.basePos,e.next);let r=QP(e,e.pos+1);return t.startContext(Se.ListItem,e.basePos,r-e.baseIndent),t.addNode(Se.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=GQ(e,t,!1);if(n<0)return!1;t.block.type!=Se.OrderedList&&t.startContext(Se.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=QP(e,e.pos+n);return t.startContext(Se.ListItem,e.basePos,r-e.baseIndent),t.addNode(Se.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=bX(e);if(n<0)return!1;let r=e.pos,s=t.lineStart+r,i=SP(e.text,e.text.length,r),a=i;for(;a>r&&e.text.charCodeAt(a-1)==e.next;)a--;(a==i||a==r||!os(e.text.charCodeAt(a-1)))&&(a=e.text.length);let o=t.buffer.write(Se.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,a),s+n+1),-s);a<e.text.length&&o.write(Se.HeaderMark,a-r,i-r);let u=o.finish(Se.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(u,s),!0},HTMLBlock(t,e){let n=QX(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,s=y2[n][1],i=[],a=s!=x2;for(;!s.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){a=!1;break}for(let d of e.markers)i.push(d)}a&&t.nextLine();let o=s==wX?Se.CommentBlock:s==SX?Se.ProcessingInstructionBlock:Se.HTMLBlock,u=t.prevLineEnd();return t.addNode(t.buffer.writeElements(i,-r).finish(o,u-r),r),!0},SetextHeading:void 0};class wG{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let s=r.content+`
`+n.scrub(),i=this.advance(s);return i>-1&&i<s.length?this.complete(e,r,i):!1}finish(e,n){return(this.stage==2||this.stage==3)&&Of(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,ft(Se.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(EX(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(ft(Se.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(CX(e,Of(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=Of(e,this.pos),r=0;if(n>this.pos){let s=RX(e,n,this.start);if(s){let i=xx(e,s.to-this.start);i>0&&(this.nextStage(s),r=i)}}return r||(r=xx(e,this.pos)),r>0&&r<e.length?r:-1}else return xx(e,this.pos)}}}function xx(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!os(n))return-1}return e}class SG{nextLine(e,n,r){let s=n.depth<e.stack.length?-1:vX(n),i=n.next;if(s<0)return!1;let a=ft(Se.HeaderMark,e.lineStart+n.pos,e.lineStart+s);return e.nextLine(),e.addLeafElement(r,ft(i==61?Se.SetextHeading1:Se.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const kX={LinkReference(t,e){return e.content.charCodeAt(0)==91?new wG(e):null},SetextHeading(){return new SG}},QG=[(t,e)=>bX(e)>=0,(t,e)=>gX(e)>=0,(t,e)=>xX(e)>=0,(t,e)=>WQ(e,t,!0)>=0,(t,e)=>GQ(e,t,!0)>=0,(t,e)=>UQ(e,t,!0)>=0,(t,e)=>QX(e,t,!0)>=0],kG={text:"",end:0};class $G{constructor(e,n,r,s){this.parser=e,this.input=n,this.ranges=s,this.line=new vG,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=s[s.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=s[0].from,this.block=om.create(Se.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new _G(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let s=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!s||e.markers[r].from<s.end);){let i=e.markers[r++];this.addNode(i.type,i.from,i.to)}if(!s)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let s=r(this,e);if(s!=!1){if(s==!0)return null;e.forward();continue e}}break}let n=new bG(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let s=r(this,n);s&&n.parsers.push(s)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=AX(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=kG;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,s=this.rangeI;for(;this.ranges[s].to<n.end;){s++;let i=this.ranges[s].from,a=this.lineChunkAt(i);n.end=i+a.length,n.text=n.text.slice(0,this.ranges[s-1].to-r)+a,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let s=this.stack[e.depth],i=this.parser.skipContextMarkup[s.type];if(!i)throw new Error("Unhandled block context "+Se[s.type]);let a=this.line.markers.length;if(!i(s,this,e)){this.line.markers.length>a&&(s.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let s=n.indexOf(`
`);r=s<0?n:n.slice(0,s)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=om.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new wt(this.parser.nodeSet.types[e],bc,bc,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(v2(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?$X(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=v2(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(Se.Paragraph,e.content.length),e.start)}elt(e,n,r,s){return typeof e=="string"?ft(this.parser.getNodeType(e),n,r,s):new _X(e,n)}get buffer(){return new jX(this.parser.nodeSet)}}function $X(t,e,n,r,s){let i=t[e].to,a=[],o=[],u=n.from+r;function d(p,m){for(;m?p>=i:p>i;){let g=t[e+1].from-i;r+=g,p+=g,e++,i=t[e].to}}for(let p=n.firstChild;p;p=p.nextSibling){d(p.from+r,!0);let m=p.from+r,g,x=s.get(p.tree);x?g=x:p.to+r>i?(g=$X(t,e,p,r,s),d(p.to+r,!1)):g=p.toTree(),a.push(g),o.push(m-u)}return d(n.to+r,!1),new wt(n.type,a,o,n.to+r-u,n.tree?n.tree.propValues:void 0)}class nO extends NQ{constructor(e,n,r,s,i,a,o,u,d){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=s,this.endLeafBlock=i,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=u,this.wrappers=d,this.nodeTypes=Object.create(null);for(let p of e.types)this.nodeTypes[p.name]=p.id}createParse(e,n,r){let s=new $G(this,e,n,r);for(let i of this.wrappers)s=i(s,e,n,r);return s}configure(e){let n=b2(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:s}=this,i=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),u=this.inlineParsers.slice(),d=this.inlineNames.slice(),p=this.endLeafBlock.slice(),m=this.wrappers;if(Zu(n.defineNodes)){s=Object.assign({},s);let g=r.types.slice(),x;for(let v of n.defineNodes){let{name:b,block:S,composite:Q,style:k}=typeof v=="string"?{name:v}:v;if(g.some(j=>j.name==b))continue;Q&&(s[g.length]=(j,N,C)=>Q(N,C,j.value));let $=g.length,T=Q?["Block","BlockContext"]:S?$>=Se.ATXHeading1&&$<=Se.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;g.push(Nn.define({id:$,name:b,props:T&&[[Ue.group,T]]})),k&&(x||(x={}),Array.isArray(k)||k instanceof qr?x[b]=k:Object.assign(x,k))}r=new rd(g),x&&(r=r.extend(Ua(x)))}if(Zu(n.props)&&(r=r.extend(...n.props)),Zu(n.remove))for(let g of n.remove){let x=this.blockNames.indexOf(g),v=this.inlineNames.indexOf(g);x>-1&&(i[x]=a[x]=void 0),v>-1&&(u[v]=void 0)}if(Zu(n.parseBlock))for(let g of n.parseBlock){let x=o.indexOf(g.name);if(x>-1)i[x]=g.parse,a[x]=g.leaf;else{let v=g.before?ep(o,g.before):g.after?ep(o,g.after)+1:o.length-1;i.splice(v,0,g.parse),a.splice(v,0,g.leaf),o.splice(v,0,g.name)}g.endLeaf&&p.push(g.endLeaf)}if(Zu(n.parseInline))for(let g of n.parseInline){let x=d.indexOf(g.name);if(x>-1)u[x]=g.parse;else{let v=g.before?ep(d,g.before):g.after?ep(d,g.after)+1:d.length-1;u.splice(v,0,g.parse),d.splice(v,0,g.name)}}return n.wrap&&(m=m.concat(n.wrap)),new nO(r,i,a,o,p,s,u,d,m)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new IQ(this,e,n);e:for(let s=n;s<r.end;){let i=r.char(s);for(let a of this.inlineParsers)if(a){let o=a(r,i,s);if(o>=0){s=o;continue e}}s++}return r.resolveMarkers(0)}}function Zu(t){return t!=null&&t.length>0}function b2(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=b2(t[0]);if(t.length==1)return e;let n=b2(t.slice(1));if(!n||!e)return e||n;let r=(a,o)=>(a||bc).concat(o||bc),s=e.wrap,i=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:s?i?(a,o,u,d)=>s(i(a,o,u,d),o,u,d):s:i}}function ep(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let TX=[Nn.none];for(let t=1,e;e=Se[t];t++)TX[t]=Nn.define({id:t,name:e,props:t>=Se.Escape?[]:[[Ue.group,t in OX?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const bc=[];class jX{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,s=0){return this.content.push(e,n,r,4+s*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return wt.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}let Af=class{constructor(e,n,r,s=bc){this.type=e,this.from=n,this.to=r,this.children=s}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new jX(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class _X{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return bc}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function ft(t,e,n,r){return new Af(t,e,n,r)}const PX={resolve:"Emphasis",mark:"EmphasisMark"},NX={resolve:"Emphasis",mark:"EmphasisMark"},bl={},cm={};class Ar{constructor(e,n,r,s){this.type=e,this.from=n,this.to=r,this.side=s}}const kP="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let qf=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{qf=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const yx={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let s=0;s<kP.length;s++)if(kP.charCodeAt(s)==r)return t.append(ft(Se.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(ft(Se.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let s=r-n,i=0;for(;r<t.end;r++)if(t.char(r)==96){if(i++,i==s&&t.char(r+1)!=96)return t.append(ft(Se.InlineCode,n,r+1,[ft(Se.CodeMark,n,n+s),ft(Se.CodeMark,r+1-s,r+1)]))}else i=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),s=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(s)return t.append(ft(Se.Autolink,n,n+1+s[0].length,[ft(Se.LinkMark,n,n+1),ft(Se.URL,n+1,n+s[0].length),ft(Se.LinkMark,n+s[0].length,n+1+s[0].length)]));let i=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(i)return t.append(ft(Se.Comment,n,n+1+i[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return t.append(ft(Se.ProcessingInstruction,n,n+1+a[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return o?t.append(ft(Se.HTMLTag,n,n+1+o[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let s=t.slice(n-1,n),i=t.slice(r,r+1),a=qf.test(s),o=qf.test(i),u=/\s|^$/.test(s),d=/\s|^$/.test(i),p=!d&&(!o||u||a),m=!u&&(!a||d||o),g=p&&(e==42||!m||a),x=m&&(e==42||!p||o);return t.append(new Ar(e==95?PX:NX,n,r,(g?1:0)|(x?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(ft(Se.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(ft(Se.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Ar(bl,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Ar(cm,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let s=t.parts[r];if(s instanceof Ar&&(s.type==bl||s.type==cm)){if(!s.side||t.skipSpace(s.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let i=t.takeContent(r),a=t.parts[r]=TG(t,i,s.type==bl?Se.Link:Se.Image,s.from,n+1);if(s.type==bl)for(let o=0;o<r;o++){let u=t.parts[o];u instanceof Ar&&u.type==bl&&(u.side=0)}return a.to}}return-1}};function TG(t,e,n,r,s){let{text:i}=t,a=t.char(s),o=s;if(e.unshift(ft(Se.LinkMark,r,r+(n==Se.Image?2:1))),e.push(ft(Se.LinkMark,s-1,s)),a==40){let u=t.skipSpace(s+1),d=CX(i,u-t.offset,t.offset),p;d&&(u=t.skipSpace(d.to),u!=d.to&&(p=RX(i,u-t.offset,t.offset),p&&(u=t.skipSpace(p.to)))),t.char(u)==41&&(e.push(ft(Se.LinkMark,s,s+1)),o=u+1,d&&e.push(d),p&&e.push(p),e.push(ft(Se.LinkMark,u,o)))}else if(a==91){let u=EX(i,s-t.offset,t.offset,!1);u&&(e.push(u),o=u.to)}return ft(n,r,o,e)}function CX(t,e,n){if(t.charCodeAt(e)==60){for(let s=e+1;s<t.length;s++){let i=t.charCodeAt(s);if(i==62)return ft(Se.URL,e+n,s+1+n);if(i==60||i==10)return!1}return null}else{let s=0,i=e;for(let a=!1;i<t.length;i++){let o=t.charCodeAt(i);if(os(o))break;if(a)a=!1;else if(o==40)s++;else if(o==41){if(!s)break;s--}else o==92&&(a=!0)}return i>e?ft(Se.URL,e+n,i+n):i==t.length?null:!1}}function RX(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let s=r==40?41:r;for(let i=e+1,a=!1;i<t.length;i++){let o=t.charCodeAt(i);if(a)a=!1;else{if(o==s)return ft(Se.LinkTitle,e+n,i+1+n);o==92&&(a=!0)}}return null}function EX(t,e,n,r){for(let s=!1,i=e+1,a=Math.min(t.length,i+999);i<a;i++){let o=t.charCodeAt(i);if(s)s=!1;else{if(o==93)return r?!1:ft(Se.LinkLabel,e+n,i+1+n);if(r&&!os(o)&&(r=!1),o==91)return!1;o==92&&(s=!0)}}return null}class IQ{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,s,i){return this.append(new Ar(e,n,r,(s?1:0)|(i?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Ar&&(n.type==bl||n.type==cm))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let s=this.parts[r];if(!(s instanceof Ar&&s.type.resolve&&s.side&2))continue;let i=s.type==PX||s.type==NX,a=s.to-s.from,o,u=r-1;for(;u>=e;u--){let b=this.parts[u];if(b instanceof Ar&&b.side&1&&b.type==s.type&&!(i&&(s.side&1||b.side&2)&&(b.to-b.from+a)%3==0&&((b.to-b.from)%3||a%3))){o=b;break}}if(!o)continue;let d=s.type.resolve,p=[],m=o.from,g=s.to;if(i){let b=Math.min(2,o.to-o.from,a);m=o.to-b,g=s.from+b,d=b==1?"Emphasis":"StrongEmphasis"}o.type.mark&&p.push(this.elt(o.type.mark,m,o.to));for(let b=u+1;b<r;b++)this.parts[b]instanceof Af&&p.push(this.parts[b]),this.parts[b]=null;s.type.mark&&p.push(this.elt(s.type.mark,s.from,g));let x=this.elt(d,m,g,p);this.parts[u]=i&&o.from!=m?new Ar(o.type,o.from,m,o.side):null,(this.parts[r]=i&&s.to!=g?new Ar(s.type,g,s.to,s.side):null)?this.parts.splice(r,0,x):this.parts[r]=x}let n=[];for(let r=e;r<this.parts.length;r++){let s=this.parts[r];s instanceof Af&&n.push(s)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Ar&&r.type==e&&r.side&1)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}getDelimiterAt(e){let n=this.parts[e];return n instanceof Ar?n:null}skipSpace(e){return Of(this.text,e-this.offset)+this.offset}elt(e,n,r,s){return typeof e=="string"?ft(this.parser.getNodeType(e),n,r,s):new _X(e,n)}}IQ.linkStart=bl;IQ.imageStart=cm;function v2(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let s of e){for(;r<n.length&&n[r].to<s.to;)r++;if(r<n.length&&n[r].from<s.from){let i=n[r];i instanceof Af&&(n[r]=new Af(i.type,i.from,i.to,v2(i.children,[s])))}else n.splice(r++,0,s)}return n}const jG=[Se.CodeBlock,Se.ListItem,Se.OrderedList,Se.BulletList];let _G=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let i=this.fragment.to;for(;i>0&&this.input.read(i-1,i)!=`
`;)i--;this.fragmentEnd=i?i-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let s=e+this.fragment.offset;for(;r.to<=s;)if(!r.parent())return!1;for(;;){if(r.from>=s)return this.fragment.from<=n;if(!r.childAfter(s))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Ue.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,s=this.fragmentEnd-(this.fragment.openEnd?1:0),i=e.absoluteLineStart,a=i,o=e.block.children.length,u=a,d=o;for(;;){if(n.to-r>s){if(n.type.isAnonymous&&n.firstChild())continue;break}let p=AX(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,p);else{let m=new wt(e.parser.nodeSet.types[Se.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(m,n.tree),e.addNode(m,p)}if(n.type.is("Block")&&(jG.indexOf(n.type.id)<0?(a=n.to-r,o=e.block.children.length):(a=u,o=d),u=n.to-r,d=e.block.children.length),!n.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return a-i}};function AX(t,e){let n=t;for(let r=1;r<e.length;r++){let s=e[r-1].to,i=e[r].from;s<t&&(n-=i-s)}return n}const PG=Ua({"Blockquote/...":V.quote,HorizontalRule:V.contentSeparator,"ATXHeading1/... SetextHeading1/...":V.heading1,"ATXHeading2/... SetextHeading2/...":V.heading2,"ATXHeading3/...":V.heading3,"ATXHeading4/...":V.heading4,"ATXHeading5/...":V.heading5,"ATXHeading6/...":V.heading6,"Comment CommentBlock":V.comment,Escape:V.escape,Entity:V.character,"Emphasis/...":V.emphasis,"StrongEmphasis/...":V.strong,"Link/... Image/...":V.link,"OrderedList/... BulletList/...":V.list,"BlockQuote/...":V.quote,"InlineCode CodeText":V.monospace,"URL Autolink":V.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":V.processingInstruction,"CodeInfo LinkLabel":V.labelName,LinkTitle:V.string,Paragraph:V.content}),NG=new nO(new rd(TX).extend(PG),Object.keys(Jh).map(t=>Jh[t]),Object.keys(Jh).map(t=>kX[t]),Object.keys(Jh),QG,OX,Object.keys(yx).map(t=>yx[t]),Object.keys(yx),[]);function CG(t,e,n){let r=[];for(let s=t.firstChild,i=e;;s=s.nextSibling){let a=s?s.from:n;if(a>i&&r.push({from:i,to:a}),!s)break;i=s.to}return r}function RG(t){let{codeParser:e,htmlParser:n}=t;return{wrap:v7((s,i)=>{let a=s.type.id;if(e&&(a==Se.CodeBlock||a==Se.FencedCode)){let o="";if(a==Se.FencedCode){let d=s.node.getChild(Se.CodeInfo);d&&(o=i.read(d.from,d.to))}let u=e(o);if(u)return{parser:u,overlay:d=>d.type.id==Se.CodeText,bracketed:a==Se.FencedCode}}else if(n&&(a==Se.HTMLBlock||a==Se.HTMLTag||a==Se.CommentBlock))return{parser:n,overlay:CG(s.node,s.from,s.to)};return null})}}const EG={resolve:"Strikethrough",mark:"StrikethroughMark"},AG={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":V.strikethrough}},{name:"StrikethroughMark",style:V.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),s=t.slice(n+2,n+3),i=/\s|^$/.test(r),a=/\s|^$/.test(s),o=qf.test(r),u=qf.test(s);return t.addDelimiter(EG,n,n+2,!a&&(!u||i||o),!i&&(!o||a||u))},after:"Emphasis"}]};function gf(t,e,n=0,r,s=0){let i=0,a=!0,o=-1,u=-1,d=!1,p=()=>{r.push(t.elt("TableCell",s+o,s+u,t.parser.parseInline(e.slice(o,u),s+o)))};for(let m=n;m<e.length;m++){let g=e.charCodeAt(m);g==124&&!d?((!a||o>-1)&&i++,a=!1,r&&(o>-1&&p(),r.push(t.elt("TableDelimiter",m+s,m+s+1))),o=u=-1):(d||g!=32&&g!=9)&&(o<0&&(o=m),u=m+1),d=!d&&g==92}return o>-1&&(i++,r&&p()),i}function $P(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const qX=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TP{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let s;if((n.next==45||n.next==58||n.next==124)&&qX.test(s=n.text.slice(n.pos))){let i=[];gf(e,r.content,0,i,r.start)==gf(e,s,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,i),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let s=[];gf(e,n.text,n.pos,s,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,s))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const qG={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":V.heading}},"TableRow",{name:"TableCell",style:V.content},{name:"TableDelimiter",style:V.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return $P(e.content,0)?new TP:null},endLeaf(t,e,n){if(n.parsers.some(s=>s instanceof TP)||!$P(e.text,e.basePos))return!1;let r=t.peekLine();return qX.test(r)&&gf(t,e.text,e.basePos)==gf(t,r,e.basePos)},before:"SetextHeading"}]};class MG{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const XG={defineNodes:[{name:"Task",block:!0,style:V.list},{name:"TaskMarker",style:V.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new MG:null},after:"SetextHeading"}]},jP=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,_P=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,zG=/[\w-]+\.[\w-]+($|\/)/,PP=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,NP=/\/[a-zA-Z\d@.]+/gy;function CP(t,e,n,r){let s=0;for(let i=e;i<n;i++)t[i]==r&&s++;return s}function LG(t,e){_P.lastIndex=e;let n=_P.exec(t);if(!n||zG.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let s=t[r-1],i;if(/[?!.,:*_~]/.test(s)||s==")"&&CP(t,e,r,")")>CP(t,e,r,"("))r--;else if(s==";"&&(i=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+i.index;else break}return r}function RP(t,e){PP.lastIndex=e;let n=PP.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const ZG={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;jP.lastIndex=r;let s=jP.exec(t.text),i=-1;if(!s)return-1;if(s[1]||s[2]){if(i=LG(t.text,r+s[0].length),i>-1&&t.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,i));i=r+a[0].length}}else s[3]?i=RP(t.text,r):(i=RP(t.text,r+s[0].length),i>-1&&s[0]=="xmpp:"&&(NP.lastIndex=i,s=NP.exec(t.text),s&&(i=s.index+s[0].length)));return i<0?-1:(t.addElement(t.elt("URL",n,i+t.offset)),i+t.offset)}}]},VG=[qG,XG,AG,ZG];function MX(t,e,n){return(r,s,i)=>{if(s!=t||r.char(i+1)==t)return-1;let a=[r.elt(n,i,i+1)];for(let o=i+1;o<r.end;o++){let u=r.char(o);if(u==t)return r.addElement(r.elt(e,i,o+1,a.concat(r.elt(n,o,o+1))));if(u==92&&a.push(r.elt("Escape",o,o+++2)),os(u))break}return-1}}const YG={defineNodes:[{name:"Superscript",style:V.special(V.content)},{name:"SuperscriptMark",style:V.processingInstruction}],parseInline:[{name:"Superscript",parse:MX(94,"Superscript","SuperscriptMark")}]},DG={defineNodes:[{name:"Subscript",style:V.special(V.content)},{name:"SubscriptMark",style:V.processingInstruction}],parseInline:[{name:"Subscript",parse:MX(126,"Subscript","SubscriptMark")}]},BG={defineNodes:[{name:"Emoji",style:V.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var EP={};class um{constructor(e,n,r,s,i,a,o,u,d,p=0,m){this.p=e,this.stack=n,this.state=r,this.reducePos=s,this.pos=i,this.score=a,this.buffer=o,this.bufferBase=u,this.curContext=d,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let s=e.parser.context;return new um(e,[],n,r,r,0,[],0,s?new AP(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,s=e&65535,{parser:i}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=i.dynamicPrecedence(s);if(o&&(this.score+=o),r==0){this.pushState(i.getGoto(this.state,s,!0),this.reducePos),s<i.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),d=u?this.stack[u-2]:this.p.ranges[0].from,p=this.reducePos-d;p>=2e3&&!(!((n=this.p.parser.nodeSet.types[s])===null||n===void 0)&&n.isAnonymous)&&(d==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=d,this.p.lastBigReductionSize=p));let m=u?this.stack[u-1]:0,g=this.bufferBase+this.buffer.length-m;if(s<i.minRepeatTerm||e&131072){let x=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,d,x,g+4,!0)}if(e&262144)this.state=this.stack[u];else{let x=this.stack[u-3];this.state=i.getGoto(x,s,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(s,d)}storeNode(e,n,r,s=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(n==r)return;if(a.buffer[o-2]>=n){a.buffer[o-2]=r;return}}}if(!i||this.pos==r)this.buffer.push(e,n,r,s);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let o=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=s}}shift(e,n,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let i=e,{parser:a}=this.p;this.pos=s,!a.stateFlag(i,1)&&(s>r||n<=a.maxNode)&&(this.reducePos=s),this.pushState(i,Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,s,4)}else this.pos=s,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,s,4)}apply(e,n,r,s){e&65536?this.reduce(e):this.shift(e,n,r,s)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(n,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),s=e.bufferBase+n;for(;e&&s==e.bufferBase;)e=e.parent;return new um(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new UG(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let s=[];for(let i=0,a;i<n.length;i+=2)(a=n[i+1])!=this.state&&this.p.parser.hasAction(a,e)&&s.push(n[i],a);if(this.stack.length<120)for(let i=0;s.length<8&&i<n.length;i+=2){let a=n[i+1];s.some((o,u)=>u&1&&o==a)||s.push(n[i],a)}n=s}let r=[];for(let s=0;s<n.length&&r.length<4;s+=2){let i=n[s+1];if(i==this.state)continue;let a=this.split();a.pushState(i,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[s],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,s=n&65535,i=this.stack.length-r*3;if(i<0||e.getGoto(this.stack[i],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(s,i)=>{if(!n.includes(s))return n.push(s),e.allActions(s,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-i;if(o>1){let u=a&65535,d=this.stack.length-o*3;if(d>=0&&e.getGoto(this.stack[d],u,!1)>=0)return o<<19|65536|u}}else{let o=r(a,i+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new AP(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class AP{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class UG{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=s}}class fm{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new fm(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new fm(this.stack,this.pos,this.index)}}function tf(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,s=0;r<t.length;){let i=0;for(;;){let a=t.charCodeAt(r++),o=!1;if(a==126){i=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,o=!0),i+=u,o)break;i*=46}n?n[s++]=i:n=new e(i)}return n}class Pp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const qP=new Pp;class WG{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=qP,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,s=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!s)return null;let a=this.ranges[--s];i-=r.from-a.to,r=a}for(;n<0?i>r.to:i>=r.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];i+=a.from-r.to,r=a}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,s;if(n>=0&&n<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(n);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(r=i,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=qP,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let s of this.ranges){if(s.from>=n)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,n)))}return r}}class oc{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;XX(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}oc.prototype.contextual=oc.prototype.fallback=oc.prototype.extend=!1;class dm{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?tf(e):e}token(e,n){let r=e.pos,s=0;for(;;){let i=e.next<0,a=e.resolveOffset(1,1);if(XX(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(i||s++,a==null)break;e.reset(a,e.token)}s&&(e.reset(r,e.token),e.acceptToken(this.elseToken,s))}}dm.prototype.contextual=oc.prototype.fallback=oc.prototype.extend=!1;class Bn{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function XX(t,e,n,r,s,i){let a=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[a])!=0;){let d=t[a+1];for(let x=a+3;x<d;x+=2)if((t[x+1]&o)>0){let v=t[x];if(u.allows(v)&&(e.token.value==-1||e.token.value==v||GG(v,e.token.value,s,i))){e.acceptToken(v);break}}let p=e.next,m=0,g=t[a+2];if(e.next<0&&g>m&&t[d+g*3-3]==65535){a=t[d+g*3-1];continue e}for(;m<g;){let x=m+g>>1,v=d+x+(x<<1),b=t[v],S=t[v+1]||65536;if(p<b)g=x;else if(p>=S)m=x+1;else{a=t[v+2],e.advance();continue e}}break}}function MP(t,e,n){for(let r=e,s;(s=t[r])!=65535;r++)if(s==n)return r-e;return-1}function GG(t,e,n,r){let s=MP(n,r,e);return s<0||MP(n,r,t)<s}const Cr=typeof process<"u"&&EP&&/\bparse\b/.test(EP.LOG);let bx=null;function XP(t,e,n){let r=t.cursor(vt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class IG{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?XP(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?XP(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],s=this.index[n];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[s],a=this.start[n]+r.positions[s];if(a>e)return this.nextStart=a,null;if(i instanceof wt){if(a==e){if(a<this.safeFrom)return null;let o=a+i.length;if(o<=this.safeTo){let u=i.prop(Ue.lookAhead);if(!u||o+u<this.fragment.to)return i}}this.index[n]++,a+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+i.length}}}class HG{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Pp)}getActions(e){let n=0,r=null,{parser:s}=e.p,{tokenizers:i}=s,a=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let d=0;d<i.length;d++){if((1<<d&a)==0)continue;let p=i[d],m=this.tokens[d];if(!(r&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=a||m.context!=o)&&(this.updateCachedToken(m,p,e),m.mask=a,m.context=o),m.lookAhead>m.end+25&&(u=Math.max(m.lookAhead,u)),m.value!=0)){let g=n;if(m.extended>-1&&(n=this.addActions(e,m.extended,m.end,n)),n=this.addActions(e,m.value,m.end,n),!p.extend&&(r=m,n>g))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new Pp,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Pp,{pos:r,p:s}=e;return n.start=r,n.end=Math.min(r+1,s.stream.end),n.value=r==s.stream.end?s.parser.eofTerm:0,n}updateCachedToken(e,n,r){let s=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(s,e),r),e.value>-1){let{parser:i}=r.p;for(let a=0;a<i.specialized.length;a++)if(i.specialized[a]==e.value){let o=i.specializers[a](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,n,r,s){for(let i=0;i<s;i+=3)if(this.actions[i]==e)return s;return this.actions[s++]=e,this.actions[s++]=n,this.actions[s++]=r,s}addActions(e,n,r,s){let{state:i}=e,{parser:a}=e.p,{data:o}=a;for(let u=0;u<2;u++)for(let d=a.stateSlot(i,u?2:1);;d+=3){if(o[d]==65535)if(o[d+1]==1)d=Ni(o,d+2);else{s==0&&o[d+1]==2&&(s=this.putAction(Ni(o,d+2),n,r,s));break}o[d]==n&&(s=this.putAction(Ni(o,d+1),n,r,s))}return s}}class FG{constructor(e,n,r,s){this.parser=e,this.input=n,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new WG(n,s),this.tokens=new HG(e,this.stream),this.topTerm=e.top[1];let{from:i}=s[0];this.stacks=[um.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>e.bufferLength*4?new IG(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],s,i;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{s||(s=[],i=[]),s.push(o);let u=this.tokens.getMainToken(o);i.push(u.value,u.end)}}break}}if(!r.length){let a=s&&JG(s);if(a)return Cr&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Cr&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,i,r);if(a)return Cr&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((o,u)=>u.score-o.score);r.length>a;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let o=r[a];for(let u=a+1;u<r.length;u++){let d=r[u];if(o.sameState(d)||o.buffer.length>500&&d.buffer.length>500)if((o.score-d.score||o.buffer.length-d.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,o)=>o.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let s=e.pos,{parser:i}=this,a=Cr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let d=e.curContext&&e.curContext.tracker.strict,p=d?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?i.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!d||(m.prop(Ue.contextHash)||0)==p))return e.useNode(m,g),Cr&&console.log(a+this.stackID(e)+` (via reuse of ${i.getName(m.type.id)})`),!0;if(!(m instanceof wt)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof wt&&m.positions[0]==0)m=x;else break}}let o=i.stateSlot(e.state,4);if(o>0)return e.reduce(o),Cr&&console.log(a+this.stackID(e)+` (via always-reduce ${i.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let d=0;d<u.length;){let p=u[d++],m=u[d++],g=u[d++],x=d==u.length||!r,v=x?e:e.split(),b=this.tokens.mainToken;if(v.apply(p,m,b?b.start:v.pos,g),Cr&&console.log(a+this.stackID(v)+` (via ${(p&65536)==0?"shift":`reduce of ${i.getName(p&65535)}`} for ${i.getName(m)} @ ${s}${v==e?"":", split"})`),x)return!0;v.pos>s?n.push(v):r.push(v)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return zP(e,n),!0}}runRecovery(e,n,r){let s=null,i=!1;for(let a=0;a<e.length;a++){let o=e[a],u=n[a<<1],d=n[(a<<1)+1],p=Cr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(i||(i=!0,o.restart(),Cr&&console.log(p+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let m=o.split(),g=p;for(let x=0;x<10&&m.forceReduce()&&(Cr&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)Cr&&(g=this.stackID(m)+" -> ");for(let x of o.recoverByInsert(u))Cr&&console.log(p+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>o.pos?(d==o.pos&&(d++,u=0),o.recoverByDelete(u,d),Cr&&console.log(p+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),zP(o,r)):(!s||s.score<m.score)&&(s=m)}return s}stackToTree(e){return e.close(),wt.build({buffer:fm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(bx||(bx=new WeakMap)).get(e);return n||bx.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function zP(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class KG{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const vx=t=>t;class HQ{constructor(e){this.start=e.start,this.shift=e.shift||vx,this.reduce=e.reduce||vx,this.reuse=e.reuse||vx,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Da extends NQ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<n.length;o++)s.push([]);function i(o,u,d){s[o].push([u,u.deserialize(String(d))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Ue[u]);for(let d=1;d<o.length;){let p=o[d++];if(p>=0)i(p,u,o[d++]);else{let m=o[d+-p];for(let g=-p;g>0;g--)i(o[d++],u,m);d++}}}this.nodeSet=new rd(n.map((o,u)=>Nn.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:s[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=g7;let a=tf(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(LP),this.states=tf(e.states,Uint32Array),this.data=tf(e.stateData),this.goto=tf(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new oc(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let s=new FG(this,e,n,r);for(let i of this.wrappers)s=i(s,e,n,r);return s}getGoto(e,n,r=!1){let s=this.goto;if(n>=s[0])return-1;for(let i=s[n+1];;){let a=s[i++],o=a&1,u=s[i++];if(o&&r)return u;for(let d=i+(a>>1);i<d;i++)if(s[i]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let s=0;s<2;s++)for(let i=this.stateSlot(e,s?2:1),a;;i+=3){if((a=r[i])==65535)if(r[i+1]==1)a=r[i=Ni(r,i+2)];else{if(r[i+1]==2)return Ni(r,i+2);break}if(a==n||a==0)return Ni(r,i+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),s=r?n(r):void 0;for(let i=this.stateSlot(e,1);s==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Ni(this.data,i+2);else break;s=n(Ni(this.data,i+1))}return s}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Ni(this.data,r+2);else break;if((this.data[r+2]&1)==0){let s=this.data[r+1];n.some((i,a)=>a&1&&i==s)||n.push(this.data[r],s)}}return n}configure(e){let n=Object.assign(Object.create(Da.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(i=>i.from==r);return s?s.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,s)=>{let i=e.specializers.find(o=>o.from==r.external);if(!i)return r;let a=Object.assign(Object.assign({},r),{external:i.to});return n.specializers[s]=LP(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let i of e.split(" ")){let a=n.indexOf(i);a>=0&&(r[a]=!0)}let s=null;for(let i=0;i<n.length;i++)if(!r[i])for(let a=this.dialects[n[i]],o;(o=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new KG(e,r,s)}static deserialize(e){return new Da(e)}}function Ni(t,e){return t[e]|t[e+1]<<16}function JG(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function LP(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const eI=55,tI=1,nI=56,rI=2,sI=57,iI=3,ZP=4,aI=5,FQ=6,zX=7,LX=8,ZX=9,VX=10,lI=11,oI=12,cI=13,wx=58,uI=14,fI=15,VP=59,YX=21,dI=23,DX=24,hI=25,w2=27,BX=28,pI=29,mI=32,OI=35,gI=37,xI=38,yI=0,bI=1,vI={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},wI={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},YP={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function SI(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let DP=null,BP=null,UP=0;function S2(t,e){let n=t.pos+e;if(UP==n&&BP==t)return DP;let r=t.peek(e),s="";for(;SI(r);)s+=String.fromCharCode(r),r=t.peek(++e);return BP=t,UP=n,DP=s?s.toLowerCase():r==QI||r==kI?void 0:null}const UX=60,hm=62,KQ=47,QI=63,kI=33,$I=45;function WP(t,e){this.name=t,this.parent=e}const TI=[FQ,VX,zX,LX,ZX],jI=new HQ({start:null,shift(t,e,n,r){return TI.indexOf(e)>-1?new WP(S2(r,1)||"",t):t},reduce(t,e){return e==YX&&t?t.parent:t},reuse(t,e,n,r){let s=e.type.id;return s==FQ||s==gI?new WP(S2(r,1)||"",t):t},strict:!1}),_I=new Bn((t,e)=>{if(t.next!=UX){t.next<0&&e.context&&t.acceptToken(wx);return}t.advance();let n=t.next==KQ;n&&t.advance();let r=S2(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?fI:uI);let s=e.context?e.context.name:null;if(n){if(r==s)return t.acceptToken(lI);if(s&&wI[s])return t.acceptToken(wx,-2);if(e.dialectEnabled(yI))return t.acceptToken(oI);for(let i=e.context;i;i=i.parent)if(i.name==r)return;t.acceptToken(cI)}else{if(r=="script")return t.acceptToken(zX);if(r=="style")return t.acceptToken(LX);if(r=="textarea")return t.acceptToken(ZX);if(vI.hasOwnProperty(r))return t.acceptToken(VX);s&&YP[s]&&YP[s][r]?t.acceptToken(wx,-1):t.acceptToken(FQ)}},{contextual:!0}),PI=new Bn(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(VP);break}if(t.next==$I)e++;else if(t.next==hm&&e>=2){n>=3&&t.acceptToken(VP,-2);break}else e=0;t.advance()}});function NI(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const CI=new Bn((t,e)=>{if(t.next==KQ&&t.peek(1)==hm){let n=e.dialectEnabled(bI)||NI(e.context);t.acceptToken(n?aI:ZP,2)}else t.next==hm&&t.acceptToken(ZP,1)});function JQ(t,e,n){let r=2+t.length;return new Bn(s=>{for(let i=0,a=0,o=0;;o++){if(s.next<0){o&&s.acceptToken(e);break}if(i==0&&s.next==UX||i==1&&s.next==KQ||i>=2&&i<r&&s.next==t.charCodeAt(i-2))i++,a++;else if(i==r&&s.next==hm){o>a?s.acceptToken(e,-a):s.acceptToken(n,-(a-2));break}else if((s.next==10||s.next==13)&&o){s.acceptToken(e,1);break}else i=a=0;s.advance()}})}const RI=JQ("script",eI,tI),EI=JQ("style",nI,rI),AI=JQ("textarea",sI,iI),qI=Ua({"Text RawText IncompleteTag IncompleteCloseTag":V.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":V.angleBracket,TagName:V.tagName,"MismatchedCloseTag/TagName":[V.tagName,V.invalid],AttributeName:V.attributeName,"AttributeValue UnquotedAttributeValue":V.attributeValue,Is:V.definitionOperator,"EntityReference CharacterReference":V.character,Comment:V.blockComment,ProcessingInst:V.processingInstruction,DoctypeDecl:V.documentMeta}),MI=Da.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:jI,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[qI],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[RI,EI,AI,CI,_I,PI,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function WX(t,e){let n=Object.create(null);for(let r of t.getChildren(DX)){let s=r.getChild(hI),i=r.getChild(w2)||r.getChild(BX);s&&(n[e.read(s.from,s.to)]=i?i.type.id==w2?e.read(i.from+1,i.to-1):e.read(i.from,i.to):"")}return n}function GP(t,e){let n=t.getChild(dI);return n?e.read(n.from,n.to):" "}function Sx(t,e,n){let r;for(let s of n)if(!s.attrs||s.attrs(r||(r=WX(t.node.parent.firstChild,e))))return{parser:s.parser,bracketed:!0};return null}function GX(t=[],e=[]){let n=[],r=[],s=[],i=[];for(let o of t)(o.tag=="script"?n:o.tag=="style"?r:o.tag=="textarea"?s:i).push(o);let a=e.length?Object.create(null):null;for(let o of e)(a[o.name]||(a[o.name]=[])).push(o);return v7((o,u)=>{let d=o.type.id;if(d==pI)return Sx(o,u,n);if(d==mI)return Sx(o,u,r);if(d==OI)return Sx(o,u,s);if(d==YX&&i.length){let p=o.node,m=p.firstChild,g=m&&GP(m,u),x;if(g){for(let v of i)if(v.tag==g&&(!v.attrs||v.attrs(x||(x=WX(m,u))))){let b=p.lastChild,S=b.type.id==xI?b.from:p.to;if(S>m.to)return{parser:v.parser,overlay:[{from:m.to,to:S}]}}}}if(a&&d==DX){let p=o.node,m;if(m=p.firstChild){let g=a[u.read(m.from,m.to)];if(g)for(let x of g){if(x.tagName&&x.tagName!=GP(p.parent,u))continue;let v=p.lastChild;if(v.type.id==w2){let b=v.from+1,S=v.lastChild,Q=v.to-(S&&S.isError?0:1);if(Q>b)return{parser:x.parser,overlay:[{from:b,to:Q}],bracketed:!0}}else if(v.type.id==BX)return{parser:x.parser,overlay:[{from:v.from,to:v.to}]}}}}return null})}const XI=122,IP=1,zI=123,LI=124,IX=2,ZI=125,VI=3,YI=4,HX=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],DI=58,BI=40,FX=95,UI=91,Np=45,WI=46,GI=35,II=37,HI=38,FI=92,KI=10,JI=42;function Mf(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function ek(t){return t>=48&&t<=57}function HP(t){return ek(t)||t>=97&&t<=102||t>=65&&t<=70}const KX=(t,e,n)=>(r,s)=>{for(let i=!1,a=0,o=0;;o++){let{next:u}=r;if(Mf(u)||u==Np||u==FX||i&&ek(u))!i&&(u!=Np||o>0)&&(i=!0),a===o&&u==Np&&a++,r.advance();else if(u==FI&&r.peek(1)!=KI){if(r.advance(),HP(r.next)){do r.advance();while(HP(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();i=!0}else{i&&r.acceptToken(a==2&&s.canShift(IX)?e:u==BI?n:t);break}}},eH=new Bn(KX(zI,IX,LI)),tH=new Bn(KX(ZI,VI,YI)),nH=new Bn(t=>{if(HX.includes(t.peek(-1))){let{next:e}=t;(Mf(e)||e==FX||e==GI||e==WI||e==JI||e==UI||e==DI&&Mf(t.peek(1))||e==Np||e==HI)&&t.acceptToken(XI)}}),rH=new Bn(t=>{if(!HX.includes(t.peek(-1))){let{next:e}=t;if(e==II&&(t.advance(),t.acceptToken(IP)),Mf(e)){do t.advance();while(Mf(t.next)||ek(t.next));t.acceptToken(IP)}}}),sH=Ua({"AtKeyword import charset namespace keyframes media supports":V.definitionKeyword,"from to selector":V.keyword,NamespaceName:V.namespace,KeyframeName:V.labelName,KeyframeRangeName:V.operatorKeyword,TagName:V.tagName,ClassName:V.className,PseudoClassName:V.constant(V.className),IdName:V.labelName,"FeatureName PropertyName":V.propertyName,AttributeName:V.attributeName,NumberLiteral:V.number,KeywordQuery:V.keyword,UnaryQueryOp:V.operatorKeyword,"CallTag ValueName":V.atom,VariableName:V.variableName,Callee:V.operatorKeyword,Unit:V.unit,"UniversalSelector NestingSelector":V.definitionOperator,"MatchOp CompareOp":V.compareOperator,"ChildOp SiblingOp, LogicOp":V.logicOperator,BinOp:V.arithmeticOperator,Important:V.modifier,Comment:V.blockComment,ColorLiteral:V.color,"ParenthesizedContent StringLiteral":V.string,":":V.punctuation,"PseudoOp #":V.derefOperator,"; ,":V.separator,"( )":V.paren,"[ ]":V.squareBracket,"{ }":V.brace}),iH={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},aH={__proto__:null,or:98,and:98,not:106,only:106,layer:170},lH={__proto__:null,selector:112,layer:166},oH={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},cH={__proto__:null,to:207},uH=Da.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[sH],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[nH,rH,eH,tH,1,2,3,4,new dm("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>iH[t]||-1},{term:125,get:t=>aH[t]||-1},{term:4,get:t=>lH[t]||-1},{term:25,get:t=>oH[t]||-1},{term:123,get:t=>cH[t]||-1}],tokenPrec:1963});let Qx=null;function kx(){if(!Qx&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,s=>"-"+s.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));Qx=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return Qx||[]}const FP=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),KP=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),fH=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),dH=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),Qi=/^(\w[\w-]*|-\w[\w-]*|)$/,hH=/^-(-[\w-]*)?$/;function pH(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const JP=new PQ,mH=["Declaration"];function OH(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function JX(t,e,n){if(e.to-e.from>4096){let r=JP.get(e);if(r)return r;let s=[],i=new Set,a=e.cursor(vt.IncludeAnonymous);if(a.firstChild())do for(let o of JX(t,a.node,n))i.has(o.label)||(i.add(o.label),s.push(o));while(a.nextSibling());return JP.set(e,s),s}else{let r=[],s=new Set;return e.cursor().iterate(i=>{var a;if(n(i)&&i.matchContext(mH)&&((a=i.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let o=t.sliceString(i.from,i.to);s.has(o)||(s.add(o),r.push({label:o,type:"variable"}))}}),r}}const gH=t=>e=>{let{state:n,pos:r}=e,s=an(n).resolveInner(r,-1),i=s.type.isError&&s.from==s.to-1&&n.doc.sliceString(s.from,s.to)=="-";if(s.name=="PropertyName"||(i||s.name=="TagName")&&/^(Block|Styles)$/.test(s.resolve(s.to).name))return{from:s.from,options:kx(),validFor:Qi};if(s.name=="ValueName")return{from:s.from,options:KP,validFor:Qi};if(s.name=="PseudoClassName")return{from:s.from,options:FP,validFor:Qi};if(t(s)||(e.explicit||i)&&pH(s,n.doc))return{from:t(s)||i?s.from:r,options:JX(n.doc,OH(s),t),validFor:hH};if(s.name=="TagName"){for(let{parent:u}=s;u;u=u.parent)if(u.name=="Block")return{from:s.from,options:kx(),validFor:Qi};return{from:s.from,options:fH,validFor:Qi}}if(s.name=="AtKeyword")return{from:s.from,options:dH,validFor:Qi};if(!e.explicit)return null;let a=s.resolve(r),o=a.childBefore(r);return o&&o.name==":"&&a.name=="PseudoClassSelector"?{from:r,options:FP,validFor:Qi}:o&&o.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:r,options:KP,validFor:Qi}:a.name=="Block"||a.name=="Styles"?{from:r,options:kx(),validFor:Qi}:null},xH=gH(t=>t.name=="VariableName"),pm=Ya.define({name:"css",parser:uH.configure({props:[Ul.add({Declaration:_l()}),Wl.add({"Block KeyframeList":Hm})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function yH(){return new zl(pm,pm.data.of({autocomplete:xH}))}const bH=316,vH=317,e4=1,wH=2,SH=3,QH=4,kH=318,$H=320,TH=321,jH=5,_H=6,PH=0,Q2=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ez=125,NH=59,k2=47,CH=42,RH=43,EH=45,AH=60,qH=44,MH=63,XH=46,zH=91,LH=new HQ({start:!1,shift(t,e){return e==jH||e==_H||e==$H?t:e==TH},strict:!1}),ZH=new Bn((t,e)=>{let{next:n}=t;(n==ez||n==-1||e.context)&&t.acceptToken(kH)},{contextual:!0,fallback:!0}),VH=new Bn((t,e)=>{let{next:n}=t,r;Q2.indexOf(n)>-1||n==k2&&((r=t.peek(1))==k2||r==CH)||n!=ez&&n!=NH&&n!=-1&&!e.context&&t.acceptToken(bH)},{contextual:!0}),YH=new Bn((t,e)=>{t.next==zH&&!e.context&&t.acceptToken(vH)},{contextual:!0}),DH=new Bn((t,e)=>{let{next:n}=t;if(n==RH||n==EH){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(e4);t.acceptToken(r?e4:wH)}}else n==MH&&t.peek(1)==XH&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(SH))},{contextual:!0});function $x(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const BH=new Bn((t,e)=>{if(t.next!=AH||!e.dialectEnabled(PH)||(t.advance(),t.next==k2))return;let n=0;for(;Q2.indexOf(t.next)>-1;)t.advance(),n++;if($x(t.next,!0)){for(t.advance(),n++;$x(t.next,!1);)t.advance(),n++;for(;Q2.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==qH)return;for(let r=0;;r++){if(r==7){if(!$x(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(QH,-n)}),UH=Ua({"get set async static":V.modifier,"for while do if else switch try catch finally return throw break continue default case defer":V.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":V.operatorKeyword,"let var const using function class extends":V.definitionKeyword,"import export from":V.moduleKeyword,"with debugger new":V.keyword,TemplateString:V.special(V.string),super:V.atom,BooleanLiteral:V.bool,this:V.self,null:V.null,Star:V.modifier,VariableName:V.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":V.function(V.variableName),VariableDefinition:V.definition(V.variableName),Label:V.labelName,PropertyName:V.propertyName,PrivatePropertyName:V.special(V.propertyName),"CallExpression/MemberExpression/PropertyName":V.function(V.propertyName),"FunctionDeclaration/VariableDefinition":V.function(V.definition(V.variableName)),"ClassDeclaration/VariableDefinition":V.definition(V.className),"NewExpression/VariableName":V.className,PropertyDefinition:V.definition(V.propertyName),PrivatePropertyDefinition:V.definition(V.special(V.propertyName)),UpdateOp:V.updateOperator,"LineComment Hashbang":V.lineComment,BlockComment:V.blockComment,Number:V.number,String:V.string,Escape:V.escape,ArithOp:V.arithmeticOperator,LogicOp:V.logicOperator,BitOp:V.bitwiseOperator,CompareOp:V.compareOperator,RegExp:V.regexp,Equals:V.definitionOperator,Arrow:V.function(V.punctuation),": Spread":V.punctuation,"( )":V.paren,"[ ]":V.squareBracket,"{ }":V.brace,"InterpolationStart InterpolationEnd":V.special(V.brace),".":V.derefOperator,", ;":V.separator,"@":V.meta,TypeName:V.typeName,TypeDefinition:V.definition(V.typeName),"type enum interface implements namespace module declare":V.definitionKeyword,"abstract global Privacy readonly override":V.modifier,"is keyof unique infer asserts":V.operatorKeyword,JSXAttributeValue:V.attributeValue,JSXText:V.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":V.angleBracket,"JSXIdentifier JSXNameSpacedName":V.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":V.attributeName,"JSXBuiltin/JSXIdentifier":V.standard(V.tagName)}),WH={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},GH={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},IH={__proto__:null,"<":193},HH=Da.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:LH,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[UH],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[VH,YH,DH,BH,2,3,4,5,6,7,8,9,10,11,12,13,14,ZH,new dm("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new dm("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>WH[t]||-1},{term:343,get:t=>GH[t]||-1},{term:95,get:t=>IH[t]||-1}],tokenPrec:15201}),tz=[tn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),tn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),tn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),tn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),tn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),tn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),tn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),tn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),tn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),tn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),tn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],FH=tz.concat([tn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),tn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),tn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),t4=new PQ,nz=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Vu(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const KH=["FunctionDeclaration"],JH={FunctionDeclaration:Vu("function"),ClassDeclaration:Vu("class"),ClassExpression:()=>!0,EnumDeclaration:Vu("constant"),TypeAliasDeclaration:Vu("type"),NamespaceDeclaration:Vu("namespace"),VariableDefinition(t,e){t.matchContext(KH)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function rz(t,e){let n=t4.get(e);if(n)return n;let r=[],s=!0;function i(a,o){let u=t.sliceString(a.from,a.to);r.push({label:u,type:o})}return e.cursor(vt.IncludeAnonymous).iterate(a=>{if(s)s=!1;else if(a.name){let o=JH[a.name];if(o&&o(a,i)||nz.has(a.name))return!1}else if(a.to-a.from>8192){for(let o of rz(t,a.node))r.push(o);return!1}}),t4.set(e,r),r}const n4=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,sz=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function eF(t){let e=an(t.state).resolveInner(t.pos,-1);if(sz.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&n4.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let s=e;s;s=s.parent)nz.has(s.name)&&(r=r.concat(rz(t.state.doc,s)));return{options:r,from:n?e.from:t.pos,validFor:n4}}const Js=Ya.define({name:"javascript",parser:HH.configure({props:[Ul.add({IfStatement:_l({except:/^\s*({|else\b)/}),TryStatement:_l({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:j7,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:mf({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":_l({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),Wl.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Hm,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),iz={test:t=>/^JSX/.test(t.name),facet:CQ({commentTokens:{block:{open:"{/*",close:"*/}"}}})},az=Js.configure({dialect:"ts"},"typescript"),lz=Js.configure({dialect:"jsx",props:[RQ.add(t=>t.isTop?[iz]:void 0)]}),oz=Js.configure({dialect:"jsx ts",props:[RQ.add(t=>t.isTop?[iz]:void 0)]},"typescript");let cz=t=>({label:t,type:"keyword"});const uz="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(cz),tF=uz.concat(["declare","implements","private","protected","public"].map(cz));function fz(t={}){let e=t.jsx?t.typescript?oz:lz:t.typescript?az:Js,n=t.typescript?FH.concat(tF):tz.concat(uz);return new zl(e,[Js.data.of({autocomplete:lX(sz,zQ(n))}),Js.data.of({autocomplete:eF}),t.jsx?sF:[]])}function nF(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function r4(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const rF=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),sF=qe.inputHandler.of((t,e,n,r,s)=>{if((rF?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Js.isActiveAt(t.state,e,-1))return!1;let i=s(),{state:a}=i,o=a.changeByRange(u=>{var d;let{head:p}=u,m=an(a).resolveInner(p-1,-1),g;if(m.name=="JSXStartTag"&&(m=m.parent),!(a.doc.sliceString(p-1,p)!=r||m.name=="JSXAttributeValue"&&m.to>p)){if(r==">"&&m.name=="JSXFragmentTag")return{range:u,changes:{from:p,insert:"</>"}};if(r=="/"&&m.name=="JSXStartCloseTag"){let x=m.parent,v=x.parent;if(v&&x.from==p-2&&((g=r4(a.doc,v.firstChild,p))||((d=v.firstChild)===null||d===void 0?void 0:d.name)=="JSXFragmentTag")){let b=`${g}>`;return{range:we.cursor(p+b.length,-1),changes:{from:p,insert:b}}}}else if(r==">"){let x=nF(m);if(x&&x.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(p,p+2))&&(g=r4(a.doc,x,p)))return{range:u,changes:{from:p,insert:`</${g}>`}}}}return{range:u}});return o.changes.empty?!1:(t.dispatch([i,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Yu=["_blank","_self","_top","_parent"],Tx=["ascii","utf-8","utf-16","latin1","latin1"],jx=["get","post","put","delete"],_x=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Rr=["true","false"],Xe={},iF={a:{attrs:{href:null,ping:null,type:null,media:null,target:Yu,hreflang:null}},abbr:Xe,address:Xe,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Xe,aside:Xe,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Xe,base:{attrs:{href:null,target:Yu}},bdi:Xe,bdo:Xe,blockquote:{attrs:{cite:null}},body:Xe,br:Xe,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:_x,formmethod:jx,formnovalidate:["novalidate"],formtarget:Yu,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Xe,center:Xe,cite:Xe,code:Xe,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Xe,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Xe,div:Xe,dl:Xe,dt:Xe,em:Xe,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Xe,figure:Xe,footer:Xe,form:{attrs:{action:null,name:null,"accept-charset":Tx,autocomplete:["on","off"],enctype:_x,method:jx,novalidate:["novalidate"],target:Yu}},h1:Xe,h2:Xe,h3:Xe,h4:Xe,h5:Xe,h6:Xe,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Xe,hgroup:Xe,hr:Xe,html:{attrs:{manifest:null}},i:Xe,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:_x,formmethod:jx,formnovalidate:["novalidate"],formtarget:Yu,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Xe,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Xe,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Xe,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Tx,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Xe,noscript:Xe,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Xe,param:{attrs:{name:null,value:null}},pre:Xe,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Xe,rt:Xe,ruby:Xe,samp:Xe,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Tx}},section:Xe,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Xe,source:{attrs:{src:null,type:null,media:null}},span:Xe,strong:Xe,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Xe,summary:Xe,sup:Xe,table:Xe,tbody:Xe,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Xe,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Xe,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Xe,time:{attrs:{datetime:null}},title:Xe,tr:Xe,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Xe,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Xe},dz={accesskey:null,class:null,contenteditable:Rr,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Rr,autocorrect:Rr,autocapitalize:Rr,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Rr,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Rr,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Rr,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Rr,"aria-hidden":Rr,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Rr,"aria-multiselectable":Rr,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Rr,"aria-relevant":null,"aria-required":Rr,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},hz="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of hz)dz[t]=null;class Xf{constructor(e,n){this.tags={...iF,...e},this.globalAttrs={...dz,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}Xf.default=new Xf;function vc(t,e,n=t.length){if(!e)return"";let r=e.firstChild,s=r&&r.getChild("TagName");return s?t.sliceString(s.from,Math.min(s.to,n)):""}function wc(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function pz(t,e,n){let r=n.tags[vc(t,wc(e))];return(r==null?void 0:r.children)||n.allTags}function tk(t,e){let n=[];for(let r=wc(e);r&&!r.type.isTop;r=wc(r.parent)){let s=vc(t,r);if(s&&r.lastChild.name=="CloseTag")break;s&&n.indexOf(s)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(s)}return n}const mz=/^[:\-\.\w\u00b7-\uffff]*$/;function s4(t,e,n,r,s){let i=/\s*>/.test(t.sliceDoc(s,s+5))?"":">",a=wc(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:s,options:pz(t.doc,a,e).map(o=>({label:o,type:"type"})).concat(tk(t.doc,n).map((o,u)=>({label:"/"+o,apply:"/"+o+i,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function i4(t,e,n,r){let s=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:tk(t.doc,e).map((i,a)=>({label:i,apply:i+s,type:"type",boost:99-a})),validFor:mz}}function aF(t,e,n,r){let s=[],i=0;for(let a of pz(t.doc,n,e))s.push({label:"<"+a,type:"type"});for(let a of tk(t.doc,n))s.push({label:"</"+a+">",type:"type",boost:99-i++});return{from:r,to:r,options:s,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function lF(t,e,n,r,s){let i=wc(n),a=i?e.tags[vc(t.doc,i)]:null,o=a&&a.attrs?Object.keys(a.attrs):[],u=a&&a.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:s,options:u.map(d=>({label:d,type:"property"})),validFor:mz}}function oF(t,e,n,r,s){var i;let a=(i=n.parent)===null||i===void 0?void 0:i.getChild("AttributeName"),o=[],u;if(a){let d=t.sliceDoc(a.from,a.to),p=e.globalAttrs[d];if(!p){let m=wc(n),g=m?e.tags[vc(t.doc,m)]:null;p=(g==null?void 0:g.attrs)&&g.attrs[d]}if(p){let m=t.sliceDoc(r,s).toLowerCase(),g='"',x='"';/^['"]/.test(m)?(u=m[0]=='"'?/^[^"]*$/:/^[^']*$/,g="",x=t.sliceDoc(s,s+1)==m[0]?"":m[0],m=m.slice(1),r++):u=/^[^\s<>='"]*$/;for(let v of p)o.push({label:v,apply:g+v+x,type:"constant"})}}return{from:r,to:s,options:o,validFor:u}}function Oz(t,e){let{state:n,pos:r}=e,s=an(n).resolveInner(r,-1),i=s.resolve(r);for(let a=r,o;i==s&&(o=s.childBefore(a));){let u=o.lastChild;if(!u||!u.type.isError||u.from<u.to)break;i=s=o,a=u.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?i4(n,s,s.from,r):s4(n,t,s,s.from,r):s.name=="StartTag"||s.name=="IncompleteTag"?s4(n,t,s,r,r):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?i4(n,s,r,r):s.name=="OpenTag"||s.name=="SelfClosingTag"||s.name=="AttributeName"?lF(n,t,s,s.name=="AttributeName"?s.from:r,r):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?oF(n,t,s,s.name=="Is"?r:s.from,r):e.explicit&&(i.name=="Element"||i.name=="Text"||i.name=="Document")?aF(n,t,s,r):null}function cF(t){return Oz(Xf.default,t)}function uF(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new Xf(e,n):Xf.default;return s=>Oz(r,s)}const fF=Js.parser.configure({top:"SingleExpression"}),gz=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:az.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:lz.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:oz.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:fF},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Js.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:pm.parser}],xz=[{name:"style",parser:pm.parser.configure({top:"Styles"})}].concat(hz.map(t=>({name:t,parser:Js.parser}))),yz=Ya.define({name:"html",parser:MI.configure({props:[Ul.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let s=r.lastChild;if(!s||s.name!="Element"||s.to!=r.to)break;e=r=s}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),Wl.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),_7.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),Cp=yz.configure({wrap:GX(gz,xz)});function dF(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=GX((t.nestedLanguages||[]).concat(gz),(t.nestedAttributes||[]).concat(xz)));let r=n?yz.configure({wrap:n,dialect:e}):e?Cp.configure({dialect:e}):Cp;return new zl(r,[Cp.data.of({autocomplete:uF(t)}),t.autoCloseTags!==!1?hF:[],fz().support,yH().support])}const a4=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),hF=qe.inputHandler.of((t,e,n,r,s)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Cp.isActiveAt(t.state,e,-1))return!1;let i=s(),{state:a}=i,o=a.changeByRange(u=>{var d,p,m;let g=a.doc.sliceString(u.from-1,u.to)==r,{head:x}=u,v=an(a).resolveInner(x,-1),b;if(g&&r==">"&&v.name=="EndTag"){let S=v.parent;if(((p=(d=S.parent)===null||d===void 0?void 0:d.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(b=vc(a.doc,S.parent,x))&&!a4.has(b)){let Q=x+(a.doc.sliceString(x,x+1)===">"?1:0),k=`</${b}>`;return{range:u,changes:{from:x,to:Q,insert:k}}}}else if(g&&r=="/"&&v.name=="IncompleteCloseTag"){let S=v.parent;if(v.from==x-2&&((m=S.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(b=vc(a.doc,S,x))&&!a4.has(b)){let Q=x+(a.doc.sliceString(x,x+1)===">"?1:0),k=`${b}>`;return{range:we.cursor(x+k.length,-1),changes:{from:x,to:Q,insert:k}}}}return{range:u}});return o.changes.empty?!1:(t.dispatch([i,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),bz=CQ({commentTokens:{block:{open:"<!--",close:"-->"}}}),vz=new Ue,wz=NG.configure({props:[Wl.add(t=>!t.is("Block")||t.is("Document")||$2(t)!=null||pF(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),vz.add($2),Ul.add({Document:()=>null}),$l.add({Document:bz})]});function $2(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function pF(t){return t.name=="OrderedList"||t.name=="BulletList"}function mF(t,e){let n=t;for(;;){let r=n.nextSibling,s;if(!r||(s=$2(r.type))!=null&&s<=e)break;n=r}return n.to}const OF=fU.of((t,e,n)=>{for(let r=an(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let s=r.type.prop(vz);if(s==null)continue;let i=mF(r,s);if(i>n)return{from:n,to:i}}return null});function nk(t){return new Kr(bz,t,[],"markdown")}const gF=nk(wz),xF=wz.configure([VG,DG,YG,BG,{props:[Wl.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),mm=nk(xF);function yF(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=nm.matchLanguageName(t,n,!0),r instanceof nm)return r.support?r.support.language.parser:Cf.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}let Px=class{constructor(e,n,r,s,i,a,o){this.node=e,this.from=n,this.to=r,this.spaceBefore=s,this.spaceAfter=i,this.type=a,this.item=o}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let s=this.to-this.from-r.length-this.spaceAfter.length;s>0;s--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+Qz(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}};function Sz(t,e){let n=[],r=[];for(let s=t;s;s=s.parent){if(s.name=="FencedCode")return r;(s.name=="ListItem"||s.name=="Blockquote")&&n.push(s)}for(let s=n.length-1;s>=0;s--){let i=n[s],a,o=e.lineAt(i.from),u=i.from-o.from;if(i.name=="Blockquote"&&(a=/^ *>( ?)/.exec(o.text.slice(u))))r.push(new Px(i,u,u+a[0].length,"",a[1],">",null));else if(i.name=="ListItem"&&i.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(o.text.slice(u)))){let d=a[3],p=a[0].length;d.length>=4&&(d=d.slice(0,d.length-4),p-=4),r.push(new Px(i.parent,u,u+p,a[1],d,a[2],i))}else if(i.name=="ListItem"&&i.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(o.text.slice(u)))){let d=a[4],p=a[0].length;d.length>4&&(d=d.slice(0,d.length-4),p-=4);let m=a[2];a[3]&&(m+=a[3].replace(/[xX]/," ")),r.push(new Px(i.parent,u,u+p,a[1],d,m,i))}}return r}function Qz(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function Nx(t,e,n,r=0){for(let s=-1,i=t;;){if(i.name=="ListItem"){let o=Qz(i,e),u=+o[2];if(s>=0){if(u!=s+1)return;n.push({from:i.from+o[1].length,to:i.from+o[0].length,insert:String(s+2+r)})}s=u}let a=i.nextSibling;if(!a)break;i=a}}function rk(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(sd)!="	")return t;let r=Li(t,4,n),s="";for(let i=r;i>0;)i>=4?(s+="	",i-=4):(s+=" ",i--);return s+t.slice(n)}const bF=(t={})=>({state:e,dispatch:n})=>{let r=an(e),{doc:s}=e,i=null,a=e.changeByRange(o=>{if(!o.empty||!mm.isActiveAt(e,o.from,-1)&&!mm.isActiveAt(e,o.from,1))return i={range:o};let u=o.from,d=s.lineAt(u),p=Sz(r.resolveInner(u,-1),s);for(;p.length&&p[p.length-1].from>u-d.from;)p.pop();if(!p.length)return i={range:o};let m=p[p.length-1];if(m.to-m.spaceAfter.length>u-d.from)return i={range:o};let g=u>=m.to-m.spaceAfter.length&&!/\S/.test(d.text.slice(m.to));if(m.item&&g){let Q=m.node.firstChild,k=m.node.getChild("ListItem","ListItem");if(Q.to>=u||k&&k.to<u||d.from>0&&!/[^\s>]/.test(s.lineAt(d.from-1).text)||t.nonTightLists===!1){let $=p.length>1?p[p.length-2]:null,T,j="";$&&$.item?(T=d.from+$.from,j=$.marker(s,1)):T=d.from+($?$.to:0);let N=[{from:T,to:u,insert:j}];return m.node.name=="OrderedList"&&Nx(m.item,s,N,-2),$&&$.node.name=="OrderedList"&&Nx($.item,s,N),{range:we.cursor(T+j.length),changes:N}}else{let $=o4(p,e,d);return{range:we.cursor(u+$.length+1),changes:{from:d.from,insert:$+e.lineBreak}}}}if(m.node.name=="Blockquote"&&g&&d.from){let Q=s.lineAt(d.from-1),k=/>\s*$/.exec(Q.text);if(k&&k.index==m.from){let $=e.changes([{from:Q.from+k.index,to:Q.to},{from:d.from+m.from,to:d.to}]);return{range:o.map($),changes:$}}}let x=[];m.node.name=="OrderedList"&&Nx(m.item,s,x);let v=m.item&&m.item.from<d.from,b="";if(!v||/^[\s\d.)\-+*>]*/.exec(d.text)[0].length>=m.to)for(let Q=0,k=p.length-1;Q<=k;Q++)b+=Q==k&&!v?p[Q].marker(s,1):p[Q].blank(Q<k?Li(d.text,4,p[Q+1].from)-b.length:null);let S=u;for(;S>d.from&&/\s/.test(d.text.charAt(S-d.from-1));)S--;return b=rk(b,e),wF(m.node,e.doc)&&(b=o4(p,e,d)+e.lineBreak+b),x.push({from:S,to:u,insert:e.lineBreak+b}),{range:we.cursor(S+b.length+1),changes:x}});return i?!1:(n(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0)},vF=bF();function l4(t){return t.name=="QuoteMark"||t.name=="ListMark"}function wF(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let s=e.lineAt(n.to),i=e.lineAt(r.from),a=/^[\s>]*$/.test(s.text);return s.number+(a?0:1)<i.number}function o4(t,e,n){let r="";for(let s=0,i=t.length-2;s<=i;s++)r+=t[s].blank(s<i?Li(n.text,4,t[s+1].from)-r.length:null,s<i);return rk(r,e)}function SF(t,e){let n=t.resolveInner(e,-1),r=e;l4(n)&&(r=n.from,n=n.parent);for(let s;s=n.childBefore(r);)if(l4(s))r=s.from;else if(s.name=="OrderedList"||s.name=="BulletList")n=s.lastChild,r=n.to;else break;return n}const QF=({state:t,dispatch:e})=>{let n=an(t),r=null,s=t.changeByRange(i=>{let a=i.from,{doc:o}=t;if(i.empty&&mm.isActiveAt(t,i.from)){let u=o.lineAt(a),d=Sz(SF(n,a),o);if(d.length){let p=d[d.length-1],m=p.to-p.spaceAfter.length+(p.spaceAfter?1:0);if(a-u.from>m&&!/\S/.test(u.text.slice(m,a-u.from)))return{range:we.cursor(u.from+m),changes:{from:u.from+m,to:a}};if(a-u.from==m&&(!p.item||u.from<=p.item.from||!/\S/.test(u.text.slice(0,p.to)))){let g=u.from+p.from;if(p.item&&p.node.from<p.item.from&&/\S/.test(u.text.slice(p.from,p.to))){let x=p.blank(Li(u.text,4,p.to)-Li(u.text,4,p.from));return g==u.from&&(x=rk(x,t)),{range:we.cursor(g+x.length),changes:{from:g,to:u.from+p.to,insert:x}}}if(g<a)return{range:we.cursor(g),changes:{from:g,to:a}}}}}return r={range:i}});return r?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"delete"})),!0)},kF=[{key:"Enter",run:vF},{key:"Backspace",run:QF}],kz=dF({matchClosingTags:!1});function $F(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:s}=gF,completeHTMLTags:i=!0,pasteURLAsLink:a=!0,htmlTagLanguage:o=kz}=t;if(!(s instanceof nO))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let u=t.extensions?[t.extensions]:[],d=[o.support,OF],p;a&&d.push(PF),n instanceof zl?(d.push(n.support),p=n.language):n&&(p=n);let m=e||p?yF(e,p):void 0;u.push(RG({codeParser:m,htmlParser:o.language.parser})),r&&d.push(Bl.high(Rc.of(kF)));let g=nk(s.configure(u));return i&&d.push(g.data.of({autocomplete:TF})),new zl(g,d)}function TF(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let s=an(e).resolveInner(n,-1);for(;s&&!s.type.isTop;){if(s.name=="CodeBlock"||s.name=="FencedCode"||s.name=="ProcessingInstructionBlock"||s.name=="CommentBlock"||s.name=="Link"||s.name=="Image")return null;s=s.parent}return{from:n-r[0].length,to:n,options:jF(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let Cx=null;function jF(){if(Cx)return Cx;let t=cF(new XQ(gt.create({extensions:kz}),0,!0));return Cx=t?t.options:[]}const _F=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,PF=qe.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let s=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!s||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(s)||(/^www\./.test(s)&&(s="https://"+s),!mm.isActiveAt(e.state,r.from,1)))return!1;let i=an(e.state),a=!1;return i.iterate({from:r.from,to:r.to,enter:o=>{(o.from>r.from||_F.test(o.name))&&(a=!0)},leave:o=>{o.to<r.to&&(a=!0)}}),a?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${s})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),NF=1,$z=194,Tz=195,CF=196,c4=197,RF=198,EF=199,AF=200,qF=2,jz=3,u4=201,MF=24,XF=25,zF=49,LF=50,ZF=55,VF=56,YF=57,DF=59,BF=60,UF=61,WF=62,GF=63,IF=65,HF=238,FF=71,KF=241,JF=242,eK=243,tK=244,nK=245,rK=246,sK=247,iK=248,_z=72,aK=249,lK=250,oK=251,cK=252,uK=253,fK=254,dK=255,hK=256,pK=73,mK=77,OK=263,gK=112,xK=130,yK=151,bK=152,vK=155,Ll=10,zf=13,sk=32,rO=9,ik=35,wK=40,SK=46,T2=123,f4=125,Pz=39,Nz=34,d4=92,QK=111,kK=120,$K=78,TK=117,jK=85,_K=new Set([XF,zF,LF,OK,IF,xK,VF,YF,HF,WF,GF,_z,pK,mK,BF,UF,yK,bK,vK,gK]);function Rx(t){return t==Ll||t==zf}function Ex(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}const PK=new Bn((t,e)=>{let n;if(t.next<0)t.acceptToken(EF);else if(e.context.flags&Rp)Rx(t.next)&&t.acceptToken(RF,1);else if(((n=t.peek(-1))<0||Rx(n))&&e.canShift(c4)){let r=0;for(;t.next==sk||t.next==rO;)t.advance(),r++;(t.next==Ll||t.next==zf||t.next==ik)&&t.acceptToken(c4,-r)}else Rx(t.next)&&t.acceptToken(CF,1)},{contextual:!0}),NK=new Bn((t,e)=>{let n=e.context;if(n.flags)return;let r=t.peek(-1);if(r==Ll||r==zf){let s=0,i=0;for(;;){if(t.next==sk)s++;else if(t.next==rO)s+=8-s%8;else break;t.advance(),i++}s!=n.indent&&t.next!=Ll&&t.next!=zf&&t.next!=ik&&(s<n.indent?t.acceptToken(Tz,-i):t.acceptToken($z))}}),Rp=1,Cz=2,$i=4,Ti=8,ji=16,_i=32;function Ep(t,e,n){this.parent=t,this.indent=e,this.flags=n,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+n+(n<<6)}const CK=new Ep(null,0,0);function RK(t){let e=0;for(let n=0;n<t.length;n++)e+=t.charCodeAt(n)==rO?8-e%8:1;return e}const h4=new Map([[KF,0],[JF,$i],[eK,Ti],[tK,Ti|$i],[nK,ji],[rK,ji|$i],[sK,ji|Ti],[iK,ji|Ti|$i],[aK,_i],[lK,_i|$i],[oK,_i|Ti],[cK,_i|Ti|$i],[uK,_i|ji],[fK,_i|ji|$i],[dK,_i|ji|Ti],[hK,_i|ji|Ti|$i]].map(([t,e])=>[t,e|Cz])),EK=new HQ({start:CK,reduce(t,e,n,r){return t.flags&Rp&&_K.has(e)||(e==FF||e==_z)&&t.flags&Cz?t.parent:t},shift(t,e,n,r){return e==$z?new Ep(t,RK(r.read(r.pos,n.pos)),0):e==Tz?t.parent:e==MF||e==ZF||e==DF||e==jz?new Ep(t,0,Rp):h4.has(e)?new Ep(t,0,h4.get(e)|t.flags&Rp):t},hash(t){return t.hash}}),AK=new Bn(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let n=t.peek(e);if(!(n==sk||n==rO)){n!=wK&&n!=SK&&n!=Ll&&n!=zf&&n!=ik&&t.acceptToken(NF);return}}}),qK=new Bn((t,e)=>{let{flags:n}=e.context,r=n&$i?Nz:Pz,s=(n&Ti)>0,i=!(n&ji),a=(n&_i)>0,o=t.pos;for(;!(t.next<0);)if(a&&t.next==T2)if(t.peek(1)==T2)t.advance(2);else{if(t.pos==o){t.acceptToken(jz,1);return}break}else if(i&&t.next==d4){if(t.pos==o){t.advance();let u=t.next;u>=0&&(t.advance(),MK(t,u)),t.acceptToken(qF);return}break}else if(t.next==d4&&!i&&t.peek(1)>-1)t.advance(2);else if(t.next==r&&(!s||t.peek(1)==r&&t.peek(2)==r)){if(t.pos==o){t.acceptToken(u4,s?3:1);return}break}else if(t.next==Ll){if(s)t.advance();else if(t.pos==o){t.acceptToken(u4);return}break}else t.advance();t.pos>o&&t.acceptToken(AF)});function MK(t,e){if(e==QK)for(let n=0;n<2&&t.next>=48&&t.next<=55;n++)t.advance();else if(e==kK)for(let n=0;n<2&&Ex(t.next);n++)t.advance();else if(e==TK)for(let n=0;n<4&&Ex(t.next);n++)t.advance();else if(e==jK)for(let n=0;n<8&&Ex(t.next);n++)t.advance();else if(e==$K&&t.next==T2){for(t.advance();t.next>=0&&t.next!=f4&&t.next!=Pz&&t.next!=Nz&&t.next!=Ll;)t.advance();t.next==f4&&t.advance()}}const XK=Ua({'async "*" "**" FormatConversion FormatSpec':V.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":V.controlKeyword,"in not and or is del":V.operatorKeyword,"from def class global nonlocal lambda":V.definitionKeyword,import:V.moduleKeyword,"with as print":V.keyword,Boolean:V.bool,None:V.null,VariableName:V.variableName,"CallExpression/VariableName":V.function(V.variableName),"FunctionDefinition/VariableName":V.function(V.definition(V.variableName)),"ClassDefinition/VariableName":V.definition(V.className),PropertyName:V.propertyName,"CallExpression/MemberExpression/PropertyName":V.function(V.propertyName),Comment:V.lineComment,Number:V.number,String:V.string,FormatString:V.special(V.string),Escape:V.escape,UpdateOp:V.updateOperator,"ArithOp!":V.arithmeticOperator,BitOp:V.bitwiseOperator,CompareOp:V.compareOperator,AssignOp:V.definitionOperator,Ellipsis:V.punctuation,At:V.meta,"( )":V.paren,"[ ]":V.squareBracket,"{ }":V.brace,".":V.derefOperator,", ;":V.separator}),zK={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},LK=Da.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:EK,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[XK],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[AK,NK,PK,qK,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:t=>zK[t]||-1}],tokenPrec:7668}),p4=new PQ,Rz=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function tp(t){return(e,n,r)=>{if(r)return!1;let s=e.node.getChild("VariableName");return s&&n(s,t),!0}}const ZK={FunctionDefinition:tp("function"),ClassDefinition:tp("class"),ForStatement(t,e,n){if(n){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(t,e){var n,r;let{node:s}=t,i=((n=s.firstChild)===null||n===void 0?void 0:n.name)=="from";for(let a=s.getChild("import");a;a=a.nextSibling)a.name=="VariableName"&&((r=a.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(a,i?"variable":"namespace")},AssignStatement(t,e){for(let n=t.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")e(n,"variable");else if(n.name==":"||n.name=="AssignOp")break},ParamList(t,e){for(let n=null,r=t.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!n||!/\*|AssignOp/.test(n.name))&&e(r,"variable"),n=r},CapturePattern:tp("variable"),AsPattern:tp("variable"),__proto__:null};function Ez(t,e){let n=p4.get(e);if(n)return n;let r=[],s=!0;function i(a,o){let u=t.sliceString(a.from,a.to);r.push({label:u,type:o})}return e.cursor(vt.IncludeAnonymous).iterate(a=>{if(a.name){let o=ZK[a.name];if(o&&o(a,i,s)||!s&&Rz.has(a.name))return!1;s=!1}else if(a.to-a.from>8192){for(let o of Ez(t,a.node))r.push(o);return!1}}),p4.set(e,r),r}const m4=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,Az=["String","FormatString","Comment","PropertyName"];function VK(t){let e=an(t.state).resolveInner(t.pos,-1);if(Az.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&m4.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let s=e;s;s=s.parent)Rz.has(s.name)&&(r=r.concat(Ez(t.state.doc,s)));return{options:r,from:n?e.from:t.pos,validFor:m4}}const YK=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),DK=[tn("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),tn("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),tn("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),tn("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),tn(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),tn("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),tn("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),tn("import ${module}",{label:"import",detail:"statement",type:"keyword"}),tn("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],BK=lX(Az,zQ(YK.concat(DK)));function Ax(t){let{node:e,pos:n}=t,r=t.lineIndent(n,-1),s=null;for(;;){let i=e.childBefore(n);if(i)if(i.name=="Comment")n=i.from;else if(i.name=="Body"||i.name=="MatchBody")t.baseIndentFor(i)+t.unit<=r&&(s=i),e=i;else if(i.name=="MatchClause")e=i;else if(i.type.is("Statement"))e=i;else break;else break}return s}function qx(t,e){let n=t.baseIndentFor(e),r=t.lineAt(t.pos,-1),s=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&t.node.to<s+100&&!/\S/.test(t.state.sliceDoc(s,t.node.to))&&t.lineIndent(t.pos,-1)<=n||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>n?null:n+t.unit}const Mx=Ya.define({name:"python",parser:LK.configure({props:[Ul.add({Body:t=>{var e;let n=/^\s*(#|$)/.test(t.textAfter)&&Ax(t)||t.node;return(e=qx(t,n))!==null&&e!==void 0?e:t.continue()},MatchBody:t=>{var e;let n=Ax(t);return(e=qx(t,n||t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),"ForStatement WhileStatement":t=>/^\s*else:/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except[ :]|finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),MatchStatement:t=>/^\s*case /.test(t.textAfter)?t.baseIndent+t.unit:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":mf({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":mf({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":mf({closing:"]"}),MemberExpression:t=>t.baseIndent+t.unit,"String FormatString":()=>null,Script:t=>{var e;let n=Ax(t);return(e=n&&qx(t,n))!==null&&e!==void 0?e:t.continue()}}),Wl.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Hm,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)}),"String FormatString":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function UK(){return new zl(Mx,[Mx.data.of({autocomplete:VK}),Mx.data.of({autocomplete:BK})])}const WK=Ua({null:V.null,instanceof:V.operatorKeyword,this:V.self,"new super assert open to with void":V.keyword,"class interface extends implements enum var":V.definitionKeyword,"module package import":V.moduleKeyword,"switch while for if else case default do break continue return try catch finally throw":V.controlKeyword,"requires exports opens uses provides public private protected static transitive abstract final strictfp synchronized native transient volatile throws":V.modifier,IntegerLiteral:V.integer,FloatingPointLiteral:V.float,"StringLiteral TextBlock":V.string,CharacterLiteral:V.character,LineComment:V.lineComment,BlockComment:V.blockComment,BooleanLiteral:V.bool,PrimitiveType:V.standard(V.typeName),TypeName:V.typeName,Identifier:V.variableName,"MethodName/Identifier":V.function(V.variableName),Definition:V.definition(V.variableName),ArithOp:V.arithmeticOperator,LogicOp:V.logicOperator,BitOp:V.bitwiseOperator,CompareOp:V.compareOperator,AssignOp:V.definitionOperator,UpdateOp:V.updateOperator,Asterisk:V.punctuation,Label:V.labelName,"( )":V.paren,"[ ]":V.squareBracket,"{ }":V.brace,".":V.derefOperator,", ;":V.separator}),GK={__proto__:null,true:34,false:34,null:42,void:46,byte:48,short:48,int:48,long:48,char:48,float:48,double:48,boolean:48,extends:62,super:64,class:76,this:78,new:84,public:100,protected:102,private:104,abstract:106,static:108,final:110,strictfp:112,default:114,synchronized:116,native:118,transient:120,volatile:122,throws:150,implements:160,interface:166,enum:176,instanceof:238,open:267,module:269,requires:274,transitive:276,exports:278,to:280,opens:282,uses:284,provides:286,with:288,package:292,import:296,if:308,else:310,while:314,for:318,var:325,assert:332,switch:336,case:342,do:346,break:350,continue:354,return:358,throw:364,try:368,catch:372,finally:380},IK=Da.deserialize({version:14,states:"##jQ]QPOOQ$wQPOOO(bQQO'#H^O*iQQO'#CbOOQO'#Cb'#CbO*pQPO'#CaO*xOSO'#CpOOQO'#Hc'#HcOOQO'#Cu'#CuO,eQPO'#D_O-OQQO'#HmOOQO'#Hm'#HmO/gQQO'#HhO/nQQO'#HhOOQO'#Hh'#HhOOQO'#Hg'#HgO1rQPO'#DUO2PQPO'#GnO4wQPO'#D_O5OQPO'#DzO*pQPO'#E[O5qQPO'#E[OOQO'#DV'#DVO7SQQO'#HaO9^QQO'#EeO9eQPO'#EdO9jQPO'#EfOOQO'#Hb'#HbO7jQQO'#HbO:pQQO'#FhO:wQPO'#ExO:|QPO'#E}O:|QPO'#FPOOQO'#Ha'#HaOOQO'#HY'#HYOOQO'#Gh'#GhOOQO'#HX'#HXO<^QPO'#FiOOQO'#HW'#HWOOQO'#Gg'#GgQ]QPOOOOQO'#Hs'#HsO<cQPO'#HsO<hQPO'#D{O<hQPO'#EVO<hQPO'#EQO<pQPO'#HpO=RQQO'#EfO*pQPO'#C`O=ZQPO'#C`O*pQPO'#FcO=`QPO'#FeO=kQPO'#FkO=kQPO'#FnO<hQPO'#FsO=pQPO'#FpO:|QPO'#FwO=kQPO'#FyO]QPO'#GOO=uQPO'#GQO>QQPO'#GSO>]QPO'#GUO=kQPO'#GWO:|QPO'#GXO>dQPO'#GZO?QQQO'#HiO?mQQO'#CuO?tQPO'#HxO@SQPO'#D_O@rQPO'#DpO?wQPO'#DqO@|QPO'#HxOA_QPO'#DpOAgQPO'#IROAlQPO'#E`OOQO'#Hr'#HrOOQO'#Gm'#GmQ$wQPOOOAtQPO'#HsOOQO'#H^'#H^OCsQQO,58{OOQO'#H['#H[OOOO'#Gi'#GiOEfOSO,59[OOQO,59[,59[OOQO'#Hi'#HiOFVQPO,59eOGXQPO,59yOOQO-E:f-E:fO*pQPO,58zOG{QPO,58zO*pQPO,5;}OHQQPO'#DQOHVQPO'#DQOOQO'#Gk'#GkOIVQQO,59jOOQO'#Dm'#DmOJqQPO'#HuOJ{QPO'#DlOKZQPO'#HtOKcQPO,5<_OKhQPO,59^OLRQPO'#CxOOQO,59c,59cOLYQPO,59bOLeQQO'#H^ONgQQO'#CbO!!iQPO'#D_O!#nQQO'#HmO!$OQQO,59pO!$VQPO'#DvO!$eQPO'#H|O!$mQPO,5:`O!$rQPO,5:`O!%YQPO,5;nO!%eQPO'#ITO!%pQPO,5;eO!%uQPO,5=YOOQO-E:l-E:lOOQO,5:f,5:fO!']QPO,5:fO!'dQPO,5:vO?tQPO,5<_O*pQPO,5:vO<hQPO,5:gO<hQPO,5:qO<hQPO,5:lO<hQPO,5<_O!'zQPO,59qO:|QPO,5:}O!(RQPO,5;QO:|QPO,59TO!(aQPO'#DXOOQO,5;O,5;OOOQO'#El'#ElOOQO'#Eo'#EoO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;fOOQO,5;i,5;iOOQO,5<S,5<SO!(hQPO,5;bO!(yQPO,5;dO!(hQPO'#CyO!)QQQO'#HmO!)`QQO,5;kO]QPO,5<TOOQO-E:e-E:eOOQO,5>_,5>_O!*sQPO,5:gO!+RQPO,5:qO!+ZQPO,5:lO!+fQPO,5>[O!$VQPO,5>[O!'iQPO,59UO!+qQQO,58zO!+yQQO,5;}O!,RQQO,5<PO*pQPO,5<PO:|QPO'#DUO]QPO,5<VO]QPO,5<YO!,ZQPO'#FrO]QPO,5<[O]QPO,5<aO!,kQQO,5<cO!,uQPO,5<eO!,zQPO,5<jOOQO'#Fj'#FjOOQO,5<l,5<lO!-PQPO,5<lOOQO,5<n,5<nO!-UQPO,5<nO!-ZQQO,5<pOOQO,5<p,5<pO>gQPO,5<rO!-bQQO,5<sO!-iQPO'#GdO!.oQPO,5<uO>gQPO,5<}O!2mQPO,59jO!2zQPO'#HuO!3RQPO,59xO!3WQPO,5>dO?tQPO,59xO!3cQPO,5:[OAlQPO,5:zO!3kQPO'#DrO?wQPO'#DrO!3vQPO'#HyO!4OQPO,5:]O?tQPO,5>dO!(hQPO,5>dOAgQPO,5>mOOQO,5:[,5:[O!$rQPO'#DtOOQO,5>m,5>mO!4TQPO'#EaOOQO,5:z,5:zO!7UQPO,5:zO!(hQPO'#DxOOQO-E:k-E:kOOQO,5:y,5:yO*pQPO,58}O!7ZQPO'#ChOOQO1G.k1G.kOOOO-E:g-E:gOOQO1G.v1G.vO!+qQQO1G.fO*pQPO1G.fO!7eQQO1G1iOOQO,59l,59lO!7mQPO,59lOOQO-E:i-E:iO!7rQPO,5>aO!8ZQPO,5:WO<hQPO'#GpO!8bQPO,5>`OOQO1G1y1G1yOOQO1G.x1G.xO!8{QPO'#CyO!9kQPO'#HmO!9uQPO'#CzO!:TQPO'#HlO!:]QPO,59dOOQO1G.|1G.|OLYQPO1G.|O!:sQPO,59eO!;QQQO'#H^O!;cQQO'#CbOOQO,5:b,5:bO<hQPO,5:cOOQO,5:a,5:aO!;tQQO,5:aOOQO1G/[1G/[O!;yQPO,5:bO!<[QPO'#GsO!<oQPO,5>hOOQO1G/z1G/zO!<wQPO'#DvO!=YQPO1G/zO!(hQPO'#GqO!=_QPO1G1YO:|QPO1G1YO<hQPO'#GyO!=gQPO,5>oOOQO1G1P1G1POOQO1G0Q1G0QO!=oQPO'#E]OOQO1G0b1G0bO!>`QPO1G1yO!'dQPO1G0bO!*sQPO1G0RO!+RQPO1G0]O!+ZQPO1G0WOOQO1G/]1G/]O!>eQQO1G.pO9eQPO1G0jO*pQPO1G0jO<pQPO'#HpO!@[QQO1G.pOOQO1G.p1G.pO!@aQQO1G0iOOQO1G0l1G0lO!@hQPO1G0lO!@sQQO1G.oO!AZQQO'#HqO!AhQPO,59sO!BzQQO1G0pO!DfQQO1G0pO!DmQQO1G0pO!FUQQO1G0pO!F]QQO1G0pO!GbQQO1G0pO!I]QQO1G0pO!IdQQO1G0pO!IkQQO1G0pO!IuQQO1G1QO!I|QQO'#HmOOQO1G0|1G0|O!KSQQO1G1OOOQO1G1O1G1OOOQO1G1o1G1oO!KjQPO'#D[O!(hQPO'#D|O!(hQPO'#D}OOQO1G0R1G0RO!KqQPO1G0RO!KvQPO1G0RO!LOQPO1G0RO!LZQPO'#EXOOQO1G0]1G0]O!LnQPO1G0]O!LsQPO'#ETO!(hQPO'#ESOOQO1G0W1G0WO!MmQPO1G0WO!MrQPO1G0WO!MzQPO'#EhO!NRQPO'#EhOOQO'#Gx'#GxO!NZQQO1G0mO# }QQO1G3vO9eQPO1G3vO#$PQPO'#FXOOQO1G.f1G.fOOQO1G1i1G1iO#$WQPO1G1kOOQO1G1k1G1kO#$cQQO1G1kO#$kQPO1G1qOOQO1G1t1G1tO+QQPO'#D_O-OQQO,5<bO#(cQPO,5<bO#(tQPO,5<^O#({QPO,5<^OOQO1G1v1G1vOOQO1G1{1G1{OOQO1G1}1G1}O:|QPO1G1}O#,oQPO'#F{OOQO1G2P1G2PO=kQPO1G2UOOQO1G2W1G2WOOQO1G2Y1G2YOOQO1G2[1G2[OOQO1G2^1G2^OOQO1G2_1G2_O#,vQQO'#H^O#-aQQO'#CbO-OQQO'#HmO#-zQQOOO#.hQQO'#EeO#.VQQO'#HbO!$VQPO'#GeO#.oQPO,5=OOOQO'#HQ'#HQO#.wQPO1G2aO#2uQPO'#G]O>gQPO'#GaOOQO1G2a1G2aO#2zQPO1G2iO#6xQPO,5>gOOQO1G/d1G/dOOQO1G4O1G4OO#7ZQPO1G/dOOQO1G/v1G/vOOQO1G0f1G0fO!7UQPO1G0fOOQO,5:^,5:^O!(hQPO'#DsO#7`QPO,5:^O?wQPO'#GrO#7kQPO,5>eOOQO1G/w1G/wOAgQPO'#H{O#7sQPO1G4OO?tQPO1G4OOOQO1G4X1G4XO!#YQPO'#DvO!!iQPO'#D_OOQO,5:{,5:{O#8OQPO,5:{O#8OQPO,5:{O#8VQQO'#HaO#9hQQO'#HbO#9rQQO'#EbO#9}QPO'#EbO#:VQPO'#IOOOQO,5:d,5:dOOQO1G.i1G.iO#:bQQO'#EeO#:rQQO'#H`O#;SQPO'#FTOOQO'#H`'#H`O#;^QPO'#H`O#;{QPO'#IWO#<TQPO,59SOOQO7+$Q7+$QO!+qQQO7+$QOOQO7+'T7+'TOOQO1G/W1G/WO#<YQPO'#DoO#<dQQO'#HvOOQO'#Hv'#HvOOQO1G/r1G/rOOQO,5=[,5=[OOQO-E:n-E:nO#<tQWO,58{O#<{QPO,59fOOQO,59f,59fO!(hQPO'#HoOKmQPO'#GjO#=ZQPO,5>WOOQO1G/O1G/OOOQO7+$h7+$hOOQO1G/{1G/{O#=cQQO1G/{OOQO1G/}1G/}O#=hQPO1G/{OOQO1G/|1G/|O<hQPO1G/}OOQO,5=_,5=_OOQO-E:q-E:qOOQO7+%f7+%fOOQO,5=],5=]OOQO-E:o-E:oO:|QPO7+&tOOQO7+&t7+&tOOQO,5=e,5=eOOQO-E:w-E:wO#=mQPO'#EUO#={QPO'#EUOOQO'#Gw'#GwO#>dQPO,5:wOOQO,5:w,5:wOOQO7+'e7+'eOOQO7+%|7+%|OOQO7+%m7+%mO!KqQPO7+%mO!KvQPO7+%mO!LOQPO7+%mOOQO7+%w7+%wO!LnQPO7+%wOOQO7+%r7+%rO!MmQPO7+%rO!MrQPO7+%rOOQO7+&U7+&UOOQO'#Ee'#EeO9eQPO7+&UO9eQPO,5>[O#?TQPO7+$[OOQO7+&T7+&TOOQO7+&W7+&WO:|QPO'#GlO#?cQPO,5>]OOQO1G/_1G/_O:|QPO7+&lO#?nQQO,59eO#@tQPO,59vOOQO,59v,59vOOQO,5:h,5:hOOQO'#EP'#EPOOQO,5:i,5:iO#@{QPO'#EYO<hQPO'#EYO#A^QPO'#IPO#AiQPO,5:sO?tQPO'#HxO!(hQPO'#HxO#AqQPO'#DpOOQO'#Gu'#GuO#AxQPO,5:oOOQO,5:o,5:oOOQO,5:n,5:nOOQO,5;S,5;SO#BrQQO,5;SO#ByQPO,5;SOOQO-E:v-E:vOOQO7+&X7+&XOOQO7+)b7+)bO#CQQQO7+)bOOQO'#G|'#G|O#DqQPO,5;sOOQO,5;s,5;sO#DxQPO'#FYO*pQPO'#FYO*pQPO'#FYO*pQPO'#FYO#EWQPO7+'VO#E]QPO7+'VOOQO7+'V7+'VO]QPO7+']O#EhQPO1G1|O?tQPO1G1|O#EvQQO1G1xO!(aQPO1G1xO#E}QPO1G1xO#FUQQO7+'iOOQO'#HP'#HPO#F]QPO,5<gOOQO,5<g,5<gO#FdQPO'#HsO:|QPO'#F|O#FlQPO7+'pO#FqQPO,5=PO?tQPO,5=PO#FvQPO1G2jO#HPQPO1G2jOOQO1G2j1G2jOOQO-E;O-E;OOOQO7+'{7+'{O!<[QPO'#G_O>gQPO,5<wOOQO,5<{,5<{O#HXQPO7+(TOOQO7+(T7+(TO#LVQPO1G4ROOQO7+%O7+%OOOQO7+&Q7+&QO#LhQPO,5:_OOQO1G/x1G/xOOQO,5=^,5=^OOQO-E:p-E:pOOQO7+)j7+)jO#LsQPO7+)jO!:bQPO,5:aOOQO1G0g1G0gO#MOQPO1G0gO#MVQPO,59qO#MkQPO,5:|O9eQPO,5:|O!(hQPO'#GtO#MpQPO,5>jO#M{QPO,59TO#NSQPO'#IVO#N[QPO,5;oO*pQPO'#G{O#NaQPO,5>rOOQO1G.n1G.nOOQO<<Gl<<GlO#NiQPO'#HwO#NqQPO,5:ZOOQO1G/Q1G/QOOQO,5>Z,5>ZOOQO,5=U,5=UOOQO-E:h-E:hO#NvQPO7+%gOOQO7+%g7+%gOOQO7+%i7+%iOOQO<<J`<<J`O$ ^QPO'#H^O$ eQPO'#CbO$ lQPO,5:pO$ qQPO,5:xO#=mQPO,5:pOOQO-E:u-E:uOOQO1G0c1G0cOOQO<<IX<<IXO!KqQPO<<IXO!KvQPO<<IXOOQO<<Ic<<IcOOQO<<I^<<I^O!MmQPO<<I^OOQO<<Ip<<IpO$ vQQO<<GvO9eQPO<<IpO*pQPO<<IpOOQO<<Gv<<GvO$#mQQO,5=WOOQO-E:j-E:jO$#zQQO<<JWOOQO1G/b1G/bOOQO,5:t,5:tO$$bQPO,5:tO$$pQPO,5:tO$%RQPO'#GvO$%iQPO,5>kO$%tQPO'#EZOOQO1G0_1G0_O$%{QPO1G0_O?tQPO,5:pOOQO-E:s-E:sOOQO1G0Z1G0ZOOQO1G0n1G0nO$&QQQO1G0nOOQO<<L|<<L|OOQO-E:z-E:zOOQO1G1_1G1_O$&XQQO,5;tOOQO'#G}'#G}O#DxQPO,5;tOOQO'#IX'#IXO$&aQQO,5;tO$&rQQO,5;tOOQO<<Jq<<JqO$&zQPO<<JqOOQO<<Jw<<JwO:|QPO7+'hO$'PQPO7+'hO!(aQPO7+'dO$'_QPO7+'dO$'dQQO7+'dOOQO<<KT<<KTOOQO-E:}-E:}OOQO1G2R1G2ROOQO,5<h,5<hO$'kQQO,5<hOOQO<<K[<<K[O:|QPO1G2kO$'rQPO1G2kOOQO,5=n,5=nOOQO7+(U7+(UO$'wQPO7+(UOOQO-E;Q-E;QO$)fQWO'#HhO$)QQWO'#HhO$)mQPO'#G`O<hQPO,5<yO!$VQPO,5<yOOQO1G2c1G2cOOQO<<Ko<<KoO$*OQPO1G/yOOQO<<MU<<MUOOQO7+&R7+&RO$*ZQPO1G0jO$*fQQO1G0hOOQO1G0h1G0hO$*nQPO1G0hOOQO,5=`,5=`OOQO-E:r-E:rO$*sQQO1G.oOOQO1G1[1G1[O$*}QPO'#GzO$+[QPO,5>qOOQO1G1Z1G1ZO$+dQPO'#FUOOQO,5=g,5=gOOQO-E:y-E:yO$+iQPO'#GoO$+vQPO,5>cOOQO1G/u1G/uOOQO<<IR<<IROOQO1G0[1G0[O$,OQPO1G0dO$,TQPO1G0[O$,YQPO1G0dOOQOAN>sAN>sO!KqQPOAN>sOOQOAN>xAN>xOOQOAN?[AN?[O9eQPOAN?[OOQO1G0`1G0`O$,_QPO1G0`OOQO,5=b,5=bOOQO-E:t-E:tO$,mQPO,5:uOOQO7+%y7+%yOOQO7+&Y7+&YOOQO1G1`1G1`O$,tQQO1G1`OOQO-E:{-E:{O$,|QQO'#IYO$,wQPO1G1`O$&gQPO1G1`O*pQPO1G1`OOQOAN@]AN@]O$-XQQO<<KSO:|QPO<<KSO$-`QPO<<KOOOQO<<KO<<KOO!(aQPO<<KOOOQO1G2S1G2SO$-eQQO7+(VO:|QPO7+(VOOQO<<Kp<<KpP!-iQPO'#HSO!$VQPO'#HRO$-oQPO,5<zO$-zQPO1G2eO<hQPO1G2eO9eQPO7+&SO$.PQPO7+&SOOQO7+&S7+&SOOQO,5=f,5=fOOQO-E:x-E:xO#M{QPO,5;pOOQO,5=Z,5=ZOOQO-E:m-E:mO$.UQPO7+&OOOQO7+%v7+%vO$.dQPO7+&OOOQOG24_G24_OOQOG24vG24vOOQO7+%z7+%zOOQO7+&z7+&zO*pQPO'#HOO$.iQPO,5>tO$.qQPO7+&zO$.vQQO'#IZOOQOAN@nAN@nO$/RQQOAN@nOOQOAN@jAN@jO$/YQPOAN@jO$/_QQO<<KqO$/iQPO,5=mOOQO-E;P-E;POOQO7+(P7+(PO$/zQPO7+(PO$0PQPO<<InOOQO<<In<<InO$0UQPO<<IjOOQO<<Ij<<IjO#M{QPO<<IjO$0UQPO<<IjO$0dQQO,5=jOOQO-E:|-E:|OOQO<<Jf<<JfO$0oQPO,5>uOOQOG26YG26YOOQOG26UG26UOOQO<<Kk<<KkOOQOAN?YAN?YOOQOAN?UAN?UO#M{QPOAN?UO$0wQPOAN?UO$0|QPOAN?UO$1[QPOG24pOOQOG24pG24pO#M{QPOG24pOOQOLD*[LD*[O$1aQPOLD*[OOQO!$'Mv!$'MvO*pQPO'#CaO$1fQQO'#H^O$1yQQO'#CbO!(hQPO'#Cy",stateData:"$2i~OPOSQOS%yOS~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~Og^Oh^Ov{O}cO!P!mO!SyO!TyO!UyO!VyO!W!pO!XyO!YyO!ZzO!]yO!^yO!_yO!u}O!z|O%}TO&P!cO&R!dO&_!hO&tdO~OWiXW&QXZ&QXuiXu&QX!P&QX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX%}iX&PiX&RiX&^&QX&_iX&_&QX&n&QX&viX&v&QX&x!aX~O#p$^X~P&bOWUXW&]XZUXuUXu&]X!PUX!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX%}&]X&P&]X&R&]X&^UX&_UX&_&]X&nUX&vUX&v&]X&x!aX~O#p$^X~P(iO&PSO&R!qO~O&W!vO&Y!tO~Og^Oh^O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO%}TO&P!wO&RWOg!RXh!RX$h!RX&P!RX&R!RX~O#y!|O#z!{O$W!}Ov!RX!u!RX!z!RX&t!RX~P+QOW#XOu#OO%}TO&P#SO&R#SO&v&aX~OW#[Ou&[X%}&[X&P&[X&R&[X&v&[XY&[Xw&[X&n&[X&q&[XZ&[Xq&[X&^&[X!P&[X#_&[X#a&[X#b&[X#d&[X#e&[X#f&[X#g&[X#h&[X#i&[X#k&[X#o&[X#r&[X}&[X!r&[X#p&[Xs&[X|&[X~O&_#YO~P-dO&_&[X~P-dOZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO#fpO#roO#tpO#upO%}TO&XUO~O&P#^O&R#]OY&pP~P/uO%}TOg%bXh%bXv%bX!S%bX!T%bX!U%bX!V%bX!W%bX!X%bX!Y%bX!Z%bX!]%bX!^%bX!_%bX!u%bX!z%bX$h%bX&P%bX&R%bX&t%bX&_%bX~O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yOg!RXh!RXv!RX!u!RX!z!RX&P!RX&R!RX&t!RX&_!RX~O$h!RX~P3gO|#kO~P]Og^Oh^Ov#pO!u#rO!z#qO&P!wO&RWO&t#oO~O$h#sO~P5VOu#uO&v#vO!P&TX#_&TX#a&TX#b&TX#d&TX#e&TX#f&TX#g&TX#h&TX#i&TX#k&TX#o&TX#r&TX&^&TX&_&TX&n&TX~OW#tOY&TX#p&TXs&TXq&TX|&TX~P5xO!b#wO#]#wOW&UXu&UX!P&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UXY&UX#p&UXs&UXq&UX|&UX~OZ#XX~P7jOZ#xO~O&v#vO~O#_#|O#a#}O#b$OO#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#o$VO#r$WO&^#zO&_#zO&n#{O~O!P$XO~P9oO&x$ZO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO#fpO#roO#tpO#upO%}TO&P0qO&R0pO&XUO~O#p$_O~O![$aO~O&P#SO&R#SO~Og^Oh^O&P!wO&RWO&_#YO~OW$gO&v#vO~O#z!{O~O!W$kO&PSO&R!qO~OZ$lO~OZ$oO~O!P$vO&P$uO&R$uO~O!P$xO&P$uO&R$uO~O!P${O~P:|OZ%OO}cO~OW&]Xu&]X%}&]X&P&]X&R&]X&_&]X~OZ!aX~P>lOWiXuiX%}iX&PiX&RiX&_iX~OZ!aX~P?XOu#OO%}TO&P#SO&R#SO~O%}TO~P3gOg^Oh^Ov#pO!u#rO!z#qO&_!hO&t#oO~O&P!cO&R!dO~P@ZOg^Oh^O%}TO&P!cO&R!dO~O}cO!P%aO~OZ%bO~O}%dO!m%gO~O}cOg&gXh&gXv&gX!S&gX!T&gX!U&gX!V&gX!W&gX!X&gX!Y&gX!Z&gX!]&gX!^&gX!_&gX!u&gX!z&gX%}&gX&P&gX&R&gX&_&gX&t&gX~OW%jOZ%kOgTahTa%}Ta&PTa&RTa~OvTa!STa!TTa!UTa!VTa!WTa!XTa!YTa!ZTa!]Ta!^Ta!_Ta!uTa!zTa#yTa#zTa$WTa$hTa&tTa&_TauTaYTaqTa|Ta!PTa~PC[O&W%nO&Y!tO~Ou#OO%}TOqma&^maYma&nma!Pma~O&vma}ma!rma~PEnO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO~Og!Rah!Rav!Ra!u!Ra!z!Ra$h!Ra&P!Ra&R!Ra&t!Ra&_!Ra~PFdO#z%pO~Os%rO~Ou%sO%}TO~Ou#OO%}ra&Pra&Rra&vraYrawra&nra&qra!Pra&^raqra~OWra#_ra#ara#bra#dra#era#fra#gra#hra#ira#kra#ora#rra&_ra#prasra|ra~PH_Ou#OO%}TOq&iX!P&iX!b&iX~OY&iX#p&iX~PJ`O!b%vOq!`X!P!`XY!`X~Oq%wO!P&hX~O!P%yO~Ov%zO~Og^Oh^O%}0oO&P!wO&RWO&b%}O~O&^&`P~PKmO%}TO&P!wO&RWO~OW&QXYiXY!aXY&QXZ&QXq!aXu&QXwiX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX&^&QX&_&QX&niX&n&QX&qiX&viX&v&QX&x!aX~P?XOWUXYUXY!aXY&]XZUXq!aXuUXw&]X!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX&^UX&_UX&nUX&n&]X&q&]X&vUX&v&]X&x!aX~P>lOg^Oh^O%}TO&P!wO&RWOg!RXh!RX&P!RX&R!RX~PFdOu#OOw&XO%}TO&P&UO&R&TO&q&WO~OW#XOY&aX&n&aX&v&aX~P!#YOY&ZO~P9oOg^Oh^O&P!wO&RWO~Oq&]OY&pX~OY&_O~Og^Oh^O%}TO&P!wO&RWOY&pP~PFdOY&dO&n&bO&v#vO~Oq&eO&x$ZOY&wX~OY&gO~O%}TOg%bah%bav%ba!S%ba!T%ba!U%ba!V%ba!W%ba!X%ba!Y%ba!Z%ba!]%ba!^%ba!_%ba!u%ba!z%ba$h%ba&P%ba&R%ba&t%ba&_%ba~O|&hO~P]O}&iO~Op&uOw&vO&PSO&R!qO&_#YO~Oz&tO~P!'iOz&xO&PSO&R!qO&_#YO~OY&eP~P:|Og^Oh^O%}TO&P!wO&RWO~O}cO~P:|OW#XOu#OO%}TO&v&aX~O#r$WO!P#sa#_#sa#a#sa#b#sa#d#sa#e#sa#f#sa#g#sa#h#sa#i#sa#k#sa#o#sa&^#sa&_#sa&n#saY#sa#p#sas#saq#sa|#sa~Oo'_O}'^O!r'`O&_!hO~O}'eO!r'`O~Oo'iO}'hO&_!hO~OZ#xOu'mO%}TO~OW%jO}'sO~OW%jO!P'uO~OW'vO!P'wO~O$h!WO&P0qO&R0pO!P&eP~P/uO!P(SO#p(TO~P9oO}(UO~O$c(WO~O!P(XO~O!P(YO~O!P(ZO~P9oO!P(]O~P9oOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdO%Q(hO%U(iOZ$}a_$}a`$}aa$}ab$}ac$}ae$}ag$}ah$}ap$}av$}aw$}az$}a}$}a!P$}a!S$}a!T$}a!U$}a!V$}a!W$}a!X$}a!Y$}a!Z$}a![$}a!]$}a!^$}a!_$}a!u$}a!z$}a#f$}a#r$}a#t$}a#u$}a#y$}a#z$}a$W$}a$Y$}a$`$}a$c$}a$e$}a$h$}a$l$}a$n$}a$s$}a$u$}a$w$}a$y$}a$|$}a%O$}a%w$}a%}$}a&P$}a&R$}a&X$}a&t$}a|$}a$a$}a$q$}a~O}ra!rra'Ora~PH_OZ%bO~PJ`O!P(mO~O!m%gO}&la!P&la~O}cO!P(pO~Oo(tOq!fX&^!fX~Oq(vO&^&mX~O&^(xO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op)UOv{Ow)TOz!OO|)PO}cO!PvO![!`O!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&_#YO&tdO~PFdO}%dO~O})]OY&zP~P:|OW%jO!P)dO~Os)eO~Ou#OO%}TOq&ia!P&ia!b&iaY&ia#p&ia~O})fO~P:|Oq%wO!P&ha~Og^Oh^O%}0oO&P!wO&RWO~O&b)mO~P!8jOu#OO%}TOq&aX&^&aXY&aX&n&aX!P&aX~O}&aX!r&aX~P!9SOo)oOp)oOqnX&^nX~Oq)pO&^&`X~O&^)rO~Ou#OOw)tO%}TO&PSO&R!qO~OYma&nma&vma~P!:bOW&QXY!aXq!aXu!aX%}!aX~OWUXY!aXq!aXu!aX%}!aX~OW)wO~Ou#OO%}TO&P#SO&R#SO&q)yO~Og^Oh^O%}TO&P!wO&RWO~PFdOq&]OY&pa~Ou#OO%}TO&P#SO&R#SO&q&WO~OY)|O~OY*PO&n&bO~Oq&eOY&wa~Og^Oh^Ov{O|*XO!u}O%}TO&P!wO&RWO&tdO~PFdO!P*YO~OW^iZ#XXu^i!P^i!b^i#]^i#_^i#a^i#b^i#d^i#e^i#f^i#g^i#h^i#i^i#k^i#o^i#r^i&^^i&_^i&n^i&v^iY^i#p^is^iq^i|^i~OW*iO~Os*jO~P9oOz*kO&PSO&R!qO~O!P]iY]i#p]is]iq]i|]i~P9oOq*lOY&eX!P&eX~P9oOY*nO~O#f$SO#g$TO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#h$UO#i$UO~P!AmO#_#|O#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO&n#{O!P#^i#b#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#a#^i~P!CUO#a#}O~P!CUO#_#|O#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO!P#^i#a#^i#b#^i#d#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O&n#^i~P!DtO&n#{O~P!DtO#f$SO#g$TO#k$YO#r$WO!P#^i#a#^i#b#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#_#|O#d$QO#h$UO#i$UO&^#zO&_#zO&n#{O~P!FdO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#f#^i#h#^i#i#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#g$TO~P!G{O#g#^i~P!G{O#h#^i#i#^i~P!AmO#p*oO~P9oO#_&aX#a&aX#b&aX#d&aX#e&aX#f&aX#g&aX#h&aX#i&aX#k&aX#o&aX#r&aX&_&aX#p&aXs&aX|&aX~P!9SO!P#liY#li#p#lis#liq#li|#li~P9oO|*rO~P$wO}'^O~O}'^O!r'`O~Oo'_O}'^O!r'`O~O%}TO&P#SO&R#SO|&sP!P&sP~PFdO}'eO~Og^Oh^Ov{O|+PO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdO}'hO~Oo'iO}'hO~Os+RO~P:|Ou+TO%}TO~Ou'mO})fO%}TOW#Zi!P#Zi#_#Zi#a#Zi#b#Zi#d#Zi#e#Zi#f#Zi#g#Zi#h#Zi#i#Zi#k#Zi#o#Zi#r#Zi&^#Zi&_#Zi&n#Zi&v#ZiY#Zi#p#Zis#Ziq#Zi|#Zi~O}'^OW&diu&di!P&di#_&di#a&di#b&di#d&di#e&di#f&di#g&di#h&di#i&di#k&di#o&di#r&di&^&di&_&di&n&di&v&diY&di#p&dis&diq&di|&di~O#}+]O$P+^O$R+^O$S+_O$T+`O~O|+[O~P##nO$Z+aO&PSO&R!qO~OW+bO!P+cO~O$a+dOZ$_i_$_i`$_ia$_ib$_ic$_ie$_ig$_ih$_ip$_iv$_iw$_iz$_i}$_i!P$_i!S$_i!T$_i!U$_i!V$_i!W$_i!X$_i!Y$_i!Z$_i![$_i!]$_i!^$_i!_$_i!u$_i!z$_i#f$_i#r$_i#t$_i#u$_i#y$_i#z$_i$W$_i$Y$_i$`$_i$c$_i$e$_i$h$_i$l$_i$n$_i$s$_i$u$_i$w$_i$y$_i$|$_i%O$_i%w$_i%}$_i&P$_i&R$_i&X$_i&t$_i|$_i$q$_i~Og^Oh^O$h#sO&P!wO&RWO~O!P+hO~P:|O!P+iO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!Z+nO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$q+oO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~O|+mO~P#)QOW&QXY&QXZ&QXu&QX!P&QX&viX&v&QX~P?XOWUXYUXZUXuUX!PUX&vUX&v&]X~P>lOW#tOu#uO&v#vO~OW&UXY%XXu&UX!P%XX&v&UX~OZ#XX~P#.VOY+uO!P+sO~O%Q(hO%U(iOZ$}i_$}i`$}ia$}ib$}ic$}ie$}ig$}ih$}ip$}iv$}iw$}iz$}i}$}i!P$}i!S$}i!T$}i!U$}i!V$}i!W$}i!X$}i!Y$}i!Z$}i![$}i!]$}i!^$}i!_$}i!u$}i!z$}i#f$}i#r$}i#t$}i#u$}i#y$}i#z$}i$W$}i$Y$}i$`$}i$c$}i$e$}i$h$}i$l$}i$n$}i$s$}i$u$}i$w$}i$y$}i$|$}i%O$}i%w$}i%}$}i&P$}i&R$}i&X$}i&t$}i|$}i$a$}i$q$}i~OZ+xO~O%Q(hO%U(iOZ%Vi_%Vi`%Via%Vib%Vic%Vie%Vig%Vih%Vip%Viv%Viw%Viz%Vi}%Vi!P%Vi!S%Vi!T%Vi!U%Vi!V%Vi!W%Vi!X%Vi!Y%Vi!Z%Vi![%Vi!]%Vi!^%Vi!_%Vi!u%Vi!z%Vi#f%Vi#r%Vi#t%Vi#u%Vi#y%Vi#z%Vi$W%Vi$Y%Vi$`%Vi$c%Vi$e%Vi$h%Vi$l%Vi$n%Vi$s%Vi$u%Vi$w%Vi$y%Vi$|%Vi%O%Vi%w%Vi%}%Vi&P%Vi&R%Vi&X%Vi&t%Vi|%Vi$a%Vi$q%Vi~Ou#OO%}TO}&oa!P&oa!m&oa~O!P,OO~Oo(tOq!fa&^!fa~Oq(vO&^&ma~O!m%gO}&li!P&li~O|,XO~P]OW,ZO~P5xOW&UXu&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UX~OZ#xO!P&UX~P#8^OW$gOZ#xO&v#vO~Op,]Ow,]O~Oq,^O}&rX!P&rX~O!b,`O#]#wOY&UXZ#XX~P#8^OY&SXq&SX|&SX!P&SX~P9oO})]O|&yP~P:|OY&SXg%[Xh%[X%}%[X&P%[X&R%[Xq&SX|&SX!P&SX~Oq,cOY&zX~OY,eO~O})fO|&kP~P:|Oq&jX!P&jX|&jXY&jX~P9oO&bTa~PC[Oo)oOp)oOqna&^na~Oq)pO&^&`a~OW,mO~Ow,nO~Ou#OO%}TO&P,rO&R,qO~Og^Oh^Ov#pO!u#rO&P!wO&RWO&t#oO~Og^Oh^Ov{O|,wO!u}O%}TO&P!wO&RWO&tdO~PFdOw-SO&PSO&R!qO&_#YO~Oq*lOY&ea!P&ea~O#_ma#ama#bma#dma#ema#fma#gma#hma#ima#kma#oma#rma&_ma#pmasma|ma~PEnO|-WO~P$wOZ#xO}'^Oq!|X|!|X!P!|X~Oq-[O|&sX!P&sX~O|-_O!P-^O~O&_!hO~P5VOg^Oh^Ov{O|-cO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdOs-dO~P9oOs-dO~P:|O}'^OW&dqu&dq!P&dq#_&dq#a&dq#b&dq#d&dq#e&dq#f&dq#g&dq#h&dq#i&dq#k&dq#o&dq#r&dq&^&dq&_&dq&n&dq&v&dqY&dq#p&dqs&dqq&dq|&dq~O|-hO~P##nO!W-lO$O-lO&PSO&R!qO~O!P-oO~O$Z-pO&PSO&R!qO~O!b%vO#p-rOq!`X!P!`X~O!P-tO~P9oO!P-tO~P:|O!P-wO~P9oO|-yO~P#)QO![$aO#p-zO~O!P-|O~O!b-}O~OY.QOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOY.QO!P.RO~O%Q(hO%U(iOZ%Vq_%Vq`%Vqa%Vqb%Vqc%Vqe%Vqg%Vqh%Vqp%Vqv%Vqw%Vqz%Vq}%Vq!P%Vq!S%Vq!T%Vq!U%Vq!V%Vq!W%Vq!X%Vq!Y%Vq!Z%Vq![%Vq!]%Vq!^%Vq!_%Vq!u%Vq!z%Vq#f%Vq#r%Vq#t%Vq#u%Vq#y%Vq#z%Vq$W%Vq$Y%Vq$`%Vq$c%Vq$e%Vq$h%Vq$l%Vq$n%Vq$s%Vq$u%Vq$w%Vq$y%Vq$|%Vq%O%Vq%w%Vq%}%Vq&P%Vq&R%Vq&X%Vq&t%Vq|%Vq$a%Vq$q%Vq~Ou#OO%}TO}&oi!P&oi!m&oi~O&n&bOq!ga&^!ga~O!m%gO}&lq!P&lq~O|.^O~P]Op.`Ow&vOz&tO&PSO&R!qO&_#YO~O!P.aO~Oq,^O}&ra!P&ra~O})]O~P:|Oq.gO|&yX~O|.iO~Oq,cOY&za~Oq.mO|&kX~O|.oO~Ow.pO~Oq!aXu!aX!P!aX!b!aX%}!aX~OZ&QX~P#N{OZUX~P#N{O!P.qO~OZ.rO~OW^yZ#XXu^y!P^y!b^y#]^y#_^y#a^y#b^y#d^y#e^y#f^y#g^y#h^y#i^y#k^y#o^y#r^y&^^y&_^y&n^y&v^yY^y#p^ys^yq^y|^y~OY%`aq%`a!P%`a~P9oO!P#nyY#ny#p#nys#nyq#ny|#ny~P9oO}'^Oq!|a|!|a!P!|a~OZ#xO}'^Oq!|a|!|a!P!|a~O%}TO&P#SO&R#SOq%jX|%jX!P%jX~PFdOq-[O|&sa!P&sa~O|!}X~P$wO|/PO~Os/QO~P9oOW%jO!P/RO~OW%jO$Q/WO&PSO&R!qO!P&|P~OW%jO$U/XO~O!P/YO~O!b%vO#p/[Oq!`X!P!`X~OY/^O~O!P/_O~P9oO#p/`O~P9oO!b/bO~OY/cOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOW#[Ou&[X%}&[X&P&[X&R&[X'O&[X~O&_#YO~P$)QOu#OO%}TO'O/eO&P%SX&R%SX~O&n&bOq!gi&^!gi~Op/iO&PSO&R!qO~OW*iOZ#xO~O!P/kO~OY&SXq&SX~P9oO})]Oq%nX|%nX~P:|Oq.gO|&ya~O!b/nO~O})fOq%cX|%cX~P:|Oq.mO|&ka~OY/qO~O!P/rO~OZ/sO~O}'^Oq!|i|!|i!P!|i~O|!}a~P$wOW%jO!P/wO~OW%jOq/xO!P&|X~OY/|O~P9oOY0OO~OY%Xq!P%Xq~P9oO'O/eO&P%Sa&R%Sa~OY0TO~O!P0WO~Ou#OO!P0YO!Z0ZO%}TO~OY0[O~Oq/xO!P&|a~O!P0_O~OW%jOq/xO!P&}X~OY0aO~P9oOY0bO~OY%Xy!P%Xy~P9oOu#OO%}TO&P%ua&R%ua'O%ua~OY0cO~O!P0dO~Ou#OO!P0eO!Z0fO%}TO~OW%jOq%ra!P%ra~Oq/xO!P&}a~O!P0jO~Ou#OO!P0jO!Z0kO%}TO~O!P0lO~O!P0nO~O#p&QXY&QXs&QXq&QX|&QX~P&bO#pUXYUXsUXqUX|UX~P(iO`Q_P#g%y&P&Xc&X~",goto:"#+S'OPPPP'P'd*x.OP'dPP.d.h0PPPPPP1nP3ZPP4v7l:[<z=d?[PPP?bPA{PPPBu3ZPDqPPElPFcFkPPPPPPPPPPPPGvH_PKjKrLOLjLpLvNiNmNmNuP! U!!^!#R!#]P!#r!!^P!#x!$S!!y!$cP!%S!%^!%d!!^!%g!%mFcFc!%q!%{!&O3Z!'m3Z3Z!)iP.hP!)mPP!*_PPPPPP.hP.h!+O.hPP.hP.hPP.h!,g!,qPP!,w!-QPPPPPPPP'PP'PPP!-U!-U!-i!-UPP!-UP!-UP!.S!.VP!-U!.m!-UP!-UP!.p!.sP!-UP!-UP!-UP!-UP!-U!-UP!-UP!.wP!.}!/Q!/WP!-U!/d!/gP!/o!0R!4T!4Z!4a!5g!5m!5{!7R!7X!7_!7i!7o!7u!7{!8R!8X!8_!8e!8k!8q!8w!8}!9T!9_!9e!9o!9uPPP!9{!-U!:pP!>WP!?[P!Ap!BW!E]3ZPPP!F|!Jm!MaPP#!P#!SP#$`#$f#&V#&f#&n#'p#(Y#)T#)^#)a#)oP#)r#*OP#*V#*^P#*aP#*lP#*o#*r#*u#*y#+PstOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y'urOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%k%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)])f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,`,u-[-^-a-r-t-}.R.V.g.m/O/[/_/b/d/n/q0R0X0Z0[0f0h0k0r#xhO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kt!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oQ#mdS&Y#`(}Q&l#oU&q#t$g,ZQ&x#vW(b%O+s.R/dU)Y%j'v+bQ)Z%kS)u&S,WU*f&s-R._Q*k&yQ,t*TQ-P*iQ.j,cR.t,uu!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oT%l!r)l#{qO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k#zlO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kX(c%O+s.R/d$TVO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k$TkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rQ&Q#[Q)s&RV.T+x.X/e&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.T+x.X/e&O]OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.U+x.X/eS#Z[.TS$f!O&tS&s#t$gQ&y#vQ)V%dQ-R*iR._,Z$kZO`copx!Y![!_!a#Y#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$_$l$m$n$o$p$q%O%d%g%k%v&b&d'_'`'i'm(O(T(U(t)Q)R)])f)o)p*P*l*o+T+d+h+i+l+o+s,Y,^,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ&O#YR,k)p&P_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0r!o#QY!e!x#R#T#`#n$]%R%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0h$SkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ$m!UQ$n!VQ$s!ZQ$|!`R+p(WQ#yiS'q$e*hQ*e&rQ+X'rS,[)T)UQ-O*gQ-Y*vQ.b,]Q.x-QQ.{-ZQ/j.`Q/u.yR0V/iQ'a$bW*[&m'b'c'dQ+W'qU,x*]*^*_Q-X*vQ-f+XS.u,y,zS.z-Y-ZQ/t.vR/v.{]!mP!o'^*q-^/OreOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!gP!o'^*q-^/OW#b`#e%b&]Q'}$oW(d%O+s.R/dS*U&i*WS*w'e-[S*|'h+OR.X+xh#VY!W!e#n#s%V'|*T*z+f,u-aQ)j%wQ)v&WR,o)y#xnOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k^!kP!g!o'^*q-^/Ov#TY!W#`#n#s%w&W&[&`'|(`(})y*T+f+r,u.W/hQ#g`Q$b{Q$c|Q$d}W%S!e%V*z-aS%Y!h(vQ%`!iQ&m#pQ&n#qQ&o#rQ(u%ZS(y%^({Q*R&eS*v'e-[R-Z*wU)h%v)f.mR+V'p[!mP!o'^*q-^/OT*}'h+O^!iP!g!o'^*q-^/OQ'd$bQ'l$dQ*_&mQ*d&oV*{'h*|+OQ%[!hR,S(vQ(s%YR,R(u#znO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%c!kS(l%S(yR(|%`T#e`%bU#c`#e%bR)z&]Q%f!lQ(n%UQ(r%XQ,U(zR.],VrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OQ%P!bQ%a!jQ%i!pQ'[$ZQ([$|Q(k%QQ(p%WQ+z(iR.Y+yrtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OS*V&i*WT*}'h+OQ'c$bS*^&m'dR,z*_Q'b$bQ'g$cU*]&m'c'dQ*a&nS,y*^*_R.v,zQ*u'`R+Q'iQ'k$dS*c&o'lR,}*dQ'j$dU*b&o'k'lS,|*c*dR.w,}rtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OT*}'h+OQ'f$cS*`&n'gR,{*aQ*x'eR.|-[R-`*yQ&j#mR*Z&lT*V&i*WQ%e!lS(q%X%fR,P(rR)R%dWk%O+s.R/d#{lO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k$SiO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kU&r#t$g,ZS*g&s._Q-Q*iR.y-RT'o$e'p!_#|m#a$r$z$}&w&z&{'O'P'Q'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q!]$Pm#a$r$z$}&w&z&{'O'P'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q#{nO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0ka)^%k)],`.g/n0Z0f0kQ)`%kR.k,cQ't$hQ)b%oR,f)cT+Y's+ZsvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YruOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YQ$w!]R$y!^R$p!XrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YR(O$oR$q!XR(V$sT+k(U+lX(f%P(g(k+{R+y(hQ.W+xR/h.XQ(j%PQ+w(gQ+|(kR.Z+{R%Q!bQ(e%OV.P+s.R/dQxOQ#lcW$`x#l)Q,YQ)Q%dR,Y)RrXOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Yn!fP!o#e&]&i'^'e'h*W*q+O+x-[-^/Ol!zX!f#P#_#i$[%Z%_%{&R'n'{)O0r!j#PY!e!x#T#`#n$]%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0hQ#_`Q#ia#d$[op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%g%k%v&b&d'_'`'i'm(O(T(t)])f)o*P*l*o+T+h+i+o,^,`-r-t-}.g.m/[/_/b/n0Z0f0kS%Z!h(vS%_!i*{S%{#Y)pQ&R#[S'n$e'pY'{$o%O+s.R/dQ)O%bR0r$YQ!uUR%m!uQ)q&OR,l)q^#RY#`$]'X'|(`*px%R!e!x#n%V%^%|&S&[&`({(}*T*z+f+r,W,u-a.V0R[%t#R%R%u+}0X0hS%u#T%SQ+}(lQ0X/qR0h0[Q*m&{R-U*mQ!oPU%h!o*q/OQ*q'^R/O-^!pbOP`cx![!o#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h(U)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dY!yX!f#_'{)OT#jb!yQ.n,gR/p.nQ%x#VR)k%xQ&c#fS*O&c.[R.[,QQ(w%[R,T(wQ&^#cR){&^Q,_)WR.d,_Q+O'hR-b+OQ-]*xR.}-]Q*W&iR,v*WQ'p$eR+U'pQ&f#gR*S&fQ.h,aR/m.hQ,d)`R.l,dQ+Z'sR-g+ZQ-k+]R/T-kQ/y/US0^/y0`R0`/{Q+l(UR-x+lQ(g%PS+v(g+{R+{(kQ/f.VR0S/fQ+t(eR.S+t`wOcx#l%d)Q)R,YQ$t![Q']$_Q'y$mQ'z$nQ(Q$pQ(R$qS+k(U+lR-q+d'dsOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,u-[-^-a-r-t-}.R.V.m/O/[/_/b/d/q0R0X0[0h0ra)_%k)],`.g/n0Z0f0kQ!rTQ$h!QQ$i!SQ$j!TQ%o!{Q%q!}Q'x$kQ)c%pQ)l0oS-i+]+_Q-m+^Q-n+`Q/S-kS/U-m/WQ/{/XR0]/x%uSOT`cdopx!Q!S!T!Y![!_!a!{!}#`#l#o#t#u#v#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$g$k$l$m$n$o$p$q%O%d%j%k%p%v&S&d&s&y'm'v(O(T(U(})Q)R)])f*P*T*i*l*o+T+]+^+_+`+b+d+h+i+l+o+s,W,Y,Z,`,c,u-R-k-m-r-t-}.R._.g.m/W/X/[/_/b/d/n/x0Z0f0k0oQ)a%kQ,a)]S.f,`/nQ/l.gQ0g0ZQ0i0fR0m0krmOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YS#a`$lQ$WoQ$^pQ$r!YQ$z!_Q$}!aQ&w#uQ&z#wY&{#x$o+h-t/_Q&}#|Q'O#}Q'P$OQ'Q$PQ'R$QQ'S$RQ'T$SQ'U$TQ'V$UQ'W$VQ'Z$Z^)[%k)].g/n0Z0f0kU)g%v)f.mQ*Q&dQ+S'mQ+g(OQ+j(TQ,p*PQ-T*lQ-V*oQ-e+TQ-v+iQ-{+oQ.e,`Q/Z-rQ/a-}Q/}/[R0Q/b#xgO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kW(a%O+s.R/dR)S%drYOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!eP!o'^*q-^/OW!xX$[%{'{Q#``Q#ne#S$]op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%k%v&d'm(O(T)])f*P*l*o+T+h+i+o,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%V!gS%^!i*{d%|#Y%g&b'_'`'i(t)o)p,^Q&S#_Q&[#bS&`#e&]Q'X$YQ'|$oW(`%O+s.R/dQ({%_Q(}%bS*T&i*WQ*p0rS*z'h+OQ+f'}Q+r(dQ,W)OQ,u*UQ-a*|S.V+x.XR0R/e&O_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rQ$e!OQ'r$fR*h&t&ZWOPX`ceopx!O!Y![!_!a!g!i!o#Y#[#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&R&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rR&P#Y$QjOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ#f`Q&O#YQ'Y$YU)W%g'`'iQ)}&bQ*s'_Q,Q(tQ,j)oQ,k)pR.c,^Q)n%}R,i)m$SfO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kT&p#t,ZQ&|#xQ(P$oQ-u+hQ/]-tR0P/_]!nP!o'^*q-^/O#PaOPX`bcx![!f!o!y#_#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h'{(U)O)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dU#WY!W'|Q%T!eU&k#n#s+fQ(o%VS,s*T*zT.s,u-aj#UY!W!e#n#s%V%w&W)y*T*z,u-aU&V#`&`(}Q)x&[Q+e'|Q+q(`Q-s+fQ.O+rQ/g.WR0U/hQ)i%vQ,g)fR/o.mR,h)f`!jP!o'^'h*q+O-^/OT%W!g*|R%]!hW%U!e%V*z-aQ(z%^R,V({S#d`%bR&a#eQ)X%gT*t'`'iR*y'e[!lP!o'^*q-^/OR%X!gR#h`R,b)]R)a%kT-j+]-kQ/V-mR/z/WR/z/X",nodeNames:" LineComment BlockComment Program ModuleDeclaration MarkerAnnotation Identifier ScopedIdentifier . Annotation ) ( AnnotationArgumentList AssignmentExpression FieldAccess IntegerLiteral FloatingPointLiteral BooleanLiteral CharacterLiteral StringLiteral TextBlock null ClassLiteral void PrimitiveType TypeName ScopedTypeName GenericType TypeArguments AnnotatedType Wildcard extends super , ArrayType ] Dimension [ class this ParenthesizedExpression ObjectCreationExpression new ArgumentList } { ClassBody ; FieldDeclaration Modifiers public protected private abstract static final strictfp default synchronized native transient volatile VariableDeclarator Definition AssignOp ArrayInitializer MethodDeclaration TypeParameters TypeParameter TypeBound FormalParameters ReceiverParameter FormalParameter SpreadParameter Throws throws Block ClassDeclaration Superclass SuperInterfaces implements InterfaceTypeList InterfaceDeclaration interface ExtendsInterfaces InterfaceBody ConstantDeclaration EnumDeclaration enum EnumBody EnumConstant EnumBodyDeclarations AnnotationTypeDeclaration AnnotationTypeBody AnnotationTypeElementDeclaration StaticInitializer ConstructorDeclaration ConstructorBody ExplicitConstructorInvocation ArrayAccess MethodInvocation MethodName MethodReference ArrayCreationExpression Dimension AssignOp BinaryExpression CompareOp CompareOp LogicOp LogicOp BitOp BitOp BitOp ArithOp ArithOp ArithOp BitOp InstanceofExpression instanceof LambdaExpression InferredParameters TernaryExpression LogicOp : UpdateExpression UpdateOp UnaryExpression LogicOp BitOp CastExpression ElementValueArrayInitializer ElementValuePair open module ModuleBody ModuleDirective requires transitive exports to opens uses provides with PackageDeclaration package ImportDeclaration import Asterisk ExpressionStatement LabeledStatement Label IfStatement if else WhileStatement while ForStatement for ForSpec LocalVariableDeclaration var EnhancedForStatement ForSpec AssertStatement assert SwitchStatement switch SwitchBlock SwitchLabel case DoStatement do BreakStatement break ContinueStatement continue ReturnStatement return SynchronizedStatement ThrowStatement throw TryStatement try CatchClause catch CatchFormalParameter CatchType FinallyClause finally TryWithResourcesStatement ResourceSpecification Resource ClassContent",maxTerm:276,nodeProps:[["isolate",-4,1,2,18,19,""],["group",-26,4,47,76,77,82,87,92,145,147,150,151,153,156,158,161,163,165,167,172,174,176,178,180,181,183,191,"Statement",-25,6,13,14,15,16,17,18,19,20,21,22,39,40,41,99,100,102,103,106,118,120,122,125,127,130,"Expression",-7,23,24,25,26,27,29,34,"Type"],["openedBy",10,"(",44,"{"],["closedBy",11,")",45,"}"]],propSources:[WK],skippedNodes:[0,1,2],repeatNodeCount:28,tokenData:"#'f_R!_OX%QXY'fYZ)bZ^'f^p%Qpq'fqr*|rs,^st%Qtu4euv5zvw7[wx8rxyAZyzAwz{Be{|CZ|}Dq}!OE_!O!PFx!P!Q! r!Q!R!,h!R![!0`![!]!>p!]!^!@Q!^!_!@n!_!`!BX!`!a!B{!a!b!Di!b!c!EX!c!}!LT!}#O!Mj#O#P%Q#P#Q!NW#Q#R!Nt#R#S4e#S#T%Q#T#o4e#o#p# h#p#q#!U#q#r##n#r#s#$[#s#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4eS%VV&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS%qO&YSS%tVOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZS&^VOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS&vP;=`<%l%QS&|UOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZS'cP;=`<%l&Z_'mk&YS%yZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qs#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%Q_)iY&YS%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XZ*^Y%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XV+TX#tP&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QU+wV#_Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT,aXOY,|YZ%lZr,|rs3Ys#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T-PXOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT-qX&YSOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT.cVcPOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZT.}V&YSOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT/iW&YSOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0UWOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0sOcPP0vTOY0RYZ0RZ;'S0R;'S;=`1V<%lO0RP1YP;=`<%l0RT1`XOY,|YZ%lZr,|rs1{s#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T2QUcPOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZT2gVOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT3PP;=`<%l-lT3VP;=`<%l,|T3_VcPOY&ZYZ%lZr&Zrs3ts;'S&Z;'S;=`'`<%lO&ZT3yR&WSXY4SYZ4`pq4SP4VRXY4SYZ4`pq4SP4eO&XP_4lb&YS&PZOY%QYZ%lZr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o$g%Q$g;'S4e;'S;=`5t<%lO4e_5wP;=`<%l4eU6RX#hQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU6uV#]Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV7cZ&nR&YSOY%QYZ%lZr%Qrs%qsv%Qvw8Uw!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU8]V#aQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT8wZ&YSOY9jYZ%lZr9jrs:xsw9jwx%Qx#O9j#O#P<S#P;'S9j;'S;=`AT<%lO9jT9oX&YSOY%QYZ%lZr%Qrs%qsw%Qwx:[x;'S%Q;'S;=`&s<%lO%QT:cVbP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT:{XOY&ZYZ%lZr&Zrs&ysw&Zwx;hx;'S&Z;'S;=`'`<%lO&ZT;mVbPOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT<XZ&YSOY<zYZ%lZr<zrs=rsw<zwx9jx#O<z#O#P9j#P;'S<z;'S;=`?^<%lO<zT=PZ&YSOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT=uZOY>hYZ%lZr>hrs?dsw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hT>kZOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT?aP;=`<%l<zT?gZOY>hYZ%lZr>hrs@Ysw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hP@]VOY@YZw@Ywx@rx#O@Y#P;'S@Y;'S;=`@w<%lO@YP@wObPP@zP;=`<%l@YTAQP;=`<%l>hTAWP;=`<%l9j_AbVZZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBOVYR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBnX$ZP&YS#gQOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVCbZ#fR&YSOY%QYZ%lZr%Qrs%qs{%Q{|DT|!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVD[V#rR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVDxVqR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVEf[#fR&YSOY%QYZ%lZr%Qrs%qs}%Q}!ODT!O!_%Q!_!`6n!`!aF[!a;'S%Q;'S;=`&s<%lO%QVFcV&xR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_GPZWY&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PGr!P!Q%Q!Q![IQ![;'S%Q;'S;=`&s<%lO%QVGwX&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PHd!P;'S%Q;'S;=`&s<%lO%QVHkV&qR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTIXc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#R%Q#R#SNz#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTJkV&YS`POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTKV]&YSOY%QYZ%lZr%Qrs%qs{%Q{|LO|}%Q}!OLO!O!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLTX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLwc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![!f%Q!f!gJd!g!h%Q!h!iJd!i#R%Q#R#SNS#S#W%Q#W#XJd#X#Y%Q#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTNXZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![#R%Q#R#SNS#S;'S%Q;'S;=`&s<%lO%QT! PZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![#R%Q#R#SNz#S;'S%Q;'S;=`&s<%lO%Q_! y]&YS#gQOY%QYZ%lZr%Qrs%qsz%Qz{!!r{!P%Q!P!Q!)e!Q!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%Q_!!wX&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!#iT&YSOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!#{TOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!$_VOz!#xz{!$[{!P!#x!P!Q!$t!Q;'S!#x;'S;=`!$y<%lO!#xZ!$yOQZZ!$|P;=`<%l!#x_!%SXOY!%oYZ!#dZr!%ors!'ysz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!%rXOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!&dZ&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!'^V&YSQZOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!'vP;=`<%l!!r_!'|XOY!%oYZ!#dZr!%ors!#xsz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!(lZOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!)bP;=`<%l!%o_!)lV&YSPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!*WVPZOY!*mYZ%lZr!*mrs!+_s;'S!*m;'S;=`!,b<%lO!*m_!*rVPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!+[P;=`<%l!)e_!+dVPZOY!*mYZ%lZr!*mrs!+ys;'S!*m;'S;=`!,b<%lO!*mZ!,OSPZOY!+yZ;'S!+y;'S;=`!,[<%lO!+yZ!,_P;=`<%l!+y_!,eP;=`<%l!*mT!,ou&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!d%Q!d!e!3j!e!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o!q%Q!q!r!5h!r!z%Q!z!{!7`!{#R%Q#R#S!2r#S#U%Q#U#V!3j#V#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a#c%Q#c#d!5h#d#l%Q#l#m!7`#m;'S%Q;'S;=`&s<%lO%QT!/Za&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QT!0gi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o#R%Q#R#S!2r#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!2]V&YS_POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT!2wZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!0`![#R%Q#R#S!2r#S;'S%Q;'S;=`&s<%lO%QT!3oY&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S;'S%Q;'S;=`&s<%lO%QT!4f`&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S!n%Q!n!o!2U!o#R%Q#R#S!3j#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!5mX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y;'S%Q;'S;=`&s<%lO%QT!6a_&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y!n%Q!n!o!2U!o#R%Q#R#S!5h#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!7e_&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!P!8d!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QT!8i]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i#T%Q#T#Z!9b#Z;'S%Q;'S;=`&s<%lO%QT!9gc&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#R%Q#R#S!8d#S#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!:yi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!<h!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i!n%Q!n!o!2U!o!r%Q!r!sKQ!s#R%Q#R#S!=r#S#T%Q#T#Z!:r#Z#`%Q#`#a!2U#a#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!<ma&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!=w]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QV!>wX#pR&YSOY%QYZ%lZr%Qrs%qs![%Q![!]!?d!];'S%Q;'S;=`&s<%lO%QV!?kV&vR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!@XV!PR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!@uY&_Z&YSOY%QYZ%lZr%Qrs%qs!^%Q!^!_!Ae!_!`+p!`;'S%Q;'S;=`&s<%lO%QU!AlX#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV!B`X!bR&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QV!CSY&^R&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`!a!Cr!a;'S%Q;'S;=`&s<%lO%QU!CyY#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`!a!Ae!a;'S%Q;'S;=`&s<%lO%Q_!DrV&bX#oQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!E`X%}Z&YSOY%QYZ%lZr%Qrs%qs#]%Q#]#^!E{#^;'S%Q;'S;=`&s<%lO%QV!FQX&YSOY%QYZ%lZr%Qrs%qs#b%Q#b#c!Fm#c;'S%Q;'S;=`&s<%lO%QV!FrX&YSOY%QYZ%lZr%Qrs%qs#h%Q#h#i!G_#i;'S%Q;'S;=`&s<%lO%QV!GdX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!HP#Y;'S%Q;'S;=`&s<%lO%QV!HUX&YSOY%QYZ%lZr%Qrs%qs#f%Q#f#g!Hq#g;'S%Q;'S;=`&s<%lO%QV!HvX&YSOY%QYZ%lZr%Qrs%qs#Y%Q#Y#Z!Ic#Z;'S%Q;'S;=`&s<%lO%QV!IhX&YSOY%QYZ%lZr%Qrs%qs#T%Q#T#U!JT#U;'S%Q;'S;=`&s<%lO%QV!JYX&YSOY%QYZ%lZr%Qrs%qs#V%Q#V#W!Ju#W;'S%Q;'S;=`&s<%lO%QV!JzX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!Kg#Y;'S%Q;'S;=`&s<%lO%QV!KnV&tR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!L[b&RZ&YSOY%QYZ%lZr%Qrs%qst%Qtu!LTu!Q%Q!Q![!LT![!c%Q!c!}!LT!}#R%Q#R#S!LT#S#T%Q#T#o!LT#o$g%Q$g;'S!LT;'S;=`!Md<%lO!LT_!MgP;=`<%l!LT_!MqVuZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!N_VsR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QU!N{X#eQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV# oV}R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#!_Z'OX#dQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`#p%Q#p#q##Q#q;'S%Q;'S;=`&s<%lO%QU##XV#bQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV##uV|R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT#$cV#uP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#%Ru&YS%yZ&PZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4e",tokenizers:[0,1,2,3],topRules:{Program:[0,3],ClassContent:[1,194]},dynamicPrecedences:{27:1,232:-1,243:-1},specialized:[{term:231,get:t=>GK[t]||-1}],tokenPrec:7144}),HK=Ya.define({name:"java",parser:IK.configure({props:[Ul.add({IfStatement:_l({except:/^\s*({|else\b)/}),TryStatement:_l({except:/^\s*({|catch|finally)\b/}),LabeledStatement:j7,SwitchBlock:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:mf({closing:"}"}),BlockComment:()=>null,Statement:_l({except:/^{/})}),Wl.add({"Block SwitchBlock ClassBody ElementValueArrayInitializer ModuleBody EnumBody ConstructorBody InterfaceBody ArrayInitializer":Hm,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/}});function FK(){return new zl(HK)}const KK="#e5c07b",O4="#e06c75",JK="#56b6c2",eJ="#ffffff",Ap="#abb2bf",j2="#7d8799",tJ="#61afef",nJ="#98c379",g4="#d19a66",rJ="#c678dd",sJ="#21252b",x4="#2c313a",y4="#282c34",Xx="#353a42",iJ="#3E4451",b4="#528bff",aJ=qe.theme({"&":{color:Ap,backgroundColor:y4},".cm-content":{caretColor:b4},".cm-cursor, .cm-dropCursor":{borderLeftColor:b4},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:iJ},".cm-panels":{backgroundColor:sJ,color:Ap},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:y4,color:j2,border:"none"},".cm-activeLineGutter":{backgroundColor:x4},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Xx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Xx,borderBottomColor:Xx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:x4,color:Ap}}},{dark:!0}),lJ=Fm.define([{tag:V.keyword,color:rJ},{tag:[V.name,V.deleted,V.character,V.propertyName,V.macroName],color:O4},{tag:[V.function(V.variableName),V.labelName],color:tJ},{tag:[V.color,V.constant(V.name),V.standard(V.name)],color:g4},{tag:[V.definition(V.name),V.separator],color:Ap},{tag:[V.typeName,V.className,V.number,V.changed,V.annotation,V.modifier,V.self,V.namespace],color:KK},{tag:[V.operator,V.operatorKeyword,V.url,V.escape,V.regexp,V.link,V.special(V.string)],color:JK},{tag:[V.meta,V.comment],color:j2},{tag:V.strong,fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strikethrough,textDecoration:"line-through"},{tag:V.link,color:j2,textDecoration:"underline"},{tag:V.heading,fontWeight:"bold",color:O4},{tag:[V.atom,V.bool,V.special(V.variableName)],color:g4},{tag:[V.processingInstruction,V.string,V.inserted],color:nJ},{tag:V.invalid,color:eJ}]),v4=[aJ,hU(lJ)];function ak(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Gl=ak();function qz(t){Gl=t}var xf={exec:()=>null};function xt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(rr.caret,"$1"),n=n.replace(s,a),r},getRegex:()=>new RegExp(n,e)};return r}var oJ=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),rr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},cJ=/^(?:[ \t]*(?:\n|$))+/,uJ=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,fJ=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ld=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,dJ=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,lk=/(?:[*+-]|\d{1,9}[.)])/,Mz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Xz=xt(Mz).replace(/bull/g,lk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),hJ=xt(Mz).replace(/bull/g,lk).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ok=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,pJ=/^[^\n]+/,ck=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,mJ=xt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ck).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),OJ=xt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,lk).getRegex(),sO="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",uk=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,gJ=xt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",uk).replace("tag",sO).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),zz=xt(ok).replace("hr",ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sO).getRegex(),xJ=xt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",zz).getRegex(),fk={blockquote:xJ,code:uJ,def:mJ,fences:fJ,heading:dJ,hr:ld,html:gJ,lheading:Xz,list:OJ,newline:cJ,paragraph:zz,table:xf,text:pJ},w4=xt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sO).getRegex(),yJ={...fk,lheading:hJ,table:w4,paragraph:xt(ok).replace("hr",ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",w4).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sO).getRegex()},bJ={...fk,html:xt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",uk).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xt(ok).replace("hr",ld).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,wJ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Lz=/^( {2,}|\\)\n(?!\s*$)/,SJ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,iO=/[\p{P}\p{S}]/u,dk=/[\s\p{P}\p{S}]/u,Zz=/[^\s\p{P}\p{S}]/u,QJ=xt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,dk).getRegex(),Vz=/(?!~)[\p{P}\p{S}]/u,kJ=/(?!~)[\s\p{P}\p{S}]/u,$J=/(?:[^\s\p{P}\p{S}]|~)/u,TJ=xt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",oJ?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Yz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,jJ=xt(Yz,"u").replace(/punct/g,iO).getRegex(),_J=xt(Yz,"u").replace(/punct/g,Vz).getRegex(),Dz="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",PJ=xt(Dz,"gu").replace(/notPunctSpace/g,Zz).replace(/punctSpace/g,dk).replace(/punct/g,iO).getRegex(),NJ=xt(Dz,"gu").replace(/notPunctSpace/g,$J).replace(/punctSpace/g,kJ).replace(/punct/g,Vz).getRegex(),CJ=xt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Zz).replace(/punctSpace/g,dk).replace(/punct/g,iO).getRegex(),RJ=xt(/\\(punct)/,"gu").replace(/punct/g,iO).getRegex(),EJ=xt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),AJ=xt(uk).replace("(?:-->|$)","-->").getRegex(),qJ=xt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",AJ).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Om=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,MJ=xt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Om).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Bz=xt(/^!?\[(label)\]\[(ref)\]/).replace("label",Om).replace("ref",ck).getRegex(),Uz=xt(/^!?\[(ref)\](?:\[\])?/).replace("ref",ck).getRegex(),XJ=xt("reflink|nolink(?!\\()","g").replace("reflink",Bz).replace("nolink",Uz).getRegex(),S4=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,hk={_backpedal:xf,anyPunctuation:RJ,autolink:EJ,blockSkip:TJ,br:Lz,code:wJ,del:xf,emStrongLDelim:jJ,emStrongRDelimAst:PJ,emStrongRDelimUnd:CJ,escape:vJ,link:MJ,nolink:Uz,punctuation:QJ,reflink:Bz,reflinkSearch:XJ,tag:qJ,text:SJ,url:xf},zJ={...hk,link:xt(/^!?\[(label)\]\((.*?)\)/).replace("label",Om).getRegex(),reflink:xt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Om).getRegex()},_2={...hk,emStrongRDelimAst:NJ,emStrongLDelim:_J,url:xt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",S4).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:xt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",S4).getRegex()},LJ={..._2,br:xt(Lz).replace("{2,}","*").getRegex(),text:xt(_2.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},np={normal:fk,gfm:yJ,pedantic:bJ},Du={normal:hk,gfm:_2,breaks:LJ,pedantic:zJ},ZJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q4=t=>ZJ[t];function Pi(t,e){if(e){if(rr.escapeTest.test(t))return t.replace(rr.escapeReplace,Q4)}else if(rr.escapeTestNoEncode.test(t))return t.replace(rr.escapeReplaceNoEncode,Q4);return t}function k4(t){try{t=encodeURI(t).replace(rr.percentDecode,"%")}catch{return null}return t}function $4(t,e){var i;let n=t.replace(rr.findPipe,(a,o,u)=>{let d=!1,p=o;for(;--p>=0&&u[p]==="\\";)d=!d;return d?"|":" |"}),r=n.split(rr.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(rr.slashPipe,"|");return r}function Bu(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function VJ(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function T4(t,e,n,r,s){let i=e.href,a=e.title||null,o=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function YJ(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let a=i.match(n.other.beginningSpace);if(a===null)return i;let[o]=a;return o.length>=s.length?i.slice(s.length):i}).join(`
`)}var gm=class{constructor(t){Rt(this,"options");Rt(this,"rules");Rt(this,"lexer");this.options=t||Gl}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Bu(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=YJ(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Bu(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Bu(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Bu(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let a=!1,o=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),a=!0;else if(!a)o.push(n[u]);else break;n=n.slice(u);let d=o.join(`
`),p=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${d}`:d,s=s?`${s}
${p}`:p;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,i,!0),this.lexer.state.top=m,n.length===0)break;let g=i.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){let x=g,v=x.raw+`
`+n.join(`
`),b=this.blockquote(v);i[i.length-1]=b,r=r.substring(0,r.length-x.raw.length)+b.raw,s=s.substring(0,s.length-x.text.length)+b.text;break}else if((g==null?void 0:g.type)==="list"){let x=g,v=x.raw+`
`+n.join(`
`),b=this.list(v);i[i.length-1]=b,r=r.substring(0,r.length-g.raw.length)+b.raw,s=s.substring(0,s.length-x.raw.length)+b.raw,n=v.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){var n,r;let e=this.rules.block.list.exec(t);if(e){let s=e[1].trim(),i=s.length>1,a={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");let o=this.rules.other.listItemRegex(s),u=!1;for(;t;){let p=!1,m="",g="";if(!(e=o.exec(t))||this.rules.block.hr.test(t))break;m=e[0],t=t.substring(m.length);let x=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Q=>" ".repeat(3*Q.length)),v=t.split(`
`,1)[0],b=!x.trim(),S=0;if(this.options.pedantic?(S=2,g=x.trimStart()):b?S=e[1].length+1:(S=e[2].search(this.rules.other.nonSpaceChar),S=S>4?1:S,g=x.slice(S),S+=e[1].length),b&&this.rules.other.blankLine.test(v)&&(m+=v+`
`,t=t.substring(v.length+1),p=!0),!p){let Q=this.rules.other.nextBulletRegex(S),k=this.rules.other.hrRegex(S),$=this.rules.other.fencesBeginRegex(S),T=this.rules.other.headingBeginRegex(S),j=this.rules.other.htmlBeginRegex(S);for(;t;){let N=t.split(`
`,1)[0],C;if(v=N,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),C=v):C=v.replace(this.rules.other.tabCharGlobal,"    "),$.test(v)||T.test(v)||j.test(v)||Q.test(v)||k.test(v))break;if(C.search(this.rules.other.nonSpaceChar)>=S||!v.trim())g+=`
`+C.slice(S);else{if(b||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||$.test(x)||T.test(x)||k.test(x))break;g+=`
`+v}!b&&!v.trim()&&(b=!0),m+=N+`
`,t=t.substring(N.length+1),x=C.slice(S)}}a.loose||(u?a.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(u=!0)),a.items.push({type:"list_item",raw:m,task:!!this.options.gfm&&this.rules.other.listIsTask.test(g),loose:!1,text:g,tokens:[]}),a.raw+=m}let d=a.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let p of a.items){if(this.lexer.state.top=!1,p.tokens=this.lexer.blockTokens(p.text,[]),p.task){if(p.text=p.text.replace(this.rules.other.listReplaceTask,""),((n=p.tokens[0])==null?void 0:n.type)==="text"||((r=p.tokens[0])==null?void 0:r.type)==="paragraph"){p.tokens[0].raw=p.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),p.tokens[0].text=p.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let g=this.lexer.inlineQueue.length-1;g>=0;g--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[g].src)){this.lexer.inlineQueue[g].src=this.lexer.inlineQueue[g].src.replace(this.rules.other.listReplaceTask,"");break}}let m=this.rules.other.listTaskCheckbox.exec(p.raw);if(m){let g={type:"checkbox",raw:m[0]+" ",checked:m[0]!=="[ ]"};p.checked=g.checked,a.loose?p.tokens[0]&&["paragraph","text"].includes(p.tokens[0].type)&&"tokens"in p.tokens[0]&&p.tokens[0].tokens?(p.tokens[0].raw=g.raw+p.tokens[0].raw,p.tokens[0].text=g.raw+p.tokens[0].text,p.tokens[0].tokens.unshift(g)):p.tokens.unshift({type:"paragraph",raw:g.raw,text:g.raw,tokens:[g]}):p.tokens.unshift(g)}}if(!a.loose){let m=p.tokens.filter(x=>x.type==="space"),g=m.length>0&&m.some(x=>this.rules.other.anyLine.test(x.raw));a.loose=g}}if(a.loose)for(let p of a.items){p.loose=!0;for(let m of p.tokens)m.type==="text"&&(m.type="paragraph")}return a}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){var a;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=$4(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push($4(o,i.header.length).map((u,d)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:i.align[d]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Bu(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=VJ(e[2],"()");if(i===-2)return;if(i>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),T4(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return T4(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,a,o=s,u=0,d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,e=e.slice(-1*t.length+s);(r=d.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(a=[...i].length,r[3]||r[4]){o+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+u);let p=[...r[0]][0].length,m=t.slice(0,s+r.index+p+a);if(Math.min(s,a)%2){let x=m.slice(1,-1);return{type:"em",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}let g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let i;do i=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(i!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},vs=class P2{constructor(e){Rt(this,"tokens");Rt(this,"options");Rt(this,"state");Rt(this,"inlineQueue");Rt(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Gl,this.options.tokenizer=this.options.tokenizer||new gm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:rr,block:np.normal,inline:Du.normal};this.options.pedantic?(n.block=np.pedantic,n.inline=Du.pedantic):this.options.gfm&&(n.block=np.gfm,this.options.breaks?n.inline=Du.breaks:n.inline=Du.gfm),this.tokenizer.rules=n}static get rules(){return{block:np,inline:Du}}static lex(e,n){return new P2(n).lex(e)}static lexInline(e,n){return new P2(n).inlineTokens(e)}lex(e){e=e.replace(rr.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var s,i,a;for(this.options.pedantic&&(e=e.replace(rr.tabCharGlobal,"    ").replace(rr.spaceLine,""));e;){let o;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(d=>(o=d.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let d=n.at(-1);o.raw.length===1&&d!==void 0?d.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let d=n.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+o.raw,d.text+=`
`+o.text,this.inlineQueue.at(-1).src=d.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let d=n.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+o.raw,d.text+=`
`+o.raw,this.inlineQueue.at(-1).src=d.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let d=1/0,p=e.slice(1),m;this.options.extensions.startBlock.forEach(g=>{m=g.call({lexer:this},p),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(u=e.substring(0,d+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){let d=n.at(-1);r&&(d==null?void 0:d.type)==="paragraph"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+o.raw,d.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):n.push(o),r=u.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let d=n.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+o.raw,d.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):n.push(o);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var u,d,p,m,g;let r=e,s=null;if(this.tokens.links){let x=Object.keys(this.tokens.links);if(x.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)x.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=s[2]?s[2].length:0,r=r.slice(0,s.index+i)+"["+"a".repeat(s[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((d=(u=this.options.hooks)==null?void 0:u.emStrongMask)==null?void 0:d.call({lexer:this},r))??r;let a=!1,o="";for(;e;){a||(o=""),a=!1;let x;if((m=(p=this.options.extensions)==null?void 0:p.inline)!=null&&m.some(b=>(x=b.call({lexer:this},e,n))?(e=e.substring(x.raw.length),n.push(x),!0):!1))continue;if(x=this.tokenizer.escape(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.tag(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.link(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(x.raw.length);let b=n.at(-1);x.type==="text"&&(b==null?void 0:b.type)==="text"?(b.raw+=x.raw,b.text+=x.text):n.push(x);continue}if(x=this.tokenizer.emStrong(e,r,o)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.codespan(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.br(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.del(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.autolink(e)){e=e.substring(x.raw.length),n.push(x);continue}if(!this.state.inLink&&(x=this.tokenizer.url(e))){e=e.substring(x.raw.length),n.push(x);continue}let v=e;if((g=this.options.extensions)!=null&&g.startInline){let b=1/0,S=e.slice(1),Q;this.options.extensions.startInline.forEach(k=>{Q=k.call({lexer:this},S),typeof Q=="number"&&Q>=0&&(b=Math.min(b,Q))}),b<1/0&&b>=0&&(v=e.substring(0,b+1))}if(x=this.tokenizer.inlineText(v)){e=e.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(o=x.raw.slice(-1)),a=!0;let b=n.at(-1);(b==null?void 0:b.type)==="text"?(b.raw+=x.raw,b.text+=x.text):n.push(x);continue}if(e){let b="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(b);break}else throw new Error(b)}}return n}},xm=class{constructor(t){Rt(this,"options");Rt(this,"parser");this.options=t||Gl}space(t){return""}code({text:t,lang:e,escaped:n}){var i;let r=(i=(e||"").match(rr.notSpaceStart))==null?void 0:i[0],s=t.replace(rr.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Pi(r)+'">'+(n?s:Pi(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Pi(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let a=0;a<t.items.length;a++){let o=t.items[a];r+=this.listitem(o)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let a=0;a<i.length;a++)n+=this.tablecell(i[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Pi(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=k4(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+Pi(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=k4(t);if(s===null)return Pi(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${Pi(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Pi(t.text)}},pk=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},ws=class N2{constructor(e){Rt(this,"options");Rt(this,"renderer");Rt(this,"textRenderer");this.options=e||Gl,this.options.renderer=this.options.renderer||new xm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pk}static parse(e,n){return new N2(n).parse(e)}static parseInline(e,n){return new N2(n).parseInline(e)}parse(e){var r,s;let n="";for(let i=0;i<e.length;i++){let a=e[i];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[a.type]){let u=a,d=this.options.extensions.renderers[u.type].call({parser:this},u);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){n+=d||"";continue}}let o=a;switch(o.type){case"space":{n+=this.renderer.space(o);break}case"hr":{n+=this.renderer.hr(o);break}case"heading":{n+=this.renderer.heading(o);break}case"code":{n+=this.renderer.code(o);break}case"table":{n+=this.renderer.table(o);break}case"blockquote":{n+=this.renderer.blockquote(o);break}case"list":{n+=this.renderer.list(o);break}case"checkbox":{n+=this.renderer.checkbox(o);break}case"html":{n+=this.renderer.html(o);break}case"def":{n+=this.renderer.def(o);break}case"paragraph":{n+=this.renderer.paragraph(o);break}case"text":{n+=this.renderer.text(o);break}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,n=this.renderer){var s,i;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[o.type]){let d=this.options.extensions.renderers[o.type].call({parser:this},o);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=d||"";continue}}let u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"checkbox":{r+=n.checkbox(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{let d='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return r}},gp,nf=(gp=class{constructor(t){Rt(this,"options");Rt(this,"block");this.options=t||Gl}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?vs.lex:vs.lexInline}provideParser(){return this.block?ws.parse:ws.parseInline}},Rt(gp,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Rt(gp,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),gp),Wz=class{constructor(...t){Rt(this,"defaults",ak());Rt(this,"options",this.setOptions);Rt(this,"parse",this.parseMarkdown(!0));Rt(this,"parseInline",this.parseMarkdown(!1));Rt(this,"Parser",ws);Rt(this,"Renderer",xm);Rt(this,"TextRenderer",pk);Rt(this,"Lexer",vs);Rt(this,"Tokenizer",gm);Rt(this,"Hooks",nf);this.use(...t)}walkTokens(t,e){var r,s;let n=[];for(let i of t)switch(n=n.concat(e.call(this,i)),i.type){case"table":{let a=i;for(let o of a.header)n=n.concat(this.walkTokens(o.tokens,e));for(let o of a.rows)for(let u of o)n=n.concat(this.walkTokens(u.tokens,e));break}case"list":{let a=i;n=n.concat(this.walkTokens(a.items,e));break}default:{let a=i;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{let u=a[o].flat(1/0);n=n.concat(this.walkTokens(u,e))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...a){let o=s.renderer.apply(this,a);return o===!1&&(o=i.apply(this,a)),o}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new xm(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,o=n.renderer[a],u=s[a];s[a]=(...d)=>{let p=o.apply(s,d);return p===!1&&(p=u.apply(s,d)),p||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new gm(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,o=n.tokenizer[a],u=s[a];s[a]=(...d)=>{let p=o.apply(s,d);return p===!1&&(p=u.apply(s,d)),p}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new nf;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,o=n.hooks[a],u=s[a];nf.passThroughHooks.has(i)?s[a]=d=>{if(this.defaults.async&&nf.passThroughHooksRespectAsync.has(i))return(async()=>{let m=await o.call(s,d);return u.call(s,m)})();let p=o.call(s,d);return u.call(s,p)}:s[a]=(...d)=>{if(this.defaults.async)return(async()=>{let m=await o.apply(s,d);return m===!1&&(m=await u.apply(s,d)),m})();let p=o.apply(s,d);return p===!1&&(p=u.apply(s,d)),p}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(i.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return vs.lex(t,e??this.defaults)}parser(t,e){return ws.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(e):e,o=await(s.hooks?await s.hooks.provideLexer():t?vs.lex:vs.lexInline)(a,s),u=s.hooks?await s.hooks.processAllTokens(o):o;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():t?ws.parse:ws.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let a=(s.hooks?s.hooks.provideLexer():t?vs.lex:vs.lexInline)(e,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let o=(s.hooks?s.hooks.provideParser():t?ws.parse:ws.parseInline)(a,s);return s.hooks&&(o=s.hooks.postprocess(o)),o}catch(a){return i(a)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+Pi(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Zl=new Wz;function Et(t,e){return Zl.parse(t,e)}Et.options=Et.setOptions=function(t){return Zl.setOptions(t),Et.defaults=Zl.defaults,qz(Et.defaults),Et};Et.getDefaults=ak;Et.defaults=Gl;Et.use=function(...t){return Zl.use(...t),Et.defaults=Zl.defaults,qz(Et.defaults),Et};Et.walkTokens=function(t,e){return Zl.walkTokens(t,e)};Et.parseInline=Zl.parseInline;Et.Parser=ws;Et.parser=ws.parse;Et.Renderer=xm;Et.TextRenderer=pk;Et.Lexer=vs;Et.lexer=vs.lex;Et.Tokenizer=gm;Et.Hooks=nf;Et.parse=Et;Et.options;Et.setOptions;Et.use;Et.walkTokens;Et.parseInline;ws.parse;vs.lex;const j4=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString(),DJ=t=>t<.01?`$${t.toFixed(3)}`:`$${t.toFixed(2)}`,BJ=t=>{const e=new Map;for(const n of t){const r=n.provider||"Other";e.has(r)||e.set(r,[]),e.get(r).push(n)}return e},_4=t=>{const e=t.model.split("/").pop()||t.model;return e.length>25?e.substring(0,22)+"...":e},UJ=({selectedModel:t,onModelChange:e,className:n=""})=>{const[r,s]=_.useState([]),[i,a]=_.useState(""),[o,u]=_.useState(!1),[d,p]=_.useState(!0),[m,g]=_.useState(null),x=_.useRef(null);_.useEffect(()=>{(async()=>{try{p(!0);const S=await Ee.getModels();if(s(S.models),a(S.default_model),!t&&S.models.length>0){const Q=S.models.find(k=>k.model===S.default_model);e(Q||S.models[0])}}catch(S){console.error("Failed to fetch models:",S),g(S.message||"Failed to load models")}finally{p(!1)}})()},[]),_.useEffect(()=>{const b=S=>{x.current&&!x.current.contains(S.target)&&u(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const v=BJ(r);return d?f.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs bg-surface-700/50 text-surface-400 ${n}`,children:[f.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{className:"hidden sm:inline",children:"Loading..."})]}):m?f.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs bg-red-500/10 text-red-400 border border-red-500/30 ${n}`,title:m,children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"hidden sm:inline",children:"Error"})]}):f.jsxs("div",{className:`relative ${n}`,ref:x,children:[f.jsxs("button",{onClick:()=>u(!o),className:"flex items-center gap-1.5 px-2 py-1 rounded border border-surface-600/50 bg-surface-700/50 hover:bg-surface-600/50 transition-colors text-xs",children:[f.jsx("span",{className:"text-surface-400 hidden sm:inline",children:"Model:"}),f.jsx("span",{className:"text-white font-medium truncate max-w-[120px] sm:max-w-[180px]",children:t?_4(t):"Select..."}),t&&t.max_thinking_tokens>0&&f.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] bg-purple-500/20 text-purple-300 hidden sm:inline",children:"Think"}),f.jsx("svg",{className:`w-3 h-3 text-surface-400 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&f.jsx("div",{className:"absolute left-0 top-full mt-1 z-50 w-[320px] sm:w-[400px] max-h-[400px] overflow-auto bg-surface-800 border border-surface-600 rounded-lg shadow-xl",children:Array.from(v.entries()).map(([b,S],Q)=>f.jsxs("div",{children:[Q>0&&f.jsx("div",{className:"border-t border-surface-700"}),f.jsx("div",{className:"px-3 py-1.5 text-[10px] font-medium text-surface-500 uppercase tracking-wider bg-surface-800/50 sticky top-0",children:b}),S.map(k=>{const $=(t==null?void 0:t.model)===k.model,T=k.model===i;return f.jsxs("button",{onClick:()=>{e(k),u(!1)},className:`w-full text-left px-3 py-2 hover:bg-surface-700/50 transition-colors ${$?"bg-accent-500/10 border-l-2 border-accent-500":""}`,children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("span",{className:`text-sm truncate ${$?"text-white font-medium":"text-surface-200"}`,children:_4(k)}),T&&f.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] bg-green-500/20 text-green-300 flex-shrink-0",children:"Default"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-surface-400 flex-shrink-0",children:[f.jsx("span",{className:"text-green-400",children:DJ(k.input_cost)}),f.jsxs("span",{children:[j4(k.context_limit)," ctx"]}),f.jsxs("span",{className:"text-yellow-400",children:["ELO ",k.elo]})]})]}),k.max_thinking_tokens>0&&f.jsxs("div",{className:"mt-0.5 text-[10px] text-purple-400 flex items-center gap-1",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),j4(k.max_thinking_tokens)," thinking tokens"]})]},k.model)})]},b))})]})},WJ=({rawMetrics:t,processedMetrics:e,viewMode:n,onViewModeChange:r,isLoading:s,preprocessingError:i,timeValue:a=.25,promptLineCount:o,codeLineCount:u,contextLimit:d,maxThinkingTokens:p,selectedModel:m,onModelChange:g})=>{const x=n==="processed"?e:t,v=(m==null?void 0:m.context_limit)||(x==null?void 0:x.context_limit)||d||2e5,b=(m==null?void 0:m.max_thinking_tokens)||p||(v>=2e5?128e3:32e3),S=Math.floor(a*b),Q=(x==null?void 0:x.token_count)||0,k=Math.max(0,v-Q-S),$=k<2e4,T=Z=>Z<50?"text-green-400":Z<75?"text-yellow-400":Z<90?"text-orange-400":"text-red-400",j=Z=>Z<50?"bg-green-500":Z<75?"bg-yellow-500":Z<90?"bg-orange-500":"bg-red-500",N=Z=>Z<1e-4?`$${Z.toFixed(6)}`:Z<.01?`$${Z.toFixed(4)}`:Z<1?`$${Z.toFixed(3)}`:`$${Z.toFixed(2)}`,C=Z=>Z>=1e6?`${(Z/1e6).toFixed(1)}M`:Z>=1e3?`${(Z/1e3).toFixed(1)}K`:Z.toString(),q=v,M=Q/q*100,L=S/q*100,E=k/q*100;return f.jsxs("div",{className:"bg-surface-800/30 border-b border-surface-700/50",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between px-3 sm:px-4 py-2 sm:py-2.5 gap-2 sm:gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400",children:"View:"}),f.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-surface-600/50",children:[f.jsx("button",{onClick:()=>r("raw"),className:`px-2 sm:px-3 py-1 text-[10px] sm:text-xs font-medium transition-all duration-200 ${n==="raw"?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600"}`,children:"Raw"}),f.jsx("button",{onClick:()=>r("processed"),disabled:!e&&!i,className:`px-2 sm:px-3 py-1 text-[10px] sm:text-xs font-medium transition-all duration-200 ${n==="processed"?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600"} ${!e&&!i?"opacity-50 cursor-not-allowed":""}`,title:i?`Error: ${i}`:"View processed prompt with includes expanded",children:"Processed"})]}),i&&n==="processed"&&f.jsx("span",{className:"text-[10px] sm:text-xs text-red-400 ml-1 sm:ml-2 truncate max-w-[100px] sm:max-w-none",title:i,children:"Error"}),g&&f.jsx("div",{className:"hidden sm:block ml-2",children:f.jsx(UJ,{selectedModel:m||null,onModelChange:g})})]}),f.jsx("div",{className:"flex items-center gap-3 sm:gap-5 flex-wrap",children:s?f.jsxs("div",{className:"flex items-center gap-1.5 text-surface-400 text-[10px] sm:text-xs",children:[f.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Analyzing..."]}):x?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400",children:"Tokens:"}),f.jsx("span",{className:"text-xs sm:text-sm font-mono text-white",children:C(x.token_count)})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Context:"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-12 sm:w-16 h-1.5 sm:h-2 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full transition-all ${j(x.context_usage_percent)}`,style:{width:`${Math.min(x.context_usage_percent,100)}%`}})}),f.jsxs("span",{className:`text-xs sm:text-sm font-mono ${T(x.context_usage_percent)}`,children:[x.context_usage_percent.toFixed(0),"%"]})]})]}),x.cost_estimate&&f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Cost:"}),f.jsx("span",{className:"text-xs sm:text-sm font-mono text-green-400",children:N(x.cost_estimate.input_cost)})]}),f.jsxs("div",{className:"flex items-center gap-1.5",title:`${C(S)} thinking tokens (${Math.round(a*100)}% of ${C(b)} max)`,children:[f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Thinking:"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-12 sm:w-16 h-1.5 sm:h-2 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full transition-all bg-gradient-to-r from-purple-500 to-blue-500",style:{width:`${Math.min(a*100,100)}%`}})}),f.jsx("span",{className:"text-xs sm:text-sm font-mono text-purple-400",children:C(S)})]})]}),o!==void 0&&o>0&&u!==void 0&&f.jsxs("div",{className:"flex items-center gap-1.5",title:`${u} lines of code / ${o} lines of prompt`,children:[f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Code:Prompt:"}),f.jsxs("span",{className:`text-xs sm:text-sm font-mono ${u/o>=1?"text-blue-400":"text-orange-400"}`,children:[(u/o).toFixed(1),"x"]}),f.jsxs("span",{className:"text-[10px] text-surface-500 hidden md:inline",children:["(",u,"/",o,")"]})]})]}):f.jsx("span",{className:"text-[10px] sm:text-xs text-surface-500",children:"No metrics"})})]}),x&&f.jsxs("div",{className:"px-3 sm:px-4 pb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] text-surface-500 w-16 sm:w-20 flex-shrink-0",children:[C(v)," ctx"]}),f.jsxs("div",{className:"flex-1 h-2 sm:h-2.5 bg-surface-700/50 rounded-full overflow-hidden flex",children:[f.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${Math.min(M,100)}%`},title:`Input: ${C(Q)} tokens (${M.toFixed(1)}%)`}),f.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${Math.min(L,100-M)}%`},title:`Thinking: ${C(S)} tokens (${L.toFixed(1)}%)`}),f.jsx("div",{className:`h-full transition-all ${$?"bg-orange-500/50":"bg-green-500/30"}`,style:{width:`${Math.max(E,0)}%`},title:`Output capacity: ${C(k)} tokens (${E.toFixed(1)}%)`})]})]}),f.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[9px] sm:text-[10px] text-surface-500",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-2 h-2 rounded-sm bg-blue-500"}),f.jsxs("span",{children:["Input ",C(Q)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-2 h-2 rounded-sm bg-purple-500"}),f.jsxs("span",{children:["Thinking ",C(S)]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:`w-2 h-2 rounded-sm ${$?"bg-orange-500":"bg-green-500/50"}`}),f.jsxs("span",{className:$?"text-orange-400":"",children:["Output ",C(k),$&&" (low)"]})]})]})]})]})},Gz=[{tag:"include",description:"Include file content (text or image) at this position",syntax:"<include>path/to/file</include>",example:"<include>context/preamble.prompt</include>",hasClosingTag:!0,category:"include"},{tag:"include-many",description:"Include multiple files (comma-separated)",syntax:"<include-many>path1, path2, ...</include-many>",example:"<include-many>src/api.ts, src/types.ts</include-many>",hasClosingTag:!0,category:"include"},{tag:"pdd",description:"Human-only comment (removed during preprocessing)",syntax:"<pdd>comment text</pdd>",example:"<pdd>TODO: Add more examples here</pdd>",hasClosingTag:!0,category:"meta"},{tag:"shell",description:"Run shell command and inline stdout (non-deterministic)",syntax:"<shell>command</shell>",example:"<shell>git config --get user.name</shell>",hasClosingTag:!0,category:"dynamic"},{tag:"web",description:"Fetch URL content as markdown (non-deterministic)",syntax:"<web>URL</web>",example:"<web>https://docs.example.com/api</web>",hasClosingTag:!0,category:"dynamic"},{tag:"pin",description:"Force a specific grounding example (PDD Cloud)",syntax:"<pin>module_name</pin>",example:"<pin>user_service</pin>",hasClosingTag:!0,category:"grounding"},{tag:"exclude",description:"Block a grounding example from being retrieved (PDD Cloud)",syntax:"<exclude>module_name</exclude>",example:"<exclude>legacy_handler</exclude>",hasClosingTag:!0,category:"grounding"}],GJ=[{title:"Prompt-to-Code Ratio",content:"Aim for 10-30% of expected code size. Too vague (<10%) or too detailed (>50%) reduces effectiveness."},{title:"Prompt Structure",content:"Include: Role/scope (1-2 sentences), Requirements (5-10 items), Dependencies via <include>."},{title:"What to Avoid",content:"Don't include: Coding style (use preamble), implementation patterns, every edge case (use tests)."},{title:"Shared Preamble",content:"Use <include>context/preamble.prompt</include> for consistent coding style across all prompts."}],Iz={include:"Context Includes",grounding:"Grounding (Cloud)",dynamic:"Dynamic Content",meta:"Comments"},IJ=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),ym=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),bm=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Hz=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),HJ=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),yf=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t,children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),zx=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25v3.75m0 0a3 3 0 003 3h3"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12c0-4.97 4.03-9 9-9s9 4.03 9 9-4.03 9-9 9"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-2.636-2.636"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 8.25l2.636-2.636"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 15.75l-2.636 2.636"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l2.636 2.636"})]}),FJ=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})}),Fz=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),Kz=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})}),KJ=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"})}),Lx=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})}),P4=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),JJ=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}),Jz=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),eee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),tee=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),nee=Gz.reduce((t,e)=>(t[e.category]||(t[e.category]=[]),t[e.category].push(e),t),{}),ree=["include","dynamic","grounding","meta"],see=({directive:t})=>{const[e,n]=_.useState(!1);return f.jsxs("div",{className:`rounded-md border border-surface-700/50 bg-surface-800/50 overflow-hidden transition-all duration-200 ${e?"ring-1 ring-accent-500/30":""}`,children:[f.jsxs("button",{onClick:()=>n(!e),className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-surface-700/30 transition-colors",children:[f.jsxs("code",{className:"text-accent-400 font-mono text-sm",children:["<",t.tag,">"]}),f.jsx("svg",{className:`w-4 h-4 text-text-secondary transition-transform duration-200 ${e?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&f.jsxs("div",{className:"px-3 pb-3 pt-1 border-t border-surface-700/50 bg-surface-900/30",children:[f.jsx("p",{className:"text-text-secondary text-xs mb-2",children:t.description}),f.jsx("div",{className:"bg-surface-900 rounded px-2 py-1.5",children:f.jsx("code",{className:"text-xs text-text-muted font-mono break-all",children:t.syntax})}),t.example&&f.jsxs("div",{className:"mt-2",children:[f.jsx("span",{className:"text-xs text-text-muted",children:"Example:"}),f.jsx("div",{className:"bg-surface-900 rounded px-2 py-1.5 mt-1",children:f.jsx("code",{className:"text-xs text-accent-300 font-mono break-all",children:t.example})})]})]})]})},iee=({isOpen:t,onClose:e})=>t?f.jsxs("aside",{className:"w-72 flex-shrink-0 border-l border-surface-700 bg-surface-800 flex flex-col overflow-hidden animate-slide-in-right",children:[f.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-700 bg-surface-800/80",children:[f.jsxs("h3",{className:"font-semibold text-text-primary flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Prompting Guide"]}),f.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-surface-700 text-text-secondary hover:text-text-primary transition-colors","aria-label":"Close guide",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f.jsxs("section",{className:"p-4",children:[f.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3",children:"PDD Directives"}),f.jsxs("p",{className:"text-xs text-text-secondary mb-3",children:["Type ",f.jsx("code",{className:"text-accent-400 bg-surface-900 px-1 rounded",children:"<"})," in the editor to trigger autocomplete."]}),f.jsx("div",{className:"space-y-4",children:ree.map(n=>{const r=nee[n];return!r||r.length===0?null:f.jsxs("div",{children:[f.jsxs("h5",{className:"text-xs font-medium text-text-secondary mb-2 flex items-center gap-1.5",children:[f.jsx("span",{className:`w-2 h-2 rounded-full ${n==="include"?"bg-blue-400":n==="dynamic"?"bg-amber-400":n==="grounding"?"bg-purple-400":"bg-gray-400"}`}),Iz[n]]}),f.jsx("div",{className:"space-y-1.5",children:r.map(s=>f.jsx(see,{directive:s},s.tag))})]},n)})})]}),f.jsx("div",{className:"border-t border-surface-700 mx-4"}),f.jsxs("section",{className:"p-4",children:[f.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3",children:"Best Practices"}),f.jsx("div",{className:"space-y-3",children:GJ.map((n,r)=>f.jsxs("div",{className:"rounded-md bg-surface-900/50 p-3",children:[f.jsxs("h5",{className:"text-sm font-medium text-text-primary mb-1 flex items-center gap-2",children:[f.jsx(Hz,{className:"w-3 h-3 text-surface-400 flex-shrink-0"}),n.title]}),f.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:n.content})]},r))})]}),f.jsx("section",{className:"p-4 pt-0",children:f.jsxs("div",{className:"rounded-md bg-accent-500/10 border border-accent-500/20 p-3",children:[f.jsxs("h5",{className:"text-xs font-medium text-accent-400 mb-2 flex items-center gap-1.5",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Tip"]}),f.jsxs("p",{className:"text-xs text-text-secondary",children:["Use ",f.jsx("code",{className:"text-accent-300 bg-surface-900/50 px-1 rounded",children:"<include>"})," to reference a shared preamble for consistent coding style across all prompts."]})]})})]})]}):null,aee={in_sync:{color:"text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",icon:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),label:"Synced",description:"Prompt and code are in sync"},prompt_changed:{color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30",icon:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),label:"Prompt Changed",description:"Prompt was edited since last sync"},code_changed:{color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",icon:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),label:"Code Changed",description:"Code was edited externally"},conflict:{color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",icon:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),label:"Conflict",description:"Both prompt and code have changes"},never_synced:{color:"text-surface-400",bgColor:"bg-surface-500/10",borderColor:"border-surface-500/30",icon:f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("circle",{cx:"12",cy:"12",r:"9",strokeWidth:2})}),label:"Not Synced",description:"No sync history exists"}},lee=({basename:t,language:e,refreshTrigger:n,className:r=""})=>{const[s,i]=_.useState(null),[a,o]=_.useState(!0),[u,d]=_.useState(null);if(_.useEffect(()=>{(async()=>{if(!t||!e){o(!1);return}o(!0),d(null);try{const x=await Ee.getSyncStatus(t,e);i(x)}catch(x){console.error("Failed to fetch sync status:",x),d(x.message||"Failed to load")}finally{o(!1)}})()},[t,e,n]),a)return f.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-[10px] sm:text-xs bg-surface-700/50 text-surface-400 ${r}`,children:[f.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{className:"hidden sm:inline",children:"Loading..."})]});if(u||!s)return f.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-[10px] sm:text-xs bg-surface-700/50 text-surface-500 ${r}`,title:u||"Status unavailable",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"hidden sm:inline",children:"Unknown"})]});const p=aee[s.status];let m=[p.description];if(s.last_sync_timestamp){const g=new Date(s.last_sync_timestamp);m.push(`Last sync: ${g.toLocaleString()}`)}return s.last_sync_command&&m.push(`Command: ${s.last_sync_command}`),f.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded border text-[10px] sm:text-xs transition-colors ${p.color} ${p.bgColor} ${p.borderColor} ${r}`,title:m.join(`
`),children:[p.icon,f.jsx("span",{className:"hidden sm:inline font-medium",children:p.label})]})};function oee(t){const e=t.explicit,n=t.matchBefore(/<[\w-]*/),r=t.state.sliceDoc(t.pos-1,t.pos);let s=t.pos,i="";if(n&&n.text.length>0){if(s=n.from,i=n.text.slice(1).toLowerCase(),t.state.sliceDoc(Math.max(0,n.from-1),n.from)==="/")return null}else if(r==="<"||e)if(r==="<")s=t.pos-1;else{const o=t.state.doc.lineAt(t.pos),u=o.text.slice(0,t.pos-o.from),d=u.lastIndexOf("<");if(d>=0)s=o.from+d,i=u.slice(d+1).toLowerCase();else if(!e)return null}else return null;const a=Gz.filter(o=>o.tag.toLowerCase().startsWith(i)).map(o=>({label:o.tag,type:"keyword",detail:Iz[o.category],info:`${o.description}

Syntax: ${o.syntax}
Example: ${o.example}`,apply:(u,d,p,m)=>{const g=o.hasClosingTag?`<${o.tag}></${o.tag}>`:`<${o.tag}/>`,x=p+o.tag.length+2;u.dispatch({changes:{from:p,to:m,insert:g},selection:{anchor:x}})},boost:o.category==="include"?2:o.category==="dynamic"?1:0}));return a.length===0?null:{from:s,options:a,filter:!1}}const cee=qe.theme({".cm-tooltip.cm-tooltip-autocomplete":{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.4)",overflow:"hidden"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"inherit",maxHeight:"280px"},".cm-tooltip.cm-tooltip-autocomplete > ul > li":{padding:"6px 12px",display:"flex",alignItems:"center",gap:"8px"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected]":{backgroundColor:"#3b82f6",color:"white"},".cm-completionLabel":{color:"#60a5fa",fontWeight:"500"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] .cm-completionLabel":{color:"white"},".cm-completionDetail":{color:"#94a3b8",fontSize:"11px",marginLeft:"auto",fontStyle:"normal"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] .cm-completionDetail":{color:"rgba(255, 255, 255, 0.8)"},".cm-completionInfo":{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",padding:"12px",marginLeft:"4px",maxWidth:"350px"}});function uee(){return[xG({override:[oee],icons:!1,optionClass:()=>"cm-pdd-completion",activateOnTyping:!0,activateOnTypingDelay:0}),Rc.of([{key:"Tab",run:fX}]),cee]}function fee(t){const e=t.selection.main.head,n=t.doc.toString(),r=[{regex:/<include>(.*?)<\/include>/g,type:"include"},{regex:/<include-many>(.*?)<\/include-many>/g,type:"include-many"},{regex:/<shell>(.*?)<\/shell>/g,type:"shell"},{regex:/<web>(.*?)<\/web>/g,type:"web"}];for(const{regex:s,type:i}of r){let a;for(s.lastIndex=0;(a=s.exec(n))!==null;){const o=a.index,u=a.index+a[0].length;if(e>=o&&e<=u)return{from:o,to:u,path:a[1].trim(),tagType:i}}}return null}function dee(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}const hee={matched:{bg:"bg-emerald-500/10",border:"border-emerald-500/30",text:"text-emerald-400",headerBg:"bg-emerald-500/20"},partial:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",headerBg:"bg-yellow-500/20"},missing:{bg:"bg-red-500/15",border:"border-red-500/50",text:"text-red-400",headerBg:"bg-red-500/30"},extra:{bg:"bg-red-500/15",border:"border-red-500/50",text:"text-red-400",headerBg:"bg-red-500/30"}},pee=({isOpen:t,onClose:e,promptContent:n,codeContent:r,promptPath:s,codePath:i,prompt:a,onRunCommand:o})=>{const[u,d]=_.useState(null),[p,m]=_.useState(!1),[g,x]=_.useState(null),[v,b]=_.useState("detailed"),[S,Q]=_.useState(.5),[k,$]=_.useState(new Set),[T,j]=_.useState(!0),[N,C]=_.useState("alignment"),[q,M]=_.useState(null),[L,E]=_.useState(!1),[Z,Y]=_.useState(null),[R,G]=_.useState("working"),[A,W]=_.useState(""),[I,U]=_.useState(null),[ee,z]=_.useState(!1),[D,K]=_.useState(new Set),[B,H]=_.useState(.5),J=ne=>{$(he=>{const pe=new Set(he);return pe.has(ne)?pe.delete(ne):pe.add(ne),pe})};_.useEffect(()=>{t&&n&&r&&re()},[t]);const re=async()=>{m(!0),x(null),$(new Set);try{const ne={prompt_content:n,code_content:r,strength:S,mode:v,include_tests:T,prompt_path:s,code_path:i},he=await Ee.analyzeDiff(ne);d(he);const pe=new Set;he.result.sections.filter(xe=>xe.status==="missing"||xe.status==="partial").forEach(xe=>pe.add(`prompt-${xe.id}`)),he.result.codeSections.filter(xe=>xe.status==="extra").forEach(xe=>pe.add(`code-${xe.id}`)),$(pe)}catch(ne){x(ne instanceof Error?ne.message:"Failed to analyze diff")}finally{m(!1)}},ie=async()=>{if(!s){Y("No prompt path available");return}E(!0),Y(null);try{const ne=await Ee.getPromptHistory({prompt_path:s,limit:10});M(ne),ne.versions.length>0&&!A&&W(ne.versions[0].commit_hash)}catch(ne){Y(ne instanceof Error?ne.message:"Failed to load history")}finally{E(!1)}},ce=async()=>{if(!(!s||!R||!A)){z(!0),Y(null);try{const ne=await Ee.getPromptDiff({prompt_path:s,version_a:R,version_b:A,code_path:i,strength:B});U(ne)}catch(ne){Y(ne instanceof Error?ne.message:"Failed to compare versions")}finally{z(!1)}}};_.useEffect(()=>{N==="history"&&!q&&s&&ie()},[N,s]),_.useEffect(()=>{if(I){const ne=new Set;I.linguistic_changes.forEach((he,pe)=>{(he.impact==="breaking"||he.impact==="enhancement")&&ne.add(pe)}),K(ne)}},[I]);const ve=_.useCallback(()=>{if(!u)return[];const ne=[];return u.result.sections.forEach(he=>{ne.push({id:`prompt-${he.id}`,type:"prompt",section:he,sortKey:he.promptRange.startLine})}),u.result.codeSections.filter(he=>he.status==="extra").forEach(he=>{var pe;ne.push({id:`code-${he.id}`,type:"code",section:he,sortKey:((pe=he.codeRanges[0])==null?void 0:pe.startLine)||0})}),ne.sort((he,pe)=>he.sortKey-pe.sortKey)},[u]);if(!t)return null;const _e=ve();return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:f.jsxs("div",{className:"w-full h-full max-w-[1600px] max-h-[95vh] m-4 glass rounded-2xl border border-surface-600/50 shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-surface-700/50 flex items-center justify-between flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500/30 to-blue-500/30 flex items-center justify-center",children:f.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h2",{className:"text-lg font-semibold text-white",children:"Prompt Analysis"}),f.jsxs("div",{className:"flex items-center bg-surface-800 rounded-lg p-0.5",children:[f.jsx("button",{onClick:()=>C("alignment"),className:`px-3 py-1.5 text-xs rounded-md transition-all ${N==="alignment"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:"Alignment"}),f.jsx("button",{onClick:()=>C("history"),className:`px-3 py-1.5 text-xs rounded-md transition-all ${N==="history"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:"Version History"})]})]}),f.jsxs("p",{className:"text-sm text-surface-400",children:[N==="alignment"&&(u==null?void 0:u.cached)&&f.jsx("span",{className:"text-emerald-400",children:"(cached) "}),N==="alignment"&&(u==null?void 0:u.tests_included)&&f.jsxs("span",{className:"text-purple-400",title:u.test_files.join(", "),children:["(",u.test_files.length," test",u.test_files.length>1?"s":""," included)"," "]}),N==="alignment"&&(s&&i?`${s}  ${i}`:"Click sections to expand details"),N==="history"&&(s?`Git history for ${s}`:"No prompt path available")]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[N==="alignment"&&f.jsxs(f.Fragment,{children:[u&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${u.result.regenerationRisk==="critical"?"bg-red-500/20 border border-red-500/50":u.result.regenerationRisk==="high"?"bg-orange-500/20 border border-orange-500/50":u.result.regenerationRisk==="medium"?"bg-yellow-500/20 border border-yellow-500/50":"bg-emerald-500/20 border border-emerald-500/50"}`,children:[f.jsx("span",{className:`text-xs font-medium ${u.result.regenerationRisk==="critical"?"text-red-400":u.result.regenerationRisk==="high"?"text-orange-400":u.result.regenerationRisk==="medium"?"text-yellow-400":"text-emerald-400"}`,children:u.result.regenerationRisk==="critical"?"CRITICAL RISK":u.result.regenerationRisk==="high"?"HIGH RISK":u.result.regenerationRisk==="medium"?"MEDIUM RISK":"LOW RISK"}),u.result.canRegenerate?f.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):f.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})]}),f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-surface-800 rounded-lg",children:[f.jsx("span",{className:"text-xs text-purple-400",children:"Score"}),f.jsxs("span",{className:"text-lg font-bold",style:{color:u.result.overallScore>=80?"#10b981":u.result.overallScore>=50?"#f59e0b":"#ef4444"},children:[u.result.overallScore,"%"]})]})]}),f.jsxs("div",{className:"flex items-center bg-surface-800 rounded-lg p-0.5",children:[f.jsx("button",{onClick:()=>b("quick"),className:`px-3 py-1.5 text-xs rounded-md transition-all ${v==="quick"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:"Quick"}),f.jsx("button",{onClick:()=>b("detailed"),className:`px-3 py-1.5 text-xs rounded-md transition-all ${v==="detailed"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:"Detailed"})]}),f.jsxs("button",{onClick:()=>j(!T),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs transition-all ${T?"bg-emerald-500/20 border border-emerald-500/50 text-emerald-400":"bg-surface-800 text-surface-400 hover:text-white"}`,title:T?"Tests will be included in analysis":"Click to include tests in analysis",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Include Tests",(u==null?void 0:u.tests_included)&&u.test_files.length>0&&f.jsxs("span",{className:"text-[10px] opacity-70",children:["(",u.test_files.length,")"]})]}),f.jsxs("div",{className:"flex items-center gap-3 bg-surface-800 rounded-lg px-3 py-1.5",children:[f.jsx("span",{className:"text-xs text-surface-400",children:"Strength"}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:S,onChange:ne=>Q(parseFloat(ne.target.value)),className:"w-20 h-1.5 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),f.jsxs("span",{className:"text-xs text-purple-400 w-8",children:[(S*100).toFixed(0),"%"]})]}),f.jsx("button",{onClick:re,disabled:p,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-500 disabled:opacity-50 flex items-center gap-2",children:p?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Analyzing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Re-analyze"]})})]}),N==="history"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 bg-surface-800 rounded-lg px-3 py-1.5",children:[f.jsx("span",{className:"text-xs text-surface-400",children:"Strength"}),f.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:B,onChange:ne=>H(parseFloat(ne.target.value)),className:"w-20 h-1.5 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),f.jsxs("span",{className:"text-xs text-purple-400 w-8",children:[(B*100).toFixed(0),"%"]})]}),f.jsx("button",{onClick:ie,disabled:L,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-500 disabled:opacity-50 flex items-center gap-2",children:L?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]}),f.jsx("button",{onClick:e,className:"p-2 text-surface-400 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),N==="alignment"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex border-b border-surface-700/50 bg-surface-800/30 flex-shrink-0",children:[f.jsx("div",{className:"flex-1 px-6 py-2 border-r border-surface-700/50",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-purple-400",children:"Prompt Requirements"}),u&&f.jsxs("span",{className:"text-xs text-surface-500",children:[u.result.stats.matchedRequirements,"/",u.result.stats.totalRequirements," matched"]})]})}),f.jsx("div",{className:"flex-1 px-6 py-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm font-medium text-emerald-400",children:"Code Implementation"}),u&&f.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[f.jsxs("span",{className:"text-surface-500",children:[u.result.stats.documentedFeatures,"/",u.result.stats.totalCodeFeatures," documented"]}),u.result.hiddenKnowledge&&u.result.hiddenKnowledge.length>0&&f.jsxs("span",{className:"text-orange-400",children:[u.result.hiddenKnowledge.length," hidden"]})]})]})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[p&&f.jsx("div",{className:"flex items-center justify-center py-16",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"w-8 h-8 animate-spin text-purple-500 mx-auto mb-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("p",{className:"text-surface-400",children:"Analyzing prompt and code alignment..."})]})}),g&&f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-center gap-3",children:[f.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-red-400",children:g})]})}),!p&&!g&&u&&f.jsxs("div",{className:"divide-y divide-surface-700/30",children:[_e.map(({id:ne,type:he,section:pe})=>{var ke,Je,ut,et,jt;const xe=k.has(ne),Ie=hee[pe.status],je=pe.status==="missing"||pe.status==="extra";return f.jsxs("div",{className:`flex transition-colors ${je?"bg-red-500/5":""}`,children:[f.jsx("div",{className:`flex-1 border-r border-surface-700/30 ${he==="code"?"bg-red-500/10":""}`,children:he==="prompt"?f.jsxs("div",{className:`p-4 cursor-pointer hover:bg-surface-700/20 transition-colors ${Ie.bg}`,onClick:()=>J(ne),children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${pe.status==="matched"?"bg-emerald-500":pe.status==="partial"?"bg-yellow-500":"bg-red-500"}`}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:"font-medium text-white text-sm",children:pe.semanticLabel}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsxs("span",{className:`text-xs ${Ie.text}`,children:[pe.matchConfidence,"%"]}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${xe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f.jsxs("p",{className:"text-xs text-surface-400 mt-1",children:["Lines ",pe.promptRange.startLine,"-",pe.promptRange.endLine]}),pe.notes&&f.jsx("p",{className:`text-xs mt-2 ${Ie.text}`,children:pe.notes})]})]}),xe&&pe.promptRange.text&&f.jsx("div",{className:"mt-3 ml-5",children:f.jsx("pre",{className:"text-xs text-purple-300 p-3 bg-surface-900/80 rounded-lg overflow-x-auto whitespace-pre-wrap max-h-64 overflow-y-auto border border-surface-700/30",children:pe.promptRange.text})})]}):f.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[80px] gap-2",children:[f.jsx("span",{className:"text-xs text-red-400/60 italic",children:"Not documented in prompt"}),a&&o&&f.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),o(Ze.UPDATE,{_code:a.code}),e()},className:"px-3 py-1.5 text-xs bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors flex items-center gap-1.5",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Run pdd update"]})]})}),f.jsx("div",{className:`flex-1 ${he==="prompt"&&pe.status==="missing"?"bg-red-500/10":""}`,children:he==="prompt"&&pe.status!=="missing"&&pe.codeRanges.length>0?f.jsxs("div",{className:`p-4 cursor-pointer hover:bg-surface-700/20 transition-colors ${Ie.bg}`,onClick:()=>J(ne),children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${pe.status==="matched"?"bg-emerald-500":pe.status==="partial"?"bg-yellow-500":"bg-red-500"}`}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:"font-medium text-white text-sm",children:"Implementation"}),f.jsxs("span",{className:"text-xs text-surface-500",children:[pe.codeRanges.length," location",pe.codeRanges.length>1?"s":""]})]}),f.jsxs("p",{className:"text-xs text-surface-400 mt-1",children:["Lines ",(ke=pe.codeRanges[0])==null?void 0:ke.startLine,"-",(Je=pe.codeRanges[0])==null?void 0:Je.endLine,pe.codeRanges.length>1&&` (+${pe.codeRanges.length-1} more)`]})]})]}),xe&&f.jsx("div",{className:"mt-3 ml-5 space-y-2",children:pe.codeRanges.map((Ve,nt)=>f.jsxs("div",{children:[pe.codeRanges.length>1&&f.jsxs("span",{className:"text-[10px] text-surface-500 uppercase",children:["Location ",nt+1," (L",Ve.startLine,"-",Ve.endLine,")"]}),f.jsx("pre",{className:"text-xs text-emerald-300 p-3 bg-surface-900/80 rounded-lg overflow-x-auto whitespace-pre-wrap max-h-64 overflow-y-auto border border-surface-700/30",children:Ve.text||`Lines ${Ve.startLine}-${Ve.endLine}`})]},nt))})]}):he==="prompt"&&pe.status==="missing"?f.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[80px] bg-red-500/10 gap-2",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("svg",{className:"w-5 h-5 text-red-400 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),f.jsx("span",{className:"text-xs text-red-400 font-medium",children:"Not implemented"})]}),a&&o&&f.jsxs("button",{onClick:Ve=>{Ve.stopPropagation(),o(Ze.SYNC),e()},className:"px-3 py-1.5 text-xs bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg transition-colors flex items-center gap-1.5",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Run pdd sync"]})]}):he==="code"?f.jsxs("div",{className:"p-4 cursor-pointer hover:bg-surface-700/20 transition-colors bg-red-500/5",onClick:()=>J(ne),children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-2 h-2 rounded-full mt-1.5 flex-shrink-0 bg-red-500"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:"font-medium text-white text-sm",children:pe.semanticLabel}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx("span",{className:"text-xs text-red-400",children:"Undocumented"}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${xe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f.jsxs("p",{className:"text-xs text-surface-400 mt-1",children:["Lines ",(ut=pe.codeRanges[0])==null?void 0:ut.startLine,"-",(et=pe.codeRanges[0])==null?void 0:et.endLine]}),pe.notes&&f.jsx("p",{className:"text-xs mt-2 text-red-400",children:pe.notes})]})]}),xe&&((jt=pe.codeRanges[0])==null?void 0:jt.text)&&f.jsx("div",{className:"mt-3 ml-5",children:f.jsx("pre",{className:"text-xs text-emerald-300 p-3 bg-surface-900/80 rounded-lg overflow-x-auto whitespace-pre-wrap max-h-64 overflow-y-auto border border-red-500/30",children:pe.codeRanges[0].text})})]}):null})]},ne)}),_e.length===0&&f.jsx("div",{className:"p-12 text-center text-surface-500",children:"No sections found. Try re-analyzing with different settings."})]})]})]}),N==="history"&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"px-6 py-3 border-b border-surface-700/50 bg-surface-800/30 flex-shrink-0",children:!L&&q&&f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[f.jsx("label",{className:"text-xs text-surface-400",children:"Version A:"}),f.jsxs("select",{value:R,onChange:ne=>G(ne.target.value),className:"flex-1 max-w-xs px-3 py-1.5 bg-surface-900 border border-surface-700 rounded-lg text-xs text-white",children:[f.jsx("option",{value:"working",children:"Current (Working)"}),q.versions.map(ne=>f.jsxs("option",{value:ne.commit_hash,children:[ne.commit_hash.slice(0,7)," - ",ne.commit_message.slice(0,30)]},ne.commit_hash))]})]}),f.jsx("span",{className:"text-surface-500 text-sm",children:"vs"}),f.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[f.jsx("label",{className:"text-xs text-surface-400",children:"Version B:"}),f.jsx("select",{value:A,onChange:ne=>W(ne.target.value),className:"flex-1 max-w-xs px-3 py-1.5 bg-surface-900 border border-surface-700 rounded-lg text-xs text-white",children:q.versions.map(ne=>f.jsxs("option",{value:ne.commit_hash,children:[ne.commit_hash.slice(0,7)," - ",ne.commit_message.slice(0,30)]},ne.commit_hash))})]}),f.jsx("button",{onClick:ce,disabled:ee||!R||!A,className:"px-4 py-1.5 bg-purple-600 text-white rounded-lg text-xs hover:bg-purple-500 disabled:opacity-50",children:ee?"Comparing...":"Compare"})]})}),I&&f.jsxs("div",{className:"flex border-b border-surface-700/50 bg-surface-800/30 flex-shrink-0",children:[f.jsx("div",{className:"flex-1 px-6 py-2 border-r border-surface-700/50",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-medium text-purple-400",children:["Older: ",I.version_a_label]}),I.versions_swapped&&f.jsx("span",{className:"text-[10px] text-surface-500 bg-surface-700 px-1.5 py-0.5 rounded",children:"auto-ordered"})]}),I.linguistic_changes.filter(ne=>ne.change_type==="removed").length>0&&f.jsxs("span",{className:"text-xs text-red-400",children:[I.linguistic_changes.filter(ne=>ne.change_type==="removed").length," removed"]})]})}),f.jsx("div",{className:"flex-1 px-6 py-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-sm font-medium text-emerald-400",children:["Newer: ",I.version_b_label]}),I.linguistic_changes.filter(ne=>ne.change_type==="added").length>0&&f.jsxs("span",{className:"text-xs text-emerald-400",children:[I.linguistic_changes.filter(ne=>ne.change_type==="added").length," added"]})]})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[L&&f.jsx("div",{className:"flex items-center justify-center py-16",children:f.jsxs("div",{className:"text-center",children:[f.jsxs("svg",{className:"w-8 h-8 animate-spin text-purple-500 mx-auto mb-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("p",{className:"text-surface-400",children:"Loading version history..."})]})}),Z&&f.jsx("div",{className:"p-6",children:f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-center gap-3",children:[f.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"text-red-400",children:Z})]})}),!L&&q&&!I&&f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"mb-6 p-4 bg-surface-800/50 rounded-xl border border-surface-700/50",children:f.jsx("p",{className:"text-sm text-surface-400",children:'Select two versions above and click "Compare" to see side-by-side differences.'})}),f.jsxs("div",{className:"bg-surface-800/50 rounded-xl p-4 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-medium text-white mb-3",children:["Version History (",q.versions.length," commits)",q.has_uncommitted_changes&&f.jsx("span",{className:"ml-2 text-xs text-yellow-400",children:"(uncommitted changes)"})]}),f.jsx("div",{className:"space-y-2",children:q.versions.map(ne=>f.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg hover:bg-surface-700/30 cursor-pointer ${A===ne.commit_hash?"bg-purple-500/20 border border-purple-500/30":""}`,onClick:()=>W(ne.commit_hash),children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${A===ne.commit_hash?"bg-purple-400":"bg-surface-500"}`}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-mono text-purple-400",children:ne.commit_hash.slice(0,7)}),f.jsx("span",{className:"text-sm text-white truncate",children:ne.commit_message})]}),f.jsxs("div",{className:"text-xs text-surface-500",children:[ne.author,"  ",new Date(ne.commit_date).toLocaleString()]})]})]},ne.commit_hash))})]})]}),I&&f.jsxs("div",{className:"divide-y divide-surface-700/30",children:[f.jsxs("div",{className:"flex bg-surface-800/20",children:[f.jsxs("div",{className:"flex-1 p-4 border-r border-surface-700/30",children:[f.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Summary"}),f.jsx("p",{className:"text-sm text-surface-300",children:I.summary||"No changes detected"})]}),f.jsxs("div",{className:"flex-1 p-4",children:[f.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Changes"}),f.jsxs("div",{className:"flex gap-3 text-xs",children:[I.linguistic_changes.filter(ne=>ne.impact==="breaking").length>0&&f.jsxs("span",{className:"text-red-400",children:[I.linguistic_changes.filter(ne=>ne.impact==="breaking").length," breaking"]}),I.linguistic_changes.filter(ne=>ne.impact==="enhancement").length>0&&f.jsxs("span",{className:"text-emerald-400",children:[I.linguistic_changes.filter(ne=>ne.impact==="enhancement").length," enhancements"]}),I.linguistic_changes.filter(ne=>ne.impact==="clarification").length>0&&f.jsxs("span",{className:"text-blue-400",children:[I.linguistic_changes.filter(ne=>ne.impact==="clarification").length," clarifications"]})]})]})]}),I.linguistic_changes.map((ne,he)=>{const pe=D.has(he),xe=()=>{K(ut=>{const et=new Set(ut);return et.has(he)?et.delete(he):et.add(he),et})},Ie=ne.impact==="breaking"?"bg-red-500/5":ne.impact==="enhancement"?"bg-emerald-500/5":"bg-blue-500/5";ne.impact==="breaking"||ne.impact;const ke=(ut=>{const et=ut.split(/[.!?]\s/)[0];return et.length<=100?et+(ut.length>et.length?".":""):ut.slice(0,80)+"..."})(ne.description),Je=ne.description.length>ke.length;return f.jsxs("div",{className:`${Ie} cursor-pointer hover:bg-surface-700/10 transition-colors`,onClick:xe,children:[f.jsx("div",{className:"px-4 pt-4 pb-2 border-b border-surface-700/20",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:`w-2.5 h-2.5 rounded-full mt-1 flex-shrink-0 ${ne.change_type==="added"?"bg-emerald-500":ne.change_type==="removed"?"bg-red-500":"bg-yellow-500"}`}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm text-white font-medium leading-relaxed",children:pe?ne.description:ke}),!pe&&Je&&f.jsx("span",{className:"text-xs text-surface-500 ml-1",children:"(click to see more)"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ne.change_type==="added"?"bg-emerald-500/20 text-emerald-400":ne.change_type==="removed"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:ne.change_type}),f.jsx("span",{className:"text-xs text-surface-500",children:ne.category}),f.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${ne.impact==="breaking"?"bg-red-500/20 text-red-400":ne.impact==="enhancement"?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:ne.impact}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${pe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:`flex-1 border-r border-surface-700/30 p-4 pt-2 ${ne.change_type==="added"?"bg-surface-800/20":""}`,children:ne.old_text?f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:`text-xs text-red-400/90 ${pe?"":"line-clamp-3"}`,children:[pe?"":ne.old_text.slice(0,200),!pe&&ne.old_text.length>200?"...":""]}),pe&&f.jsx("pre",{className:"mt-2 text-xs text-red-300 p-3 bg-surface-900/80 rounded-lg overflow-x-auto whitespace-pre-wrap max-h-64 overflow-y-auto border border-red-500/20",children:ne.old_text})]}):f.jsx("p",{className:"text-xs text-surface-500 italic",children:ne.change_type==="added"?"Not present in older version":""})}),f.jsx("div",{className:`flex-1 p-4 pt-2 ${ne.change_type==="removed"?"bg-surface-800/20":""}`,children:ne.new_text?f.jsxs(f.Fragment,{children:[f.jsxs("p",{className:`text-xs text-emerald-400/90 ${pe?"":"line-clamp-3"}`,children:[pe?"":ne.new_text.slice(0,200),!pe&&ne.new_text.length>200?"...":""]}),pe&&f.jsx("pre",{className:"mt-2 text-xs text-emerald-300 p-3 bg-surface-900/80 rounded-lg overflow-x-auto whitespace-pre-wrap max-h-64 overflow-y-auto border border-emerald-500/20",children:ne.new_text})]}):f.jsx("p",{className:"text-xs text-surface-500 italic",children:ne.change_type==="removed"?"Removed in newer version":""})})]})]},he)}),I.text_diff&&f.jsx("div",{className:"flex",children:f.jsxs("div",{className:"flex-1 p-4 cursor-pointer hover:bg-surface-700/10 transition-colors",onClick:()=>{K(ne=>{const he=new Set(ne);return he.has(-1)?he.delete(-1):he.add(-1),he})},children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm font-medium text-surface-300",children:"Raw Text Diff"}),f.jsxs("span",{className:"text-xs text-surface-500",children:["(",I.text_diff.split(`
`).filter(ne=>ne.startsWith("+")).length," additions,",I.text_diff.split(`
`).filter(ne=>ne.startsWith("-")).length," deletions)"]})]}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${D.has(-1)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),D.has(-1)&&f.jsx("pre",{className:"mt-3 text-xs font-mono p-3 bg-surface-900 rounded-lg overflow-x-auto whitespace-pre max-h-96 overflow-y-auto border border-surface-700/30",children:I.text_diff.split(`
`).map((ne,he)=>f.jsx("div",{className:ne.startsWith("+")&&!ne.startsWith("+++")?"text-emerald-400 bg-emerald-500/10":ne.startsWith("-")&&!ne.startsWith("---")?"text-red-400 bg-red-500/10":ne.startsWith("@")?"text-blue-400 bg-blue-500/10":"text-surface-400",children:ne},he))})]})}),I.linguistic_changes.length===0&&f.jsx("div",{className:"p-12 text-center text-surface-500",children:"No semantic differences detected between versions."})]}),!L&&!q&&!Z&&f.jsx("div",{className:"text-center py-16 text-surface-500",children:f.jsx("p",{children:"No history available. Click Refresh to load."})})]})]}),f.jsxs("div",{className:"px-6 py-3 border-t border-surface-700/50 flex items-center justify-between bg-surface-900/50 flex-shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[N==="alignment"&&u&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-sm text-surface-300",children:u.result.summary}),f.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[u.result.stats.criticalGaps>0&&f.jsxs("span",{className:"text-red-400 flex items-center gap-1 font-medium",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),u.result.stats.criticalGaps," critical gaps"]}),u.result.stats.hiddenKnowledgeCount>0&&f.jsxs("span",{className:"text-orange-400 flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),u.result.stats.hiddenKnowledgeCount," hidden knowledge"]}),u.result.stats.missingRequirements>0&&f.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),u.result.stats.missingRequirements," missing"]}),u.result.stats.undocumentedFeatures>0&&f.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),u.result.stats.undocumentedFeatures," undocumented"]}),!u.result.canRegenerate&&f.jsx("span",{className:"text-red-400 flex items-center gap-1 font-medium",children:"Cannot safely regenerate"}),u.result.canRegenerate&&u.result.stats.criticalGaps===0&&f.jsxs("span",{className:"text-emerald-400 flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Safe to regenerate"]})]})]}),N==="history"&&q&&f.jsxs("div",{className:"text-sm text-surface-300",children:[q.versions.length," version",q.versions.length!==1?"s":""," found",q.has_uncommitted_changes&&f.jsx("span",{className:"text-yellow-400 ml-2",children:" Uncommitted changes present"})]})]}),N==="alignment"&&u&&f.jsxs("div",{className:"text-xs text-surface-500",children:[u.model," ($",u.cost.toFixed(4),")"]}),N==="history"&&I&&I.cost>0&&f.jsxs("div",{className:"text-xs text-surface-500",children:[I.model," ($",I.cost.toFixed(4),")"]})]})]})})},mee=({type:t,name:e})=>t==="directory"?f.jsx(Kz,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".prompt")?f.jsx(Fz,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".py")?f.jsx(Lx,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".ts")||e.endsWith(".tsx")?f.jsx(Lx,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".js")||e.endsWith(".jsx")?f.jsx(Lx,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".json")?f.jsx(JJ,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".md")?f.jsx(P4,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):f.jsx(P4,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}),eL=({node:t,onSelect:e,filter:n,depth:r,directoryMode:s})=>{var g;const[i,a]=_.useState(r<2),o=t.type==="directory";if(!(o?!0:s?!1:!n||n.length===0?!0:n.some(x=>t.name.endsWith(x))))return null;const d=((g=t.children)==null?void 0:g.filter(x=>x.type==="directory"?!0:s?!1:!n||n.length===0?!0:n.some(v=>x.name.endsWith(v))))||[];if(o&&!s&&n&&n.length>0&&d.length===0)return null;const p=()=>{o?a(!i):e(t.path)},m=x=>{x.stopPropagation(),e(t.path)};return f.jsxs("div",{children:[f.jsxs("div",{className:`flex items-center py-1 px-2 cursor-pointer rounded transition-colors ${o?"hover:bg-surface-700":"hover:bg-accent-600/20"}`,style:{paddingLeft:`${r*16+8}px`},onClick:p,children:[o&&f.jsx("span",{className:"mr-1 text-surface-400",children:i?f.jsx(bm,{className:"w-4 h-4"}):f.jsx(ym,{className:"w-4 h-4 rotate-90"})}),f.jsx(mee,{type:t.type,name:t.name}),f.jsx("span",{className:`text-sm flex-1 ${o?"text-surface-200":"text-surface-300"}`,children:t.name}),s&&o&&f.jsx("button",{onClick:m,className:"ml-2 px-2 py-0.5 text-xs bg-accent-600/20 hover:bg-accent-600/40 text-accent-400 rounded transition-colors",children:"Select"})]}),o&&i&&d.map((x,v)=>f.jsx(eL,{node:x,onSelect:e,filter:n,depth:r+1,directoryMode:s},x.path||v))]})},C2=({onSelect:t,onClose:e,filter:n,title:r="Select File",directoryMode:s=!1})=>{const[i,a]=_.useState(null),[o,u]=_.useState(!0),[d,p]=_.useState(null),[m,g]=_.useState(""),x=n?Array.isArray(n)?n:[n]:void 0;_.useEffect(()=>{v()},[]);const v=async()=>{u(!0),p(null);try{const Q=await Ee.getFileTree("",5);a(Q)}catch(Q){p(Q.message||"Failed to load file tree")}finally{u(!1)}},b=Q=>{t(Q)},S=o?f.jsx("div",{className:"bg-surface-800 rounded-lg p-4 border border-surface-700",children:f.jsx("div",{className:"text-surface-400 text-center",children:"Loading files..."})}):d?f.jsxs("div",{className:"bg-surface-800 rounded-lg p-4 border border-surface-700",children:[f.jsx("div",{className:"text-red-400 text-center",children:d}),f.jsx("button",{onClick:v,className:"mt-2 w-full py-1 bg-surface-700 hover:bg-surface-600 rounded text-sm",children:"Retry"})]}):f.jsxs("div",{className:"bg-surface-800 rounded-lg border border-surface-700 overflow-hidden",children:[f.jsxs("div",{className:"p-3 border-b border-surface-700 flex items-center justify-between",children:[f.jsx("h3",{className:"text-sm font-medium text-surface-200",children:r}),e&&f.jsx("button",{onClick:e,className:"p-1 hover:bg-surface-700 rounded text-surface-400 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"p-3 border-b border-surface-700/50",children:[f.jsx("input",{type:"text",placeholder:"Search files...",value:m,onChange:Q=>g(Q.target.value),className:"w-full px-3 py-1.5 bg-surface-900 border border-surface-600 rounded text-sm text-surface-200 placeholder-surface-500 focus:outline-none focus:border-accent-500"}),s?f.jsx("div",{className:"mt-2 text-xs text-surface-500",children:"Showing directories only"}):x&&x.length>0?f.jsxs("div",{className:"mt-2 text-xs text-surface-500",children:["Showing: ",x.join(", ")]}):null]}),f.jsx("div",{className:"max-h-80 overflow-y-auto p-2",children:i?f.jsx(eL,{node:i,onSelect:b,filter:x,depth:0,directoryMode:s}):f.jsx("div",{className:"text-surface-500 text-center py-4",children:"No files found"})})]});return e?f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:Q=>{Q.target===Q.currentTarget&&e()},children:f.jsx("div",{className:"w-full max-w-md mx-4",children:S})}):S},Hs=({label:t,value:e,onChange:n,placeholder:r="",description:s,required:i=!1,filter:a,directoryMode:o=!1,title:u,isDetected:d,detectedLabel:p="detected",className:m=""})=>{const[g,x]=_.useState(!1),v=Q=>{n(Q),x(!1)},b=Q=>{n(Q.target.value)},S=d!==void 0?d?"border-green-500/50":"border-yellow-500/50":"border-surface-600";return f.jsxs("div",{className:m,children:[f.jsxs("label",{className:"block text-sm font-medium text-white mb-1.5",children:[t,i&&f.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),s&&f.jsx("p",{className:"text-xs text-surface-400 mb-2",children:s}),f.jsxs("div",{className:"relative flex gap-2",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx("input",{type:"text",value:e,onChange:b,placeholder:r,className:`w-full px-3 py-2.5 bg-surface-900/50 border ${S} rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all pr-20`}),d&&f.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-400 text-xs px-1.5 py-0.5 rounded bg-green-500/20",children:p})]}),f.jsx("button",{type:"button",onClick:()=>x(!0),className:"px-3 py-2.5 bg-surface-700 hover:bg-surface-600 rounded-xl text-surface-300 hover:text-white transition-colors flex items-center gap-2",title:"Browse files",children:f.jsx(KJ,{className:"w-4 h-4"})})]}),g&&f.jsx(C2,{onSelect:v,onClose:()=>x(!1),filter:a,directoryMode:o,title:u||(o?"Select Directory":"Select File")})]})};function Oee(t){var n;const e=(n=t.split(".").pop())==null?void 0:n.toLowerCase();switch(e){case"py":return UK();case"js":case"jsx":case"ts":case"tsx":return fz({jsx:!0,typescript:e==="ts"||e==="tsx"});case"java":return FK();default:return[]}}const gee=new Wz({breaks:!0,gfm:!0});function Zx(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const Vx=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`option-${t.name}`;if(t.type==="checkbox")return f.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[f.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:Zx(t.name)}),f.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return f.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:Zx(t.name)}),f.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),f.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:d=>n(parseFloat(d.target.value)),className:`flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500
              [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-500
              [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent-500/30
              [&::-webkit-slider-thumb]:hover:bg-accent-400 [&::-webkit-slider-thumb]:transition-colors`}),f.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return f.jsxs("div",{children:[f.jsxs("label",{htmlFor:s,className:`block ${r?"text-xs":"text-sm"} font-medium text-white mb-1.5`,children:[Zx(t.name),t.required&&f.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mb-2`,children:t.description}),t.type==="textarea"?f.jsx("textarea",{id:s,value:e||"",onChange:i=>n(i.target.value),placeholder:t.placeholder,required:t.required,rows:3,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all resize-none"}):f.jsx("input",{type:t.type==="number"?"number":"text",id:s,value:e||"",onChange:i=>n(t.type==="number"?i.target.value?Number(i.target.value):"":i.target.value),placeholder:t.placeholder,required:t.required,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})},xee=({command:t,prompt:e,onRun:n,onAddToQueue:r,onCancel:s})=>{const[i,a]=_.useState(!1),[o,u]=_.useState(()=>{const x={};return t.options.forEach(v=>{v.defaultValue!==void 0&&(v.type==="checkbox"?x[v.name]=v.defaultValue==="true"||v.defaultValue===!0:(v.type==="number"||v.type,x[v.name]=v.defaultValue))}),t.requiresCode&&(x._code=e.code||""),t.requiresTest&&(x._test=e.test||""),t.name===Ze.SUBMIT_EXAMPLE&&e.example&&(x["verification-program"]=e.example),Or.forEach(v=>{x[`_global_${v.name}`]=v.defaultValue}),x}),d=(x,v)=>{u(b=>({...b,[x]:v}))},p=x=>{x.preventDefault();const v={};Object.entries(o).forEach(([b,S])=>{b.startsWith("_global_")||S!==""&&S!==void 0&&S!==null&&(v[b]=S)}),Or.forEach(b=>{const S=o[`_global_${b.name}`],Q=b.defaultValue;S!==Q&&S!==void 0&&S!==null&&(v[`_global_${b.name}`]=S)}),n(v)},m=()=>{const x={};Object.entries(o).forEach(([v,b])=>{v.startsWith("_global_")||b!==""&&b!==void 0&&b!==null&&(x[v]=b)}),Or.forEach(v=>{const b=o[`_global_${v.name}`],S=v.defaultValue;b!==S&&b!==void 0&&b!==null&&(x[`_global_${v.name}`]=b)}),r==null||r(x)},g=Or.some(x=>o[`_global_${x.name}`]!==x.defaultValue);return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:f.jsxs("div",{className:"glass rounded-2xl border border-surface-600/50 shadow-2xl w-full max-w-md animate-scale-in",onClick:x=>x.stopPropagation(),children:[f.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-surface-700/50",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center",children:f.jsx("span",{className:"text-xl",children:t.icon})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:t.shortDescription}),f.jsx("p",{className:"text-xs sm:text-sm text-surface-400 line-clamp-1",children:t.description})]})]})}),f.jsxs("form",{onSubmit:p,children:[f.jsxs("div",{className:"px-4 sm:px-6 py-4 space-y-4 max-h-[50vh] sm:max-h-[60vh] overflow-y-auto",children:[f.jsxs("div",{className:"bg-surface-800/50 rounded-xl px-3 py-2.5 border border-surface-700/50",children:[f.jsx("div",{className:"text-xs text-surface-400 mb-0.5",children:"Target Prompt"}),f.jsx("div",{className:"text-sm text-white font-mono truncate",children:e.sync_basename})]}),t.requiresCode&&f.jsx(Hs,{label:"Code File",value:o._code||"",onChange:x=>d("_code",x),placeholder:"e.g., src/calculator.py",description:e.code?"Auto-detected code file. Change if needed.":"No code file detected. Enter the path to use.",required:!0,filter:[".py",".ts",".tsx",".js",".jsx",".java",".go",".rs",".rb",".php",".cs",".cpp",".c",".h"],title:"Select Code File",isDetected:!!e.code}),t.requiresTest&&f.jsx(Hs,{label:"Test File",value:o._test||"",onChange:x=>d("_test",x),placeholder:"e.g., tests/test_calculator.py",description:e.test?"Auto-detected test file. Change if needed.":"No test file detected. Enter the path to use.",required:!0,filter:[".py",".ts",".tsx",".js",".jsx",".java",".go",".rs",".rb",".php",".cs",".cpp",".c"],title:"Select Test File",isDetected:!!e.test}),t.options.length>0?t.options.map(x=>f.jsx(Vx,{option:x,value:o[x.name],onChange:v=>d(x.name,v)},x.name)):!t.requiresCode&&!t.requiresTest?f.jsx("p",{className:"text-surface-400 text-sm",children:"No additional options for this command."}):null,f.jsxs("div",{className:"border-t border-surface-700/30 pt-3 mt-2",children:[f.jsxs("button",{type:"button",onClick:()=>a(!i),className:"w-full flex items-center justify-between text-left group",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),g&&f.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&f.jsxs("div",{className:"mt-3 space-y-3 animate-slide-down",children:[f.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),Or.filter(x=>["strength","temperature","time"].includes(x.name)).map(x=>f.jsx(Vx,{option:x,value:o[`_global_${x.name}`],onChange:v=>d(`_global_${x.name}`,v),compact:!0},x.name))]}),f.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),Or.filter(x=>["local","verbose","quiet","force","review-examples"].includes(x.name)).map(x=>f.jsx(Vx,{option:x,value:o[`_global_${x.name}`],onChange:v=>d(`_global_${x.name}`,v),compact:!0},x.name))]})]})]})]}),f.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-surface-700/50 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3",children:[f.jsx("button",{type:"button",onClick:s,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-surface-700/50 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),r&&f.jsxs("button",{type:"button",onClick:m,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600 hover:text-white border border-emerald-600/30 hover:border-emerald-500/50 transition-all flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),f.jsx("span",{children:"Add to Queue"})]}),f.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25 transition-all flex items-center justify-center gap-2",children:[f.jsx("span",{children:t.icon}),f.jsxs("span",{children:["Run ",t.shortDescription]})]})]})]})]})})},yee=({prompt:t,onBack:e,onRunCommand:n,onAddToQueue:r,isExecuting:s,executionStatus:i="idle",lastCommand:a=null,lastRunResult:o=null,onCancelCommand:u})=>{var mn;const d=_.useRef(null),p=_.useRef(null),m=_.useRef(""),g=_.useRef(""),x=_.useRef(new Kf),[v,b]=_.useState(!0),[S,Q]=_.useState(null),[k,$]=_.useState(null),[T,j]=_.useState(!1),[N,C]=_.useState(!1),[q,M]=_.useState(!1),[L,E]=_.useState(null),[Z,Y]=_.useState("raw"),[R,G]=_.useState(null),[A,W]=_.useState(!1),[I,U]=_.useState(!1),[ee,z]=_.useState(null),[D,K]=_.useState({visible:!1,loading:!1,tagInfo:null,metrics:null,error:null}),[B,H]=_.useState(""),[J,re]=_.useState(!1),[ie,ce]=_.useState(null),[ve,_e]=_.useState(!1),[ne,he]=_.useState(null),pe=_.useRef(null),xe=_.useRef(null),[Ie,je]=_.useState(!1),[ke,Je]=_.useState(!1),[ut,et]=_.useState(null),[jt,Ve]=_.useState(!1);_.useEffect(()=>{if(I){let be;Z==="processed"&&(R!=null&&R.processed_content)?be=R.processed_content:p.current?be=p.current.state.doc.toString():be=g.current||k||"",H(be)}},[I,Z,R==null?void 0:R.processed_content,k]);const nt=_.useMemo(()=>{if(!B)return"";try{const be=gee.parse(B);return typeof be=="string"?be:""}catch(be){return console.error("Markdown rendering error:",be),'<p class="text-red-400">Error rendering markdown</p>'}},[B]);_.useEffect(()=>{let be=!1;return(async()=>{b(!0),Q(null);try{const Ye=await Ee.getFileContent(t.prompt);be||(m.current=Ye.content,g.current=Ye.content,$(Ye.content))}catch(Ye){be||Q(Ye.message||"Failed to load file")}finally{be||b(!1)}})(),()=>{be=!0}},[t.prompt]),_.useEffect(()=>{if(I||k===null||!d.current)return;p.current&&(p.current.destroy(),p.current=null);const be=g.current||k,Ce=gt.create({doc:be,extensions:[Y_(),M_(),CU(),Rc.of([...mX,...qW,...ZU]),$F(),v4,...uee(),x.current.of(qe.editable.of(Z==="raw")),qe.updateListener.of(Ye=>{if(Ye.docChanged){const bn=Ye.state.doc.toString();Ye.view.state.facet(qe.editable)&&(g.current=bn),j(bn!==m.current)}}),qe.theme({"&":{height:"100%",fontSize:"14px",backgroundColor:"rgb(17 24 39)"},".cm-scroller":{overflow:"auto",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace'},".cm-gutters":{backgroundColor:"rgb(31 41 55)",borderRight:"1px solid rgb(55 65 81)"},".cm-activeLineGutter":{backgroundColor:"rgb(55 65 81)"},".cm-activeLine":{backgroundColor:"rgba(55, 65, 81, 0.5)"}})]});return p.current=new qe({state:Ce,parent:d.current}),()=>{p.current&&(p.current.destroy(),p.current=null)}},[k,I,Z]),_.useEffect(()=>{if(k===null)return;const Ce=setTimeout(async()=>{W(!0);try{const Ye=p.current?p.current.state.doc.toString():g.current||k,bn=(ee==null?void 0:ee.model)||"claude-sonnet-4-20250514",Mn=await Ee.analyzePrompt({path:t.prompt,model:bn,preprocess:!0,content:Ye});G(Mn)}catch(Ye){console.error("Failed to analyze prompt:",Ye)}finally{W(!1)}},500);return()=>clearTimeout(Ce)},[k,t.prompt,T,ee]);const ln=_.useCallback(async()=>{if(!t.code){he("No code file associated with this prompt");return}_e(!0),he(null);try{const be=await Ee.getFileContent(t.code);ce(be.content)}catch(be){he(be.message||"Failed to load code file")}finally{_e(!1)}},[t.code]),St=_.useCallback(()=>{!J&&!ie&&t.code&&ln(),re(!J)},[J,ie,t.code,ln]),Ut=_.useCallback(()=>{ln()},[ln]);_.useEffect(()=>{if(!J||ie===null||!pe.current)return;xe.current&&(xe.current.destroy(),xe.current=null);const be=gt.create({doc:ie,extensions:[Y_(),M_(),qe.editable.of(!1),Oee(t.code||""),v4,qe.theme({"&":{height:"100%",fontSize:"13px",backgroundColor:"rgb(17 24 39)"},".cm-scroller":{overflow:"auto",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace'},".cm-gutters":{backgroundColor:"rgb(31 41 55)",borderRight:"1px solid rgb(55 65 81)"},".cm-activeLineGutter":{backgroundColor:"rgb(55 65 81)"},".cm-activeLine":{backgroundColor:"rgba(55, 65, 81, 0.5)"}})]});return xe.current=new qe({state:be,parent:pe.current}),()=>{xe.current&&(xe.current.destroy(),xe.current=null)}},[J,ie,t.code]),_.useEffect(()=>{const be=Ce=>{(Ce.metaKey||Ce.ctrlKey)&&Ce.key==="."&&(Ce.preventDefault(),Lt()),Ce.key==="Escape"&&D.visible&&dt()};return window.addEventListener("keydown",be),()=>window.removeEventListener("keydown",be)},[D.visible]);const qt=be=>{if(Z==="raw"&&p.current&&(g.current=p.current.state.doc.toString()),Y(be),p.current){let Ce;const Ye=be==="raw";be==="processed"&&(R!=null&&R.processed_content)?Ce=R.processed_content:Ce=g.current||k||"";const bn=p.current.state.doc.toString(),Mn=[x.current.reconfigure(qe.editable.of(Ye))];bn!==Ce?p.current.dispatch({changes:{from:0,to:bn.length,insert:Ce},effects:Mn}):p.current.dispatch({effects:Mn})}},pn=async()=>{if(p.current){C(!0),M(!1),Q(null);try{const be=p.current.state.doc.toString();await Ee.writeFile(t.prompt,be),m.current=be,g.current=be,j(!1),M(!0),setTimeout(()=>M(!1),2e3)}catch(be){Q(be.message||"Failed to save")}finally{C(!1)}}},yn=()=>{T&&!window.confirm("Discard unsaved changes?")||e()},Qt=async()=>{if(p.current){Je(!0),et(null),Ve(!1);try{const be=t.prompt.split("/").pop()||t.prompt,Ce=await Ee.generateTagsForPrompt(be);if(!Ce.success){et(Ce.error||"Failed to generate tags");return}if(!Ce.tags){et("No architecture entry found for this prompt");return}if(Ce.has_existing_tags){if(!window.confirm("This prompt already has PDD tags. Replace them with tags from architecture.json?"))return;const bn=p.current.state.doc.toString().replace(/<pdd-reason>[\s\S]*?<\/pdd-reason>\s*/g,"").replace(/<pdd-interface>[\s\S]*?<\/pdd-interface>\s*/g,"").replace(/<pdd-dependency>[\s\S]*?<\/pdd-dependency>\s*/g,"").trimStart(),Mn=Ce.tags+`

`+bn;p.current.dispatch({changes:{from:0,to:p.current.state.doc.length,insert:Mn}})}else{const Ye=p.current.state.doc.toString(),bn=Ce.tags+`

`+Ye;p.current.dispatch({changes:{from:0,to:p.current.state.doc.length,insert:bn}})}g.current=p.current.state.doc.toString(),j(g.current!==m.current),Ve(!0),setTimeout(()=>Ve(!1),3e3)}catch(be){et(be.message||"Failed to sync from architecture")}finally{Je(!1)}}},Lt=async()=>{if(!p.current)return;const be=p.current.state,Ce=fee(be);if(!Ce){K({visible:!0,loading:!1,tagInfo:null,metrics:null,error:"Place cursor inside an <include>, <shell>, or <web> tag to analyze"}),setTimeout(()=>K(Ye=>({...Ye,visible:!1})),3e3);return}K({visible:!0,loading:!0,tagInfo:Ce,metrics:null,error:null});try{let Ye=Ce.path;if(Ce.tagType==="include-many"){const Mn=dee(Ce.path);Mn.length>0&&(Ye=Mn[0])}const bn=await Ee.analyzeFile(Ye);K({visible:!0,loading:!1,tagInfo:Ce,metrics:bn,error:null})}catch(Ye){K({visible:!0,loading:!1,tagInfo:Ce,metrics:null,error:Ye.message||"Failed to analyze file"})}},dt=()=>{K(be=>({...be,visible:!1}))},rt=be=>{const Ce=Ra[be];Ce.options&&Ce.options.length>0||Ce.requiresCode||Ce.requiresTest?E(Ce):n(be)},Wt=be=>{L&&(n(L.name,be),E(null))},yt=be=>{L&&r&&(r(L.name,be),E(null))},Kt=be=>{const Ce=[];return be.requiresCode&&!t.code&&Ce.push("code"),be.requiresTest&&!t.test&&Ce.push("test"),Ce},ir=Object.values(Ra).filter(be=>be.requiresPrompt&&!be.isAdvanced),ye=Object.values(Ra).filter(be=>be.isAdvanced),[Qe,Pe]=_.useState(!1),[Fe,_t]=_.useState(!1),[Yt,Rn]=_.useState(!1);return f.jsxs("div",{className:"h-screen flex flex-col bg-surface-950",children:[f.jsxs("header",{className:"glass flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 border-b border-surface-700/50 sticky top-0 z-30",children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[f.jsxs("button",{onClick:yn,className:"flex items-center gap-1.5 sm:gap-2 text-surface-400 hover:text-white transition-colors px-2 py-1.5 rounded-lg hover:bg-surface-700/50",children:[f.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),f.jsx("span",{className:"hidden sm:inline text-sm",children:"Back"})]}),f.jsx("div",{className:"h-5 w-px bg-surface-700 hidden sm:block"}),f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("h1",{className:"text-sm sm:text-lg font-semibold text-white truncate",children:t.sync_basename}),t.language&&f.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded-full text-[10px] sm:text-xs bg-accent-500/15 text-accent-300 border border-accent-500/30 font-medium flex-shrink-0",children:t.language}),t.sync_basename&&t.language&&f.jsx(lee,{basename:t.sync_basename,language:t.language,refreshTrigger:q?1:0})]})]}),f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[f.jsx("button",{onClick:()=>Pe(!Qe),className:"lg:hidden flex items-center gap-1.5 px-2.5 py-1.5 text-surface-400 hover:text-white bg-surface-700/50 hover:bg-surface-600 rounded-lg transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),T&&f.jsxs("span",{className:"text-yellow-400 text-xs sm:text-sm flex items-center gap-1.5 px-2 py-1 rounded-full bg-yellow-500/10 border border-yellow-500/20",children:[f.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-yellow-400 rounded-full animate-pulse"}),f.jsx("span",{className:"hidden xs:inline",children:"Unsaved"})]}),q&&f.jsx("span",{className:"text-green-400 text-xs sm:text-sm flex items-center gap-1.5 px-2 py-1 rounded-full bg-green-500/10 border border-green-500/20",children:f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),jt&&f.jsxs("span",{className:"text-emerald-400 text-xs sm:text-sm flex items-center gap-1.5 px-2 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20",children:[f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f.jsx("span",{className:"hidden sm:inline",children:"Tags injected"})]}),ut&&f.jsx("span",{className:"text-red-400 text-xs flex items-center gap-1 px-2 py-1 rounded-full bg-red-500/10 border border-red-500/20",title:ut,children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsxs("button",{onClick:Qt,disabled:ke||Z==="processed",className:`px-2.5 sm:px-3 py-1.5 text-xs sm:text-sm rounded-lg flex items-center gap-1.5 transition-all duration-200 ${!ke&&Z==="raw"?"bg-surface-700/50 text-surface-300 hover:text-white hover:bg-surface-600 border border-surface-600":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:"Inject PDD tags from architecture.json",children:[ke?f.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 sm:h-4 sm:w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{className:"hidden sm:inline",children:ke?"Syncing...":"Sync from JSON"})]}),f.jsxs("button",{onClick:pn,disabled:!T||N||Z==="processed",className:`px-2.5 sm:px-4 py-1.5 text-xs sm:text-sm rounded-lg flex items-center gap-1.5 sm:gap-2 transition-all duration-200 ${T&&!N&&Z==="raw"?"bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25":"bg-surface-700/50 text-surface-500 cursor-not-allowed"}`,title:Z==="processed"?"Switch to Raw view to save changes":void 0,children:[N?f.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 sm:h-4 sm:w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),f.jsx("span",{className:"hidden xs:inline",children:N?"Saving...":"Save"})]})]})]}),i!=="idle"&&f.jsxs("div",{className:`
          px-3 sm:px-4 py-2 text-center text-xs sm:text-sm font-medium border-b animate-slide-down
          ${i==="running"?"bg-accent-500/10 text-accent-300 border-accent-500/20":""}
          ${i==="success"?"bg-green-500/10 text-green-300 border-green-500/20":""}
          ${i==="failed"?"bg-red-500/10 text-red-300 border-red-500/20":""}
        `,children:[i==="running"&&f.jsxs("span",{className:"flex items-center justify-center gap-2 flex-wrap",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("code",{className:"bg-surface-800/80 px-2 py-0.5 rounded text-xs font-mono max-w-[150px] sm:max-w-none truncate",children:a}),u&&f.jsx("button",{onClick:u,className:"ml-2 px-2.5 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-lg text-xs font-medium transition-colors",children:"Stop"})]}),i==="success"&&f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Done"]}),i==="failed"&&f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Failed",o!=null&&o.exit_code?` (exit code: ${o.exit_code})`:""]}),(o==null?void 0:o.error_details)&&f.jsx("div",{className:"text-xs text-red-200/80 max-w-xl text-center px-4",children:o.error_details})]})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[Qe&&f.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40 animate-fade-in",onClick:()=>Pe(!1)}),f.jsxs("aside",{className:`
          ${Qe?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          ${J?"lg:hidden":""}
          fixed lg:relative z-50 lg:z-auto
          w-56 sm:w-52 lg:w-48 h-full
          glass lg:bg-surface-800/30 border-r border-surface-700/50
          flex flex-col transition-transform duration-300 ease-out
        `,children:[f.jsxs("div",{className:"lg:hidden flex items-center justify-between p-3 border-b border-surface-700/50",children:[f.jsx("span",{className:"text-sm font-semibold text-white",children:"Menu"}),f.jsx("button",{onClick:()=>Pe(!1),className:"p-1.5 text-surface-400 hover:text-white rounded-lg hover:bg-surface-700/50",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"p-3 border-b border-surface-700/50 hidden lg:block",children:f.jsx("h2",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Commands"})}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f.jsx("div",{className:"p-2 space-y-1",children:ir.map(be=>{const Ce=Kt(be),Ye=Ce.length>0;return f.jsxs("button",{onClick:()=>{s||(rt(be.name),Pe(!1))},disabled:s,className:`w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm text-left transition-all duration-200 ${s?"text-surface-500 cursor-not-allowed":"text-surface-300 hover:bg-surface-700/50 hover:text-white"}`,title:Ye?`${be.description} (${Ce.join(", ")} file${Ce.length>1?"s":""} not auto-detected)`:be.description,children:[f.jsx("span",{className:"text-base",children:be.icon}),f.jsx("span",{className:"flex-1",children:be.shortDescription}),Ye&&f.jsx("span",{className:"w-5 h-5 rounded-full bg-yellow-500/20 text-yellow-400 text-xs flex items-center justify-center",children:"!"})]},be.name)})}),ye.length>0&&f.jsxs("div",{className:"border-t border-surface-700/30",children:[f.jsxs("button",{onClick:()=>_t(!Fe),className:"w-full p-3 flex items-center justify-between text-left hover:bg-surface-700/30 transition-colors",children:[f.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Operations"}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${Fe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Fe&&f.jsx("div",{className:"p-2 pt-0 space-y-1",children:ye.map(be=>{const Ye=Kt(be).length>0;return f.jsxs("button",{onClick:()=>{s||(rt(be.name),Pe(!1))},disabled:s,className:`w-full flex items-center gap-2.5 px-3 py-2 rounded-lg text-sm text-left transition-all duration-200 ${s?"text-surface-500 cursor-not-allowed":"text-surface-300 hover:bg-surface-700/50 hover:text-white"}`,title:be.description,children:[f.jsx("span",{className:"text-surface-500 text-xs",children:be.icon}),f.jsx("span",{className:"flex-1 text-xs",children:be.shortDescription}),Ye&&f.jsx("span",{className:"w-4 h-4 rounded-full bg-yellow-500/20 text-yellow-400 text-[10px] flex items-center justify-center",children:"!"})]},be.name)})})]})]}),f.jsxs("div",{className:"p-3 border-t border-surface-700/50 space-y-2",children:[f.jsx("h3",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Files"}),f.jsxs("div",{className:"space-y-1.5 text-xs",children:[f.jsx(rp,{label:"Prompt",path:t.prompt,exists:!0}),f.jsx(rp,{label:"Code",path:t.code,exists:!!t.code}),f.jsx(rp,{label:"Test",path:t.test,exists:!!t.test}),f.jsx(rp,{label:"Example",path:t.example,exists:!!t.example})]})]})]}),f.jsx("main",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:v?f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center mb-4",children:f.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),f.jsx("div",{className:"text-surface-400 text-sm",children:"Loading prompt..."})]}):S&&k===null?f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[f.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center mb-4",children:f.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("div",{className:"text-red-400 mb-2",children:S}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-surface-700/50 hover:bg-surface-600 rounded-xl text-sm text-white transition-colors border border-surface-600",children:"Retry"})]}):f.jsxs(f.Fragment,{children:[f.jsx(WJ,{rawMetrics:(R==null?void 0:R.raw_metrics)||null,processedMetrics:(R==null?void 0:R.processed_metrics)||null,viewMode:Z,onViewModeChange:qt,isLoading:A,preprocessingError:R==null?void 0:R.preprocessing_error,timeValue:dn.time,promptLineCount:k?k.split(`
`).length:void 0,codeLineCount:ie?ie.split(`
`).length:void 0,selectedModel:ee,onModelChange:z}),f.jsxs("div",{className:"px-3 sm:px-4 py-2 bg-surface-800/30 border-b border-surface-700/50 text-xs sm:text-sm text-surface-400 font-mono flex items-center gap-2 overflow-hidden",children:[f.jsx("span",{className:"truncate flex-1",children:t.prompt}),Z==="processed"&&f.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] sm:text-xs bg-yellow-500/15 text-yellow-300 border border-yellow-500/30 flex-shrink-0",children:"Read Only"}),f.jsxs("button",{onClick:Lt,disabled:I,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${I?"bg-surface-700/30 text-surface-500 cursor-not-allowed":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white"}`,title:"Analyze include tag at cursor (Cmd+.)",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),f.jsx("span",{className:"hidden sm:inline",children:"Tokens"})]}),f.jsxs("button",{onClick:St,disabled:!t.code,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${t.code?J?"bg-blue-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:t.code?J?"Hide code panel":"Show code side-by-side":"No code file available",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),f.jsx("span",{className:"hidden sm:inline",children:"Code"})]}),f.jsxs("button",{onClick:()=>Rn(!Yt),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${Yt?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white"}`,title:Yt?"Hide prompting guide":"Show prompting guide",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{className:"hidden sm:inline",children:"Guide"})]}),f.jsxs("button",{onClick:()=>je(!0),disabled:!t.code,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${t.code?"bg-gradient-to-r from-purple-600/50 to-blue-600/50 text-purple-200 hover:from-purple-500 hover:to-blue-500 hover:text-white":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:t.code?"View detailed diff analysis":"No code file available",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),f.jsx("span",{className:"hidden sm:inline",children:"Diff"})]}),f.jsx("button",{onClick:()=>U(!I),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${I?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white"}`,title:I?"Show source code":"Show rendered preview",children:I?f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),f.jsx("span",{className:"hidden sm:inline",children:"Source"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),f.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})})]}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsx("div",{className:`flex-1 flex flex-col overflow-hidden ${J?"flex-1":"w-full"}`,children:I?f.jsx("div",{className:"flex-1 overflow-auto bg-surface-900/50 p-4 sm:p-6 lg:p-8",children:f.jsx("div",{className:"markdown-body max-w-4xl mx-auto",dangerouslySetInnerHTML:{__html:nt}})}):f.jsx("div",{ref:d,className:"flex-1 overflow-hidden"})}),J&&f.jsx("div",{className:"flex flex-col items-center justify-center py-4 px-1 bg-surface-800/50 border-x border-surface-700/50",children:f.jsx("div",{className:"flex flex-col gap-1.5",children:ir.map(be=>{const Ce=Kt(be),Ye=Ce.length>0;return f.jsxs("button",{onClick:()=>{s||rt(be.name)},disabled:s,className:`flex flex-col items-center gap-1 p-2 rounded-lg text-xs font-medium transition-all duration-200 min-w-[52px] ${s?"text-surface-500 cursor-not-allowed":"text-surface-400 hover:bg-surface-700/70 hover:text-white"}`,title:Ye?`${be.description} (${Ce.join(", ")} file${Ce.length>1?"s":""} not auto-detected)`:be.description,children:[f.jsxs("span",{className:"text-lg relative",children:[be.icon,Ye&&f.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 rounded-full bg-yellow-500/80"})]}),f.jsx("span",{className:"text-[10px] leading-tight text-center",children:be.shortDescription})]},be.name)})})}),J&&f.jsxs("div",{className:"flex-1 flex flex-col bg-surface-900/50",children:[f.jsxs("div",{className:"px-3 py-2 bg-surface-800/50 border-b border-surface-700/50 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[f.jsx("svg",{className:"w-4 h-4 text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),f.jsx("span",{className:"text-xs text-surface-400 font-mono truncate",title:t.code||"",children:((mn=t.code)==null?void 0:mn.split("/").pop())||"Code"}),f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-blue-500/20 text-blue-300 flex-shrink-0",children:"Read Only"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:Ut,disabled:ve,className:"p-1.5 text-surface-400 hover:text-white hover:bg-surface-700 rounded transition-colors",title:"Reload code file",children:f.jsx("svg",{className:`w-3.5 h-3.5 ${ve?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),f.jsx("button",{onClick:()=>re(!1),className:"p-1.5 text-surface-400 hover:text-white hover:bg-surface-700 rounded transition-colors",title:"Close code panel",children:f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),ve?f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{className:"text-sm text-surface-400",children:"Loading code..."})]})}):ne?f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-3 p-4 text-center",children:[f.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),f.jsx("span",{className:"text-sm text-red-300",children:ne}),f.jsx("button",{onClick:Ut,className:"px-3 py-1.5 text-xs bg-surface-700 hover:bg-surface-600 rounded-lg transition-colors",children:"Retry"})]})}):f.jsx("div",{ref:pe,className:"flex-1 overflow-hidden"})]})]}),S&&f.jsx("div",{className:"px-3 sm:px-4 py-2 bg-red-500/10 border-t border-red-500/20 text-red-300 text-xs sm:text-sm",children:S})]})}),f.jsx(iee,{isOpen:Yt,onClose:()=>Rn(!1)})]}),L&&f.jsx(xee,{command:L,prompt:t,onRun:Wt,onAddToQueue:r?yt:void 0,onCancel:()=>E(null)}),D.visible&&f.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:f.jsxs("div",{className:"bg-surface-800 border border-surface-600 rounded-xl shadow-2xl p-4 w-80",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("h4",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Include Analysis"]}),f.jsx("button",{onClick:dt,className:"p-1 rounded hover:bg-surface-700 text-surface-400 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),D.loading?f.jsxs("div",{className:"flex items-center justify-center py-4",children:[f.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{className:"ml-2 text-sm text-surface-400",children:"Analyzing..."})]}):D.error?f.jsx("div",{className:"text-sm text-surface-400 bg-surface-900/50 rounded-lg p-3",children:D.error}):D.metrics&&D.tagInfo?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"File"}),f.jsx("div",{className:"text-sm text-white font-mono truncate",children:D.tagInfo.path})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Tokens"}),f.jsx("div",{className:"text-lg font-semibold text-accent-400",children:D.metrics.token_count.toLocaleString()})]}),f.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Context Usage"}),f.jsxs("div",{className:"text-lg font-semibold text-white",children:[D.metrics.context_usage_percent.toFixed(1),"%"]})]})]}),D.metrics.cost_estimate&&f.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[f.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Estimated Cost"}),f.jsxs("div",{className:"text-sm text-green-400",children:["$",D.metrics.cost_estimate.input_cost.toFixed(4)," USD"]})]})]}):null,f.jsx("div",{className:"mt-3 pt-3 border-t border-surface-700",children:f.jsxs("p",{className:"text-[10px] text-surface-500",children:["Press ",f.jsx("kbd",{className:"px-1 py-0.5 bg-surface-700 rounded text-surface-400",children:"Cmd+."})," to analyze include at cursor"]})})]})}),f.jsx(pee,{isOpen:Ie,onClose:()=>je(!1),promptContent:p.current?p.current.state.doc.toString():g.current||k||"",codeContent:ie||"",promptPath:t==null?void 0:t.prompt,codePath:t==null?void 0:t.code,prompt:t,onRunCommand:n})]})},rp=({label:t,path:e,exists:n})=>f.jsxs("div",{className:`flex items-center gap-2 ${n?"text-surface-300":"text-surface-500"}`,children:[f.jsx("span",{className:`w-4 h-4 rounded flex items-center justify-center text-[10px] ${n?"bg-green-500/20 text-green-400":"bg-surface-700/50 text-surface-500"}`,children:n?"":""}),f.jsx("span",{children:t})]});function Un(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Un(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Yx={exports:{}},Dx={},Bx={exports:{}},Ux={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4;function bee(){if(N4)return Ux;N4=1;var t=Gf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(m,g){var x=g(),v=r({inst:{value:x,getSnapshot:g}}),b=v[0].inst,S=v[1];return i(function(){b.value=x,b.getSnapshot=g,u(b)&&S({inst:b})},[m,x,g]),s(function(){return u(b)&&S({inst:b}),m(function(){u(b)&&S({inst:b})})},[m]),a(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function d(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return Ux.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Ux}var C4;function vee(){return C4||(C4=1,Bx.exports=bee()),Bx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R4;function wee(){if(R4)return Dx;R4=1;var t=Gf(),e=vee();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Dx.useSyncExternalStoreWithSelector=function(d,p,m,g,x){var v=i(null);if(v.current===null){var b={hasValue:!1,value:null};v.current=b}else b=v.current;v=o(function(){function Q(N){if(!k){if(k=!0,$=N,N=g(N),x!==void 0&&b.hasValue){var C=b.value;if(x(C,N))return T=C}return T=N}if(C=T,r($,N))return C;var q=g(N);return x!==void 0&&x(C,q)?($=N,C):($=N,T=q)}var k=!1,$,T,j=m===void 0?null:m;return[function(){return Q(p())},j===null?void 0:function(){return Q(j())}]},[p,m,g,x]);var S=s(d,v[0],v[1]);return a(function(){b.hasValue=!0,b.value=S},[S]),u(S),S},Dx}var E4;function See(){return E4||(E4=1,Yx.exports=wee()),Yx.exports}var Qee=See();const kee=Pm(Qee),$ee={},A4=t=>{let e;const n=new Set,r=(p,m)=>{const g=typeof p=="function"?p(e):p;if(!Object.is(g,e)){const x=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,x))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{($ee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,u);return u},Tee=t=>t?A4(t):A4,{useDebugValue:jee}=fe,{useSyncExternalStoreWithSelector:_ee}=kee,Pee=t=>t;function tL(t,e=Pee,n){const r=_ee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return jee(r),r}const q4=(t,e)=>{const n=Tee(t),r=(s,i=e)=>tL(n,s,i);return Object.assign(r,n),r},Nee=(t,e)=>t?q4(t,e):q4;function qn(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var Cee={value:()=>{}};function aO(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new qp(n)}function qp(t){this._=t}function Ree(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}qp.prototype=aO.prototype={constructor:qp,on:function(t,e){var n=this._,r=Ree(t+"",n),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(t=r[i]).type)&&(s=Eee(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(s=(t=r[i]).type)n[s]=M4(n[s],t.name,e);else if(e==null)for(s in n)n[s]=M4(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new qp(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function Eee(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function M4(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=Cee,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var R2="http://www.w3.org/1999/xhtml";const X4={svg:"http://www.w3.org/2000/svg",xhtml:R2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function lO(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),X4.hasOwnProperty(e)?{space:X4[e],local:t}:t}function Aee(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===R2&&e.documentElement.namespaceURI===R2?e.createElement(t):e.createElementNS(n,t)}}function qee(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function nL(t){var e=lO(t);return(e.local?qee:Aee)(e)}function Mee(){}function mk(t){return t==null?Mee:function(){return this.querySelector(t)}}function Xee(t){typeof t!="function"&&(t=mk(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],a=i.length,o=r[s]=new Array(a),u,d,p=0;p<a;++p)(u=i[p])&&(d=t.call(u,u.__data__,p,i))&&("__data__"in u&&(d.__data__=u.__data__),o[p]=d);return new zr(r,this._parents)}function zee(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Lee(){return[]}function rL(t){return t==null?Lee:function(){return this.querySelectorAll(t)}}function Zee(t){return function(){return zee(t.apply(this,arguments))}}function Vee(t){typeof t=="function"?t=Zee(t):t=rL(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var a=e[i],o=a.length,u,d=0;d<o;++d)(u=a[d])&&(r.push(t.call(u,u.__data__,d,a)),s.push(u));return new zr(r,s)}function sL(t){return function(){return this.matches(t)}}function iL(t){return function(e){return e.matches(t)}}var Yee=Array.prototype.find;function Dee(t){return function(){return Yee.call(this.children,t)}}function Bee(){return this.firstElementChild}function Uee(t){return this.select(t==null?Bee:Dee(typeof t=="function"?t:iL(t)))}var Wee=Array.prototype.filter;function Gee(){return Array.from(this.children)}function Iee(t){return function(){return Wee.call(this.children,t)}}function Hee(t){return this.selectAll(t==null?Gee:Iee(typeof t=="function"?t:iL(t)))}function Fee(t){typeof t!="function"&&(t=sL(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],a=i.length,o=r[s]=[],u,d=0;d<a;++d)(u=i[d])&&t.call(u,u.__data__,d,i)&&o.push(u);return new zr(r,this._parents)}function aL(t){return new Array(t.length)}function Kee(){return new zr(this._enter||this._groups.map(aL),this._parents)}function vm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vm.prototype={constructor:vm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Jee(t){return function(){return t}}function ete(t,e,n,r,s,i){for(var a=0,o,u=e.length,d=i.length;a<d;++a)(o=e[a])?(o.__data__=i[a],r[a]=o):n[a]=new vm(t,i[a]);for(;a<u;++a)(o=e[a])&&(s[a]=o)}function tte(t,e,n,r,s,i,a){var o,u,d=new Map,p=e.length,m=i.length,g=new Array(p),x;for(o=0;o<p;++o)(u=e[o])&&(g[o]=x=a.call(u,u.__data__,o,e)+"",d.has(x)?s[o]=u:d.set(x,u));for(o=0;o<m;++o)x=a.call(t,i[o],o,i)+"",(u=d.get(x))?(r[o]=u,u.__data__=i[o],d.delete(x)):n[o]=new vm(t,i[o]);for(o=0;o<p;++o)(u=e[o])&&d.get(g[o])===u&&(s[o]=u)}function nte(t){return t.__data__}function rte(t,e){if(!arguments.length)return Array.from(this,nte);var n=e?tte:ete,r=this._parents,s=this._groups;typeof t!="function"&&(t=Jee(t));for(var i=s.length,a=new Array(i),o=new Array(i),u=new Array(i),d=0;d<i;++d){var p=r[d],m=s[d],g=m.length,x=ste(t.call(p,p&&p.__data__,d,r)),v=x.length,b=o[d]=new Array(v),S=a[d]=new Array(v),Q=u[d]=new Array(g);n(p,m,b,S,Q,x,e);for(var k=0,$=0,T,j;k<v;++k)if(T=b[k]){for(k>=$&&($=k+1);!(j=S[$])&&++$<v;);T._next=j||null}}return a=new zr(a,r),a._enter=o,a._exit=u,a}function ste(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ite(){return new zr(this._exit||this._groups.map(aL),this._parents)}function ate(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function lte(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,a=Math.min(s,i),o=new Array(s),u=0;u<a;++u)for(var d=n[u],p=r[u],m=d.length,g=o[u]=new Array(m),x,v=0;v<m;++v)(x=d[v]||p[v])&&(g[v]=x);for(;u<s;++u)o[u]=n[u];return new zr(o,this._parents)}function ote(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],a;--s>=0;)(a=r[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function cte(t){t||(t=ute);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var a=n[i],o=a.length,u=s[i]=new Array(o),d,p=0;p<o;++p)(d=a[p])&&(u[p]=d);u.sort(e)}return new zr(s,this._parents).order()}function ute(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fte(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function dte(){return Array.from(this)}function hte(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var a=r[s];if(a)return a}return null}function pte(){let t=0;for(const e of this)++t;return t}function mte(){return!this.node()}function Ote(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,a=s.length,o;i<a;++i)(o=s[i])&&t.call(o,o.__data__,i,s);return this}function gte(t){return function(){this.removeAttribute(t)}}function xte(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yte(t,e){return function(){this.setAttribute(t,e)}}function bte(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vte(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wte(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ste(t,e){var n=lO(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?xte:gte:typeof e=="function"?n.local?wte:vte:n.local?bte:yte)(n,e))}function lL(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Qte(t){return function(){this.style.removeProperty(t)}}function kte(t,e,n){return function(){this.style.setProperty(t,e,n)}}function $te(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Tte(t,e,n){return arguments.length>1?this.each((e==null?Qte:typeof e=="function"?$te:kte)(t,e,n??"")):Sc(this.node(),t)}function Sc(t,e){return t.style.getPropertyValue(e)||lL(t).getComputedStyle(t,null).getPropertyValue(e)}function jte(t){return function(){delete this[t]}}function _te(t,e){return function(){this[t]=e}}function Pte(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Nte(t,e){return arguments.length>1?this.each((e==null?jte:typeof e=="function"?Pte:_te)(t,e)):this.node()[t]}function oL(t){return t.trim().split(/^|\s+/)}function Ok(t){return t.classList||new cL(t)}function cL(t){this._node=t,this._names=oL(t.getAttribute("class")||"")}cL.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function uL(t,e){for(var n=Ok(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function fL(t,e){for(var n=Ok(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Cte(t){return function(){uL(this,t)}}function Rte(t){return function(){fL(this,t)}}function Ete(t,e){return function(){(e.apply(this,arguments)?uL:fL)(this,t)}}function Ate(t,e){var n=oL(t+"");if(arguments.length<2){for(var r=Ok(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Ete:e?Cte:Rte)(n,e))}function qte(){this.textContent=""}function Mte(t){return function(){this.textContent=t}}function Xte(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function zte(t){return arguments.length?this.each(t==null?qte:(typeof t=="function"?Xte:Mte)(t)):this.node().textContent}function Lte(){this.innerHTML=""}function Zte(t){return function(){this.innerHTML=t}}function Vte(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Yte(t){return arguments.length?this.each(t==null?Lte:(typeof t=="function"?Vte:Zte)(t)):this.node().innerHTML}function Dte(){this.nextSibling&&this.parentNode.appendChild(this)}function Bte(){return this.each(Dte)}function Ute(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wte(){return this.each(Ute)}function Gte(t){var e=typeof t=="function"?t:nL(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Ite(){return null}function Hte(t,e){var n=typeof t=="function"?t:nL(t),r=e==null?Ite:typeof e=="function"?e:mk(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fte(){var t=this.parentNode;t&&t.removeChild(this)}function Kte(){return this.each(Fte)}function Jte(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ene(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tne(t){return this.select(t?ene:Jte)}function nne(t){return arguments.length?this.property("__data__",t):this.node().__data__}function rne(t){return function(e){t.call(this,e,this.__data__)}}function sne(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ine(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function ane(t,e,n){return function(){var r=this.__on,s,i=rne(e);if(r){for(var a=0,o=r.length;a<o;++a)if((s=r[a]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function lne(t,e,n){var r=sne(t+""),s,i=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,d=o.length,p;u<d;++u)for(s=0,p=o[u];s<i;++s)if((a=r[s]).type===p.type&&a.name===p.name)return p.value}return}for(o=e?ane:ine,s=0;s<i;++s)this.each(o(r[s],e,n));return this}function dL(t,e,n){var r=lL(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function one(t,e){return function(){return dL(this,t,e)}}function cne(t,e){return function(){return dL(this,t,e.apply(this,arguments))}}function une(t,e){return this.each((typeof e=="function"?cne:one)(t,e))}function*fne(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,a;s<i;++s)(a=r[s])&&(yield a)}var hL=[null];function zr(t,e){this._groups=t,this._parents=e}function od(){return new zr([[document.documentElement]],hL)}function dne(){return this}zr.prototype=od.prototype={constructor:zr,select:Xee,selectAll:Vee,selectChild:Uee,selectChildren:Hee,filter:Fee,data:rte,enter:Kee,exit:ite,join:ate,merge:lte,selection:dne,order:ote,sort:cte,call:fte,nodes:dte,node:hte,size:pte,empty:mte,each:Ote,attr:Ste,style:Tte,property:Nte,classed:Ate,text:zte,html:Yte,raise:Bte,lower:Wte,append:Gte,insert:Hte,remove:Kte,clone:tne,datum:nne,on:lne,dispatch:une,[Symbol.iterator]:fne};function Ir(t){return typeof t=="string"?new zr([[document.querySelector(t)]],[document.documentElement]):new zr([[t]],hL)}function hne(t){let e;for(;e=t.sourceEvent;)t=e;return t}function bs(t,e){if(t=hne(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const pne={passive:!1},Lf={capture:!0,passive:!1};function Wx(t){t.stopImmediatePropagation()}function cc(t){t.preventDefault(),t.stopImmediatePropagation()}function pL(t){var e=t.document.documentElement,n=Ir(t).on("dragstart.drag",cc,Lf);"onselectstart"in e?n.on("selectstart.drag",cc,Lf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function mL(t,e){var n=t.document.documentElement,r=Ir(t).on("dragstart.drag",null);e&&(r.on("click.drag",cc,Lf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const sp=t=>()=>t;function E2(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:i,x:a,y:o,dx:u,dy:d,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:p}})}E2.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function mne(t){return!t.ctrlKey&&!t.button}function One(){return this.parentNode}function gne(t,e){return e??{x:t.x,y:t.y}}function xne(){return navigator.maxTouchPoints||"ontouchstart"in this}function yne(){var t=mne,e=One,n=gne,r=xne,s={},i=aO("start","drag","end"),a=0,o,u,d,p,m=0;function g(T){T.on("mousedown.drag",x).filter(r).on("touchstart.drag",S).on("touchmove.drag",Q,pne).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(T,j){if(!(p||!t.call(this,T,j))){var N=$(this,e.call(this,T,j),T,j,"mouse");N&&(Ir(T.view).on("mousemove.drag",v,Lf).on("mouseup.drag",b,Lf),pL(T.view),Wx(T),d=!1,o=T.clientX,u=T.clientY,N("start",T))}}function v(T){if(cc(T),!d){var j=T.clientX-o,N=T.clientY-u;d=j*j+N*N>m}s.mouse("drag",T)}function b(T){Ir(T.view).on("mousemove.drag mouseup.drag",null),mL(T.view,d),cc(T),s.mouse("end",T)}function S(T,j){if(t.call(this,T,j)){var N=T.changedTouches,C=e.call(this,T,j),q=N.length,M,L;for(M=0;M<q;++M)(L=$(this,C,T,j,N[M].identifier,N[M]))&&(Wx(T),L("start",T,N[M]))}}function Q(T){var j=T.changedTouches,N=j.length,C,q;for(C=0;C<N;++C)(q=s[j[C].identifier])&&(cc(T),q("drag",T,j[C]))}function k(T){var j=T.changedTouches,N=j.length,C,q;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),C=0;C<N;++C)(q=s[j[C].identifier])&&(Wx(T),q("end",T,j[C]))}function $(T,j,N,C,q,M){var L=i.copy(),E=bs(M||N,j),Z,Y,R;if((R=n.call(T,new E2("beforestart",{sourceEvent:N,target:g,identifier:q,active:a,x:E[0],y:E[1],dx:0,dy:0,dispatch:L}),C))!=null)return Z=R.x-E[0]||0,Y=R.y-E[1]||0,function G(A,W,I){var U=E,ee;switch(A){case"start":s[q]=G,ee=a++;break;case"end":delete s[q],--a;case"drag":E=bs(I||W,j),ee=a;break}L.call(A,T,new E2(A,{sourceEvent:W,subject:R,target:g,identifier:q,active:ee,x:E[0]+Z,y:E[1]+Y,dx:E[0]-U[0],dy:E[1]-U[1],dispatch:L}),C)}}return g.filter=function(T){return arguments.length?(t=typeof T=="function"?T:sp(!!T),g):t},g.container=function(T){return arguments.length?(e=typeof T=="function"?T:sp(T),g):e},g.subject=function(T){return arguments.length?(n=typeof T=="function"?T:sp(T),g):n},g.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:sp(!!T),g):r},g.on=function(){var T=i.on.apply(i,arguments);return T===i?g:T},g.clickDistance=function(T){return arguments.length?(m=(T=+T)*T,g):Math.sqrt(m)},g}function gk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function OL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cd(){}var Zf=.7,wm=1/Zf,uc="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bne=/^#([0-9a-f]{3,8})$/,vne=new RegExp(`^rgb\\(${uc},${uc},${uc}\\)$`),wne=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),Sne=new RegExp(`^rgba\\(${uc},${uc},${uc},${Vf}\\)$`),Qne=new RegExp(`^rgba\\(${ei},${ei},${ei},${Vf}\\)$`),kne=new RegExp(`^hsl\\(${Vf},${ei},${ei}\\)$`),$ne=new RegExp(`^hsla\\(${Vf},${ei},${ei},${Vf}\\)$`),z4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk(cd,Yf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:L4,formatHex:L4,formatHex8:Tne,formatHsl:jne,formatRgb:Z4,toString:Z4});function L4(){return this.rgb().formatHex()}function Tne(){return this.rgb().formatHex8()}function jne(){return gL(this).formatHsl()}function Z4(){return this.rgb().formatRgb()}function Yf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?V4(e):n===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ip(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ip(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vne.exec(t))?new vr(e[1],e[2],e[3],1):(e=wne.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Sne.exec(t))?ip(e[1],e[2],e[3],e[4]):(e=Qne.exec(t))?ip(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kne.exec(t))?B4(e[1],e[2]/100,e[3]/100,1):(e=$ne.exec(t))?B4(e[1],e[2]/100,e[3]/100,e[4]):z4.hasOwnProperty(t)?V4(z4[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function V4(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function ip(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function _ne(t){return t instanceof cd||(t=Yf(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function A2(t,e,n,r){return arguments.length===1?_ne(t):new vr(t,e,n,r??1)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}gk(vr,A2,OL(cd,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(Nl(this.r),Nl(this.g),Nl(this.b),Sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y4,formatHex:Y4,formatHex8:Pne,formatRgb:D4,toString:D4}));function Y4(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function Pne(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function D4(){const t=Sm(this.opacity);return`${t===1?"rgb(":"rgba("}${Nl(this.r)}, ${Nl(this.g)}, ${Nl(this.b)}${t===1?")":`, ${t})`}`}function Sm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tl(t){return t=Nl(t),(t<16?"0":"")+t.toString(16)}function B4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qs(t,e,n,r)}function gL(t){if(t instanceof Qs)return new Qs(t.h,t.s,t.l,t.opacity);if(t instanceof cd||(t=Yf(t)),!t)return new Qs;if(t instanceof Qs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,o=i-s,u=(i+s)/2;return o?(e===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-e)/o+2:a=(e-n)/o+4,o/=u<.5?i+s:2-i-s,a*=60):o=u>0&&u<1?0:a,new Qs(a,o,u,t.opacity)}function Nne(t,e,n,r){return arguments.length===1?gL(t):new Qs(t,e,n,r??1)}function Qs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}gk(Qs,Nne,OL(cd,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new Qs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new Qs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new vr(Gx(t>=240?t-240:t+120,s,r),Gx(t,s,r),Gx(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Qs(U4(this.h),ap(this.s),ap(this.l),Sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Sm(this.opacity);return`${t===1?"hsl(":"hsla("}${U4(this.h)}, ${ap(this.s)*100}%, ${ap(this.l)*100}%${t===1?")":`, ${t})`}`}}));function U4(t){return t=(t||0)%360,t<0?t+360:t}function ap(t){return Math.max(0,Math.min(1,t||0))}function Gx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xL=t=>()=>t;function Cne(t,e){return function(n){return t+n*e}}function Rne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ene(t){return(t=+t)==1?yL:function(e,n){return n-e?Rne(e,n,t):xL(isNaN(e)?n:e)}}function yL(t,e){var n=e-t;return n?Cne(t,n):xL(isNaN(t)?e:t)}const W4=(function t(e){var n=Ene(e);function r(s,i){var a=n((s=A2(s)).r,(i=A2(i)).r),o=n(s.g,i.g),u=n(s.b,i.b),d=yL(s.opacity,i.opacity);return function(p){return s.r=a(p),s.g=o(p),s.b=u(p),s.opacity=d(p),s+""}}return r.gamma=t,r})(1);function ja(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var q2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ix=new RegExp(q2.source,"g");function Ane(t){return function(){return t}}function qne(t){return function(e){return t(e)+""}}function Mne(t,e){var n=q2.lastIndex=Ix.lastIndex=0,r,s,i,a=-1,o=[],u=[];for(t=t+"",e=e+"";(r=q2.exec(t))&&(s=Ix.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,u.push({i:a,x:ja(r,s)})),n=Ix.lastIndex;return n<e.length&&(i=e.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?u[0]?qne(u[0].x):Ane(e):(e=u.length,function(d){for(var p=0,m;p<e;++p)o[(m=u[p]).i]=m.x(d);return o.join("")})}var G4=180/Math.PI,M2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bL(t,e,n,r,s,i){var a,o,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*G4,skewX:Math.atan(u)*G4,scaleX:a,scaleY:o}}var lp;function Xne(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?M2:bL(e.a,e.b,e.c,e.d,e.e,e.f)}function zne(t){return t==null||(lp||(lp=document.createElementNS("http://www.w3.org/2000/svg","g")),lp.setAttribute("transform",t),!(t=lp.transform.baseVal.consolidate()))?M2:(t=t.matrix,bL(t.a,t.b,t.c,t.d,t.e,t.f))}function vL(t,e,n,r){function s(d){return d.length?d.pop()+" ":""}function i(d,p,m,g,x,v){if(d!==m||p!==g){var b=x.push("translate(",null,e,null,n);v.push({i:b-4,x:ja(d,m)},{i:b-2,x:ja(p,g)})}else(m||g)&&x.push("translate("+m+e+g+n)}function a(d,p,m,g){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),g.push({i:m.push(s(m)+"rotate(",null,r)-2,x:ja(d,p)})):p&&m.push(s(m)+"rotate("+p+r)}function o(d,p,m,g){d!==p?g.push({i:m.push(s(m)+"skewX(",null,r)-2,x:ja(d,p)}):p&&m.push(s(m)+"skewX("+p+r)}function u(d,p,m,g,x,v){if(d!==m||p!==g){var b=x.push(s(x)+"scale(",null,",",null,")");v.push({i:b-4,x:ja(d,m)},{i:b-2,x:ja(p,g)})}else(m!==1||g!==1)&&x.push(s(x)+"scale("+m+","+g+")")}return function(d,p){var m=[],g=[];return d=t(d),p=t(p),i(d.translateX,d.translateY,p.translateX,p.translateY,m,g),a(d.rotate,p.rotate,m,g),o(d.skewX,p.skewX,m,g),u(d.scaleX,d.scaleY,p.scaleX,p.scaleY,m,g),d=p=null,function(x){for(var v=-1,b=g.length,S;++v<b;)m[(S=g[v]).i]=S.x(x);return m.join("")}}}var Lne=vL(Xne,"px, ","px)","deg)"),Zne=vL(zne,", ",")",")"),Vne=1e-12;function I4(t){return((t=Math.exp(t))+1/t)/2}function Yne(t){return((t=Math.exp(t))-1/t)/2}function Dne(t){return((t=Math.exp(2*t))-1)/(t+1)}const Bne=(function t(e,n,r){function s(i,a){var o=i[0],u=i[1],d=i[2],p=a[0],m=a[1],g=a[2],x=p-o,v=m-u,b=x*x+v*v,S,Q;if(b<Vne)Q=Math.log(g/d)/e,S=function(C){return[o+C*x,u+C*v,d*Math.exp(e*C*Q)]};else{var k=Math.sqrt(b),$=(g*g-d*d+r*b)/(2*d*n*k),T=(g*g-d*d-r*b)/(2*g*n*k),j=Math.log(Math.sqrt($*$+1)-$),N=Math.log(Math.sqrt(T*T+1)-T);Q=(N-j)/e,S=function(C){var q=C*Q,M=I4(j),L=d/(n*k)*(M*Dne(e*q+j)-Yne(j));return[o+L*x,u+L*v,d*M/I4(e*q+j)]}}return S.duration=Q*1e3*e/Math.SQRT2,S}return s.rho=function(i){var a=Math.max(.001,+i),o=a*a,u=o*o;return t(a,o,u)},s})(Math.SQRT2,2,4);var Qc=0,rf=0,Uu=0,wL=1e3,Qm,sf,km=0,Vl=0,oO=0,Df=typeof performance=="object"&&performance.now?performance:Date,SL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xk(){return Vl||(SL(Une),Vl=Df.now()+oO)}function Une(){Vl=0}function $m(){this._call=this._time=this._next=null}$m.prototype=QL.prototype={constructor:$m,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xk():+n)+(e==null?0:+e),!this._next&&sf!==this&&(sf?sf._next=this:Qm=this,sf=this),this._call=t,this._time=n,X2()},stop:function(){this._call&&(this._call=null,this._time=1/0,X2())}};function QL(t,e,n){var r=new $m;return r.restart(t,e,n),r}function Wne(){xk(),++Qc;for(var t=Qm,e;t;)(e=Vl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Qc}function H4(){Vl=(km=Df.now())+oO,Qc=rf=0;try{Wne()}finally{Qc=0,Ine(),Vl=0}}function Gne(){var t=Df.now(),e=t-km;e>wL&&(oO-=e,km=t)}function Ine(){for(var t,e=Qm,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Qm=n);sf=t,X2(r)}function X2(t){if(!Qc){rf&&(rf=clearTimeout(rf));var e=t-Vl;e>24?(t<1/0&&(rf=setTimeout(H4,t-Df.now()-oO)),Uu&&(Uu=clearInterval(Uu))):(Uu||(km=Df.now(),Uu=setInterval(Gne,wL)),Qc=1,SL(H4))}}function F4(t,e,n){var r=new $m;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var Hne=aO("start","end","cancel","interrupt"),Fne=[],kL=0,K4=1,z2=2,Mp=3,J4=4,L2=5,Xp=6;function cO(t,e,n,r,s,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Kne(t,n,{name:e,index:r,group:s,on:Hne,tween:Fne,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:kL})}function yk(t,e){var n=Cs(t,e);if(n.state>kL)throw new Error("too late; already scheduled");return n}function ri(t,e){var n=Cs(t,e);if(n.state>Mp)throw new Error("too late; already running");return n}function Cs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Kne(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=QL(i,0,n.time);function i(d){n.state=K4,n.timer.restart(a,n.delay,n.time),n.delay<=d&&a(d-n.delay)}function a(d){var p,m,g,x;if(n.state!==K4)return u();for(p in r)if(x=r[p],x.name===n.name){if(x.state===Mp)return F4(a);x.state===J4?(x.state=Xp,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[p]):+p<e&&(x.state=Xp,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[p])}if(F4(function(){n.state===Mp&&(n.state=J4,n.timer.restart(o,n.delay,n.time),o(d))}),n.state=z2,n.on.call("start",t,t.__data__,n.index,n.group),n.state===z2){for(n.state=Mp,s=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(x=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(s[++m]=x);s.length=m+1}}function o(d){for(var p=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=L2,1),m=-1,g=s.length;++m<g;)s[m].call(t,p);n.state===L2&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Xp,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function zp(t,e){var n=t.__transition,r,s,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}s=r.state>z2&&r.state<L2,r.state=Xp,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function Jne(t){return this.each(function(){zp(this,t)})}function ere(t,e){var n,r;return function(){var s=ri(this,t),i=s.tween;if(i!==n){r=n=i;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}s.tween=r}}function tre(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=ri(this,t),a=i.tween;if(a!==r){s=(r=a).slice();for(var o={name:e,value:n},u=0,d=s.length;u<d;++u)if(s[u].name===e){s[u]=o;break}u===d&&s.push(o)}i.tween=s}}function nre(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Cs(this.node(),n).tween,s=0,i=r.length,a;s<i;++s)if((a=r[s]).name===t)return a.value;return null}return this.each((e==null?ere:tre)(n,t,e))}function bk(t,e,n){var r=t._id;return t.each(function(){var s=ri(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return Cs(s,r).value[e]}}function $L(t,e){var n;return(typeof e=="number"?ja:e instanceof Yf?W4:(n=Yf(e))?(e=n,W4):Mne)(t,e)}function rre(t){return function(){this.removeAttribute(t)}}function sre(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ire(t,e,n){var r,s=n+"",i;return function(){var a=this.getAttribute(t);return a===s?null:a===r?i:i=e(r=a,n)}}function are(t,e,n){var r,s=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===s?null:a===r?i:i=e(r=a,n)}}function lre(t,e,n){var r,s,i;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=o+"",a===u?null:a===r&&u===s?i:(s=u,i=e(r=a,o)))}}function ore(t,e,n){var r,s,i;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=o+"",a===u?null:a===r&&u===s?i:(s=u,i=e(r=a,o)))}}function cre(t,e){var n=lO(t),r=n==="transform"?Zne:$L;return this.attrTween(t,typeof e=="function"?(n.local?ore:lre)(n,r,bk(this,"attr."+t,e)):e==null?(n.local?sre:rre)(n):(n.local?are:ire)(n,r,e))}function ure(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function fre(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function dre(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&fre(t,i)),n}return s._value=e,s}function hre(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ure(t,i)),n}return s._value=e,s}function pre(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=lO(t);return this.tween(n,(r.local?dre:hre)(r,e))}function mre(t,e){return function(){yk(this,t).delay=+e.apply(this,arguments)}}function Ore(t,e){return e=+e,function(){yk(this,t).delay=e}}function gre(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mre:Ore)(e,t)):Cs(this.node(),e).delay}function xre(t,e){return function(){ri(this,t).duration=+e.apply(this,arguments)}}function yre(t,e){return e=+e,function(){ri(this,t).duration=e}}function bre(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xre:yre)(e,t)):Cs(this.node(),e).duration}function vre(t,e){if(typeof e!="function")throw new Error;return function(){ri(this,t).ease=e}}function wre(t){var e=this._id;return arguments.length?this.each(vre(e,t)):Cs(this.node(),e).ease}function Sre(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ri(this,t).ease=n}}function Qre(t){if(typeof t!="function")throw new Error;return this.each(Sre(this._id,t))}function kre(t){typeof t!="function"&&(t=sL(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],a=i.length,o=r[s]=[],u,d=0;d<a;++d)(u=i[d])&&t.call(u,u.__data__,d,i)&&o.push(u);return new Vi(r,this._parents,this._name,this._id)}function $re(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),a=new Array(r),o=0;o<i;++o)for(var u=e[o],d=n[o],p=u.length,m=a[o]=new Array(p),g,x=0;x<p;++x)(g=u[x]||d[x])&&(m[x]=g);for(;o<r;++o)a[o]=e[o];return new Vi(a,this._parents,this._name,this._id)}function Tre(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function jre(t,e,n){var r,s,i=Tre(e)?yk:ri;return function(){var a=i(this,t),o=a.on;o!==r&&(s=(r=o).copy()).on(e,n),a.on=s}}function _re(t,e){var n=this._id;return arguments.length<2?Cs(this.node(),n).on.on(t):this.each(jre(n,t,e))}function Pre(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Nre(){return this.on("end.remove",Pre(this._id))}function Cre(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mk(t));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var o=r[a],u=o.length,d=i[a]=new Array(u),p,m,g=0;g<u;++g)(p=o[g])&&(m=t.call(p,p.__data__,g,o))&&("__data__"in p&&(m.__data__=p.__data__),d[g]=m,cO(d[g],e,n,g,d,Cs(p,n)));return new Vi(i,this._parents,e,n)}function Rre(t){var e=this._name,n=this._id;typeof t!="function"&&(t=rL(t));for(var r=this._groups,s=r.length,i=[],a=[],o=0;o<s;++o)for(var u=r[o],d=u.length,p,m=0;m<d;++m)if(p=u[m]){for(var g=t.call(p,p.__data__,m,u),x,v=Cs(p,n),b=0,S=g.length;b<S;++b)(x=g[b])&&cO(x,e,n,b,g,v);i.push(g),a.push(p)}return new Vi(i,a,e,n)}var Ere=od.prototype.constructor;function Are(){return new Ere(this._groups,this._parents)}function qre(t,e){var n,r,s;return function(){var i=Sc(this,t),a=(this.style.removeProperty(t),Sc(this,t));return i===a?null:i===n&&a===r?s:s=e(n=i,r=a)}}function TL(t){return function(){this.style.removeProperty(t)}}function Mre(t,e,n){var r,s=n+"",i;return function(){var a=Sc(this,t);return a===s?null:a===r?i:i=e(r=a,n)}}function Xre(t,e,n){var r,s,i;return function(){var a=Sc(this,t),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(t),Sc(this,t))),a===u?null:a===r&&u===s?i:(s=u,i=e(r=a,o))}}function zre(t,e){var n,r,s,i="style."+e,a="end."+i,o;return function(){var u=ri(this,t),d=u.on,p=u.value[i]==null?o||(o=TL(e)):void 0;(d!==n||s!==p)&&(r=(n=d).copy()).on(a,s=p),u.on=r}}function Lre(t,e,n){var r=(t+="")=="transform"?Lne:$L;return e==null?this.styleTween(t,qre(t,r)).on("end.style."+t,TL(t)):typeof e=="function"?this.styleTween(t,Xre(t,r,bk(this,"style."+t,e))).each(zre(this._id,t)):this.styleTween(t,Mre(t,r,e),n).on("end.style."+t,null)}function Zre(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Vre(t,e,n){var r,s;function i(){var a=e.apply(this,arguments);return a!==s&&(r=(s=a)&&Zre(t,a,n)),r}return i._value=e,i}function Yre(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Vre(t,e,n??""))}function Dre(t){return function(){this.textContent=t}}function Bre(t){return function(){var e=t(this);this.textContent=e??""}}function Ure(t){return this.tween("text",typeof t=="function"?Bre(bk(this,"text",t)):Dre(t==null?"":t+""))}function Wre(t){return function(e){this.textContent=t.call(this,e)}}function Gre(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&Wre(s)),e}return r._value=t,r}function Ire(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Gre(t))}function Hre(){for(var t=this._name,e=this._id,n=jL(),r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],o=a.length,u,d=0;d<o;++d)if(u=a[d]){var p=Cs(u,e);cO(u,t,n,d,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Vi(r,this._parents,t,n)}function Fre(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,a){var o={value:a},u={value:function(){--s===0&&i()}};n.each(function(){var d=ri(this,r),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(u)),d.on=e}),s===0&&i()})}var Kre=0;function Vi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jL(){return++Kre}var ki=od.prototype;Vi.prototype={constructor:Vi,select:Cre,selectAll:Rre,selectChild:ki.selectChild,selectChildren:ki.selectChildren,filter:kre,merge:$re,selection:Are,transition:Hre,call:ki.call,nodes:ki.nodes,node:ki.node,size:ki.size,empty:ki.empty,each:ki.each,on:_re,attr:cre,attrTween:pre,style:Lre,styleTween:Yre,text:Ure,textTween:Ire,remove:Nre,tween:nre,delay:gre,duration:bre,ease:wre,easeVarying:Qre,end:Fre,[Symbol.iterator]:ki[Symbol.iterator]};function Jre(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ese={time:null,delay:0,duration:250,ease:Jre};function tse(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nse(t){var e,n;t instanceof Vi?(e=t._id,t=t._name):(e=jL(),(n=ese).time=xk(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],o=a.length,u,d=0;d<o;++d)(u=a[d])&&cO(u,t,e,d,a,n||tse(u,e));return new Vi(r,this._parents,t,e)}od.prototype.interrupt=Jne;od.prototype.transition=nse;const op=t=>()=>t;function rse(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function qi(t,e,n){this.k=t,this.x=e,this.y=n}qi.prototype={constructor:qi,scale:function(t){return t===1?this:new qi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zi=new qi(1,0,0);qi.prototype;function Hx(t){t.stopImmediatePropagation()}function Wu(t){t.preventDefault(),t.stopImmediatePropagation()}function sse(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function ise(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function eN(){return this.__zoom||zi}function ase(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function lse(){return navigator.maxTouchPoints||"ontouchstart"in this}function ose(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function _L(){var t=sse,e=ise,n=ose,r=ase,s=lse,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,u=Bne,d=aO("start","zoom","end"),p,m,g,x=500,v=150,b=0,S=10;function Q(R){R.property("__zoom",eN).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",L).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",Z).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Q.transform=function(R,G,A,W){var I=R.selection?R.selection():R;I.property("__zoom",eN),R!==I?j(R,G,A,W):I.interrupt().each(function(){N(this,arguments).event(W).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},Q.scaleBy=function(R,G,A,W){Q.scaleTo(R,function(){var I=this.__zoom.k,U=typeof G=="function"?G.apply(this,arguments):G;return I*U},A,W)},Q.scaleTo=function(R,G,A,W){Q.transform(R,function(){var I=e.apply(this,arguments),U=this.__zoom,ee=A==null?T(I):typeof A=="function"?A.apply(this,arguments):A,z=U.invert(ee),D=typeof G=="function"?G.apply(this,arguments):G;return n($(k(U,D),ee,z),I,a)},A,W)},Q.translateBy=function(R,G,A,W){Q.transform(R,function(){return n(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof A=="function"?A.apply(this,arguments):A),e.apply(this,arguments),a)},null,W)},Q.translateTo=function(R,G,A,W,I){Q.transform(R,function(){var U=e.apply(this,arguments),ee=this.__zoom,z=W==null?T(U):typeof W=="function"?W.apply(this,arguments):W;return n(zi.translate(z[0],z[1]).scale(ee.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof A=="function"?-A.apply(this,arguments):-A),U,a)},W,I)};function k(R,G){return G=Math.max(i[0],Math.min(i[1],G)),G===R.k?R:new qi(G,R.x,R.y)}function $(R,G,A){var W=G[0]-A[0]*R.k,I=G[1]-A[1]*R.k;return W===R.x&&I===R.y?R:new qi(R.k,W,I)}function T(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function j(R,G,A,W){R.on("start.zoom",function(){N(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(W).end()}).tween("zoom",function(){var I=this,U=arguments,ee=N(I,U).event(W),z=e.apply(I,U),D=A==null?T(z):typeof A=="function"?A.apply(I,U):A,K=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),B=I.__zoom,H=typeof G=="function"?G.apply(I,U):G,J=u(B.invert(D).concat(K/B.k),H.invert(D).concat(K/H.k));return function(re){if(re===1)re=H;else{var ie=J(re),ce=K/ie[2];re=new qi(ce,D[0]-ie[0]*ce,D[1]-ie[1]*ce)}ee.zoom(null,re)}})}function N(R,G,A){return!A&&R.__zooming||new C(R,G)}function C(R,G){this.that=R,this.args=G,this.active=0,this.sourceEvent=null,this.extent=e.apply(R,G),this.taps=0}C.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,G){return this.mouse&&R!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var G=Ir(this.that).datum();d.call(R,this.that,new rse(R,{sourceEvent:this.sourceEvent,target:Q,transform:this.that.__zoom,dispatch:d}),G)}};function q(R,...G){if(!t.apply(this,arguments))return;var A=N(this,G).event(R),W=this.__zoom,I=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,r.apply(this,arguments)))),U=bs(R);if(A.wheel)(A.mouse[0][0]!==U[0]||A.mouse[0][1]!==U[1])&&(A.mouse[1]=W.invert(A.mouse[0]=U)),clearTimeout(A.wheel);else{if(W.k===I)return;A.mouse=[U,W.invert(U)],zp(this),A.start()}Wu(R),A.wheel=setTimeout(ee,v),A.zoom("mouse",n($(k(W,I),A.mouse[0],A.mouse[1]),A.extent,a));function ee(){A.wheel=null,A.end()}}function M(R,...G){if(g||!t.apply(this,arguments))return;var A=R.currentTarget,W=N(this,G,!0).event(R),I=Ir(R.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",K,!0),U=bs(R,A),ee=R.clientX,z=R.clientY;pL(R.view),Hx(R),W.mouse=[U,this.__zoom.invert(U)],zp(this),W.start();function D(B){if(Wu(B),!W.moved){var H=B.clientX-ee,J=B.clientY-z;W.moved=H*H+J*J>b}W.event(B).zoom("mouse",n($(W.that.__zoom,W.mouse[0]=bs(B,A),W.mouse[1]),W.extent,a))}function K(B){I.on("mousemove.zoom mouseup.zoom",null),mL(B.view,W.moved),Wu(B),W.event(B).end()}}function L(R,...G){if(t.apply(this,arguments)){var A=this.__zoom,W=bs(R.changedTouches?R.changedTouches[0]:R,this),I=A.invert(W),U=A.k*(R.shiftKey?.5:2),ee=n($(k(A,U),W,I),e.apply(this,G),a);Wu(R),o>0?Ir(this).transition().duration(o).call(j,ee,W,R):Ir(this).call(Q.transform,ee,W,R)}}function E(R,...G){if(t.apply(this,arguments)){var A=R.touches,W=A.length,I=N(this,G,R.changedTouches.length===W).event(R),U,ee,z,D;for(Hx(R),ee=0;ee<W;++ee)z=A[ee],D=bs(z,this),D=[D,this.__zoom.invert(D),z.identifier],I.touch0?!I.touch1&&I.touch0[2]!==D[2]&&(I.touch1=D,I.taps=0):(I.touch0=D,U=!0,I.taps=1+!!p);p&&(p=clearTimeout(p)),U&&(I.taps<2&&(m=D[0],p=setTimeout(function(){p=null},x)),zp(this),I.start())}}function Z(R,...G){if(this.__zooming){var A=N(this,G).event(R),W=R.changedTouches,I=W.length,U,ee,z,D;for(Wu(R),U=0;U<I;++U)ee=W[U],z=bs(ee,this),A.touch0&&A.touch0[2]===ee.identifier?A.touch0[0]=z:A.touch1&&A.touch1[2]===ee.identifier&&(A.touch1[0]=z);if(ee=A.that.__zoom,A.touch1){var K=A.touch0[0],B=A.touch0[1],H=A.touch1[0],J=A.touch1[1],re=(re=H[0]-K[0])*re+(re=H[1]-K[1])*re,ie=(ie=J[0]-B[0])*ie+(ie=J[1]-B[1])*ie;ee=k(ee,Math.sqrt(re/ie)),z=[(K[0]+H[0])/2,(K[1]+H[1])/2],D=[(B[0]+J[0])/2,(B[1]+J[1])/2]}else if(A.touch0)z=A.touch0[0],D=A.touch0[1];else return;A.zoom("touch",n($(ee,z,D),A.extent,a))}}function Y(R,...G){if(this.__zooming){var A=N(this,G).event(R),W=R.changedTouches,I=W.length,U,ee;for(Hx(R),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),U=0;U<I;++U)ee=W[U],A.touch0&&A.touch0[2]===ee.identifier?delete A.touch0:A.touch1&&A.touch1[2]===ee.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(ee=bs(ee,this),Math.hypot(m[0]-ee[0],m[1]-ee[1])<S)){var z=Ir(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return Q.wheelDelta=function(R){return arguments.length?(r=typeof R=="function"?R:op(+R),Q):r},Q.filter=function(R){return arguments.length?(t=typeof R=="function"?R:op(!!R),Q):t},Q.touchable=function(R){return arguments.length?(s=typeof R=="function"?R:op(!!R),Q):s},Q.extent=function(R){return arguments.length?(e=typeof R=="function"?R:op([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),Q):e},Q.scaleExtent=function(R){return arguments.length?(i[0]=+R[0],i[1]=+R[1],Q):[i[0],i[1]]},Q.translateExtent=function(R){return arguments.length?(a[0][0]=+R[0][0],a[1][0]=+R[1][0],a[0][1]=+R[0][1],a[1][1]=+R[1][1],Q):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},Q.constrain=function(R){return arguments.length?(n=R,Q):n},Q.duration=function(R){return arguments.length?(o=+R,Q):o},Q.interpolate=function(R){return arguments.length?(u=R,Q):u},Q.on=function(){var R=d.on.apply(d,arguments);return R===d?Q:R},Q.clickDistance=function(R){return arguments.length?(b=(R=+R)*R,Q):Math.sqrt(b)},Q.tapDistance=function(R){return arguments.length?(S=+R,Q):S},Q}lq();const uO=_.createContext(null),cse=uO.Provider,Yi={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},PL=Yi.error001();function Vt(t,e){const n=_.useContext(uO);if(n===null)throw new Error(PL);return tL(n,t,e)}const Cn=()=>{const t=_.useContext(uO);if(t===null)throw new Error(PL);return _.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},use=t=>t.userSelectionActive?"none":"all";function fO({position:t,children:e,className:n,style:r,...s}){const i=Vt(use),a=`${t}`.split("-");return fe.createElement("div",{className:Un(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},...s},e)}function fse({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:fe.createElement(fO,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},fe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const dse=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:u,className:d,...p})=>{const m=_.useRef(null),[g,x]=_.useState({x:0,y:0,width:0,height:0}),v=Un(["react-flow__edge-textwrapper",d]);return _.useEffect(()=>{if(m.current){const b=m.current.getBBox();x({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),typeof n>"u"||!n?null:fe.createElement("g",{transform:`translate(${t-g.width/2} ${e-g.height/2})`,className:v,visibility:g.width?"visible":"hidden",...p},s&&fe.createElement("rect",{width:g.width+2*a[0],x:-a[0],y:-a[1],height:g.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),fe.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:m,style:r},n),u)};var hse=_.memo(dse);const vk=t=>({width:t.offsetWidth,height:t.offsetHeight}),kc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),wk=(t={x:0,y:0},e)=>({x:kc(t.x,e[0][0],e[1][0]),y:kc(t.y,e[0][1],e[1][1])}),tN=(t,e,n)=>t<e?kc(Math.abs(t-e),1,50)/50:t>n?-kc(Math.abs(t-n),1,50)/50:0,NL=(t,e)=>{const n=tN(t.x,35,e.width-35)*20,r=tN(t.y,35,e.height-35)*20;return[n,r]},CL=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},RL=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Bf=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),EL=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),nN=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),pse=(t,e)=>EL(RL(Bf(t),Bf(e))),Z2=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},mse=t=>ts(t.width)&&ts(t.height)&&ts(t.x)&&ts(t.y),ts=t=>!isNaN(t)&&isFinite(t),hn=Symbol.for("internals"),AL=["Enter"," ","Escape"],Ose=(t,e)=>{},gse=t=>"nativeEvent"in t;function V2(t){var s,i;const e=gse(t)?t.nativeEvent:t,n=((i=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:i[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const qL=t=>"clientX"in t,qa=(t,e)=>{var i,a;const n=qL(t),r=n?t.clientX:(i=t.touches)==null?void 0:i[0].clientX,s=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},Tm=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},ud=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:g,interactionWidth:x=20})=>fe.createElement(fe.Fragment,null,fe.createElement("path",{id:t,style:p,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:m,markerStart:g}),x&&fe.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:x,className:"react-flow__edge-interaction"}),s&&ts(n)&&ts(r)?fe.createElement(hse,{x:n,y:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:d}):null);ud.displayName="BaseEdge";function Gu(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(i=>i.id===t);s&&n(r,{...s})}}function ML({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,i=n<t?n+s:n-s,a=Math.abs(r-e)/2,o=r<e?r+a:r-a;return[i,o,s,a]}function XL({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:o}){const u=t*.125+s*.375+a*.375+n*.125,d=e*.125+i*.375+o*.375+r*.125,p=Math.abs(u-t),m=Math.abs(d-e);return[u,d,p,m]}var Di;(function(t){t.Strict="strict",t.Loose="loose"})(Di||(Di={}));var jl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(jl||(jl={}));var Uf;(function(t){t.Partial="partial",t.Full="full"})(Uf||(Uf={}));var Na;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Na||(Na={}));var Cl;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Cl||(Cl={}));var ze;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(ze||(ze={}));function rN({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===ze.Left||t===ze.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function zL({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:s,targetPosition:i=ze.Top}){const[a,o]=rN({pos:n,x1:t,y1:e,x2:r,y2:s}),[u,d]=rN({pos:i,x1:r,y1:s,x2:t,y2:e}),[p,m,g,x]=XL({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:a,sourceControlY:o,targetControlX:u,targetControlY:d});return[`M${t},${e} C${a},${o} ${u},${d} ${r},${s}`,p,m,g,x]}const Sk=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ze.Bottom,targetPosition:i=ze.Top,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,interactionWidth:b})=>{const[S,Q,k]=zL({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return fe.createElement(ud,{path:S,labelX:Q,labelY:k,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,interactionWidth:b})});Sk.displayName="SimpleBezierEdge";const sN={[ze.Left]:{x:-1,y:0},[ze.Right]:{x:1,y:0},[ze.Top]:{x:0,y:-1},[ze.Bottom]:{x:0,y:1}},xse=({source:t,sourcePosition:e=ze.Bottom,target:n})=>e===ze.Left||e===ze.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},iN=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function yse({source:t,sourcePosition:e=ze.Bottom,target:n,targetPosition:r=ze.Top,center:s,offset:i}){const a=sN[e],o=sN[r],u={x:t.x+a.x*i,y:t.y+a.y*i},d={x:n.x+o.x*i,y:n.y+o.y*i},p=xse({source:u,sourcePosition:e,target:d}),m=p.x!==0?"x":"y",g=p[m];let x=[],v,b;const S={x:0,y:0},Q={x:0,y:0},[k,$,T,j]=ML({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[m]*o[m]===-1){v=s.x??k,b=s.y??$;const C=[{x:v,y:u.y},{x:v,y:d.y}],q=[{x:u.x,y:b},{x:d.x,y:b}];a[m]===g?x=m==="x"?C:q:x=m==="x"?q:C}else{const C=[{x:u.x,y:d.y}],q=[{x:d.x,y:u.y}];if(m==="x"?x=a.x===g?q:C:x=a.y===g?C:q,e===r){const Y=Math.abs(t[m]-n[m]);if(Y<=i){const R=Math.min(i-1,i-Y);a[m]===g?S[m]=(u[m]>t[m]?-1:1)*R:Q[m]=(d[m]>n[m]?-1:1)*R}}if(e!==r){const Y=m==="x"?"y":"x",R=a[m]===o[Y],G=u[Y]>d[Y],A=u[Y]<d[Y];(a[m]===1&&(!R&&G||R&&A)||a[m]!==1&&(!R&&A||R&&G))&&(x=m==="x"?C:q)}const M={x:u.x+S.x,y:u.y+S.y},L={x:d.x+Q.x,y:d.y+Q.y},E=Math.max(Math.abs(M.x-x[0].x),Math.abs(L.x-x[0].x)),Z=Math.max(Math.abs(M.y-x[0].y),Math.abs(L.y-x[0].y));E>=Z?(v=(M.x+L.x)/2,b=x[0].y):(v=x[0].x,b=(M.y+L.y)/2)}return[[t,{x:u.x+S.x,y:u.y+S.y},...x,{x:d.x+Q.x,y:d.y+Q.y},n],v,b,T,j]}function bse(t,e,n,r){const s=Math.min(iN(t,e)/2,iN(e,n)/2,r),{x:i,y:a}=e;if(t.x===i&&i===n.x||t.y===a&&a===n.y)return`L${i} ${a}`;if(t.y===a){const d=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${i+s*d},${a}Q ${i},${a} ${i},${a+s*p}`}const o=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${i},${a+s*u}Q ${i},${a} ${i+s*o},${a}`}function Y2({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:s,targetPosition:i=ze.Top,borderRadius:a=5,centerX:o,centerY:u,offset:d=20}){const[p,m,g,x,v]=yse({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:o,y:u},offset:d});return[p.reduce((S,Q,k)=>{let $="";return k>0&&k<p.length-1?$=bse(p[k-1],Q,p[k+1],a):$=`${k===0?"M":"L"}${Q.x} ${Q.y}`,S+=$,S},""),m,g,x,v]}const dO=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:d,style:p,sourcePosition:m=ze.Bottom,targetPosition:g=ze.Top,markerEnd:x,markerStart:v,pathOptions:b,interactionWidth:S})=>{const[Q,k,$]=Y2({sourceX:t,sourceY:e,sourcePosition:m,targetX:n,targetY:r,targetPosition:g,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset});return fe.createElement(ud,{path:Q,labelX:k,labelY:$,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:x,markerStart:v,interactionWidth:S})});dO.displayName="SmoothStepEdge";const Qk=_.memo(t=>{var e;return fe.createElement(dO,{...t,pathOptions:_.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});Qk.displayName="StepEdge";function vse({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,i,a,o]=ML({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,i,a,o]}const kk=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:g,interactionWidth:x})=>{const[v,b,S]=vse({sourceX:t,sourceY:e,targetX:n,targetY:r});return fe.createElement(ud,{path:v,labelX:b,labelY:S,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:d,style:p,markerEnd:m,markerStart:g,interactionWidth:x})});kk.displayName="StraightEdge";function cp(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function aN({pos:t,x1:e,y1:n,x2:r,y2:s,c:i}){switch(t){case ze.Left:return[e-cp(e-r,i),n];case ze.Right:return[e+cp(r-e,i),n];case ze.Top:return[e,n-cp(n-s,i)];case ze.Bottom:return[e,n+cp(s-n,i)]}}function LL({sourceX:t,sourceY:e,sourcePosition:n=ze.Bottom,targetX:r,targetY:s,targetPosition:i=ze.Top,curvature:a=.25}){const[o,u]=aN({pos:n,x1:t,y1:e,x2:r,y2:s,c:a}),[d,p]=aN({pos:i,x1:r,y1:s,x2:t,y2:e,c:a}),[m,g,x,v]=XL({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:u,targetControlX:d,targetControlY:p});return[`M${t},${e} C${o},${u} ${d},${p} ${r},${s}`,m,g,x,v]}const jm=_.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=ze.Bottom,targetPosition:i=ze.Top,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,pathOptions:b,interactionWidth:S})=>{const[Q,k,$]=LL({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:b==null?void 0:b.curvature});return fe.createElement(ud,{path:Q,labelX:k,labelY:$,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,interactionWidth:S})});jm.displayName="BezierEdge";const $k=_.createContext(null),wse=$k.Provider;$k.Consumer;const Sse=()=>_.useContext($k),Qse=t=>"id"in t&&"source"in t&&"target"in t,kse=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,D2=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,$se=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),ZL=(t,e)=>{if(!t.source||!t.target)return e;let n;return Qse(t)?n={...t}:n={...t,id:kse(t)},$se(n,e)?e:e.concat(n)},B2=({x:t,y:e},[n,r,s],i,[a,o])=>{const u={x:(t-n)/s,y:(e-r)/s};return i?{x:a*Math.round(u.x/a),y:o*Math.round(u.y/o)}:u},VL=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),Rl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},hO=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:i,y:a}=Rl(s,e).positionAbsolute;return RL(r,Bf({x:i,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return EL(n)},YL=(t,e,[n,r,s]=[0,0,1],i=!1,a=!1,o=[0,0])=>{const u={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},d=[];return t.forEach(p=>{const{width:m,height:g,selectable:x=!0,hidden:v=!1}=p;if(a&&!x||v)return!1;const{positionAbsolute:b}=Rl(p,o),S={x:b.x,y:b.y,width:m||0,height:g||0},Q=Z2(u,S),k=typeof m>"u"||typeof g>"u"||m===null||g===null,$=i&&Q>0,T=(m||0)*(g||0);(k||$||Q>=T||p.dragging)&&d.push(p)}),d},DL=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},BL=(t,e,n,r,s,i=.1)=>{const a=e/(t.width*(1+i)),o=n/(t.height*(1+i)),u=Math.min(a,o),d=kc(u,r,s),p=t.x+t.width/2,m=t.y+t.height/2,g=e/2-p*d,x=n/2-m*d;return{x:g,y:x,zoom:d}},xl=(t,e=0)=>t.transition().duration(e);function lN(t,e,n,r){return(e[n]||[]).reduce((s,i)=>{var a,o;return`${t.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:t.id,x:(((a=t.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((o=t.positionAbsolute)==null?void 0:o.y)??0)+i.y+i.height/2}),s},[])}function Tse(t,e,n,r,s,i){const{x:a,y:o}=qa(t),d=e.elementsFromPoint(a,o).find(v=>v.classList.contains("react-flow__handle"));if(d){const v=d.getAttribute("data-nodeid");if(v){const b=Tk(void 0,d),S=d.getAttribute("data-handleid"),Q=i({nodeId:v,id:S,type:b});if(Q){const k=s.find($=>$.nodeId===v&&$.type===b&&$.id===S);return{handle:{id:S,type:b,nodeId:v,x:(k==null?void 0:k.x)||n.x,y:(k==null?void 0:k.y)||n.y},validHandleResult:Q}}}}let p=[],m=1/0;if(s.forEach(v=>{const b=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(b<=r){const S=i(v);b<=m&&(b<m?p=[{handle:v,validHandleResult:S}]:b===m&&p.push({handle:v,validHandleResult:S}),m=b)}}),!p.length)return{handle:null,validHandleResult:UL()};if(p.length===1)return p[0];const g=p.some(({validHandleResult:v})=>v.isValid),x=p.some(({handle:v})=>v.type==="target");return p.find(({handle:v,validHandleResult:b})=>x?v.type==="target":g?b.isValid:!0)||p[0]}const jse={source:null,target:null,sourceHandle:null,targetHandle:null},UL=()=>({handleDomNode:null,isValid:!1,connection:jse,endHandle:null});function WL(t,e,n,r,s,i,a){const o=s==="target",u=a.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),d={...UL(),handleDomNode:u};if(u){const p=Tk(void 0,u),m=u.getAttribute("data-nodeid"),g=u.getAttribute("data-handleid"),x=u.classList.contains("connectable"),v=u.classList.contains("connectableend"),b={source:o?m:n,sourceHandle:o?g:r,target:o?n:m,targetHandle:o?r:g};d.connection=b,x&&v&&(e===Di.Strict?o&&p==="source"||!o&&p==="target":m!==n||g!==r)&&(d.endHandle={nodeId:m,handleId:g,type:p},d.isValid=i(b))}return d}function _se({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,i)=>{if(i[hn]){const{handleBounds:a}=i[hn];let o=[],u=[];a&&(o=lN(i,a,"source",`${e}-${n}-${r}`),u=lN(i,a,"target",`${e}-${n}-${r}`)),s.push(...o,...u)}return s},[])}function Tk(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Fx(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Pse(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function GL({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:a,isValidConnection:o,edgeUpdaterType:u,onReconnectEnd:d}){const p=CL(t.target),{connectionMode:m,domNode:g,autoPanOnConnect:x,connectionRadius:v,onConnectStart:b,panBy:S,getNodes:Q,cancelConnection:k}=i();let $=0,T;const{x:j,y:N}=qa(t),C=p==null?void 0:p.elementFromPoint(j,N),q=Tk(u,C),M=g==null?void 0:g.getBoundingClientRect();if(!M||!q)return;let L,E=qa(t,M),Z=!1,Y=null,R=!1,G=null;const A=_se({nodes:Q(),nodeId:n,handleId:e,handleType:q}),W=()=>{if(!x)return;const[ee,z]=NL(E,M);S({x:ee,y:z}),$=requestAnimationFrame(W)};a({connectionPosition:E,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:q,connectionStartHandle:{nodeId:n,handleId:e,type:q},connectionEndHandle:null}),b==null||b(t,{nodeId:n,handleId:e,handleType:q});function I(ee){const{transform:z}=i();E=qa(ee,M);const{handle:D,validHandleResult:K}=Tse(ee,p,B2(E,z,!1,[1,1]),v,A,B=>WL(B,m,n,e,s?"target":"source",o,p));if(T=D,Z||(W(),Z=!0),G=K.handleDomNode,Y=K.connection,R=K.isValid,a({connectionPosition:T&&R?VL({x:T.x,y:T.y},z):E,connectionStatus:Pse(!!T,R),connectionEndHandle:K.endHandle}),!T&&!R&&!G)return Fx(L);Y.source!==Y.target&&G&&(Fx(L),L=G,G.classList.add("connecting","react-flow__handle-connecting"),G.classList.toggle("valid",R),G.classList.toggle("react-flow__handle-valid",R))}function U(ee){var z,D;(T||G)&&Y&&R&&(r==null||r(Y)),(D=(z=i()).onConnectEnd)==null||D.call(z,ee),u&&(d==null||d(ee)),Fx(L),k(),cancelAnimationFrame($),Z=!1,R=!1,Y=null,G=null,p.removeEventListener("mousemove",I),p.removeEventListener("mouseup",U),p.removeEventListener("touchmove",I),p.removeEventListener("touchend",U)}p.addEventListener("mousemove",I),p.addEventListener("mouseup",U),p.addEventListener("touchmove",I),p.addEventListener("touchend",U)}const oN=()=>!0,Nse=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),Cse=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n}},IL=_.forwardRef(({type:t="source",position:e=ze.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:o,children:u,className:d,onMouseDown:p,onTouchStart:m,...g},x)=>{var M,L;const v=a||null,b=t==="target",S=Cn(),Q=Sse(),{connectOnClick:k,noPanClassName:$}=Vt(Nse,qn),{connecting:T,clickConnecting:j}=Vt(Cse(Q,v,t),qn);Q||(L=(M=S.getState()).onError)==null||L.call(M,"010",Yi.error010());const N=E=>{const{defaultEdgeOptions:Z,onConnect:Y,hasDefaultEdges:R}=S.getState(),G={...Z,...E};if(R){const{edges:A,setEdges:W}=S.getState();W(ZL(G,A))}Y==null||Y(G),o==null||o(G)},C=E=>{if(!Q)return;const Z=qL(E);s&&(Z&&E.button===0||!Z)&&GL({event:E,handleId:v,nodeId:Q,onConnect:N,isTarget:b,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||oN}),Z?p==null||p(E):m==null||m(E)},q=E=>{const{onClickConnectStart:Z,onClickConnectEnd:Y,connectionClickStartHandle:R,connectionMode:G,isValidConnection:A}=S.getState();if(!Q||!R&&!s)return;if(!R){Z==null||Z(E,{nodeId:Q,handleId:v,handleType:t}),S.setState({connectionClickStartHandle:{nodeId:Q,type:t,handleId:v}});return}const W=CL(E.target),I=n||A||oN,{connection:U,isValid:ee}=WL({nodeId:Q,id:v,type:t},G,R.nodeId,R.handleId||null,R.type,I,W);ee&&N(U),Y==null||Y(E),S.setState({connectionClickStartHandle:null})};return fe.createElement("div",{"data-handleid":v,"data-nodeid":Q,"data-handlepos":e,"data-id":`${Q}-${v}-${t}`,className:Un(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",$,d,{source:!b,target:b,connectable:r,connectablestart:s,connectableend:i,connecting:j,connectionindicator:r&&(s&&!T||i&&T)}]),onMouseDown:C,onTouchStart:C,onClick:k?q:void 0,ref:x,...g},u)});IL.displayName="Handle";var $c=_.memo(IL);const HL=({data:t,isConnectable:e,targetPosition:n=ze.Top,sourcePosition:r=ze.Bottom})=>fe.createElement(fe.Fragment,null,fe.createElement($c,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,fe.createElement($c,{type:"source",position:r,isConnectable:e}));HL.displayName="DefaultNode";var U2=_.memo(HL);const FL=({data:t,isConnectable:e,sourcePosition:n=ze.Bottom})=>fe.createElement(fe.Fragment,null,t==null?void 0:t.label,fe.createElement($c,{type:"source",position:n,isConnectable:e}));FL.displayName="InputNode";var KL=_.memo(FL);const JL=({data:t,isConnectable:e,targetPosition:n=ze.Top})=>fe.createElement(fe.Fragment,null,fe.createElement($c,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);JL.displayName="OutputNode";var e6=_.memo(JL);const jk=()=>null;jk.displayName="GroupNode";const Rse=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),up=t=>t.id;function Ese(t,e){return qn(t.selectedNodes.map(up),e.selectedNodes.map(up))&&qn(t.selectedEdges.map(up),e.selectedEdges.map(up))}const t6=_.memo(({onSelectionChange:t})=>{const e=Cn(),{selectedNodes:n,selectedEdges:r}=Vt(Rse,Ese);return _.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(i=>i(s))},[n,r,t]),null});t6.displayName="SelectionListener";const Ase=t=>!!t.onSelectionChange;function qse({onSelectionChange:t}){const e=Vt(Ase);return t||e?fe.createElement(t6,{onSelectionChange:t}):null}const Mse=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Lo(t,e){_.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function tt(t,e,n){_.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const Xse=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:a,onClickConnectStart:o,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:p,nodesFocusable:m,edgesFocusable:g,edgesUpdatable:x,elevateNodesOnSelect:v,minZoom:b,maxZoom:S,nodeExtent:Q,onNodesChange:k,onEdgesChange:$,elementsSelectable:T,connectionMode:j,snapGrid:N,snapToGrid:C,translateExtent:q,connectOnClick:M,defaultEdgeOptions:L,fitView:E,fitViewOptions:Z,onNodesDelete:Y,onEdgesDelete:R,onNodeDrag:G,onNodeDragStart:A,onNodeDragStop:W,onSelectionDrag:I,onSelectionDragStart:U,onSelectionDragStop:ee,noPanClassName:z,nodeOrigin:D,rfId:K,autoPanOnConnect:B,autoPanOnNodeDrag:H,onError:J,connectionRadius:re,isValidConnection:ie,nodeDragThreshold:ce})=>{const{setNodes:ve,setEdges:_e,setDefaultNodesAndEdges:ne,setMinZoom:he,setMaxZoom:pe,setTranslateExtent:xe,setNodeExtent:Ie,reset:je}=Vt(Mse,qn),ke=Cn();return _.useEffect(()=>{const Je=r==null?void 0:r.map(ut=>({...ut,...L}));return ne(n,Je),()=>{je()}},[]),tt("defaultEdgeOptions",L,ke.setState),tt("connectionMode",j,ke.setState),tt("onConnect",s,ke.setState),tt("onConnectStart",i,ke.setState),tt("onConnectEnd",a,ke.setState),tt("onClickConnectStart",o,ke.setState),tt("onClickConnectEnd",u,ke.setState),tt("nodesDraggable",d,ke.setState),tt("nodesConnectable",p,ke.setState),tt("nodesFocusable",m,ke.setState),tt("edgesFocusable",g,ke.setState),tt("edgesUpdatable",x,ke.setState),tt("elementsSelectable",T,ke.setState),tt("elevateNodesOnSelect",v,ke.setState),tt("snapToGrid",C,ke.setState),tt("snapGrid",N,ke.setState),tt("onNodesChange",k,ke.setState),tt("onEdgesChange",$,ke.setState),tt("connectOnClick",M,ke.setState),tt("fitViewOnInit",E,ke.setState),tt("fitViewOnInitOptions",Z,ke.setState),tt("onNodesDelete",Y,ke.setState),tt("onEdgesDelete",R,ke.setState),tt("onNodeDrag",G,ke.setState),tt("onNodeDragStart",A,ke.setState),tt("onNodeDragStop",W,ke.setState),tt("onSelectionDrag",I,ke.setState),tt("onSelectionDragStart",U,ke.setState),tt("onSelectionDragStop",ee,ke.setState),tt("noPanClassName",z,ke.setState),tt("nodeOrigin",D,ke.setState),tt("rfId",K,ke.setState),tt("autoPanOnConnect",B,ke.setState),tt("autoPanOnNodeDrag",H,ke.setState),tt("onError",J,ke.setState),tt("connectionRadius",re,ke.setState),tt("isValidConnection",ie,ke.setState),tt("nodeDragThreshold",ce,ke.setState),Lo(t,ve),Lo(e,_e),Lo(b,he),Lo(S,pe),Lo(q,xe),Lo(Q,Ie),null},cN={display:"none"},zse={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},n6="react-flow__node-desc",r6="react-flow__edge-desc",Lse="react-flow__aria-live",Zse=t=>t.ariaLiveMessage;function Vse({rfId:t}){const e=Vt(Zse);return fe.createElement("div",{id:`${Lse}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:zse},e)}function Yse({rfId:t,disableKeyboardA11y:e}){return fe.createElement(fe.Fragment,null,fe.createElement("div",{id:`${n6}-${t}`,style:cN},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),fe.createElement("div",{id:`${r6}-${t}`,style:cN},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&fe.createElement(Vse,{rfId:t}))}var Wf=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=_.useState(!1),s=_.useRef(!1),i=_.useRef(new Set([])),[a,o]=_.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(m=>typeof m=="string").map(m=>m.split("+")),p=d.reduce((m,g)=>m.concat(...g),[]);return[d,p]}return[[],[]]},[t]);return _.useEffect(()=>{const u=typeof document<"u"?document:null,d=(e==null?void 0:e.target)||u;if(t!==null){const p=x=>{if(s.current=x.ctrlKey||x.metaKey||x.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&V2(x))return!1;const b=fN(x.code,o);i.current.add(x[b]),uN(a,i.current,!1)&&(x.preventDefault(),r(!0))},m=x=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&V2(x))return!1;const b=fN(x.code,o);uN(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[b]),x.key==="Meta"&&i.current.clear(),s.current=!1},g=()=>{i.current.clear(),r(!1)};return d==null||d.addEventListener("keydown",p),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",g),()=>{d==null||d.removeEventListener("keydown",p),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",g)}}},[t,r]),n};function uN(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function fN(t,e){return e.includes(t)?"code":"key"}function s6(t,e,n,r){var o,u;const s=t.parentNode||t.parentId;if(!s)return n;const i=e.get(s),a=Rl(i,r);return s6(i,e,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((o=i[hn])==null?void 0:o.z)??0)>(n.z??0)?((u=i[hn])==null?void 0:u.z)??0:n.z??0},r)}function i6(t,e,n){t.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:a,y:o,z:u}=s6(r,t,{...r.position,z:((i=r[hn])==null?void 0:i.z)??0},e);r.positionAbsolute={x:a,y:o},r[hn].z=u,n!=null&&n[r.id]&&(r[hn].isParent=!0)}})}function Kx(t,e,n,r){const s=new Map,i={},a=r?1e3:0;return t.forEach(o=>{var x;const u=(ts(o.zIndex)?o.zIndex:0)+(o.selected?a:0),d=e.get(o.id),p={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},m=o.parentNode||o.parentId;m&&(i[m]=!0);const g=(d==null?void 0:d.type)&&(d==null?void 0:d.type)!==o.type;Object.defineProperty(p,hn,{enumerable:!1,value:{handleBounds:g||(x=d==null?void 0:d[hn])==null?void 0:x.handleBounds,z:u}}),s.set(o.id,p)}),i6(s,n,i),s}function a6(t,e={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:a,d3Zoom:o,d3Selection:u,fitViewOnInitDone:d,fitViewOnInit:p,nodeOrigin:m}=t(),g=e.initial&&!d&&p;if(o&&u&&(g||!e.initial)){const v=n().filter(S=>{var k;const Q=e.includeHiddenNodes?S.width&&S.height:!S.hidden;return(k=e.nodes)!=null&&k.length?Q&&e.nodes.some($=>$.id===S.id):Q}),b=v.every(S=>S.width&&S.height);if(v.length>0&&b){const S=hO(v,m),{x:Q,y:k,zoom:$}=BL(S,r,s,e.minZoom??i,e.maxZoom??a,e.padding??.1),T=zi.translate(Q,k).scale($);return typeof e.duration=="number"&&e.duration>0?o.transform(xl(u,e.duration),T):o.transform(u,T),!0}}return!1}function Dse(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[hn]:r[hn],selected:n.selected})}),new Map(e)}function Bse(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function fp({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:a,onEdgesChange:o,hasDefaultNodes:u,hasDefaultEdges:d}=n();t!=null&&t.length&&(u&&r({nodeInternals:Dse(t,s)}),a==null||a(t)),e!=null&&e.length&&(d&&r({edges:Bse(e,i)}),o==null||o(e))}const Zo=()=>{},Use={zoomIn:Zo,zoomOut:Zo,zoomTo:Zo,getZoom:()=>1,setViewport:Zo,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Zo,fitBounds:Zo,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},Wse=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Gse=()=>{const t=Cn(),{d3Zoom:e,d3Selection:n}=Vt(Wse,qn);return _.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(xl(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(xl(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>e.scaleTo(xl(n,i==null?void 0:i.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,i)=>{const[a,o,u]=t.getState().transform,d=zi.translate(s.x??a,s.y??o).scale(s.zoom??u);e.transform(xl(n,i==null?void 0:i.duration),d)},getViewport:()=>{const[s,i,a]=t.getState().transform;return{x:s,y:i,zoom:a}},fitView:s=>a6(t.getState,s),setCenter:(s,i,a)=>{const{width:o,height:u,maxZoom:d}=t.getState(),p=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:d,m=o/2-s*p,g=u/2-i*p,x=zi.translate(m,g).scale(p);e.transform(xl(n,a==null?void 0:a.duration),x)},fitBounds:(s,i)=>{const{width:a,height:o,minZoom:u,maxZoom:d}=t.getState(),{x:p,y:m,zoom:g}=BL(s,a,o,u,d,(i==null?void 0:i.padding)??.1),x=zi.translate(p,m).scale(g);e.transform(xl(n,i==null?void 0:i.duration),x)},project:s=>{const{transform:i,snapToGrid:a,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),B2(s,i,a,o)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:a,snapGrid:o,domNode:u}=t.getState();if(!u)return s;const{x:d,y:p}=u.getBoundingClientRect(),m={x:s.x-d,y:s.y-p};return B2(m,i,a,o)},flowToScreenPosition:s=>{const{transform:i,domNode:a}=t.getState();if(!a)return s;const{x:o,y:u}=a.getBoundingClientRect(),d=VL(s,i);return{x:d.x+o,y:d.y+u}},viewportInitialized:!0}:Use,[e,n])};function _k(){const t=Gse(),e=Cn(),n=_.useCallback(()=>e.getState().getNodes().map(b=>({...b})),[]),r=_.useCallback(b=>e.getState().nodeInternals.get(b),[]),s=_.useCallback(()=>{const{edges:b=[]}=e.getState();return b.map(S=>({...S}))},[]),i=_.useCallback(b=>{const{edges:S=[]}=e.getState();return S.find(Q=>Q.id===b)},[]),a=_.useCallback(b=>{const{getNodes:S,setNodes:Q,hasDefaultNodes:k,onNodesChange:$}=e.getState(),T=S(),j=typeof b=="function"?b(T):b;if(k)Q(j);else if($){const N=j.length===0?T.map(C=>({type:"remove",id:C.id})):j.map(C=>({item:C,type:"reset"}));$(N)}},[]),o=_.useCallback(b=>{const{edges:S=[],setEdges:Q,hasDefaultEdges:k,onEdgesChange:$}=e.getState(),T=typeof b=="function"?b(S):b;if(k)Q(T);else if($){const j=T.length===0?S.map(N=>({type:"remove",id:N.id})):T.map(N=>({item:N,type:"reset"}));$(j)}},[]),u=_.useCallback(b=>{const S=Array.isArray(b)?b:[b],{getNodes:Q,setNodes:k,hasDefaultNodes:$,onNodesChange:T}=e.getState();if($){const N=[...Q(),...S];k(N)}else if(T){const j=S.map(N=>({item:N,type:"add"}));T(j)}},[]),d=_.useCallback(b=>{const S=Array.isArray(b)?b:[b],{edges:Q=[],setEdges:k,hasDefaultEdges:$,onEdgesChange:T}=e.getState();if($)k([...Q,...S]);else if(T){const j=S.map(N=>({item:N,type:"add"}));T(j)}},[]),p=_.useCallback(()=>{const{getNodes:b,edges:S=[],transform:Q}=e.getState(),[k,$,T]=Q;return{nodes:b().map(j=>({...j})),edges:S.map(j=>({...j})),viewport:{x:k,y:$,zoom:T}}},[]),m=_.useCallback(({nodes:b,edges:S})=>{const{nodeInternals:Q,getNodes:k,edges:$,hasDefaultNodes:T,hasDefaultEdges:j,onNodesDelete:N,onEdgesDelete:C,onNodesChange:q,onEdgesChange:M}=e.getState(),L=(b||[]).map(G=>G.id),E=(S||[]).map(G=>G.id),Z=k().reduce((G,A)=>{const W=A.parentNode||A.parentId,I=!L.includes(A.id)&&W&&G.find(ee=>ee.id===W);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(L.includes(A.id)||I)&&G.push(A),G},[]),Y=$.filter(G=>typeof G.deletable=="boolean"?G.deletable:!0),R=Y.filter(G=>E.includes(G.id));if(Z||R){const G=DL(Z,Y),A=[...R,...G],W=A.reduce((I,U)=>(I.includes(U.id)||I.push(U.id),I),[]);if((j||T)&&(j&&e.setState({edges:$.filter(I=>!W.includes(I.id))}),T&&(Z.forEach(I=>{Q.delete(I.id)}),e.setState({nodeInternals:new Map(Q)}))),W.length>0&&(C==null||C(A),M&&M(W.map(I=>({id:I,type:"remove"})))),Z.length>0&&(N==null||N(Z),q)){const I=Z.map(U=>({id:U.id,type:"remove"}));q(I)}}},[]),g=_.useCallback(b=>{const S=mse(b),Q=S?null:e.getState().nodeInternals.get(b.id);return!S&&!Q?[null,null,S]:[S?b:nN(Q),Q,S]},[]),x=_.useCallback((b,S=!0,Q)=>{const[k,$,T]=g(b);return k?(Q||e.getState().getNodes()).filter(j=>{if(!T&&(j.id===$.id||!j.positionAbsolute))return!1;const N=nN(j),C=Z2(N,k);return S&&C>0||C>=k.width*k.height}):[]},[]),v=_.useCallback((b,S,Q=!0)=>{const[k]=g(b);if(!k)return!1;const $=Z2(k,S);return Q&&$>0||$>=k.width*k.height},[]);return _.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:a,setEdges:o,addNodes:u,addEdges:d,toObject:p,deleteElements:m,getIntersectingNodes:x,isNodeIntersecting:v}),[t,n,r,s,i,a,o,u,d,p,m,x,v])}const Ise={actInsideInputWithModifier:!1};var Hse=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Cn(),{deleteElements:r}=_k(),s=Wf(t,Ise),i=Wf(e);_.useEffect(()=>{if(s){const{edges:a,getNodes:o}=n.getState(),u=o().filter(p=>p.selected),d=a.filter(p=>p.selected);r({nodes:u,edges:d}),n.setState({nodesSelectionActive:!1})}},[s]),_.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Fse(t){const e=Cn();_.useEffect(()=>{let n;const r=()=>{var i,a;if(!t.current)return;const s=vk(t.current);(s.height===0||s.width===0)&&((a=(i=e.getState()).onError)==null||a.call(i,"004",Yi.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const Pk={position:"absolute",width:"100%",height:"100%",top:0,left:0},Kse=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,dp=t=>({x:t.x,y:t.y,zoom:t.k}),Vo=(t,e)=>t.target.closest(`.${e}`),dN=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),hN=t=>{const e=t.ctrlKey&&Tm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},Jse=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),eie=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:u=jl.Free,zoomOnDoubleClick:d=!0,elementsSelectable:p,panOnDrag:m=!0,defaultViewport:g,translateExtent:x,minZoom:v,maxZoom:b,zoomActivationKeyCode:S,preventScrolling:Q=!0,children:k,noWheelClassName:$,noPanClassName:T})=>{const j=_.useRef(),N=Cn(),C=_.useRef(!1),q=_.useRef(!1),M=_.useRef(null),L=_.useRef({x:0,y:0,zoom:0}),{d3Zoom:E,d3Selection:Z,d3ZoomHandler:Y,userSelectionActive:R}=Vt(Jse,qn),G=Wf(S),A=_.useRef(0),W=_.useRef(!1),I=_.useRef();return Fse(M),_.useEffect(()=>{if(M.current){const U=M.current.getBoundingClientRect(),ee=_L().scaleExtent([v,b]).translateExtent(x),z=Ir(M.current).call(ee),D=zi.translate(g.x,g.y).scale(kc(g.zoom,v,b)),K=[[0,0],[U.width,U.height]],B=ee.constrain()(D,K,x);ee.transform(z,B),ee.wheelDelta(hN),N.setState({d3Zoom:ee,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:M.current.closest(".react-flow")})}},[]),_.useEffect(()=>{Z&&E&&(a&&!G&&!R?Z.on("wheel.zoom",U=>{if(Vo(U,$))return!1;U.preventDefault(),U.stopImmediatePropagation();const ee=Z.property("__zoom").k||1;if(U.ctrlKey&&i){const ie=bs(U),ce=hN(U),ve=ee*Math.pow(2,ce);E.scaleTo(Z,ve,ie,U);return}const z=U.deltaMode===1?20:1;let D=u===jl.Vertical?0:U.deltaX*z,K=u===jl.Horizontal?0:U.deltaY*z;!Tm()&&U.shiftKey&&u!==jl.Vertical&&(D=U.deltaY*z,K=0),E.translateBy(Z,-(D/ee)*o,-(K/ee)*o,{internal:!0});const B=dp(Z.property("__zoom")),{onViewportChangeStart:H,onViewportChange:J,onViewportChangeEnd:re}=N.getState();clearTimeout(I.current),W.current||(W.current=!0,e==null||e(U,B),H==null||H(B)),W.current&&(t==null||t(U,B),J==null||J(B),I.current=setTimeout(()=>{n==null||n(U,B),re==null||re(B),W.current=!1},150))},{passive:!1}):typeof Y<"u"&&Z.on("wheel.zoom",function(U,ee){if(!Q&&U.type==="wheel"&&!U.ctrlKey||Vo(U,$))return null;U.preventDefault(),Y.call(this,U,ee)},{passive:!1}))},[R,a,u,Z,E,Y,G,i,Q,$,e,t,n]),_.useEffect(()=>{E&&E.on("start",U=>{var D,K;if(!U.sourceEvent||U.sourceEvent.internal)return null;A.current=(D=U.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:ee}=N.getState(),z=dp(U.transform);C.current=!0,L.current=z,((K=U.sourceEvent)==null?void 0:K.type)==="mousedown"&&N.setState({paneDragging:!0}),ee==null||ee(z),e==null||e(U.sourceEvent,z)})},[E,e]),_.useEffect(()=>{E&&(R&&!C.current?E.on("zoom",null):R||E.on("zoom",U=>{var z;const{onViewportChange:ee}=N.getState();if(N.setState({transform:[U.transform.x,U.transform.y,U.transform.k]}),q.current=!!(r&&dN(m,A.current??0)),(t||ee)&&!((z=U.sourceEvent)!=null&&z.internal)){const D=dp(U.transform);ee==null||ee(D),t==null||t(U.sourceEvent,D)}}))},[R,E,t,m,r]),_.useEffect(()=>{E&&E.on("end",U=>{if(!U.sourceEvent||U.sourceEvent.internal)return null;const{onViewportChangeEnd:ee}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),r&&dN(m,A.current??0)&&!q.current&&r(U.sourceEvent),q.current=!1,(n||ee)&&Kse(L.current,U.transform)){const z=dp(U.transform);L.current=z,clearTimeout(j.current),j.current=setTimeout(()=>{ee==null||ee(z),n==null||n(U.sourceEvent,z)},a?150:0)}})},[E,a,m,n,r]),_.useEffect(()=>{E&&E.filter(U=>{const ee=G||s,z=i&&U.ctrlKey;if((m===!0||Array.isArray(m)&&m.includes(1))&&U.button===1&&U.type==="mousedown"&&(Vo(U,"react-flow__node")||Vo(U,"react-flow__edge")))return!0;if(!m&&!ee&&!a&&!d&&!i||R||!d&&U.type==="dblclick"||Vo(U,$)&&U.type==="wheel"||Vo(U,T)&&(U.type!=="wheel"||a&&U.type==="wheel"&&!G)||!i&&U.ctrlKey&&U.type==="wheel"||!ee&&!a&&!z&&U.type==="wheel"||!m&&(U.type==="mousedown"||U.type==="touchstart")||Array.isArray(m)&&!m.includes(U.button)&&U.type==="mousedown")return!1;const D=Array.isArray(m)&&m.includes(U.button)||!U.button||U.button<=1;return(!U.ctrlKey||U.type==="wheel")&&D})},[R,E,s,i,a,d,m,p,G]),fe.createElement("div",{className:"react-flow__renderer",ref:M,style:Pk},k)},tie=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function nie(){const{userSelectionActive:t,userSelectionRect:e}=Vt(tie,qn);return t&&e?fe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function pN(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(s>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),e.position.x<0){const a=Math.abs(e.position.x);r.position.x=r.position.x-a,r.style.width+=a,e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);r.position.y=r.position.y-a,r.style.height+=a,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function l6(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const i=t.filter(o=>o.id===s.id);if(i.length===0)return r.push(s),r;const a={...s};for(const o of i)if(o)switch(o.type){case"select":{a.selected=o.selected;break}case"position":{typeof o.position<"u"&&(a.position=o.position),typeof o.positionAbsolute<"u"&&(a.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(a.dragging=o.dragging),a.expandParent&&pN(r,a);break}case"dimensions":{typeof o.dimensions<"u"&&(a.width=o.dimensions.width,a.height=o.dimensions.height),typeof o.updateStyle<"u"&&(a.style={...a.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(a.resizing=o.resizing),a.expandParent&&pN(r,a);break}case"remove":return r}return r.push(a),r},n)}function o6(t,e){return l6(t,e)}function rie(t,e){return l6(t,e)}const _a=(t,e)=>({id:t,type:"select",selected:e});function Jo(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(_a(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(_a(r.id,!1))),n},[])}const Jx=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},sie=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),c6=_.memo(({isSelecting:t,selectionMode:e=Uf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:o,onPaneMouseEnter:u,onPaneMouseMove:d,onPaneMouseLeave:p,children:m})=>{const g=_.useRef(null),x=Cn(),v=_.useRef(0),b=_.useRef(0),S=_.useRef(),{userSelectionActive:Q,elementsSelectable:k,dragging:$}=Vt(sie,qn),T=()=>{x.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,b.current=0},j=Y=>{i==null||i(Y),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},N=Y=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){Y.preventDefault();return}a==null||a(Y)},C=o?Y=>o(Y):void 0,q=Y=>{const{resetSelectedElements:R,domNode:G}=x.getState();if(S.current=G==null?void 0:G.getBoundingClientRect(),!k||!t||Y.button!==0||Y.target!==g.current||!S.current)return;const{x:A,y:W}=qa(Y,S.current);R(),x.setState({userSelectionRect:{width:0,height:0,startX:A,startY:W,x:A,y:W}}),r==null||r(Y)},M=Y=>{const{userSelectionRect:R,nodeInternals:G,edges:A,transform:W,onNodesChange:I,onEdgesChange:U,nodeOrigin:ee,getNodes:z}=x.getState();if(!t||!S.current||!R)return;x.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=qa(Y,S.current),K=R.startX??0,B=R.startY??0,H={...R,x:D.x<K?D.x:K,y:D.y<B?D.y:B,width:Math.abs(D.x-K),height:Math.abs(D.y-B)},J=z(),re=YL(G,H,W,e===Uf.Partial,!0,ee),ie=DL(re,A).map(ve=>ve.id),ce=re.map(ve=>ve.id);if(v.current!==ce.length){v.current=ce.length;const ve=Jo(J,ce);ve.length&&(I==null||I(ve))}if(b.current!==ie.length){b.current=ie.length;const ve=Jo(A,ie);ve.length&&(U==null||U(ve))}x.setState({userSelectionRect:H})},L=Y=>{if(Y.button!==0)return;const{userSelectionRect:R}=x.getState();!Q&&R&&Y.target===g.current&&(j==null||j(Y)),x.setState({nodesSelectionActive:v.current>0}),T(),s==null||s(Y)},E=Y=>{Q&&(x.setState({nodesSelectionActive:v.current>0}),s==null||s(Y)),T()},Z=k&&(t||Q);return fe.createElement("div",{className:Un(["react-flow__pane",{dragging:$,selection:t}]),onClick:Z?void 0:Jx(j,g),onContextMenu:Jx(N,g),onWheel:Jx(C,g),onMouseEnter:Z?void 0:u,onMouseDown:Z?q:void 0,onMouseMove:Z?M:d,onMouseUp:Z?L:void 0,onMouseLeave:Z?E:p,ref:g,style:Pk},m,fe.createElement(nie,null))});c6.displayName="Pane";function u6(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:u6(r,e):!1}function mN(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function iie(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!u6(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var i,a;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((a=s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function aie(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function f6(t,e,n,r,s=[0,0],i){const a=aie(t,t.extent||r);let o=a;const u=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(u&&t.width&&t.height){const m=n.get(u),{x:g,y:x}=Rl(m,s).positionAbsolute;o=m&&ts(g)&&ts(x)&&ts(m.width)&&ts(m.height)?[[g+t.width*s[0],x+t.height*s[1]],[g+m.width-t.width+t.width*s[0],x+m.height-t.height+t.height*s[1]]]:o}else i==null||i("005",Yi.error005()),o=a;else if(t.extent&&u&&t.extent!=="parent"){const m=n.get(u),{x:g,y:x}=Rl(m,s).positionAbsolute;o=[[t.extent[0][0]+g,t.extent[0][1]+x],[t.extent[1][0]+g,t.extent[1][1]+x]]}let d={x:0,y:0};if(u){const m=n.get(u);d=Rl(m,s).positionAbsolute}const p=o&&o!=="parent"?wk(e,o):e;return{position:{x:p.x-d.x,y:p.y-d.y},positionAbsolute:p}}function e1({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const ON=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const i=Array.from(s),a=e.getBoundingClientRect(),o={x:a.width*r[0],y:a.height*r[1]};return i.map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(d.left-a.left-o.x)/n,y:(d.top-a.top-o.y)/n,...vk(u)}})};function Iu(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function W2({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:o,onError:u}=e.getState(),d=o.get(t);if(!d){u==null||u("012",Yi.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&a)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var p;return(p=r==null?void 0:r.current)==null?void 0:p.blur()})):s([t])}function lie(){const t=Cn();return _.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,u={x:(a-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(u.x/s[0]):u.x,ySnapped:i?s[1]*Math.round(u.y/s[1]):u.y,...u}},[])}function t1(t){return(e,n,r)=>t==null?void 0:t(e,r)}function d6({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:a}){const o=Cn(),[u,d]=_.useState(!1),p=_.useRef([]),m=_.useRef({x:null,y:null}),g=_.useRef(0),x=_.useRef(null),v=_.useRef({x:0,y:0}),b=_.useRef(null),S=_.useRef(!1),Q=_.useRef(!1),k=_.useRef(!1),$=lie();return _.useEffect(()=>{if(t!=null&&t.current){const T=Ir(t.current),j=({x:q,y:M})=>{const{nodeInternals:L,onNodeDrag:E,onSelectionDrag:Z,updateNodePositions:Y,nodeExtent:R,snapGrid:G,snapToGrid:A,nodeOrigin:W,onError:I}=o.getState();m.current={x:q,y:M};let U=!1,ee={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&R){const D=hO(p.current,W);ee=Bf(D)}if(p.current=p.current.map(D=>{const K={x:q-D.distance.x,y:M-D.distance.y};A&&(K.x=G[0]*Math.round(K.x/G[0]),K.y=G[1]*Math.round(K.y/G[1]));const B=[[R[0][0],R[0][1]],[R[1][0],R[1][1]]];p.current.length>1&&R&&!D.extent&&(B[0][0]=D.positionAbsolute.x-ee.x+R[0][0],B[1][0]=D.positionAbsolute.x+(D.width??0)-ee.x2+R[1][0],B[0][1]=D.positionAbsolute.y-ee.y+R[0][1],B[1][1]=D.positionAbsolute.y+(D.height??0)-ee.y2+R[1][1]);const H=f6(D,K,L,B,W,I);return U=U||D.position.x!==H.position.x||D.position.y!==H.position.y,D.position=H.position,D.positionAbsolute=H.positionAbsolute,D}),!U)return;Y(p.current,!0,!0),d(!0);const z=s?E:t1(Z);if(z&&b.current){const[D,K]=e1({nodeId:s,dragItems:p.current,nodeInternals:L});z(b.current,D,K)}},N=()=>{if(!x.current)return;const[q,M]=NL(v.current,x.current);if(q!==0||M!==0){const{transform:L,panBy:E}=o.getState();m.current.x=(m.current.x??0)-q/L[2],m.current.y=(m.current.y??0)-M/L[2],E({x:q,y:M})&&j(m.current)}g.current=requestAnimationFrame(N)},C=q=>{var W;const{nodeInternals:M,multiSelectionActive:L,nodesDraggable:E,unselectNodesAndEdges:Z,onNodeDragStart:Y,onSelectionDragStart:R}=o.getState();Q.current=!0;const G=s?Y:t1(R);(!a||!i)&&!L&&s&&((W=M.get(s))!=null&&W.selected||Z()),s&&i&&a&&W2({id:s,store:o,nodeRef:t});const A=$(q);if(m.current=A,p.current=iie(M,E,A,s),G&&p.current){const[I,U]=e1({nodeId:s,dragItems:p.current,nodeInternals:M});G(q.sourceEvent,I,U)}};if(e)T.on(".drag",null);else{const q=yne().on("start",M=>{const{domNode:L,nodeDragThreshold:E}=o.getState();E===0&&C(M),k.current=!1;const Z=$(M);m.current=Z,x.current=(L==null?void 0:L.getBoundingClientRect())||null,v.current=qa(M.sourceEvent,x.current)}).on("drag",M=>{var Y,R;const L=$(M),{autoPanOnNodeDrag:E,nodeDragThreshold:Z}=o.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(k.current=!0),!k.current){if(!S.current&&Q.current&&E&&(S.current=!0,N()),!Q.current){const G=L.xSnapped-(((Y=m==null?void 0:m.current)==null?void 0:Y.x)??0),A=L.ySnapped-(((R=m==null?void 0:m.current)==null?void 0:R.y)??0);Math.sqrt(G*G+A*A)>Z&&C(M)}(m.current.x!==L.xSnapped||m.current.y!==L.ySnapped)&&p.current&&Q.current&&(b.current=M.sourceEvent,v.current=qa(M.sourceEvent,x.current),j(L))}}).on("end",M=>{if(!(!Q.current||k.current)&&(d(!1),S.current=!1,Q.current=!1,cancelAnimationFrame(g.current),p.current)){const{updateNodePositions:L,nodeInternals:E,onNodeDragStop:Z,onSelectionDragStop:Y}=o.getState(),R=s?Z:t1(Y);if(L(p.current,!1,!1),R){const[G,A]=e1({nodeId:s,dragItems:p.current,nodeInternals:E});R(M.sourceEvent,G,A)}}}).filter(M=>{const L=M.target;return!M.button&&(!n||!mN(L,`.${n}`,t))&&(!r||mN(L,r,t))});return T.call(q),()=>{T.on(".drag",null)}}}},[t,e,n,r,i,o,s,a,$]),u}function h6(){const t=Cn();return _.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:a,snapToGrid:o,snapGrid:u,onError:d,nodesDraggable:p}=t.getState(),m=a().filter(k=>k.selected&&(k.draggable||p&&typeof k.draggable>"u")),g=o?u[0]:5,x=o?u[1]:5,v=n.isShiftPressed?4:1,b=n.x*g*v,S=n.y*x*v,Q=m.map(k=>{if(k.positionAbsolute){const $={x:k.positionAbsolute.x+b,y:k.positionAbsolute.y+S};o&&($.x=u[0]*Math.round($.x/u[0]),$.y=u[1]*Math.round($.y/u[1]));const{positionAbsolute:T,position:j}=f6(k,$,r,s,void 0,d);k.position=j,k.positionAbsolute=T}return k});i(Q,!0,!1)},[])}const fc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Hu=t=>{const e=({id:n,type:r,data:s,xPos:i,yPos:a,xPosOrigin:o,yPosOrigin:u,selected:d,onClick:p,onMouseEnter:m,onMouseMove:g,onMouseLeave:x,onContextMenu:v,onDoubleClick:b,style:S,className:Q,isDraggable:k,isSelectable:$,isConnectable:T,isFocusable:j,selectNodesOnDrag:N,sourcePosition:C,targetPosition:q,hidden:M,resizeObserver:L,dragHandle:E,zIndex:Z,isParent:Y,noDragClassName:R,noPanClassName:G,initialized:A,disableKeyboardA11y:W,ariaLabel:I,rfId:U,hasHandleBounds:ee})=>{const z=Cn(),D=_.useRef(null),K=_.useRef(null),B=_.useRef(C),H=_.useRef(q),J=_.useRef(r),re=$||k||p||m||g||x,ie=h6(),ce=Iu(n,z.getState,m),ve=Iu(n,z.getState,g),_e=Iu(n,z.getState,x),ne=Iu(n,z.getState,v),he=Iu(n,z.getState,b),pe=je=>{const{nodeDragThreshold:ke}=z.getState();if($&&(!N||!k||ke>0)&&W2({id:n,store:z,nodeRef:D}),p){const Je=z.getState().nodeInternals.get(n);Je&&p(je,{...Je})}},xe=je=>{if(!V2(je)&&!W)if(AL.includes(je.key)&&$){const ke=je.key==="Escape";W2({id:n,store:z,unselect:ke,nodeRef:D})}else k&&d&&Object.prototype.hasOwnProperty.call(fc,je.key)&&(z.setState({ariaLiveMessage:`Moved selected node ${je.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),ie({x:fc[je.key].x,y:fc[je.key].y,isShiftPressed:je.shiftKey}))};_.useEffect(()=>()=>{K.current&&(L==null||L.unobserve(K.current),K.current=null)},[]),_.useEffect(()=>{if(D.current&&!M){const je=D.current;(!A||!ee||K.current!==je)&&(K.current&&(L==null||L.unobserve(K.current)),L==null||L.observe(je),K.current=je)}},[M,A,ee]),_.useEffect(()=>{const je=J.current!==r,ke=B.current!==C,Je=H.current!==q;D.current&&(je||ke||Je)&&(je&&(J.current=r),ke&&(B.current=C),Je&&(H.current=q),z.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,C,q]);const Ie=d6({nodeRef:D,disabled:M||!k,noDragClassName:R,handleSelector:E,nodeId:n,isSelectable:$,selectNodesOnDrag:N});return M?null:fe.createElement("div",{className:Un(["react-flow__node",`react-flow__node-${r}`,{[G]:k},Q,{selected:d,selectable:$,parent:Y,dragging:Ie}]),ref:D,style:{zIndex:Z,transform:`translate(${o}px,${u}px)`,pointerEvents:re?"all":"none",visibility:A?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ce,onMouseMove:ve,onMouseLeave:_e,onContextMenu:ne,onClick:pe,onDoubleClick:he,onKeyDown:j?xe:void 0,tabIndex:j?0:void 0,role:j?"button":void 0,"aria-describedby":W?void 0:`${n6}-${U}`,"aria-label":I},fe.createElement(wse,{value:n},fe.createElement(t,{id:n,data:s,type:r,xPos:i,yPos:a,selected:d,isConnectable:T,sourcePosition:C,targetPosition:q,dragging:Ie,dragHandle:E,zIndex:Z})))};return e.displayName="NodeWrapper",_.memo(e)};const oie=t=>{const e=t.getNodes().filter(n=>n.selected);return{...hO(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function cie({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Cn(),{width:s,height:i,x:a,y:o,transformString:u,userSelectionActive:d}=Vt(oie,qn),p=h6(),m=_.useRef(null);if(_.useEffect(()=>{var v;n||(v=m.current)==null||v.focus({preventScroll:!0})},[n]),d6({nodeRef:m}),d||!s||!i)return null;const g=t?v=>{const b=r.getState().getNodes().filter(S=>S.selected);t(v,b)}:void 0,x=v=>{Object.prototype.hasOwnProperty.call(fc,v.key)&&p({x:fc[v.key].x,y:fc[v.key].y,isShiftPressed:v.shiftKey})};return fe.createElement("div",{className:Un(["react-flow__nodesselection","react-flow__container",e]),style:{transform:u}},fe.createElement("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:n?void 0:-1,onKeyDown:n?void 0:x,style:{width:s,height:i,top:o,left:a}}))}var uie=_.memo(cie);const fie=t=>t.nodesSelectionActive,p6=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:o,onMove:u,onMoveStart:d,onMoveEnd:p,selectionKeyCode:m,selectionOnDrag:g,selectionMode:x,onSelectionStart:v,onSelectionEnd:b,multiSelectionKeyCode:S,panActivationKeyCode:Q,zoomActivationKeyCode:k,elementsSelectable:$,zoomOnScroll:T,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:C,panOnScrollMode:q,zoomOnDoubleClick:M,panOnDrag:L,defaultViewport:E,translateExtent:Z,minZoom:Y,maxZoom:R,preventScrolling:G,onSelectionContextMenu:A,noWheelClassName:W,noPanClassName:I,disableKeyboardA11y:U})=>{const ee=Vt(fie),z=Wf(m),D=Wf(Q),K=D||L,B=D||N,H=z||g&&K!==!0;return Hse({deleteKeyCode:o,multiSelectionKeyCode:S}),fe.createElement(eie,{onMove:u,onMoveStart:d,onMoveEnd:p,onPaneContextMenu:i,elementsSelectable:$,zoomOnScroll:T,zoomOnPinch:j,panOnScroll:B,panOnScrollSpeed:C,panOnScrollMode:q,zoomOnDoubleClick:M,panOnDrag:!z&&K,defaultViewport:E,translateExtent:Z,minZoom:Y,maxZoom:R,zoomActivationKeyCode:k,preventScrolling:G,noWheelClassName:W,noPanClassName:I},fe.createElement(c6,{onSelectionStart:v,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:K,isSelecting:!!H,selectionMode:x},t,ee&&fe.createElement(uie,{onSelectionContextMenu:A,noPanClassName:I,disableKeyboardA11y:U})))};p6.displayName="FlowRenderer";var die=_.memo(p6);function hie(t){return Vt(_.useCallback(n=>t?YL(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function pie(t){const e={input:Hu(t.input||KL),default:Hu(t.default||U2),output:Hu(t.output||e6),group:Hu(t.group||jk)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Hu(t[i]||U2),s),n);return{...e,...r}}const mie=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},Oie=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),m6=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:a}=Vt(Oie,qn),o=hie(t.onlyRenderVisibleElements),u=_.useRef(),d=_.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const p=new ResizeObserver(m=>{const g=m.map(x=>({id:x.target.getAttribute("data-id"),nodeElement:x.target,forceUpdate:!0}));i(g)});return u.current=p,p},[]);return _.useEffect(()=>()=>{var p;(p=u==null?void 0:u.current)==null||p.disconnect()},[]),fe.createElement("div",{className:"react-flow__nodes",style:Pk},o.map(p=>{var j,N,C;let m=p.type||"default";t.nodeTypes[m]||(a==null||a("003",Yi.error003(m)),m="default");const g=t.nodeTypes[m]||t.nodeTypes.default,x=!!(p.draggable||e&&typeof p.draggable>"u"),v=!!(p.selectable||s&&typeof p.selectable>"u"),b=!!(p.connectable||n&&typeof p.connectable>"u"),S=!!(p.focusable||r&&typeof p.focusable>"u"),Q=t.nodeExtent?wk(p.positionAbsolute,t.nodeExtent):p.positionAbsolute,k=(Q==null?void 0:Q.x)??0,$=(Q==null?void 0:Q.y)??0,T=mie({x:k,y:$,width:p.width??0,height:p.height??0,origin:t.nodeOrigin});return fe.createElement(g,{key:p.id,id:p.id,className:p.className,style:p.style,type:m,data:p.data,sourcePosition:p.sourcePosition||ze.Bottom,targetPosition:p.targetPosition||ze.Top,hidden:p.hidden,xPos:k,yPos:$,xPosOrigin:T.x,yPosOrigin:T.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!p.selected,isDraggable:x,isSelectable:v,isConnectable:b,isFocusable:S,resizeObserver:d,dragHandle:p.dragHandle,zIndex:((j=p[hn])==null?void 0:j.z)??0,isParent:!!((N=p[hn])!=null&&N.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!p.width&&!!p.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:p.ariaLabel,hasHandleBounds:!!((C=p[hn])!=null&&C.handleBounds)})}))};m6.displayName="NodeRenderer";var gie=_.memo(m6);const xie=(t,e,n)=>n===ze.Left?t-e:n===ze.Right?t+e:t,yie=(t,e,n)=>n===ze.Top?t-e:n===ze.Bottom?t+e:t,gN="react-flow__edgeupdater",xN=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:o})=>fe.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:Un([gN,`${gN}-${o}`]),cx:xie(e,r,t),cy:yie(n,r,t),r,stroke:"transparent",fill:"transparent"}),bie=()=>!0;var Yo=t=>{const e=({id:n,className:r,type:s,data:i,onClick:a,onEdgeDoubleClick:o,selected:u,animated:d,label:p,labelStyle:m,labelShowBg:g,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:b,style:S,source:Q,target:k,sourceX:$,sourceY:T,targetX:j,targetY:N,sourcePosition:C,targetPosition:q,elementsSelectable:M,hidden:L,sourceHandleId:E,targetHandleId:Z,onContextMenu:Y,onMouseEnter:R,onMouseMove:G,onMouseLeave:A,reconnectRadius:W,onReconnect:I,onReconnectStart:U,onReconnectEnd:ee,markerEnd:z,markerStart:D,rfId:K,ariaLabel:B,isFocusable:H,isReconnectable:J,pathOptions:re,interactionWidth:ie,disableKeyboardA11y:ce})=>{const ve=_.useRef(null),[_e,ne]=_.useState(!1),[he,pe]=_.useState(!1),xe=Cn(),Ie=_.useMemo(()=>`url('#${D2(D,K)}')`,[D,K]),je=_.useMemo(()=>`url('#${D2(z,K)}')`,[z,K]);if(L)return null;const ke=Qt=>{var Kt;const{edges:Lt,addSelectedEdges:dt,unselectNodesAndEdges:rt,multiSelectionActive:Wt}=xe.getState(),yt=Lt.find(ir=>ir.id===n);yt&&(M&&(xe.setState({nodesSelectionActive:!1}),yt.selected&&Wt?(rt({nodes:[],edges:[yt]}),(Kt=ve.current)==null||Kt.blur()):dt([n])),a&&a(Qt,yt))},Je=Gu(n,xe.getState,o),ut=Gu(n,xe.getState,Y),et=Gu(n,xe.getState,R),jt=Gu(n,xe.getState,G),Ve=Gu(n,xe.getState,A),nt=(Qt,Lt)=>{if(Qt.button!==0)return;const{edges:dt,isValidConnection:rt}=xe.getState(),Wt=Lt?k:Q,yt=(Lt?Z:E)||null,Kt=Lt?"target":"source",ir=rt||bie,ye=Lt,Qe=dt.find(_t=>_t.id===n);pe(!0),U==null||U(Qt,Qe,Kt);const Pe=_t=>{pe(!1),ee==null||ee(_t,Qe,Kt)};GL({event:Qt,handleId:yt,nodeId:Wt,onConnect:_t=>I==null?void 0:I(Qe,_t),isTarget:ye,getState:xe.getState,setState:xe.setState,isValidConnection:ir,edgeUpdaterType:Kt,onReconnectEnd:Pe})},ln=Qt=>nt(Qt,!0),St=Qt=>nt(Qt,!1),Ut=()=>ne(!0),qt=()=>ne(!1),pn=!M&&!a,yn=Qt=>{var Lt;if(!ce&&AL.includes(Qt.key)&&M){const{unselectNodesAndEdges:dt,addSelectedEdges:rt,edges:Wt}=xe.getState();Qt.key==="Escape"?((Lt=ve.current)==null||Lt.blur(),dt({edges:[Wt.find(Kt=>Kt.id===n)]})):rt([n])}};return fe.createElement("g",{className:Un(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:u,animated:d,inactive:pn,updating:_e}]),onClick:ke,onDoubleClick:Je,onContextMenu:ut,onMouseEnter:et,onMouseMove:jt,onMouseLeave:Ve,onKeyDown:H?yn:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${Q} to ${k}`,"aria-describedby":H?`${r6}-${K}`:void 0,ref:ve},!he&&fe.createElement(t,{id:n,source:Q,target:k,selected:u,animated:d,label:p,labelStyle:m,labelShowBg:g,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:b,data:i,style:S,sourceX:$,sourceY:T,targetX:j,targetY:N,sourcePosition:C,targetPosition:q,sourceHandleId:E,targetHandleId:Z,markerStart:Ie,markerEnd:je,pathOptions:re,interactionWidth:ie}),J&&fe.createElement(fe.Fragment,null,(J==="source"||J===!0)&&fe.createElement(xN,{position:C,centerX:$,centerY:T,radius:W,onMouseDown:ln,onMouseEnter:Ut,onMouseOut:qt,type:"source"}),(J==="target"||J===!0)&&fe.createElement(xN,{position:q,centerX:j,centerY:N,radius:W,onMouseDown:St,onMouseEnter:Ut,onMouseOut:qt,type:"target"})))};return e.displayName="EdgeWrapper",_.memo(e)};function vie(t){const e={default:Yo(t.default||jm),straight:Yo(t.bezier||kk),step:Yo(t.step||Qk),smoothstep:Yo(t.step||dO),simplebezier:Yo(t.simplebezier||Sk)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=Yo(t[i]||jm),s),n);return{...e,...r}}function yN(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,i=(n==null?void 0:n.width)||e.width,a=(n==null?void 0:n.height)||e.height;switch(t){case ze.Top:return{x:r+i/2,y:s};case ze.Right:return{x:r+i,y:s+a/2};case ze.Bottom:return{x:r+i/2,y:s+a};case ze.Left:return{x:r,y:s+a/2}}}function bN(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const wie=(t,e,n,r,s,i)=>{const a=yN(n,t,e),o=yN(i,r,s);return{sourceX:a.x,sourceY:a.y,targetX:o.x,targetY:o.y}};function Sie({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:a,height:o,transform:u}){const d={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+i)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const p=Bf({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:a/u[2],height:o/u[2]}),m=Math.max(0,Math.min(p.x2,d.x2)-Math.max(p.x,d.x)),g=Math.max(0,Math.min(p.y2,d.y2)-Math.max(p.y,d.y));return Math.ceil(m*g)>0}function vN(t){var r,s,i,a,o;const e=((r=t==null?void 0:t[hn])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.x)||0,y:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const Qie=[{level:0,isMaxLevel:!0,edges:[]}];function kie(t,e,n=!1){let r=-1;const s=t.reduce((a,o)=>{var p,m;const u=ts(o.zIndex);let d=u?o.zIndex:0;if(n){const g=e.get(o.target),x=e.get(o.source),v=o.selected||(g==null?void 0:g.selected)||(x==null?void 0:x.selected),b=Math.max(((p=x==null?void 0:x[hn])==null?void 0:p.z)||0,((m=g==null?void 0:g[hn])==null?void 0:m.z)||0,1e3);d=(u?o.zIndex:0)+(v?b:0)}return a[d]?a[d].push(o):a[d]=[o],r=d>r?d:r,a},{}),i=Object.entries(s).map(([a,o])=>{const u=+a;return{edges:o,level:u,isMaxLevel:u===r}});return i.length===0?Qie:i}function $ie(t,e,n){const r=Vt(_.useCallback(s=>t?s.edges.filter(i=>{const a=e.get(i.source),o=e.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&Sie({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:o.width,targetHeight:o.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return kie(r,e,n)}const Tie=({color:t="none",strokeWidth:e=1})=>fe.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),jie=({color:t="none",strokeWidth:e=1})=>fe.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),wN={[Cl.Arrow]:Tie,[Cl.ArrowClosed]:jie};function _ie(t){const e=Cn();return _.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(wN,t)?wN[t]:((i=(s=e.getState()).onError)==null||i.call(s,"009",Yi.error009(t)),null)},[t])}const Pie=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const u=_ie(e);return u?fe.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},fe.createElement(u,{color:n,strokeWidth:a})):null},Nie=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const o=D2(a,e);r.includes(o)||(s.push({id:o,color:a.color||t,...a}),r.push(o))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},O6=({defaultColor:t,rfId:e})=>{const n=Vt(_.useCallback(Nie({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((i,a)=>i.id!==s[a].id)));return fe.createElement("defs",null,n.map(r=>fe.createElement(Pie,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};O6.displayName="MarkerDefinitions";var Cie=_.memo(O6);const Rie=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),g6=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:x,onReconnectEnd:v,reconnectRadius:b,children:S,disableKeyboardA11y:Q})=>{const{edgesFocusable:k,edgesUpdatable:$,elementsSelectable:T,width:j,height:N,connectionMode:C,nodeInternals:q,onError:M}=Vt(Rie,qn),L=$ie(e,q,n);return j?fe.createElement(fe.Fragment,null,L.map(({level:E,edges:Z,isMaxLevel:Y})=>fe.createElement("svg",{key:E,style:{zIndex:E},width:j,height:N,className:"react-flow__edges react-flow__container"},Y&&fe.createElement(Cie,{defaultColor:t,rfId:r}),fe.createElement("g",null,Z.map(R=>{const[G,A,W]=vN(q.get(R.source)),[I,U,ee]=vN(q.get(R.target));if(!W||!ee)return null;let z=R.type||"default";s[z]||(M==null||M("011",Yi.error011(z)),z="default");const D=s[z]||s.default,K=C===Di.Strict?U.target:(U.target??[]).concat(U.source??[]),B=bN(A.source,R.sourceHandle),H=bN(K,R.targetHandle),J=(B==null?void 0:B.position)||ze.Bottom,re=(H==null?void 0:H.position)||ze.Top,ie=!!(R.focusable||k&&typeof R.focusable>"u"),ce=R.reconnectable||R.updatable,ve=typeof g<"u"&&(ce||$&&typeof ce>"u");if(!B||!H)return M==null||M("008",Yi.error008(B,R)),null;const{sourceX:_e,sourceY:ne,targetX:he,targetY:pe}=wie(G,B,J,I,H,re);return fe.createElement(D,{key:R.id,id:R.id,className:Un([R.className,i]),type:z,data:R.data,selected:!!R.selected,animated:!!R.animated,hidden:!!R.hidden,label:R.label,labelStyle:R.labelStyle,labelShowBg:R.labelShowBg,labelBgStyle:R.labelBgStyle,labelBgPadding:R.labelBgPadding,labelBgBorderRadius:R.labelBgBorderRadius,style:R.style,source:R.source,target:R.target,sourceHandleId:R.sourceHandle,targetHandleId:R.targetHandle,markerEnd:R.markerEnd,markerStart:R.markerStart,sourceX:_e,sourceY:ne,targetX:he,targetY:pe,sourcePosition:J,targetPosition:re,elementsSelectable:T,onContextMenu:a,onMouseEnter:o,onMouseMove:u,onMouseLeave:d,onClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:x,onReconnectEnd:v,reconnectRadius:b,rfId:r,ariaLabel:R.ariaLabel,isFocusable:ie,isReconnectable:ve,pathOptions:"pathOptions"in R?R.pathOptions:void 0,interactionWidth:R.interactionWidth,disableKeyboardA11y:Q})})))),S):null};g6.displayName="EdgeRenderer";var Eie=_.memo(g6);const Aie=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function qie({children:t}){const e=Vt(Aie);return fe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Mie(t){const e=_k(),n=_.useRef(!1);_.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Xie={[ze.Left]:ze.Right,[ze.Right]:ze.Left,[ze.Top]:ze.Bottom,[ze.Bottom]:ze.Top},x6=({nodeId:t,handleType:e,style:n,type:r=Na.Bezier,CustomComponent:s,connectionStatus:i})=>{var N,C,q;const{fromNode:a,handleId:o,toX:u,toY:d,connectionMode:p}=Vt(_.useCallback(M=>({fromNode:M.nodeInternals.get(t),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2],connectionMode:M.connectionMode}),[t]),qn),m=(N=a==null?void 0:a[hn])==null?void 0:N.handleBounds;let g=m==null?void 0:m[e];if(p===Di.Loose&&(g=g||(m==null?void 0:m[e==="source"?"target":"source"])),!a||!g)return null;const x=o?g.find(M=>M.id===o):g[0],v=x?x.x+x.width/2:(a.width??0)/2,b=x?x.y+x.height/2:a.height??0,S=(((C=a.positionAbsolute)==null?void 0:C.x)??0)+v,Q=(((q=a.positionAbsolute)==null?void 0:q.y)??0)+b,k=x==null?void 0:x.position,$=k?Xie[k]:null;if(!k||!$)return null;if(s)return fe.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:x,fromX:S,fromY:Q,toX:u,toY:d,fromPosition:k,toPosition:$,connectionStatus:i});let T="";const j={sourceX:S,sourceY:Q,sourcePosition:k,targetX:u,targetY:d,targetPosition:$};return r===Na.Bezier?[T]=LL(j):r===Na.Step?[T]=Y2({...j,borderRadius:0}):r===Na.SmoothStep?[T]=Y2(j):r===Na.SimpleBezier?[T]=zL(j):T=`M${S},${Q} ${u},${d}`,fe.createElement("path",{d:T,fill:"none",className:"react-flow__connection-path",style:n})};x6.displayName="ConnectionLine";const zie=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function Lie({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:a,width:o,height:u,connectionStatus:d}=Vt(zie,qn);return!(s&&i&&o&&a)?null:fe.createElement("svg",{style:t,width:o,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},fe.createElement("g",{className:Un(["react-flow__connection",d])},fe.createElement(x6,{nodeId:s,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:d})))}function SN(t,e){return _.useRef(null),Cn(),_.useMemo(()=>e(t),[t])}const y6=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:g,onNodeContextMenu:x,onSelectionContextMenu:v,onSelectionStart:b,onSelectionEnd:S,connectionLineType:Q,connectionLineStyle:k,connectionLineComponent:$,connectionLineContainerStyle:T,selectionKeyCode:j,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:q,panActivationKeyCode:M,zoomActivationKeyCode:L,deleteKeyCode:E,onlyRenderVisibleElements:Z,elementsSelectable:Y,selectNodesOnDrag:R,defaultViewport:G,translateExtent:A,minZoom:W,maxZoom:I,preventScrolling:U,defaultMarkerColor:ee,zoomOnScroll:z,zoomOnPinch:D,panOnScroll:K,panOnScrollSpeed:B,panOnScrollMode:H,zoomOnDoubleClick:J,panOnDrag:re,onPaneClick:ie,onPaneMouseEnter:ce,onPaneMouseMove:ve,onPaneMouseLeave:_e,onPaneScroll:ne,onPaneContextMenu:he,onEdgeContextMenu:pe,onEdgeMouseEnter:xe,onEdgeMouseMove:Ie,onEdgeMouseLeave:je,onReconnect:ke,onReconnectStart:Je,onReconnectEnd:ut,reconnectRadius:et,noDragClassName:jt,noWheelClassName:Ve,noPanClassName:nt,elevateEdgesOnSelect:ln,disableKeyboardA11y:St,nodeOrigin:Ut,nodeExtent:qt,rfId:pn})=>{const yn=SN(t,pie),Qt=SN(e,vie);return Mie(i),fe.createElement(die,{onPaneClick:ie,onPaneMouseEnter:ce,onPaneMouseMove:ve,onPaneMouseLeave:_e,onPaneContextMenu:he,onPaneScroll:ne,deleteKeyCode:E,selectionKeyCode:j,selectionOnDrag:N,selectionMode:C,onSelectionStart:b,onSelectionEnd:S,multiSelectionKeyCode:q,panActivationKeyCode:M,zoomActivationKeyCode:L,elementsSelectable:Y,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:z,zoomOnPinch:D,zoomOnDoubleClick:J,panOnScroll:K,panOnScrollSpeed:B,panOnScrollMode:H,panOnDrag:re,defaultViewport:G,translateExtent:A,minZoom:W,maxZoom:I,onSelectionContextMenu:v,preventScrolling:U,noDragClassName:jt,noWheelClassName:Ve,noPanClassName:nt,disableKeyboardA11y:St},fe.createElement(qie,null,fe.createElement(Eie,{edgeTypes:Qt,onEdgeClick:o,onEdgeDoubleClick:d,onlyRenderVisibleElements:Z,onEdgeContextMenu:pe,onEdgeMouseEnter:xe,onEdgeMouseMove:Ie,onEdgeMouseLeave:je,onReconnect:ke,onReconnectStart:Je,onReconnectEnd:ut,reconnectRadius:et,defaultMarkerColor:ee,noPanClassName:nt,elevateEdgesOnSelect:!!ln,disableKeyboardA11y:St,rfId:pn},fe.createElement(Lie,{style:k,type:Q,component:$,containerStyle:T})),fe.createElement("div",{className:"react-flow__edgelabel-renderer"}),fe.createElement(gie,{nodeTypes:yn,onNodeClick:a,onNodeDoubleClick:u,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:g,onNodeContextMenu:x,selectNodesOnDrag:R,onlyRenderVisibleElements:Z,noPanClassName:nt,noDragClassName:jt,disableKeyboardA11y:St,nodeOrigin:Ut,nodeExtent:qt,rfId:pn})))};y6.displayName="GraphView";var Zie=_.memo(y6);const G2=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:G2,nodeExtent:G2,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Di.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Ose,isValidConnection:void 0},Vie=()=>Nee((t,e)=>({...Qa,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=e();t({nodeInternals:Kx(n,r,s,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",a=s?Kx(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:a,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:o,domNode:u,nodeOrigin:d}=e(),p=u==null?void 0:u.querySelector(".react-flow__viewport");if(!p)return;const m=window.getComputedStyle(p),{m22:g}=new window.DOMMatrixReadOnly(m.transform),x=n.reduce((b,S)=>{const Q=s.get(S.id);if(Q!=null&&Q.hidden)s.set(Q.id,{...Q,[hn]:{...Q[hn],handleBounds:void 0}});else if(Q){const k=vk(S.nodeElement);!!(k.width&&k.height&&(Q.width!==k.width||Q.height!==k.height||S.forceUpdate))&&(s.set(Q.id,{...Q,[hn]:{...Q[hn],handleBounds:{source:ON(".source",S.nodeElement,g,d),target:ON(".target",S.nodeElement,g,d)}},...k}),b.push({id:Q.id,type:"dimensions",dimensions:k}))}return b},[]);i6(s,d);const v=a||i&&!a&&a6(e,{initial:!0,...o});t({nodeInternals:new Map(s),fitViewOnInitDone:v}),(x==null?void 0:x.length)>0&&(r==null||r(x))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=e(),a=n.map(o=>{const u={id:o.id,type:"position",dragging:s};return r&&(u.positionAbsolute=o.positionAbsolute,u.position=o.position),u});i(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:a,getNodes:o,elevateNodesOnSelect:u}=e();if(n!=null&&n.length){if(i){const d=o6(n,o()),p=Kx(d,s,a,u);t({nodeInternals:p})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let a,o=null;r?a=n.map(u=>_a(u,!0)):(a=Jo(i(),n),o=Jo(s,[])),fp({changedNodes:a,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let a,o=null;r?a=n.map(u=>_a(u,!0)):(a=Jo(s,n),o=Jo(i(),[])),fp({changedNodes:o,changedEdges:a,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=e(),a=n||i(),o=r||s,u=a.map(p=>(p.selected=!1,_a(p.id,!1))),d=o.map(p=>_a(p.id,!1));fp({changedNodes:u,changedEdges:d,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(o=>o.selected).map(o=>_a(o.id,!1)),a=n.filter(o=>o.selected).map(o=>_a(o.id,!1));fp({changedNodes:i,changedEdges:a,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=wk(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:a,d3Selection:o,translateExtent:u}=e();if(!a||!o||!n.x&&!n.y)return!1;const d=zi.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),p=[[0,0],[s,i]],m=a==null?void 0:a.constrain()(d,p,u);return a.transform(o,m),r[0]!==m.x||r[1]!==m.y||r[2]!==m.k},cancelConnection:()=>t({connectionNodeId:Qa.connectionNodeId,connectionHandleId:Qa.connectionHandleId,connectionHandleType:Qa.connectionHandleType,connectionStatus:Qa.connectionStatus,connectionStartHandle:Qa.connectionStartHandle,connectionEndHandle:Qa.connectionEndHandle}),reset:()=>t({...Qa})}),Object.is),b6=({children:t})=>{const e=_.useRef(null);return e.current||(e.current=Vie()),fe.createElement(cse,{value:e.current},t)};b6.displayName="ReactFlowProvider";const v6=({children:t})=>_.useContext(uO)?fe.createElement(fe.Fragment,null,t):fe.createElement(b6,null,t);v6.displayName="ReactFlowWrapper";const Yie={input:KL,default:U2,output:e6,group:jk},Die={default:jm,straight:kk,step:Qk,smoothstep:dO,simplebezier:Sk},Bie=[0,0],Uie=[15,15],Wie={x:0,y:0,zoom:1},Gie={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},w6=_.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=Yie,edgeTypes:a=Die,onNodeClick:o,onEdgeClick:u,onInit:d,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:x,onConnectStart:v,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:Q,onNodeMouseEnter:k,onNodeMouseMove:$,onNodeMouseLeave:T,onNodeContextMenu:j,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:q,onNodeDragStop:M,onNodesDelete:L,onEdgesDelete:E,onSelectionChange:Z,onSelectionDragStart:Y,onSelectionDrag:R,onSelectionDragStop:G,onSelectionContextMenu:A,onSelectionStart:W,onSelectionEnd:I,connectionMode:U=Di.Strict,connectionLineType:ee=Na.Bezier,connectionLineStyle:z,connectionLineComponent:D,connectionLineContainerStyle:K,deleteKeyCode:B="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:J=!1,selectionMode:re=Uf.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:ce=Tm()?"Meta":"Control",zoomActivationKeyCode:ve=Tm()?"Meta":"Control",snapToGrid:_e=!1,snapGrid:ne=Uie,onlyRenderVisibleElements:he=!1,selectNodesOnDrag:pe=!0,nodesDraggable:xe,nodesConnectable:Ie,nodesFocusable:je,nodeOrigin:ke=Bie,edgesFocusable:Je,edgesUpdatable:ut,elementsSelectable:et,defaultViewport:jt=Wie,minZoom:Ve=.5,maxZoom:nt=2,translateExtent:ln=G2,preventScrolling:St=!0,nodeExtent:Ut,defaultMarkerColor:qt="#b1b1b7",zoomOnScroll:pn=!0,zoomOnPinch:yn=!0,panOnScroll:Qt=!1,panOnScrollSpeed:Lt=.5,panOnScrollMode:dt=jl.Free,zoomOnDoubleClick:rt=!0,panOnDrag:Wt=!0,onPaneClick:yt,onPaneMouseEnter:Kt,onPaneMouseMove:ir,onPaneMouseLeave:ye,onPaneScroll:Qe,onPaneContextMenu:Pe,children:Fe,onEdgeContextMenu:_t,onEdgeDoubleClick:Yt,onEdgeMouseEnter:Rn,onEdgeMouseMove:mn,onEdgeMouseLeave:be,onEdgeUpdate:Ce,onEdgeUpdateStart:Ye,onEdgeUpdateEnd:bn,onReconnect:Mn,onReconnectStart:Ia,onReconnectEnd:Ha,reconnectRadius:Gi=10,edgeUpdaterRadius:Ii=10,onNodesChange:Hi,onEdgesChange:Fi,noDragClassName:ar="nodrag",noWheelClassName:Jt="nowheel",noPanClassName:on="nopan",fitView:Qr=!1,fitViewOptions:Es,connectOnClick:lr=!0,attributionPosition:Jl,proOptions:ii,defaultEdgeOptions:ai,elevateNodesOnSelect:Fa=!0,elevateEdgesOnSelect:fs=!1,disableKeyboardA11y:ds=!1,autoPanOnConnect:As=!0,autoPanOnNodeDrag:qs=!0,connectionRadius:cn=20,isValidConnection:eo,onError:to,style:hs,id:ps,nodeDragThreshold:Zc,...no},ro)=>{const Ki=ps||"1";return fe.createElement("div",{...no,style:{...hs,...Gie},ref:ro,className:Un(["react-flow",s]),"data-testid":"rf__wrapper",id:ps},fe.createElement(v6,null,fe.createElement(Zie,{onInit:d,onMove:p,onMoveStart:m,onMoveEnd:g,onNodeClick:o,onEdgeClick:u,onNodeMouseEnter:k,onNodeMouseMove:$,onNodeMouseLeave:T,onNodeContextMenu:j,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:a,connectionLineType:ee,connectionLineStyle:z,connectionLineComponent:D,connectionLineContainerStyle:K,selectionKeyCode:H,selectionOnDrag:J,selectionMode:re,deleteKeyCode:B,multiSelectionKeyCode:ce,panActivationKeyCode:ie,zoomActivationKeyCode:ve,onlyRenderVisibleElements:he,selectNodesOnDrag:pe,defaultViewport:jt,translateExtent:ln,minZoom:Ve,maxZoom:nt,preventScrolling:St,zoomOnScroll:pn,zoomOnPinch:yn,zoomOnDoubleClick:rt,panOnScroll:Qt,panOnScrollSpeed:Lt,panOnScrollMode:dt,panOnDrag:Wt,onPaneClick:yt,onPaneMouseEnter:Kt,onPaneMouseMove:ir,onPaneMouseLeave:ye,onPaneScroll:Qe,onPaneContextMenu:Pe,onSelectionContextMenu:A,onSelectionStart:W,onSelectionEnd:I,onEdgeContextMenu:_t,onEdgeDoubleClick:Yt,onEdgeMouseEnter:Rn,onEdgeMouseMove:mn,onEdgeMouseLeave:be,onReconnect:Mn??Ce,onReconnectStart:Ia??Ye,onReconnectEnd:Ha??bn,reconnectRadius:Gi??Ii,defaultMarkerColor:qt,noDragClassName:ar,noWheelClassName:Jt,noPanClassName:on,elevateEdgesOnSelect:fs,rfId:Ki,disableKeyboardA11y:ds,nodeOrigin:ke,nodeExtent:Ut}),fe.createElement(Xse,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:v,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:Q,nodesDraggable:xe,nodesConnectable:Ie,nodesFocusable:je,edgesFocusable:Je,edgesUpdatable:ut,elementsSelectable:et,elevateNodesOnSelect:Fa,minZoom:Ve,maxZoom:nt,nodeExtent:Ut,onNodesChange:Hi,onEdgesChange:Fi,snapToGrid:_e,snapGrid:ne,connectionMode:U,translateExtent:ln,connectOnClick:lr,defaultEdgeOptions:ai,fitView:Qr,fitViewOptions:Es,onNodesDelete:L,onEdgesDelete:E,onNodeDragStart:C,onNodeDrag:q,onNodeDragStop:M,onSelectionDrag:R,onSelectionDragStart:Y,onSelectionDragStop:G,noPanClassName:on,nodeOrigin:ke,rfId:Ki,autoPanOnConnect:As,autoPanOnNodeDrag:qs,onError:to,connectionRadius:cn,isValidConnection:eo,nodeDragThreshold:Zc}),fe.createElement(qse,{onSelectionChange:Z}),Fe,fe.createElement(fse,{proOptions:ii,position:Jl}),fe.createElement(Yse,{rfId:Ki,disableKeyboardA11y:ds})))});w6.displayName="ReactFlow";function S6(t){return e=>{const[n,r]=_.useState(e),s=_.useCallback(i=>r(a=>t(i,a)),[]);return[n,r,s]}}const Iie=S6(o6),Hie=S6(rie),Q6=({id:t,x:e,y:n,width:r,height:s,style:i,color:a,strokeColor:o,strokeWidth:u,className:d,borderRadius:p,shapeRendering:m,onClick:g,selected:x})=>{const{background:v,backgroundColor:b}=i||{},S=a||v||b;return fe.createElement("rect",{className:Un(["react-flow__minimap-node",{selected:x},d]),x:e,y:n,rx:p,ry:p,width:r,height:s,fill:S,stroke:o,strokeWidth:u,shapeRendering:m,onClick:g?Q=>g(Q,t):void 0})};Q6.displayName="MiniMapNode";var Fie=_.memo(Q6);const Kie=t=>t.nodeOrigin,Jie=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),n1=t=>t instanceof Function?t:()=>t;function eae({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=Fie,onClick:a}){const o=Vt(Jie,qn),u=Vt(Kie),d=n1(e),p=n1(t),m=n1(n),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return fe.createElement(fe.Fragment,null,o.map(x=>{const{x:v,y:b}=Rl(x,u).positionAbsolute;return fe.createElement(i,{key:x.id,x:v,y:b,width:x.width,height:x.height,style:x.style,selected:x.selected,className:m(x),color:d(x),borderRadius:r,strokeColor:p(x),strokeWidth:s,shapeRendering:g,onClick:a,id:x.id})}))}var tae=_.memo(eae);const nae=200,rae=150,sae=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?pse(hO(e,t.nodeOrigin),n):n,rfId:t.rfId}},iae="react-flow__minimap-desc";function k6({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:o,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:d="none",maskStrokeWidth:p=1,position:m="bottom-right",onClick:g,onNodeClick:x,pannable:v=!1,zoomable:b=!1,ariaLabel:S="React Flow mini map",inversePan:Q=!1,zoomStep:k=10,offsetScale:$=5}){const T=Cn(),j=_.useRef(null),{boundingRect:N,viewBB:C,rfId:q}=Vt(sae,qn),M=(t==null?void 0:t.width)??nae,L=(t==null?void 0:t.height)??rae,E=N.width/M,Z=N.height/L,Y=Math.max(E,Z),R=Y*M,G=Y*L,A=$*Y,W=N.x-(R-N.width)/2-A,I=N.y-(G-N.height)/2-A,U=R+A*2,ee=G+A*2,z=`${iae}-${q}`,D=_.useRef(0);D.current=Y,_.useEffect(()=>{if(j.current){const H=Ir(j.current),J=ce=>{const{transform:ve,d3Selection:_e,d3Zoom:ne}=T.getState();if(ce.sourceEvent.type!=="wheel"||!_e||!ne)return;const he=-ce.sourceEvent.deltaY*(ce.sourceEvent.deltaMode===1?.05:ce.sourceEvent.deltaMode?1:.002)*k,pe=ve[2]*Math.pow(2,he);ne.scaleTo(_e,pe)},re=ce=>{const{transform:ve,d3Selection:_e,d3Zoom:ne,translateExtent:he,width:pe,height:xe}=T.getState();if(ce.sourceEvent.type!=="mousemove"||!_e||!ne)return;const Ie=D.current*Math.max(1,ve[2])*(Q?-1:1),je={x:ve[0]-ce.sourceEvent.movementX*Ie,y:ve[1]-ce.sourceEvent.movementY*Ie},ke=[[0,0],[pe,xe]],Je=zi.translate(je.x,je.y).scale(ve[2]),ut=ne.constrain()(Je,ke,he);ne.transform(_e,ut)},ie=_L().on("zoom",v?re:null).on("zoom.wheel",b?J:null);return H.call(ie),()=>{H.on("zoom",null)}}},[v,b,Q,k]);const K=g?H=>{const J=bs(H);g(H,{x:J[0],y:J[1]})}:void 0,B=x?(H,J)=>{const re=T.getState().nodeInternals.get(J);x(H,re)}:void 0;return fe.createElement(fO,{position:m,style:t,className:Un(["react-flow__minimap",e]),"data-testid":"rf__minimap"},fe.createElement("svg",{width:M,height:L,viewBox:`${W} ${I} ${U} ${ee}`,role:"img","aria-labelledby":z,ref:j,onClick:K},S&&fe.createElement("title",{id:z},S),fe.createElement(tae,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:o}),fe.createElement("path",{className:"react-flow__minimap-mask",d:`M${W-A},${I-A}h${U+A*2}v${ee+A*2}h${-U-A*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:u,fillRule:"evenodd",stroke:d,strokeWidth:p,pointerEvents:"none"})))}k6.displayName="MiniMap";var aae=_.memo(k6);function lae(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},fe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function oae(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},fe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function cae(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},fe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function uae(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function fae(){return fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},fe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const af=({children:t,className:e,...n})=>fe.createElement("button",{type:"button",className:Un(["react-flow__controls-button",e]),...n},t);af.displayName="ControlButton";const dae=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),$6=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:o,onInteractiveChange:u,className:d,children:p,position:m="bottom-left"})=>{const g=Cn(),[x,v]=_.useState(!1),{isInteractive:b,minZoomReached:S,maxZoomReached:Q}=Vt(dae,qn),{zoomIn:k,zoomOut:$,fitView:T}=_k();if(_.useEffect(()=>{v(!0)},[]),!x)return null;const j=()=>{k(),i==null||i()},N=()=>{$(),a==null||a()},C=()=>{T(s),o==null||o()},q=()=>{g.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),u==null||u(!b)};return fe.createElement(fO,{className:Un(["react-flow__controls",d]),position:m,style:t,"data-testid":"rf__controls"},e&&fe.createElement(fe.Fragment,null,fe.createElement(af,{onClick:j,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:Q},fe.createElement(lae,null)),fe.createElement(af,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},fe.createElement(oae,null))),n&&fe.createElement(af,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},fe.createElement(cae,null)),r&&fe.createElement(af,{className:"react-flow__controls-interactive",onClick:q,title:"toggle interactivity","aria-label":"toggle interactivity"},b?fe.createElement(fae,null):fe.createElement(uae,null)),p)};$6.displayName="Controls";var hae=_.memo($6),rs;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(rs||(rs={}));function pae({color:t,dimensions:e,lineWidth:n}){return fe.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function mae({color:t,radius:e}){return fe.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const Oae={[rs.Dots]:"#91919a",[rs.Lines]:"#eee",[rs.Cross]:"#e2e2e2"},gae={[rs.Dots]:1,[rs.Lines]:1,[rs.Cross]:6},xae=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function T6({id:t,variant:e=rs.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:a,style:o,className:u}){const d=_.useRef(null),{transform:p,patternId:m}=Vt(xae,qn),g=a||Oae[e],x=r||gae[e],v=e===rs.Dots,b=e===rs.Cross,S=Array.isArray(n)?n:[n,n],Q=[S[0]*p[2]||1,S[1]*p[2]||1],k=x*p[2],$=b?[k,k]:Q,T=v?[k/i,k/i]:[$[0]/i,$[1]/i];return fe.createElement("svg",{className:Un(["react-flow__background",u]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background"},fe.createElement("pattern",{id:m+t,x:p[0]%Q[0],y:p[1]%Q[1],width:Q[0],height:Q[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${T[0]},-${T[1]})`},v?fe.createElement(mae,{color:g,radius:k/i}):fe.createElement(pae,{dimensions:$,color:g,lineWidth:s})),fe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+t})`}))}T6.displayName="Background";var yae=_.memo(T6);function Nk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var r1,QN;function bae(){if(QN)return r1;QN=1;function t(){this.__data__=[],this.size=0}return r1=t,r1}var s1,kN;function qc(){if(kN)return s1;kN=1;function t(e,n){return e===n||e!==e&&n!==n}return s1=t,s1}var i1,$N;function pO(){if($N)return i1;$N=1;var t=qc();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return i1=e,i1}var a1,TN;function vae(){if(TN)return a1;TN=1;var t=pO(),e=Array.prototype,n=e.splice;function r(s){var i=this.__data__,a=t(i,s);if(a<0)return!1;var o=i.length-1;return a==o?i.pop():n.call(i,a,1),--this.size,!0}return a1=r,a1}var l1,jN;function wae(){if(jN)return l1;jN=1;var t=pO();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return l1=e,l1}var o1,_N;function Sae(){if(_N)return o1;_N=1;var t=pO();function e(n){return t(this.__data__,n)>-1}return o1=e,o1}var c1,PN;function Qae(){if(PN)return c1;PN=1;var t=pO();function e(n,r){var s=this.__data__,i=t(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return c1=e,c1}var u1,NN;function mO(){if(NN)return u1;NN=1;var t=bae(),e=vae(),n=wae(),r=Sae(),s=Qae();function i(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var d=a[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,u1=i,u1}var f1,CN;function kae(){if(CN)return f1;CN=1;var t=mO();function e(){this.__data__=new t,this.size=0}return f1=e,f1}var d1,RN;function $ae(){if(RN)return d1;RN=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return d1=t,d1}var h1,EN;function Tae(){if(EN)return h1;EN=1;function t(e){return this.__data__.get(e)}return h1=t,h1}var p1,AN;function jae(){if(AN)return p1;AN=1;function t(e){return this.__data__.has(e)}return p1=t,p1}var m1,qN;function j6(){if(qN)return m1;qN=1;var t=typeof jh=="object"&&jh&&jh.Object===Object&&jh;return m1=t,m1}var O1,MN;function Rs(){if(MN)return O1;MN=1;var t=j6(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return O1=n,O1}var g1,XN;function Mc(){if(XN)return g1;XN=1;var t=Rs(),e=t.Symbol;return g1=e,g1}var x1,zN;function _ae(){if(zN)return x1;zN=1;var t=Mc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(a){var o=n.call(a,s),u=a[s];try{a[s]=void 0;var d=!0}catch{}var p=r.call(a);return d&&(o?a[s]=u:delete a[s]),p}return x1=i,x1}var y1,LN;function Pae(){if(LN)return y1;LN=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return y1=n,y1}var b1,ZN;function Il(){if(ZN)return b1;ZN=1;var t=Mc(),e=_ae(),n=Pae(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?s:r:i&&i in Object(o)?e(o):n(o)}return b1=a,b1}var v1,VN;function cs(){if(VN)return v1;VN=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return v1=t,v1}var w1,YN;function fd(){if(YN)return w1;YN=1;var t=Il(),e=cs(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function a(o){if(!e(o))return!1;var u=t(o);return u==r||u==s||u==n||u==i}return w1=a,w1}var S1,DN;function Nae(){if(DN)return S1;DN=1;var t=Rs(),e=t["__core-js_shared__"];return S1=e,S1}var Q1,BN;function Cae(){if(BN)return Q1;BN=1;var t=Nae(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Q1=n,Q1}var k1,UN;function _6(){if(UN)return k1;UN=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return k1=n,k1}var $1,WN;function Rae(){if(WN)return $1;WN=1;var t=fd(),e=Cae(),n=cs(),r=_6(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,u=a.toString,d=o.hasOwnProperty,p=RegExp("^"+u.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var x=t(g)?p:i;return x.test(r(g))}return $1=m,$1}var T1,GN;function Eae(){if(GN)return T1;GN=1;function t(e,n){return e==null?void 0:e[n]}return T1=t,T1}var j1,IN;function Hl(){if(IN)return j1;IN=1;var t=Rae(),e=Eae();function n(r,s){var i=e(r,s);return t(i)?i:void 0}return j1=n,j1}var _1,HN;function Ck(){if(HN)return _1;HN=1;var t=Hl(),e=Rs(),n=t(e,"Map");return _1=n,_1}var P1,FN;function OO(){if(FN)return P1;FN=1;var t=Hl(),e=t(Object,"create");return P1=e,P1}var N1,KN;function Aae(){if(KN)return N1;KN=1;var t=OO();function e(){this.__data__=t?t(null):{},this.size=0}return N1=e,N1}var C1,JN;function qae(){if(JN)return C1;JN=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return C1=t,C1}var R1,e3;function Mae(){if(e3)return R1;e3=1;var t=OO(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var a=this.__data__;if(t){var o=a[i];return o===e?void 0:o}return r.call(a,i)?a[i]:void 0}return R1=s,R1}var E1,t3;function Xae(){if(t3)return E1;t3=1;var t=OO(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var i=this.__data__;return t?i[s]!==void 0:n.call(i,s)}return E1=r,E1}var A1,n3;function zae(){if(n3)return A1;n3=1;var t=OO(),e="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&s===void 0?e:s,this}return A1=n,A1}var q1,r3;function Lae(){if(r3)return q1;r3=1;var t=Aae(),e=qae(),n=Mae(),r=Xae(),s=zae();function i(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var d=a[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,q1=i,q1}var M1,s3;function Zae(){if(s3)return M1;s3=1;var t=Lae(),e=mO(),n=Ck();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return M1=r,M1}var X1,i3;function Vae(){if(i3)return X1;i3=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return X1=t,X1}var z1,a3;function gO(){if(a3)return z1;a3=1;var t=Vae();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return z1=e,z1}var L1,l3;function Yae(){if(l3)return L1;l3=1;var t=gO();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return L1=e,L1}var Z1,o3;function Dae(){if(o3)return Z1;o3=1;var t=gO();function e(n){return t(this,n).get(n)}return Z1=e,Z1}var V1,c3;function Bae(){if(c3)return V1;c3=1;var t=gO();function e(n){return t(this,n).has(n)}return V1=e,V1}var Y1,u3;function Uae(){if(u3)return Y1;u3=1;var t=gO();function e(n,r){var s=t(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return Y1=e,Y1}var D1,f3;function Rk(){if(f3)return D1;f3=1;var t=Zae(),e=Yae(),n=Dae(),r=Bae(),s=Uae();function i(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var d=a[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,D1=i,D1}var B1,d3;function Wae(){if(d3)return B1;d3=1;var t=mO(),e=Ck(),n=Rk(),r=200;function s(i,a){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<r-1)return u.push([i,a]),this.size=++o.size,this;o=this.__data__=new n(u)}return o.set(i,a),this.size=o.size,this}return B1=s,B1}var U1,h3;function xO(){if(h3)return U1;h3=1;var t=mO(),e=kae(),n=$ae(),r=Tae(),s=jae(),i=Wae();function a(o){var u=this.__data__=new t(o);this.size=u.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=s,a.prototype.set=i,U1=a,U1}var W1,p3;function Ek(){if(p3)return W1;p3=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s&&n(e[r],r,e)!==!1;);return e}return W1=t,W1}var G1,m3;function P6(){if(m3)return G1;m3=1;var t=Hl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return G1=e,G1}var I1,O3;function yO(){if(O3)return I1;O3=1;var t=P6();function e(n,r,s){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return I1=e,I1}var H1,g3;function bO(){if(g3)return H1;g3=1;var t=yO(),e=qc(),n=Object.prototype,r=n.hasOwnProperty;function s(i,a,o){var u=i[a];(!(r.call(i,a)&&e(u,o))||o===void 0&&!(a in i))&&t(i,a,o)}return H1=s,H1}var F1,x3;function dd(){if(x3)return F1;x3=1;var t=bO(),e=yO();function n(r,s,i,a){var o=!i;i||(i={});for(var u=-1,d=s.length;++u<d;){var p=s[u],m=a?a(i[p],r[p],p,i,r):void 0;m===void 0&&(m=r[p]),o?e(i,p,m):t(i,p,m)}return i}return F1=n,F1}var K1,y3;function Gae(){if(y3)return K1;y3=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return K1=t,K1}var J1,b3;function si(){if(b3)return J1;b3=1;function t(e){return e!=null&&typeof e=="object"}return J1=t,J1}var ey,v3;function Iae(){if(v3)return ey;v3=1;var t=Il(),e=si(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return ey=r,ey}var ty,w3;function hd(){if(w3)return ty;w3=1;var t=Iae(),e=si(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!s.call(a,"callee")};return ty=i,ty}var ny,S3;function Tn(){if(S3)return ny;S3=1;var t=Array.isArray;return ny=t,ny}var lf={exports:{}},ry,Q3;function Hae(){if(Q3)return ry;Q3=1;function t(){return!1}return ry=t,ry}lf.exports;var k3;function Xc(){return k3||(k3=1,(function(t,e){var n=Rs(),r=Hae(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===s,o=a?n.Buffer:void 0,u=o?o.isBuffer:void 0,d=u||r;t.exports=d})(lf,lf.exports)),lf.exports}var sy,$3;function vO(){if($3)return sy;$3=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return sy=n,sy}var iy,T3;function Ak(){if(T3)return iy;T3=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return iy=e,iy}var ay,j3;function Fae(){if(j3)return ay;j3=1;var t=Il(),e=Ak(),n=si(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",a="[object Date]",o="[object Error]",u="[object Function]",d="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",x="[object Set]",v="[object String]",b="[object WeakMap]",S="[object ArrayBuffer]",Q="[object DataView]",k="[object Float32Array]",$="[object Float64Array]",T="[object Int8Array]",j="[object Int16Array]",N="[object Int32Array]",C="[object Uint8Array]",q="[object Uint8ClampedArray]",M="[object Uint16Array]",L="[object Uint32Array]",E={};E[k]=E[$]=E[T]=E[j]=E[N]=E[C]=E[q]=E[M]=E[L]=!0,E[r]=E[s]=E[S]=E[i]=E[Q]=E[a]=E[o]=E[u]=E[d]=E[p]=E[m]=E[g]=E[x]=E[v]=E[b]=!1;function Z(Y){return n(Y)&&e(Y.length)&&!!E[t(Y)]}return ay=Z,ay}var ly,_3;function wO(){if(_3)return ly;_3=1;function t(e){return function(n){return e(n)}}return ly=t,ly}var of={exports:{}};of.exports;var P3;function qk(){return P3||(P3=1,(function(t,e){var n=j6(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i&&n.process,o=(function(){try{var u=s&&s.require&&s.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(of,of.exports)),of.exports}var oy,N3;function pd(){if(N3)return oy;N3=1;var t=Fae(),e=wO(),n=qk(),r=n&&n.isTypedArray,s=r?e(r):t;return oy=s,oy}var cy,C3;function N6(){if(C3)return cy;C3=1;var t=Gae(),e=hd(),n=Tn(),r=Xc(),s=vO(),i=pd(),a=Object.prototype,o=a.hasOwnProperty;function u(d,p){var m=n(d),g=!m&&e(d),x=!m&&!g&&r(d),v=!m&&!g&&!x&&i(d),b=m||g||x||v,S=b?t(d.length,String):[],Q=S.length;for(var k in d)(p||o.call(d,k))&&!(b&&(k=="length"||x&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,Q)))&&S.push(k);return S}return cy=u,cy}var uy,R3;function SO(){if(R3)return uy;R3=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return uy=e,uy}var fy,E3;function C6(){if(E3)return fy;E3=1;function t(e,n){return function(r){return e(n(r))}}return fy=t,fy}var dy,A3;function Kae(){if(A3)return dy;A3=1;var t=C6(),e=t(Object.keys,Object);return dy=e,dy}var hy,q3;function Mk(){if(q3)return hy;q3=1;var t=SO(),e=Kae(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!t(i))return e(i);var a=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&a.push(o);return a}return hy=s,hy}var py,M3;function Ui(){if(M3)return py;M3=1;var t=fd(),e=Ak();function n(r){return r!=null&&e(r.length)&&!t(r)}return py=n,py}var my,X3;function Ga(){if(X3)return my;X3=1;var t=N6(),e=Mk(),n=Ui();function r(s){return n(s)?t(s):e(s)}return my=r,my}var Oy,z3;function Jae(){if(z3)return Oy;z3=1;var t=dd(),e=Ga();function n(r,s){return r&&t(s,e(s),r)}return Oy=n,Oy}var gy,L3;function ele(){if(L3)return gy;L3=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return gy=t,gy}var xy,Z3;function tle(){if(Z3)return xy;Z3=1;var t=cs(),e=SO(),n=ele(),r=Object.prototype,s=r.hasOwnProperty;function i(a){if(!t(a))return n(a);var o=e(a),u=[];for(var d in a)d=="constructor"&&(o||!s.call(a,d))||u.push(d);return u}return xy=i,xy}var yy,V3;function Fl(){if(V3)return yy;V3=1;var t=N6(),e=tle(),n=Ui();function r(s){return n(s)?t(s,!0):e(s)}return yy=r,yy}var by,Y3;function nle(){if(Y3)return by;Y3=1;var t=dd(),e=Fl();function n(r,s){return r&&t(s,e(s),r)}return by=n,by}var cf={exports:{}};cf.exports;var D3;function R6(){return D3||(D3=1,(function(t,e){var n=Rs(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function u(d,p){if(p)return d.slice();var m=d.length,g=o?o(m):new d.constructor(m);return d.copy(g),g}t.exports=u})(cf,cf.exports)),cf.exports}var vy,B3;function E6(){if(B3)return vy;B3=1;function t(e,n){var r=-1,s=e.length;for(n||(n=Array(s));++r<s;)n[r]=e[r];return n}return vy=t,vy}var wy,U3;function A6(){if(U3)return wy;U3=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=0,a=[];++r<s;){var o=e[r];n(o,r,e)&&(a[i++]=o)}return a}return wy=t,wy}var Sy,W3;function q6(){if(W3)return Sy;W3=1;function t(){return[]}return Sy=t,Sy}var Qy,G3;function Xk(){if(G3)return Qy;G3=1;var t=A6(),e=q6(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(a){return a==null?[]:(a=Object(a),t(s(a),function(o){return r.call(a,o)}))}:e;return Qy=i,Qy}var ky,I3;function rle(){if(I3)return ky;I3=1;var t=dd(),e=Xk();function n(r,s){return t(r,e(r),s)}return ky=n,ky}var $y,H3;function zk(){if(H3)return $y;H3=1;function t(e,n){for(var r=-1,s=n.length,i=e.length;++r<s;)e[i+r]=n[r];return e}return $y=t,$y}var Ty,F3;function QO(){if(F3)return Ty;F3=1;var t=C6(),e=t(Object.getPrototypeOf,Object);return Ty=e,Ty}var jy,K3;function M6(){if(K3)return jy;K3=1;var t=zk(),e=QO(),n=Xk(),r=q6(),s=Object.getOwnPropertySymbols,i=s?function(a){for(var o=[];a;)t(o,n(a)),a=e(a);return o}:r;return jy=i,jy}var _y,J3;function sle(){if(J3)return _y;J3=1;var t=dd(),e=M6();function n(r,s){return t(r,e(r),s)}return _y=n,_y}var Py,eC;function X6(){if(eC)return Py;eC=1;var t=zk(),e=Tn();function n(r,s,i){var a=s(r);return e(r)?a:t(a,i(r))}return Py=n,Py}var Ny,tC;function z6(){if(tC)return Ny;tC=1;var t=X6(),e=Xk(),n=Ga();function r(s){return t(s,n,e)}return Ny=r,Ny}var Cy,nC;function ile(){if(nC)return Cy;nC=1;var t=X6(),e=M6(),n=Fl();function r(s){return t(s,n,e)}return Cy=r,Cy}var Ry,rC;function ale(){if(rC)return Ry;rC=1;var t=Hl(),e=Rs(),n=t(e,"DataView");return Ry=n,Ry}var Ey,sC;function lle(){if(sC)return Ey;sC=1;var t=Hl(),e=Rs(),n=t(e,"Promise");return Ey=n,Ey}var Ay,iC;function L6(){if(iC)return Ay;iC=1;var t=Hl(),e=Rs(),n=t(e,"Set");return Ay=n,Ay}var qy,aC;function ole(){if(aC)return qy;aC=1;var t=Hl(),e=Rs(),n=t(e,"WeakMap");return qy=n,qy}var My,lC;function zc(){if(lC)return My;lC=1;var t=ale(),e=Ck(),n=lle(),r=L6(),s=ole(),i=Il(),a=_6(),o="[object Map]",u="[object Object]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",x=a(t),v=a(e),b=a(n),S=a(r),Q=a(s),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=o||n&&k(n.resolve())!=d||r&&k(new r)!=p||s&&k(new s)!=m)&&(k=function($){var T=i($),j=T==u?$.constructor:void 0,N=j?a(j):"";if(N)switch(N){case x:return g;case v:return o;case b:return d;case S:return p;case Q:return m}return T}),My=k,My}var Xy,oC;function cle(){if(oC)return Xy;oC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var s=r.length,i=new r.constructor(s);return s&&typeof r[0]=="string"&&e.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return Xy=n,Xy}var zy,cC;function Z6(){if(cC)return zy;cC=1;var t=Rs(),e=t.Uint8Array;return zy=e,zy}var Ly,uC;function Lk(){if(uC)return Ly;uC=1;var t=Z6();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Ly=e,Ly}var Zy,fC;function ule(){if(fC)return Zy;fC=1;var t=Lk();function e(n,r){var s=r?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return Zy=e,Zy}var Vy,dC;function fle(){if(dC)return Vy;dC=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Vy=e,Vy}var Yy,hC;function dle(){if(hC)return Yy;hC=1;var t=Mc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(s){return n?Object(n.call(s)):{}}return Yy=r,Yy}var Dy,pC;function V6(){if(pC)return Dy;pC=1;var t=Lk();function e(n,r){var s=r?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return Dy=e,Dy}var By,mC;function hle(){if(mC)return By;mC=1;var t=Lk(),e=ule(),n=fle(),r=dle(),s=V6(),i="[object Boolean]",a="[object Date]",o="[object Map]",u="[object Number]",d="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",S="[object Float64Array]",Q="[object Int8Array]",k="[object Int16Array]",$="[object Int32Array]",T="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]";function q(M,L,E){var Z=M.constructor;switch(L){case x:return t(M);case i:case a:return new Z(+M);case v:return e(M,E);case b:case S:case Q:case k:case $:case T:case j:case N:case C:return s(M,E);case o:return new Z;case u:case m:return new Z(M);case d:return n(M);case p:return new Z;case g:return r(M)}}return By=q,By}var Uy,OC;function Y6(){if(OC)return Uy;OC=1;var t=cs(),e=Object.create,n=(function(){function r(){}return function(s){if(!t(s))return{};if(e)return e(s);r.prototype=s;var i=new r;return r.prototype=void 0,i}})();return Uy=n,Uy}var Wy,gC;function D6(){if(gC)return Wy;gC=1;var t=Y6(),e=QO(),n=SO();function r(s){return typeof s.constructor=="function"&&!n(s)?t(e(s)):{}}return Wy=r,Wy}var Gy,xC;function ple(){if(xC)return Gy;xC=1;var t=zc(),e=si(),n="[object Map]";function r(s){return e(s)&&t(s)==n}return Gy=r,Gy}var Iy,yC;function mle(){if(yC)return Iy;yC=1;var t=ple(),e=wO(),n=qk(),r=n&&n.isMap,s=r?e(r):t;return Iy=s,Iy}var Hy,bC;function Ole(){if(bC)return Hy;bC=1;var t=zc(),e=si(),n="[object Set]";function r(s){return e(s)&&t(s)==n}return Hy=r,Hy}var Fy,vC;function gle(){if(vC)return Fy;vC=1;var t=Ole(),e=wO(),n=qk(),r=n&&n.isSet,s=r?e(r):t;return Fy=s,Fy}var Ky,wC;function B6(){if(wC)return Ky;wC=1;var t=xO(),e=Ek(),n=bO(),r=Jae(),s=nle(),i=R6(),a=E6(),o=rle(),u=sle(),d=z6(),p=ile(),m=zc(),g=cle(),x=hle(),v=D6(),b=Tn(),S=Xc(),Q=mle(),k=cs(),$=gle(),T=Ga(),j=Fl(),N=1,C=2,q=4,M="[object Arguments]",L="[object Array]",E="[object Boolean]",Z="[object Date]",Y="[object Error]",R="[object Function]",G="[object GeneratorFunction]",A="[object Map]",W="[object Number]",I="[object Object]",U="[object RegExp]",ee="[object Set]",z="[object String]",D="[object Symbol]",K="[object WeakMap]",B="[object ArrayBuffer]",H="[object DataView]",J="[object Float32Array]",re="[object Float64Array]",ie="[object Int8Array]",ce="[object Int16Array]",ve="[object Int32Array]",_e="[object Uint8Array]",ne="[object Uint8ClampedArray]",he="[object Uint16Array]",pe="[object Uint32Array]",xe={};xe[M]=xe[L]=xe[B]=xe[H]=xe[E]=xe[Z]=xe[J]=xe[re]=xe[ie]=xe[ce]=xe[ve]=xe[A]=xe[W]=xe[I]=xe[U]=xe[ee]=xe[z]=xe[D]=xe[_e]=xe[ne]=xe[he]=xe[pe]=!0,xe[Y]=xe[R]=xe[K]=!1;function Ie(je,ke,Je,ut,et,jt){var Ve,nt=ke&N,ln=ke&C,St=ke&q;if(Je&&(Ve=et?Je(je,ut,et,jt):Je(je)),Ve!==void 0)return Ve;if(!k(je))return je;var Ut=b(je);if(Ut){if(Ve=g(je),!nt)return a(je,Ve)}else{var qt=m(je),pn=qt==R||qt==G;if(S(je))return i(je,nt);if(qt==I||qt==M||pn&&!et){if(Ve=ln||pn?{}:v(je),!nt)return ln?u(je,s(Ve,je)):o(je,r(Ve,je))}else{if(!xe[qt])return et?je:{};Ve=x(je,qt,nt)}}jt||(jt=new t);var yn=jt.get(je);if(yn)return yn;jt.set(je,Ve),$(je)?je.forEach(function(dt){Ve.add(Ie(dt,ke,Je,dt,je,jt))}):Q(je)&&je.forEach(function(dt,rt){Ve.set(rt,Ie(dt,ke,Je,rt,je,jt))});var Qt=St?ln?p:d:ln?j:T,Lt=Ut?void 0:Qt(je);return e(Lt||je,function(dt,rt){Lt&&(rt=dt,dt=je[rt]),n(Ve,rt,Ie(dt,ke,Je,rt,je,jt))}),Ve}return Ky=Ie,Ky}var Jy,SC;function xle(){if(SC)return Jy;SC=1;var t=B6(),e=4;function n(r){return t(r,e)}return Jy=n,Jy}var eb,QC;function Zk(){if(QC)return eb;QC=1;function t(e){return function(){return e}}return eb=t,eb}var tb,kC;function yle(){if(kC)return tb;kC=1;function t(e){return function(n,r,s){for(var i=-1,a=Object(n),o=s(n),u=o.length;u--;){var d=o[e?u:++i];if(r(a[d],d,a)===!1)break}return n}}return tb=t,tb}var nb,$C;function Vk(){if($C)return nb;$C=1;var t=yle(),e=t();return nb=e,nb}var rb,TC;function Yk(){if(TC)return rb;TC=1;var t=Vk(),e=Ga();function n(r,s){return r&&t(r,s,e)}return rb=n,rb}var sb,jC;function ble(){if(jC)return sb;jC=1;var t=Ui();function e(n,r){return function(s,i){if(s==null)return s;if(!t(s))return n(s,i);for(var a=s.length,o=r?a:-1,u=Object(s);(r?o--:++o<a)&&i(u[o],o,u)!==!1;);return s}}return sb=e,sb}var ib,_C;function kO(){if(_C)return ib;_C=1;var t=Yk(),e=ble(),n=e(t);return ib=n,ib}var ab,PC;function Kl(){if(PC)return ab;PC=1;function t(e){return e}return ab=t,ab}var lb,NC;function U6(){if(NC)return lb;NC=1;var t=Kl();function e(n){return typeof n=="function"?n:t}return lb=e,lb}var ob,CC;function W6(){if(CC)return ob;CC=1;var t=Ek(),e=kO(),n=U6(),r=Tn();function s(i,a){var o=r(i)?t:e;return o(i,n(a))}return ob=s,ob}var cb,RC;function G6(){return RC||(RC=1,cb=W6()),cb}var ub,EC;function vle(){if(EC)return ub;EC=1;var t=kO();function e(n,r){var s=[];return t(n,function(i,a,o){r(i,a,o)&&s.push(i)}),s}return ub=e,ub}var fb,AC;function wle(){if(AC)return fb;AC=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return fb=e,fb}var db,qC;function Sle(){if(qC)return db;qC=1;function t(e){return this.__data__.has(e)}return db=t,db}var hb,MC;function I6(){if(MC)return hb;MC=1;var t=Rk(),e=wle(),n=Sle();function r(s){var i=-1,a=s==null?0:s.length;for(this.__data__=new t;++i<a;)this.add(s[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,hb=r,hb}var pb,XC;function Qle(){if(XC)return pb;XC=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(e[r],r,e))return!0;return!1}return pb=t,pb}var mb,zC;function H6(){if(zC)return mb;zC=1;function t(e,n){return e.has(n)}return mb=t,mb}var Ob,LC;function F6(){if(LC)return Ob;LC=1;var t=I6(),e=Qle(),n=H6(),r=1,s=2;function i(a,o,u,d,p,m){var g=u&r,x=a.length,v=o.length;if(x!=v&&!(g&&v>x))return!1;var b=m.get(a),S=m.get(o);if(b&&S)return b==o&&S==a;var Q=-1,k=!0,$=u&s?new t:void 0;for(m.set(a,o),m.set(o,a);++Q<x;){var T=a[Q],j=o[Q];if(d)var N=g?d(j,T,Q,o,a,m):d(T,j,Q,a,o,m);if(N!==void 0){if(N)continue;k=!1;break}if($){if(!e(o,function(C,q){if(!n($,q)&&(T===C||p(T,C,u,d,m)))return $.push(q)})){k=!1;break}}else if(!(T===j||p(T,j,u,d,m))){k=!1;break}}return m.delete(a),m.delete(o),k}return Ob=i,Ob}var gb,ZC;function kle(){if(ZC)return gb;ZC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s,i){r[++n]=[i,s]}),r}return gb=t,gb}var xb,VC;function Dk(){if(VC)return xb;VC=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s){r[++n]=s}),r}return xb=t,xb}var yb,YC;function $le(){if(YC)return yb;YC=1;var t=Mc(),e=Z6(),n=qc(),r=F6(),s=kle(),i=Dk(),a=1,o=2,u="[object Boolean]",d="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",x="[object RegExp]",v="[object Set]",b="[object String]",S="[object Symbol]",Q="[object ArrayBuffer]",k="[object DataView]",$=t?t.prototype:void 0,T=$?$.valueOf:void 0;function j(N,C,q,M,L,E,Z){switch(q){case k:if(N.byteLength!=C.byteLength||N.byteOffset!=C.byteOffset)return!1;N=N.buffer,C=C.buffer;case Q:return!(N.byteLength!=C.byteLength||!E(new e(N),new e(C)));case u:case d:case g:return n(+N,+C);case p:return N.name==C.name&&N.message==C.message;case x:case b:return N==C+"";case m:var Y=s;case v:var R=M&a;if(Y||(Y=i),N.size!=C.size&&!R)return!1;var G=Z.get(N);if(G)return G==C;M|=o,Z.set(N,C);var A=r(Y(N),Y(C),M,L,E,Z);return Z.delete(N),A;case S:if(T)return T.call(N)==T.call(C)}return!1}return yb=j,yb}var bb,DC;function Tle(){if(DC)return bb;DC=1;var t=z6(),e=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,a,o,u,d,p){var m=o&e,g=t(i),x=g.length,v=t(a),b=v.length;if(x!=b&&!m)return!1;for(var S=x;S--;){var Q=g[S];if(!(m?Q in a:r.call(a,Q)))return!1}var k=p.get(i),$=p.get(a);if(k&&$)return k==a&&$==i;var T=!0;p.set(i,a),p.set(a,i);for(var j=m;++S<x;){Q=g[S];var N=i[Q],C=a[Q];if(u)var q=m?u(C,N,Q,a,i,p):u(N,C,Q,i,a,p);if(!(q===void 0?N===C||d(N,C,o,u,p):q)){T=!1;break}j||(j=Q=="constructor")}if(T&&!j){var M=i.constructor,L=a.constructor;M!=L&&"constructor"in i&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(T=!1)}return p.delete(i),p.delete(a),T}return bb=s,bb}var vb,BC;function jle(){if(BC)return vb;BC=1;var t=xO(),e=F6(),n=$le(),r=Tle(),s=zc(),i=Tn(),a=Xc(),o=pd(),u=1,d="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,x=g.hasOwnProperty;function v(b,S,Q,k,$,T){var j=i(b),N=i(S),C=j?p:s(b),q=N?p:s(S);C=C==d?m:C,q=q==d?m:q;var M=C==m,L=q==m,E=C==q;if(E&&a(b)){if(!a(S))return!1;j=!0,M=!1}if(E&&!M)return T||(T=new t),j||o(b)?e(b,S,Q,k,$,T):n(b,S,C,Q,k,$,T);if(!(Q&u)){var Z=M&&x.call(b,"__wrapped__"),Y=L&&x.call(S,"__wrapped__");if(Z||Y){var R=Z?b.value():b,G=Y?S.value():S;return T||(T=new t),$(R,G,Q,k,T)}}return E?(T||(T=new t),r(b,S,Q,k,$,T)):!1}return vb=v,vb}var wb,UC;function K6(){if(UC)return wb;UC=1;var t=jle(),e=si();function n(r,s,i,a,o){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:t(r,s,i,a,n,o)}return wb=n,wb}var Sb,WC;function _le(){if(WC)return Sb;WC=1;var t=xO(),e=K6(),n=1,r=2;function s(i,a,o,u){var d=o.length,p=d,m=!u;if(i==null)return!p;for(i=Object(i);d--;){var g=o[d];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++d<p;){g=o[d];var x=g[0],v=i[x],b=g[1];if(m&&g[2]){if(v===void 0&&!(x in i))return!1}else{var S=new t;if(u)var Q=u(v,b,x,i,a,S);if(!(Q===void 0?e(b,v,n|r,u,S):Q))return!1}}return!0}return Sb=s,Sb}var Qb,GC;function J6(){if(GC)return Qb;GC=1;var t=cs();function e(n){return n===n&&!t(n)}return Qb=e,Qb}var kb,IC;function Ple(){if(IC)return kb;IC=1;var t=J6(),e=Ga();function n(r){for(var s=e(r),i=s.length;i--;){var a=s[i],o=r[a];s[i]=[a,o,t(o)]}return s}return kb=n,kb}var $b,HC;function eZ(){if(HC)return $b;HC=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return $b=t,$b}var Tb,FC;function Nle(){if(FC)return Tb;FC=1;var t=_le(),e=Ple(),n=eZ();function r(s){var i=e(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(a){return a===s||t(a,s,i)}}return Tb=r,Tb}var jb,KC;function Lc(){if(KC)return jb;KC=1;var t=Il(),e=si(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return jb=r,jb}var _b,JC;function Bk(){if(JC)return _b;JC=1;var t=Tn(),e=Lc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,a){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||a!=null&&i in Object(a)}return _b=s,_b}var Pb,eR;function Cle(){if(eR)return Pb;eR=1;var t=Rk(),e="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var a=arguments,o=s?s.apply(this,a):a[0],u=i.cache;if(u.has(o))return u.get(o);var d=r.apply(this,a);return i.cache=u.set(o,d)||u,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,Pb=n,Pb}var Nb,tR;function Rle(){if(tR)return Nb;tR=1;var t=Cle(),e=500;function n(r){var s=t(r,function(a){return i.size===e&&i.clear(),a}),i=s.cache;return s}return Nb=n,Nb}var Cb,nR;function Ele(){if(nR)return Cb;nR=1;var t=Rle(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(a,o,u,d){i.push(u?d.replace(n,"$1"):o||a)}),i});return Cb=r,Cb}var Rb,rR;function $O(){if(rR)return Rb;rR=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=Array(s);++r<s;)i[r]=n(e[r],r,e);return i}return Rb=t,Rb}var Eb,sR;function Ale(){if(sR)return Eb;sR=1;var t=Mc(),e=$O(),n=Tn(),r=Lc(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return i?i.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return Eb=a,Eb}var Ab,iR;function tZ(){if(iR)return Ab;iR=1;var t=Ale();function e(n){return n==null?"":t(n)}return Ab=e,Ab}var qb,aR;function TO(){if(aR)return qb;aR=1;var t=Tn(),e=Bk(),n=Ele(),r=tZ();function s(i,a){return t(i)?i:e(i,a)?[i]:n(r(i))}return qb=s,qb}var Mb,lR;function md(){if(lR)return Mb;lR=1;var t=Lc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Mb=e,Mb}var Xb,oR;function jO(){if(oR)return Xb;oR=1;var t=TO(),e=md();function n(r,s){s=t(s,r);for(var i=0,a=s.length;r!=null&&i<a;)r=r[e(s[i++])];return i&&i==a?r:void 0}return Xb=n,Xb}var zb,cR;function qle(){if(cR)return zb;cR=1;var t=jO();function e(n,r,s){var i=n==null?void 0:t(n,r);return i===void 0?s:i}return zb=e,zb}var Lb,uR;function Mle(){if(uR)return Lb;uR=1;function t(e,n){return e!=null&&n in Object(e)}return Lb=t,Lb}var Zb,fR;function nZ(){if(fR)return Zb;fR=1;var t=TO(),e=hd(),n=Tn(),r=vO(),s=Ak(),i=md();function a(o,u,d){u=t(u,o);for(var p=-1,m=u.length,g=!1;++p<m;){var x=i(u[p]);if(!(g=o!=null&&d(o,x)))break;o=o[x]}return g||++p!=m?g:(m=o==null?0:o.length,!!m&&s(m)&&r(x,m)&&(n(o)||e(o)))}return Zb=a,Zb}var Vb,dR;function rZ(){if(dR)return Vb;dR=1;var t=Mle(),e=nZ();function n(r,s){return r!=null&&e(r,s,t)}return Vb=n,Vb}var Yb,hR;function Xle(){if(hR)return Yb;hR=1;var t=K6(),e=qle(),n=rZ(),r=Bk(),s=J6(),i=eZ(),a=md(),o=1,u=2;function d(p,m){return r(p)&&s(m)?i(a(p),m):function(g){var x=e(g,p);return x===void 0&&x===m?n(g,p):t(m,x,o|u)}}return Yb=d,Yb}var Db,pR;function sZ(){if(pR)return Db;pR=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Db=t,Db}var Bb,mR;function zle(){if(mR)return Bb;mR=1;var t=jO();function e(n){return function(r){return t(r,n)}}return Bb=e,Bb}var Ub,OR;function Lle(){if(OR)return Ub;OR=1;var t=sZ(),e=zle(),n=Bk(),r=md();function s(i){return n(i)?t(r(i)):e(i)}return Ub=s,Ub}var Wb,gR;function Wi(){if(gR)return Wb;gR=1;var t=Nle(),e=Xle(),n=Kl(),r=Tn(),s=Lle();function i(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):s(a)}return Wb=i,Wb}var Gb,xR;function iZ(){if(xR)return Gb;xR=1;var t=A6(),e=vle(),n=Wi(),r=Tn();function s(i,a){var o=r(i)?t:e;return o(i,n(a,3))}return Gb=s,Gb}var Ib,yR;function Zle(){if(yR)return Ib;yR=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,s){return r!=null&&e.call(r,s)}return Ib=n,Ib}var Hb,bR;function aZ(){if(bR)return Hb;bR=1;var t=Zle(),e=nZ();function n(r,s){return r!=null&&e(r,s,t)}return Hb=n,Hb}var Fb,vR;function Vle(){if(vR)return Fb;vR=1;var t=Mk(),e=zc(),n=hd(),r=Tn(),s=Ui(),i=Xc(),a=SO(),o=pd(),u="[object Map]",d="[object Set]",p=Object.prototype,m=p.hasOwnProperty;function g(x){if(x==null)return!0;if(s(x)&&(r(x)||typeof x=="string"||typeof x.splice=="function"||i(x)||o(x)||n(x)))return!x.length;var v=e(x);if(v==u||v==d)return!x.size;if(a(x))return!t(x).length;for(var b in x)if(m.call(x,b))return!1;return!0}return Fb=g,Fb}var Kb,wR;function lZ(){if(wR)return Kb;wR=1;function t(e){return e===void 0}return Kb=t,Kb}var Jb,SR;function oZ(){if(SR)return Jb;SR=1;var t=kO(),e=Ui();function n(r,s){var i=-1,a=e(r)?Array(r.length):[];return t(r,function(o,u,d){a[++i]=s(o,u,d)}),a}return Jb=n,Jb}var ev,QR;function cZ(){if(QR)return ev;QR=1;var t=$O(),e=Wi(),n=oZ(),r=Tn();function s(i,a){var o=r(i)?t:n;return o(i,e(a,3))}return ev=s,ev}var tv,kR;function Yle(){if(kR)return tv;kR=1;function t(e,n,r,s){var i=-1,a=e==null?0:e.length;for(s&&a&&(r=e[++i]);++i<a;)r=n(r,e[i],i,e);return r}return tv=t,tv}var nv,$R;function Dle(){if($R)return nv;$R=1;function t(e,n,r,s,i){return i(e,function(a,o,u){r=s?(s=!1,a):n(r,a,o,u)}),r}return nv=t,nv}var rv,TR;function uZ(){if(TR)return rv;TR=1;var t=Yle(),e=kO(),n=Wi(),r=Dle(),s=Tn();function i(a,o,u){var d=s(a)?t:r,p=arguments.length<3;return d(a,n(o,4),u,p,e)}return rv=i,rv}var sv,jR;function Ble(){if(jR)return sv;jR=1;var t=Il(),e=Tn(),n=si(),r="[object String]";function s(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return sv=s,sv}var iv,_R;function Ule(){if(_R)return iv;_R=1;var t=sZ(),e=t("length");return iv=e,iv}var av,PR;function Wle(){if(PR)return av;PR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,i="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+s+i+"]");function u(d){return o.test(d)}return av=u,av}var lv,NR;function Gle(){if(NR)return lv;NR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,i="\\ufe0e\\ufe0f",a="["+t+"]",o="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+o+"|"+u+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",v=d+"?",b="["+i+"]?",S="(?:"+x+"(?:"+[p,m,g].join("|")+")"+b+v+")*",Q=b+v+S,k="(?:"+[p+o+"?",o,m,g,a].join("|")+")",$=RegExp(u+"(?="+u+")|"+k+Q,"g");function T(j){for(var N=$.lastIndex=0;$.test(j);)++N;return N}return lv=T,lv}var ov,CR;function Ile(){if(CR)return ov;CR=1;var t=Ule(),e=Wle(),n=Gle();function r(s){return e(s)?n(s):t(s)}return ov=r,ov}var cv,RR;function Hle(){if(RR)return cv;RR=1;var t=Mk(),e=zc(),n=Ui(),r=Ble(),s=Ile(),i="[object Map]",a="[object Set]";function o(u){if(u==null)return 0;if(n(u))return r(u)?s(u):u.length;var d=e(u);return d==i||d==a?u.size:t(u).length}return cv=o,cv}var uv,ER;function Fle(){if(ER)return uv;ER=1;var t=Ek(),e=Y6(),n=Yk(),r=Wi(),s=QO(),i=Tn(),a=Xc(),o=fd(),u=cs(),d=pd();function p(m,g,x){var v=i(m),b=v||a(m)||d(m);if(g=r(g,4),x==null){var S=m&&m.constructor;b?x=v?new S:[]:u(m)?x=o(S)?e(s(m)):{}:x={}}return(b?t:n)(m,function(Q,k,$){return g(x,Q,k,$)}),x}return uv=p,uv}var fv,AR;function Kle(){if(AR)return fv;AR=1;var t=Mc(),e=hd(),n=Tn(),r=t?t.isConcatSpreadable:void 0;function s(i){return n(i)||e(i)||!!(r&&i&&i[r])}return fv=s,fv}var dv,qR;function Uk(){if(qR)return dv;qR=1;var t=zk(),e=Kle();function n(r,s,i,a,o){var u=-1,d=r.length;for(i||(i=e),o||(o=[]);++u<d;){var p=r[u];s>0&&i(p)?s>1?n(p,s-1,i,a,o):t(o,p):a||(o[o.length]=p)}return o}return dv=n,dv}var hv,MR;function Jle(){if(MR)return hv;MR=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return hv=t,hv}var pv,XR;function fZ(){if(XR)return pv;XR=1;var t=Jle(),e=Math.max;function n(r,s,i){return s=e(s===void 0?r.length-1:s,0),function(){for(var a=arguments,o=-1,u=e(a.length-s,0),d=Array(u);++o<u;)d[o]=a[s+o];o=-1;for(var p=Array(s+1);++o<s;)p[o]=a[o];return p[s]=i(d),t(r,this,p)}}return pv=n,pv}var mv,zR;function eoe(){if(zR)return mv;zR=1;var t=Zk(),e=P6(),n=Kl(),r=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return mv=r,mv}var Ov,LR;function toe(){if(LR)return Ov;LR=1;var t=800,e=16,n=Date.now;function r(s){var i=0,a=0;return function(){var o=n(),u=e-(o-a);if(a=o,u>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Ov=r,Ov}var gv,ZR;function dZ(){if(ZR)return gv;ZR=1;var t=eoe(),e=toe(),n=e(t);return gv=n,gv}var xv,VR;function _O(){if(VR)return xv;VR=1;var t=Kl(),e=fZ(),n=dZ();function r(s,i){return n(e(s,i,t),s+"")}return xv=r,xv}var yv,YR;function hZ(){if(YR)return yv;YR=1;function t(e,n,r,s){for(var i=e.length,a=r+(s?1:-1);s?a--:++a<i;)if(n(e[a],a,e))return a;return-1}return yv=t,yv}var bv,DR;function noe(){if(DR)return bv;DR=1;function t(e){return e!==e}return bv=t,bv}var vv,BR;function roe(){if(BR)return vv;BR=1;function t(e,n,r){for(var s=r-1,i=e.length;++s<i;)if(e[s]===n)return s;return-1}return vv=t,vv}var wv,UR;function soe(){if(UR)return wv;UR=1;var t=hZ(),e=noe(),n=roe();function r(s,i,a){return i===i?n(s,i,a):t(s,e,a)}return wv=r,wv}var Sv,WR;function ioe(){if(WR)return Sv;WR=1;var t=soe();function e(n,r){var s=n==null?0:n.length;return!!s&&t(n,r,0)>-1}return Sv=e,Sv}var Qv,GR;function aoe(){if(GR)return Qv;GR=1;function t(e,n,r){for(var s=-1,i=e==null?0:e.length;++s<i;)if(r(n,e[s]))return!0;return!1}return Qv=t,Qv}var kv,IR;function loe(){if(IR)return kv;IR=1;function t(){}return kv=t,kv}var $v,HR;function ooe(){if(HR)return $v;HR=1;var t=L6(),e=loe(),n=Dk(),r=1/0,s=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return $v=s,$v}var Tv,FR;function coe(){if(FR)return Tv;FR=1;var t=I6(),e=ioe(),n=aoe(),r=H6(),s=ooe(),i=Dk(),a=200;function o(u,d,p){var m=-1,g=e,x=u.length,v=!0,b=[],S=b;if(p)v=!1,g=n;else if(x>=a){var Q=d?null:s(u);if(Q)return i(Q);v=!1,g=r,S=new t}else S=d?[]:b;e:for(;++m<x;){var k=u[m],$=d?d(k):k;if(k=p||k!==0?k:0,v&&$===$){for(var T=S.length;T--;)if(S[T]===$)continue e;d&&S.push($),b.push(k)}else g(S,$,p)||(S!==b&&S.push($),b.push(k))}return b}return Tv=o,Tv}var jv,KR;function pZ(){if(KR)return jv;KR=1;var t=Ui(),e=si();function n(r){return e(r)&&t(r)}return jv=n,jv}var _v,JR;function uoe(){if(JR)return _v;JR=1;var t=Uk(),e=_O(),n=coe(),r=pZ(),s=e(function(i){return n(t(i,1,r,!0))});return _v=s,_v}var Pv,eE;function foe(){if(eE)return Pv;eE=1;var t=$O();function e(n,r){return t(r,function(s){return n[s]})}return Pv=e,Pv}var Nv,tE;function mZ(){if(tE)return Nv;tE=1;var t=foe(),e=Ga();function n(r){return r==null?[]:t(r,e(r))}return Nv=n,Nv}var Cv,nE;function us(){if(nE)return Cv;nE=1;var t;if(typeof Nk=="function")try{t={clone:xle(),constant:Zk(),each:G6(),filter:iZ(),has:aZ(),isArray:Tn(),isEmpty:Vle(),isFunction:fd(),isUndefined:lZ(),keys:Ga(),map:cZ(),reduce:uZ(),size:Hle(),transform:Fle(),union:uoe(),values:mZ()}}catch{}return t||(t=window._),Cv=t,Cv}var Rv,rE;function Wk(){if(rE)return Rv;rE=1;var t=us();Rv=s;var e="\0",n="\0",r="";function s(p){this._isDirected=t.has(p,"directed")?p.directed:!0,this._isMultigraph=t.has(p,"multigraph")?p.multigraph:!1,this._isCompound=t.has(p,"compound")?p.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(p){return this._label=p,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(p){return t.isFunction(p)||(p=t.constant(p)),this._defaultNodeLabelFn=p,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return t.keys(this._nodes)},s.prototype.sources=function(){var p=this;return t.filter(this.nodes(),function(m){return t.isEmpty(p._in[m])})},s.prototype.sinks=function(){var p=this;return t.filter(this.nodes(),function(m){return t.isEmpty(p._out[m])})},s.prototype.setNodes=function(p,m){var g=arguments,x=this;return t.each(p,function(v){g.length>1?x.setNode(v,m):x.setNode(v)}),this},s.prototype.setNode=function(p,m){return t.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=m),this):(this._nodes[p]=arguments.length>1?m:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=n,this._children[p]={},this._children[n][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},s.prototype.node=function(p){return this._nodes[p]},s.prototype.hasNode=function(p){return t.has(this._nodes,p)},s.prototype.removeNode=function(p){var m=this;if(t.has(this._nodes,p)){var g=function(x){m.removeEdge(m._edgeObjs[x])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],t.each(this.children(p),function(x){m.setParent(x)}),delete this._children[p]),t.each(t.keys(this._in[p]),g),delete this._in[p],delete this._preds[p],t.each(t.keys(this._out[p]),g),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},s.prototype.setParent=function(p,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(m))m=n;else{m+="";for(var g=m;!t.isUndefined(g);g=this.parent(g))if(g===p)throw new Error("Setting "+m+" as parent of "+p+" would create a cycle");this.setNode(m)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=m,this._children[m][p]=!0,this},s.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},s.prototype.parent=function(p){if(this._isCompound){var m=this._parent[p];if(m!==n)return m}},s.prototype.children=function(p){if(t.isUndefined(p)&&(p=n),this._isCompound){var m=this._children[p];if(m)return t.keys(m)}else{if(p===n)return this.nodes();if(this.hasNode(p))return[]}},s.prototype.predecessors=function(p){var m=this._preds[p];if(m)return t.keys(m)},s.prototype.successors=function(p){var m=this._sucs[p];if(m)return t.keys(m)},s.prototype.neighbors=function(p){var m=this.predecessors(p);if(m)return t.union(m,this.successors(p))},s.prototype.isLeaf=function(p){var m;return this.isDirected()?m=this.successors(p):m=this.neighbors(p),m.length===0},s.prototype.filterNodes=function(p){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;t.each(this._nodes,function(b,S){p(S)&&m.setNode(S,b)}),t.each(this._edgeObjs,function(b){m.hasNode(b.v)&&m.hasNode(b.w)&&m.setEdge(b,g.edge(b))});var x={};function v(b){var S=g.parent(b);return S===void 0||m.hasNode(S)?(x[b]=S,S):S in x?x[S]:v(S)}return this._isCompound&&t.each(m.nodes(),function(b){m.setParent(b,v(b))}),m},s.prototype.setDefaultEdgeLabel=function(p){return t.isFunction(p)||(p=t.constant(p)),this._defaultEdgeLabelFn=p,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return t.values(this._edgeObjs)},s.prototype.setPath=function(p,m){var g=this,x=arguments;return t.reduce(p,function(v,b){return x.length>1?g.setEdge(v,b,m):g.setEdge(v,b),b}),this},s.prototype.setEdge=function(){var p,m,g,x,v=!1,b=arguments[0];typeof b=="object"&&b!==null&&"v"in b?(p=b.v,m=b.w,g=b.name,arguments.length===2&&(x=arguments[1],v=!0)):(p=b,m=arguments[1],g=arguments[3],arguments.length>2&&(x=arguments[2],v=!0)),p=""+p,m=""+m,t.isUndefined(g)||(g=""+g);var S=o(this._isDirected,p,m,g);if(t.has(this._edgeLabels,S))return v&&(this._edgeLabels[S]=x),this;if(!t.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(m),this._edgeLabels[S]=v?x:this._defaultEdgeLabelFn(p,m,g);var Q=u(this._isDirected,p,m,g);return p=Q.v,m=Q.w,Object.freeze(Q),this._edgeObjs[S]=Q,i(this._preds[m],p),i(this._sucs[p],m),this._in[m][S]=Q,this._out[p][S]=Q,this._edgeCount++,this},s.prototype.edge=function(p,m,g){var x=arguments.length===1?d(this._isDirected,arguments[0]):o(this._isDirected,p,m,g);return this._edgeLabels[x]},s.prototype.hasEdge=function(p,m,g){var x=arguments.length===1?d(this._isDirected,arguments[0]):o(this._isDirected,p,m,g);return t.has(this._edgeLabels,x)},s.prototype.removeEdge=function(p,m,g){var x=arguments.length===1?d(this._isDirected,arguments[0]):o(this._isDirected,p,m,g),v=this._edgeObjs[x];return v&&(p=v.v,m=v.w,delete this._edgeLabels[x],delete this._edgeObjs[x],a(this._preds[m],p),a(this._sucs[p],m),delete this._in[m][x],delete this._out[p][x],this._edgeCount--),this},s.prototype.inEdges=function(p,m){var g=this._in[p];if(g){var x=t.values(g);return m?t.filter(x,function(v){return v.v===m}):x}},s.prototype.outEdges=function(p,m){var g=this._out[p];if(g){var x=t.values(g);return m?t.filter(x,function(v){return v.w===m}):x}},s.prototype.nodeEdges=function(p,m){var g=this.inEdges(p,m);if(g)return g.concat(this.outEdges(p,m))};function i(p,m){p[m]?p[m]++:p[m]=1}function a(p,m){--p[m]||delete p[m]}function o(p,m,g,x){var v=""+m,b=""+g;if(!p&&v>b){var S=v;v=b,b=S}return v+r+b+r+(t.isUndefined(x)?e:x)}function u(p,m,g,x){var v=""+m,b=""+g;if(!p&&v>b){var S=v;v=b,b=S}var Q={v,w:b};return x&&(Q.name=x),Q}function d(p,m){return o(p,m.v,m.w,m.name)}return Rv}var Ev,sE;function doe(){return sE||(sE=1,Ev="2.1.8"),Ev}var Av,iE;function hoe(){return iE||(iE=1,Av={Graph:Wk(),version:doe()}),Av}var qv,aE;function poe(){if(aE)return qv;aE=1;var t=us(),e=Wk();qv={write:n,read:i};function n(a){var o={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:s(a)};return t.isUndefined(a.graph())||(o.value=t.clone(a.graph())),o}function r(a){return t.map(a.nodes(),function(o){var u=a.node(o),d=a.parent(o),p={v:o};return t.isUndefined(u)||(p.value=u),t.isUndefined(d)||(p.parent=d),p})}function s(a){return t.map(a.edges(),function(o){var u=a.edge(o),d={v:o.v,w:o.w};return t.isUndefined(o.name)||(d.name=o.name),t.isUndefined(u)||(d.value=u),d})}function i(a){var o=new e(a.options).setGraph(a.value);return t.each(a.nodes,function(u){o.setNode(u.v,u.value),u.parent&&o.setParent(u.v,u.parent)}),t.each(a.edges,function(u){o.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),o}return qv}var Mv,lE;function moe(){if(lE)return Mv;lE=1;var t=us();Mv=e;function e(n){var r={},s=[],i;function a(o){t.has(r,o)||(r[o]=!0,i.push(o),t.each(n.successors(o),a),t.each(n.predecessors(o),a))}return t.each(n.nodes(),function(o){i=[],a(o),i.length&&s.push(i)}),s}return Mv}var Xv,oE;function OZ(){if(oE)return Xv;oE=1;var t=us();Xv=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var s=this._keyIndices;if(n=String(n),!t.has(s,n)){var i=this._arr,a=i.length;return s[n]=a,i.push({key:n,priority:r}),this._decrease(a),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var s=this._keyIndices[n];if(r>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[s].priority+" New: "+r);this._arr[s].priority=r,this._decrease(s)},e.prototype._heapify=function(n){var r=this._arr,s=2*n,i=s+1,a=n;s<r.length&&(a=r[s].priority<r[a].priority?s:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==n&&(this._swap(n,a),this._heapify(a)))},e.prototype._decrease=function(n){for(var r=this._arr,s=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<s));)this._swap(n,i),n=i},e.prototype._swap=function(n,r){var s=this._arr,i=this._keyIndices,a=s[n],o=s[r];s[n]=o,s[r]=a,i[o.key]=n,i[a.key]=r},Xv}var zv,cE;function gZ(){if(cE)return zv;cE=1;var t=us(),e=OZ();zv=r;var n=t.constant(1);function r(i,a,o,u){return s(i,String(a),o||n,u||function(d){return i.outEdges(d)})}function s(i,a,o,u){var d={},p=new e,m,g,x=function(v){var b=v.v!==m?v.v:v.w,S=d[b],Q=o(v),k=g.distance+Q;if(Q<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+Q);k<S.distance&&(S.distance=k,S.predecessor=m,p.decrease(b,k))};for(i.nodes().forEach(function(v){var b=v===a?0:Number.POSITIVE_INFINITY;d[v]={distance:b},p.add(v,b)});p.size()>0&&(m=p.removeMin(),g=d[m],g.distance!==Number.POSITIVE_INFINITY);)u(m).forEach(x);return d}return zv}var Lv,uE;function Ooe(){if(uE)return Lv;uE=1;var t=gZ(),e=us();Lv=n;function n(r,s,i){return e.transform(r.nodes(),function(a,o){a[o]=t(r,o,s,i)},{})}return Lv}var Zv,fE;function xZ(){if(fE)return Zv;fE=1;var t=us();Zv=e;function e(n){var r=0,s=[],i={},a=[];function o(u){var d=i[u]={onStack:!0,lowlink:r,index:r++};if(s.push(u),n.successors(u).forEach(function(g){t.has(i,g)?i[g].onStack&&(d.lowlink=Math.min(d.lowlink,i[g].index)):(o(g),d.lowlink=Math.min(d.lowlink,i[g].lowlink))}),d.lowlink===d.index){var p=[],m;do m=s.pop(),i[m].onStack=!1,p.push(m);while(u!==m);a.push(p)}}return n.nodes().forEach(function(u){t.has(i,u)||o(u)}),a}return Zv}var Vv,dE;function goe(){if(dE)return Vv;dE=1;var t=us(),e=xZ();Vv=n;function n(r){return t.filter(e(r),function(s){return s.length>1||s.length===1&&r.hasEdge(s[0],s[0])})}return Vv}var Yv,hE;function xoe(){if(hE)return Yv;hE=1;var t=us();Yv=n;var e=t.constant(1);function n(s,i,a){return r(s,i||e,a||function(o){return s.outEdges(o)})}function r(s,i,a){var o={},u=s.nodes();return u.forEach(function(d){o[d]={},o[d][d]={distance:0},u.forEach(function(p){d!==p&&(o[d][p]={distance:Number.POSITIVE_INFINITY})}),a(d).forEach(function(p){var m=p.v===d?p.w:p.v,g=i(p);o[d][m]={distance:g,predecessor:d}})}),u.forEach(function(d){var p=o[d];u.forEach(function(m){var g=o[m];u.forEach(function(x){var v=g[d],b=p[x],S=g[x],Q=v.distance+b.distance;Q<S.distance&&(S.distance=Q,S.predecessor=b.predecessor)})})}),o}return Yv}var Dv,pE;function yZ(){if(pE)return Dv;pE=1;var t=us();Dv=e,e.CycleException=n;function e(r){var s={},i={},a=[];function o(u){if(t.has(i,u))throw new n;t.has(s,u)||(i[u]=!0,s[u]=!0,t.each(r.predecessors(u),o),delete i[u],a.push(u))}if(t.each(r.sinks(),o),t.size(s)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Dv}var Bv,mE;function yoe(){if(mE)return Bv;mE=1;var t=yZ();Bv=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return Bv}var Uv,OE;function bZ(){if(OE)return Uv;OE=1;var t=us();Uv=e;function e(r,s,i){t.isArray(s)||(s=[s]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],u={};return t.each(s,function(d){if(!r.hasNode(d))throw new Error("Graph does not have node: "+d);n(r,d,i==="post",u,a,o)}),o}function n(r,s,i,a,o,u){t.has(a,s)||(a[s]=!0,i||u.push(s),t.each(o(s),function(d){n(r,d,i,a,o,u)}),i&&u.push(s))}return Uv}var Wv,gE;function boe(){if(gE)return Wv;gE=1;var t=bZ();Wv=e;function e(n,r){return t(n,r,"post")}return Wv}var Gv,xE;function voe(){if(xE)return Gv;xE=1;var t=bZ();Gv=e;function e(n,r){return t(n,r,"pre")}return Gv}var Iv,yE;function woe(){if(yE)return Iv;yE=1;var t=us(),e=Wk(),n=OZ();Iv=r;function r(s,i){var a=new e,o={},u=new n,d;function p(g){var x=g.v===d?g.w:g.v,v=u.priority(x);if(v!==void 0){var b=i(g);b<v&&(o[x]=d,u.decrease(x,b))}}if(s.nodeCount()===0)return a;t.each(s.nodes(),function(g){u.add(g,Number.POSITIVE_INFINITY),a.setNode(g)}),u.decrease(s.nodes()[0],0);for(var m=!1;u.size()>0;){if(d=u.removeMin(),t.has(o,d))a.setEdge(d,o[d]);else{if(m)throw new Error("Input graph is not connected: "+s);m=!0}s.nodeEdges(d).forEach(p)}return a}return Iv}var Hv,bE;function Soe(){return bE||(bE=1,Hv={components:moe(),dijkstra:gZ(),dijkstraAll:Ooe(),findCycles:goe(),floydWarshall:xoe(),isAcyclic:yoe(),postorder:boe(),preorder:voe(),prim:woe(),tarjan:xZ(),topsort:yZ()}),Hv}var Fv,vE;function Qoe(){if(vE)return Fv;vE=1;var t=hoe();return Fv={Graph:t.Graph,json:poe(),alg:Soe(),version:t.version},Fv}var Kv,wE;function js(){if(wE)return Kv;wE=1;var t;if(typeof Nk=="function")try{t=Qoe()}catch{}return t||(t=window.graphlib),Kv=t,Kv}var Jv,SE;function koe(){if(SE)return Jv;SE=1;var t=B6(),e=1,n=4;function r(s){return t(s,e|n)}return Jv=r,Jv}var ew,QE;function PO(){if(QE)return ew;QE=1;var t=qc(),e=Ui(),n=vO(),r=cs();function s(i,a,o){if(!r(o))return!1;var u=typeof a;return(u=="number"?e(o)&&n(a,o.length):u=="string"&&a in o)?t(o[a],i):!1}return ew=s,ew}var tw,kE;function $oe(){if(kE)return tw;kE=1;var t=_O(),e=qc(),n=PO(),r=Fl(),s=Object.prototype,i=s.hasOwnProperty,a=t(function(o,u){o=Object(o);var d=-1,p=u.length,m=p>2?u[2]:void 0;for(m&&n(u[0],u[1],m)&&(p=1);++d<p;)for(var g=u[d],x=r(g),v=-1,b=x.length;++v<b;){var S=x[v],Q=o[S];(Q===void 0||e(Q,s[S])&&!i.call(o,S))&&(o[S]=g[S])}return o});return tw=a,tw}var nw,$E;function Toe(){if($E)return nw;$E=1;var t=Wi(),e=Ui(),n=Ga();function r(s){return function(i,a,o){var u=Object(i);if(!e(i)){var d=t(a,3);i=n(i),a=function(m){return d(u[m],m,u)}}var p=s(i,a,o);return p>-1?u[d?i[p]:p]:void 0}}return nw=r,nw}var rw,TE;function joe(){if(TE)return rw;TE=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return rw=e,rw}var sw,jE;function _oe(){if(jE)return sw;jE=1;var t=joe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return sw=n,sw}var iw,_E;function Poe(){if(_E)return iw;_E=1;var t=_oe(),e=cs(),n=Lc(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||a.test(d)?o(d.slice(2),m?2:8):s.test(d)?r:+d}return iw=u,iw}var aw,PE;function vZ(){if(PE)return aw;PE=1;var t=Poe(),e=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*n}return s===s?s:0}return aw=r,aw}var lw,NE;function Noe(){if(NE)return lw;NE=1;var t=vZ();function e(n){var r=t(n),s=r%1;return r===r?s?r-s:r:0}return lw=e,lw}var ow,CE;function Coe(){if(CE)return ow;CE=1;var t=hZ(),e=Wi(),n=Noe(),r=Math.max;function s(i,a,o){var u=i==null?0:i.length;if(!u)return-1;var d=o==null?0:n(o);return d<0&&(d=r(u+d,0)),t(i,e(a,3),d)}return ow=s,ow}var cw,RE;function Roe(){if(RE)return cw;RE=1;var t=Toe(),e=Coe(),n=t(e);return cw=n,cw}var uw,EE;function wZ(){if(EE)return uw;EE=1;var t=Uk();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return uw=e,uw}var fw,AE;function Eoe(){if(AE)return fw;AE=1;var t=Vk(),e=U6(),n=Fl();function r(s,i){return s==null?s:t(s,e(i),n)}return fw=r,fw}var dw,qE;function Aoe(){if(qE)return dw;qE=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return dw=t,dw}var hw,ME;function qoe(){if(ME)return hw;ME=1;var t=yO(),e=Yk(),n=Wi();function r(s,i){var a={};return i=n(i,3),e(s,function(o,u,d){t(a,u,i(o,u,d))}),a}return hw=r,hw}var pw,XE;function Gk(){if(XE)return pw;XE=1;var t=Lc();function e(n,r,s){for(var i=-1,a=n.length;++i<a;){var o=n[i],u=r(o);if(u!=null&&(d===void 0?u===u&&!t(u):s(u,d)))var d=u,p=o}return p}return pw=e,pw}var mw,zE;function Moe(){if(zE)return mw;zE=1;function t(e,n){return e>n}return mw=t,mw}var Ow,LE;function Xoe(){if(LE)return Ow;LE=1;var t=Gk(),e=Moe(),n=Kl();function r(s){return s&&s.length?t(s,n,e):void 0}return Ow=r,Ow}var gw,ZE;function SZ(){if(ZE)return gw;ZE=1;var t=yO(),e=qc();function n(r,s,i){(i!==void 0&&!e(r[s],i)||i===void 0&&!(s in r))&&t(r,s,i)}return gw=n,gw}var xw,VE;function zoe(){if(VE)return xw;VE=1;var t=Il(),e=QO(),n=si(),r="[object Object]",s=Function.prototype,i=Object.prototype,a=s.toString,o=i.hasOwnProperty,u=a.call(Object);function d(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var g=o.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==u}return xw=d,xw}var yw,YE;function QZ(){if(YE)return yw;YE=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return yw=t,yw}var bw,DE;function Loe(){if(DE)return bw;DE=1;var t=dd(),e=Fl();function n(r){return t(r,e(r))}return bw=n,bw}var vw,BE;function Zoe(){if(BE)return vw;BE=1;var t=SZ(),e=R6(),n=V6(),r=E6(),s=D6(),i=hd(),a=Tn(),o=pZ(),u=Xc(),d=fd(),p=cs(),m=zoe(),g=pd(),x=QZ(),v=Loe();function b(S,Q,k,$,T,j,N){var C=x(S,k),q=x(Q,k),M=N.get(q);if(M){t(S,k,M);return}var L=j?j(C,q,k+"",S,Q,N):void 0,E=L===void 0;if(E){var Z=a(q),Y=!Z&&u(q),R=!Z&&!Y&&g(q);L=q,Z||Y||R?a(C)?L=C:o(C)?L=r(C):Y?(E=!1,L=e(q,!0)):R?(E=!1,L=n(q,!0)):L=[]:m(q)||i(q)?(L=C,i(C)?L=v(C):(!p(C)||d(C))&&(L=s(q))):E=!1}E&&(N.set(q,L),T(L,q,$,j,N),N.delete(q)),t(S,k,L)}return vw=b,vw}var ww,UE;function Voe(){if(UE)return ww;UE=1;var t=xO(),e=SZ(),n=Vk(),r=Zoe(),s=cs(),i=Fl(),a=QZ();function o(u,d,p,m,g){u!==d&&n(d,function(x,v){if(g||(g=new t),s(x))r(u,d,v,p,o,m,g);else{var b=m?m(a(u,v),x,v+"",u,d,g):void 0;b===void 0&&(b=x),e(u,v,b)}},i)}return ww=o,ww}var Sw,WE;function Yoe(){if(WE)return Sw;WE=1;var t=_O(),e=PO();function n(r){return t(function(s,i){var a=-1,o=i.length,u=o>1?i[o-1]:void 0,d=o>2?i[2]:void 0;for(u=r.length>3&&typeof u=="function"?(o--,u):void 0,d&&e(i[0],i[1],d)&&(u=o<3?void 0:u,o=1),s=Object(s);++a<o;){var p=i[a];p&&r(s,p,a,u)}return s})}return Sw=n,Sw}var Qw,GE;function Doe(){if(GE)return Qw;GE=1;var t=Voe(),e=Yoe(),n=e(function(r,s,i){t(r,s,i)});return Qw=n,Qw}var kw,IE;function kZ(){if(IE)return kw;IE=1;function t(e,n){return e<n}return kw=t,kw}var $w,HE;function Boe(){if(HE)return $w;HE=1;var t=Gk(),e=kZ(),n=Kl();function r(s){return s&&s.length?t(s,n,e):void 0}return $w=r,$w}var Tw,FE;function Uoe(){if(FE)return Tw;FE=1;var t=Gk(),e=Wi(),n=kZ();function r(s,i){return s&&s.length?t(s,e(i,2),n):void 0}return Tw=r,Tw}var jw,KE;function Woe(){if(KE)return jw;KE=1;var t=Rs(),e=function(){return t.Date.now()};return jw=e,jw}var _w,JE;function Goe(){if(JE)return _w;JE=1;var t=bO(),e=TO(),n=vO(),r=cs(),s=md();function i(a,o,u,d){if(!r(a))return a;o=e(o,a);for(var p=-1,m=o.length,g=m-1,x=a;x!=null&&++p<m;){var v=s(o[p]),b=u;if(v==="__proto__"||v==="constructor"||v==="prototype")return a;if(p!=g){var S=x[v];b=d?d(S,v,x):void 0,b===void 0&&(b=r(S)?S:n(o[p+1])?[]:{})}t(x,v,b),x=x[v]}return a}return _w=i,_w}var Pw,eA;function Ioe(){if(eA)return Pw;eA=1;var t=jO(),e=Goe(),n=TO();function r(s,i,a){for(var o=-1,u=i.length,d={};++o<u;){var p=i[o],m=t(s,p);a(m,p)&&e(d,n(p,s),m)}return d}return Pw=r,Pw}var Nw,tA;function Hoe(){if(tA)return Nw;tA=1;var t=Ioe(),e=rZ();function n(r,s){return t(r,s,function(i,a){return e(r,a)})}return Nw=n,Nw}var Cw,nA;function Foe(){if(nA)return Cw;nA=1;var t=wZ(),e=fZ(),n=dZ();function r(s){return n(e(s,void 0,t),s+"")}return Cw=r,Cw}var Rw,rA;function Koe(){if(rA)return Rw;rA=1;var t=Hoe(),e=Foe(),n=e(function(r,s){return r==null?{}:t(r,s)});return Rw=n,Rw}var Ew,sA;function Joe(){if(sA)return Ew;sA=1;var t=Math.ceil,e=Math.max;function n(r,s,i,a){for(var o=-1,u=e(t((s-r)/(i||1)),0),d=Array(u);u--;)d[a?u:++o]=r,r+=i;return d}return Ew=n,Ew}var Aw,iA;function ece(){if(iA)return Aw;iA=1;var t=Joe(),e=PO(),n=vZ();function r(s){return function(i,a,o){return o&&typeof o!="number"&&e(i,a,o)&&(a=o=void 0),i=n(i),a===void 0?(a=i,i=0):a=n(a),o=o===void 0?i<a?1:-1:n(o),t(i,a,o,s)}}return Aw=r,Aw}var qw,aA;function tce(){if(aA)return qw;aA=1;var t=ece(),e=t();return qw=e,qw}var Mw,lA;function nce(){if(lA)return Mw;lA=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Mw=t,Mw}var Xw,oA;function rce(){if(oA)return Xw;oA=1;var t=Lc();function e(n,r){if(n!==r){var s=n!==void 0,i=n===null,a=n===n,o=t(n),u=r!==void 0,d=r===null,p=r===r,m=t(r);if(!d&&!m&&!o&&n>r||o&&u&&p&&!d&&!m||i&&u&&p||!s&&p||!a)return 1;if(!i&&!o&&!m&&n<r||m&&s&&a&&!i&&!o||d&&s&&a||!u&&a||!p)return-1}return 0}return Xw=e,Xw}var zw,cA;function sce(){if(cA)return zw;cA=1;var t=rce();function e(n,r,s){for(var i=-1,a=n.criteria,o=r.criteria,u=a.length,d=s.length;++i<u;){var p=t(a[i],o[i]);if(p){if(i>=d)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return n.index-r.index}return zw=e,zw}var Lw,uA;function ice(){if(uA)return Lw;uA=1;var t=$O(),e=jO(),n=Wi(),r=oZ(),s=nce(),i=wO(),a=sce(),o=Kl(),u=Tn();function d(p,m,g){m.length?m=t(m,function(b){return u(b)?function(S){return e(S,b.length===1?b[0]:b)}:b}):m=[o];var x=-1;m=t(m,i(n));var v=r(p,function(b,S,Q){var k=t(m,function($){return $(b)});return{criteria:k,index:++x,value:b}});return s(v,function(b,S){return a(b,S,g)})}return Lw=d,Lw}var Zw,fA;function ace(){if(fA)return Zw;fA=1;var t=Uk(),e=ice(),n=_O(),r=PO(),s=n(function(i,a){if(i==null)return[];var o=a.length;return o>1&&r(i,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(i,t(a,1),[])});return Zw=s,Zw}var Vw,dA;function lce(){if(dA)return Vw;dA=1;var t=tZ(),e=0;function n(r){var s=++e;return t(r)+s}return Vw=n,Vw}var Yw,hA;function oce(){if(hA)return Yw;hA=1;function t(e,n,r){for(var s=-1,i=e.length,a=n.length,o={};++s<i;){var u=s<a?n[s]:void 0;r(o,e[s],u)}return o}return Yw=t,Yw}var Dw,pA;function cce(){if(pA)return Dw;pA=1;var t=bO(),e=oce();function n(r,s){return e(r||[],s||[],t)}return Dw=n,Dw}var Bw,mA;function Ft(){if(mA)return Bw;mA=1;var t;if(typeof Nk=="function")try{t={cloneDeep:koe(),constant:Zk(),defaults:$oe(),each:G6(),filter:iZ(),find:Roe(),flatten:wZ(),forEach:W6(),forIn:Eoe(),has:aZ(),isUndefined:lZ(),last:Aoe(),map:cZ(),mapValues:qoe(),max:Xoe(),merge:Doe(),min:Boe(),minBy:Uoe(),now:Woe(),pick:Koe(),range:tce(),reduce:uZ(),sortBy:ace(),uniqueId:lce(),values:mZ(),zipObject:cce()}}catch{}return t||(t=window._),Bw=t,Bw}var Uw,OA;function uce(){if(OA)return Uw;OA=1,Uw=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,s=r._prev;if(s!==r)return e(s),s},t.prototype.enqueue=function(r){var s=this._sentinel;r._prev&&r._next&&e(r),r._next=s._next,s._next._prev=r,s._next=r,r._prev=s},t.prototype.toString=function(){for(var r=[],s=this._sentinel,i=s._prev;i!==s;)r.push(JSON.stringify(i,n)),i=i._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,s){if(r!=="_next"&&r!=="_prev")return s}return Uw}var Ww,gA;function fce(){if(gA)return Ww;gA=1;var t=Ft(),e=js().Graph,n=uce();Ww=s;var r=t.constant(1);function s(d,p){if(d.nodeCount()<=1)return[];var m=o(d,p||r),g=i(m.graph,m.buckets,m.zeroIdx);return t.flatten(t.map(g,function(x){return d.outEdges(x.v,x.w)}),!0)}function i(d,p,m){for(var g=[],x=p[p.length-1],v=p[0],b;d.nodeCount();){for(;b=v.dequeue();)a(d,p,m,b);for(;b=x.dequeue();)a(d,p,m,b);if(d.nodeCount()){for(var S=p.length-2;S>0;--S)if(b=p[S].dequeue(),b){g=g.concat(a(d,p,m,b,!0));break}}}return g}function a(d,p,m,g,x){var v=x?[]:void 0;return t.forEach(d.inEdges(g.v),function(b){var S=d.edge(b),Q=d.node(b.v);x&&v.push({v:b.v,w:b.w}),Q.out-=S,u(p,m,Q)}),t.forEach(d.outEdges(g.v),function(b){var S=d.edge(b),Q=b.w,k=d.node(Q);k.in-=S,u(p,m,k)}),d.removeNode(g.v),v}function o(d,p){var m=new e,g=0,x=0;t.forEach(d.nodes(),function(S){m.setNode(S,{v:S,in:0,out:0})}),t.forEach(d.edges(),function(S){var Q=m.edge(S.v,S.w)||0,k=p(S),$=Q+k;m.setEdge(S.v,S.w,$),x=Math.max(x,m.node(S.v).out+=k),g=Math.max(g,m.node(S.w).in+=k)});var v=t.range(x+g+3).map(function(){return new n}),b=g+1;return t.forEach(m.nodes(),function(S){u(v,b,m.node(S))}),{graph:m,buckets:v,zeroIdx:b}}function u(d,p,m){m.out?m.in?d[m.out-m.in+p].enqueue(m):d[d.length-1].enqueue(m):d[0].enqueue(m)}return Ww}var Gw,xA;function dce(){if(xA)return Gw;xA=1;var t=Ft(),e=fce();Gw={run:n,undo:s};function n(i){var a=i.graph().acyclicer==="greedy"?e(i,o(i)):r(i);t.forEach(a,function(u){var d=i.edge(u);i.removeEdge(u),d.forwardName=u.name,d.reversed=!0,i.setEdge(u.w,u.v,d,t.uniqueId("rev"))});function o(u){return function(d){return u.edge(d).weight}}}function r(i){var a=[],o={},u={};function d(p){t.has(u,p)||(u[p]=!0,o[p]=!0,t.forEach(i.outEdges(p),function(m){t.has(o,m.w)?a.push(m):d(m.w)}),delete o[p])}return t.forEach(i.nodes(),d),a}function s(i){t.forEach(i.edges(),function(a){var o=i.edge(a);if(o.reversed){i.removeEdge(a);var u=o.forwardName;delete o.reversed,delete o.forwardName,i.setEdge(a.w,a.v,o,u)}})}return Gw}var Iw,yA;function Sr(){if(yA)return Iw;yA=1;var t=Ft(),e=js().Graph;Iw={addDummyNode:n,simplify:r,asNonCompoundGraph:s,successorWeights:i,predecessorWeights:a,intersectRect:o,buildLayerMatrix:u,normalizeRanks:d,removeEmptyRanks:p,addBorderNode:m,maxRank:g,partition:x,time:v,notime:b};function n(S,Q,k,$){var T;do T=t.uniqueId($);while(S.hasNode(T));return k.dummy=Q,S.setNode(T,k),T}function r(S){var Q=new e().setGraph(S.graph());return t.forEach(S.nodes(),function(k){Q.setNode(k,S.node(k))}),t.forEach(S.edges(),function(k){var $=Q.edge(k.v,k.w)||{weight:0,minlen:1},T=S.edge(k);Q.setEdge(k.v,k.w,{weight:$.weight+T.weight,minlen:Math.max($.minlen,T.minlen)})}),Q}function s(S){var Q=new e({multigraph:S.isMultigraph()}).setGraph(S.graph());return t.forEach(S.nodes(),function(k){S.children(k).length||Q.setNode(k,S.node(k))}),t.forEach(S.edges(),function(k){Q.setEdge(k,S.edge(k))}),Q}function i(S){var Q=t.map(S.nodes(),function(k){var $={};return t.forEach(S.outEdges(k),function(T){$[T.w]=($[T.w]||0)+S.edge(T).weight}),$});return t.zipObject(S.nodes(),Q)}function a(S){var Q=t.map(S.nodes(),function(k){var $={};return t.forEach(S.inEdges(k),function(T){$[T.v]=($[T.v]||0)+S.edge(T).weight}),$});return t.zipObject(S.nodes(),Q)}function o(S,Q){var k=S.x,$=S.y,T=Q.x-k,j=Q.y-$,N=S.width/2,C=S.height/2;if(!T&&!j)throw new Error("Not possible to find intersection inside of the rectangle");var q,M;return Math.abs(j)*N>Math.abs(T)*C?(j<0&&(C=-C),q=C*T/j,M=C):(T<0&&(N=-N),q=N,M=N*j/T),{x:k+q,y:$+M}}function u(S){var Q=t.map(t.range(g(S)+1),function(){return[]});return t.forEach(S.nodes(),function(k){var $=S.node(k),T=$.rank;t.isUndefined(T)||(Q[T][$.order]=k)}),Q}function d(S){var Q=t.min(t.map(S.nodes(),function(k){return S.node(k).rank}));t.forEach(S.nodes(),function(k){var $=S.node(k);t.has($,"rank")&&($.rank-=Q)})}function p(S){var Q=t.min(t.map(S.nodes(),function(j){return S.node(j).rank})),k=[];t.forEach(S.nodes(),function(j){var N=S.node(j).rank-Q;k[N]||(k[N]=[]),k[N].push(j)});var $=0,T=S.graph().nodeRankFactor;t.forEach(k,function(j,N){t.isUndefined(j)&&N%T!==0?--$:$&&t.forEach(j,function(C){S.node(C).rank+=$})})}function m(S,Q,k,$){var T={width:0,height:0};return arguments.length>=4&&(T.rank=k,T.order=$),n(S,"border",T,Q)}function g(S){return t.max(t.map(S.nodes(),function(Q){var k=S.node(Q).rank;if(!t.isUndefined(k))return k}))}function x(S,Q){var k={lhs:[],rhs:[]};return t.forEach(S,function($){Q($)?k.lhs.push($):k.rhs.push($)}),k}function v(S,Q){var k=t.now();try{return Q()}finally{console.log(S+" time: "+(t.now()-k)+"ms")}}function b(S,Q){return Q()}return Iw}var Hw,bA;function hce(){if(bA)return Hw;bA=1;var t=Ft(),e=Sr();Hw={run:n,undo:s};function n(i){i.graph().dummyChains=[],t.forEach(i.edges(),function(a){r(i,a)})}function r(i,a){var o=a.v,u=i.node(o).rank,d=a.w,p=i.node(d).rank,m=a.name,g=i.edge(a),x=g.labelRank;if(p!==u+1){i.removeEdge(a);var v,b,S;for(S=0,++u;u<p;++S,++u)g.points=[],b={width:0,height:0,edgeLabel:g,edgeObj:a,rank:u},v=e.addDummyNode(i,"edge",b,"_d"),u===x&&(b.width=g.width,b.height=g.height,b.dummy="edge-label",b.labelpos=g.labelpos),i.setEdge(o,v,{weight:g.weight},m),S===0&&i.graph().dummyChains.push(v),o=v;i.setEdge(o,d,{weight:g.weight},m)}}function s(i){t.forEach(i.graph().dummyChains,function(a){var o=i.node(a),u=o.edgeLabel,d;for(i.setEdge(o.edgeObj,u);o.dummy;)d=i.successors(a)[0],i.removeNode(a),u.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(u.x=o.x,u.y=o.y,u.width=o.width,u.height=o.height),a=d,o=i.node(a)})}return Hw}var Fw,vA;function _m(){if(vA)return Fw;vA=1;var t=Ft();Fw={longestPath:e,slack:n};function e(r){var s={};function i(a){var o=r.node(a);if(t.has(s,a))return o.rank;s[a]=!0;var u=t.min(t.map(r.outEdges(a),function(d){return i(d.w)-r.edge(d).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),o.rank=u}t.forEach(r.sources(),i)}function n(r,s){return r.node(s.w).rank-r.node(s.v).rank-r.edge(s).minlen}return Fw}var Kw,wA;function $Z(){if(wA)return Kw;wA=1;var t=Ft(),e=js().Graph,n=_m().slack;Kw=r;function r(o){var u=new e({directed:!1}),d=o.nodes()[0],p=o.nodeCount();u.setNode(d,{});for(var m,g;s(u,o)<p;)m=i(u,o),g=u.hasNode(m.v)?n(o,m):-n(o,m),a(u,o,g);return u}function s(o,u){function d(p){t.forEach(u.nodeEdges(p),function(m){var g=m.v,x=p===g?m.w:g;!o.hasNode(x)&&!n(u,m)&&(o.setNode(x,{}),o.setEdge(p,x,{}),d(x))})}return t.forEach(o.nodes(),d),o.nodeCount()}function i(o,u){return t.minBy(u.edges(),function(d){if(o.hasNode(d.v)!==o.hasNode(d.w))return n(u,d)})}function a(o,u,d){t.forEach(o.nodes(),function(p){u.node(p).rank+=d})}return Kw}var Jw,SA;function pce(){if(SA)return Jw;SA=1;var t=Ft(),e=$Z(),n=_m().slack,r=_m().longestPath,s=js().alg.preorder,i=js().alg.postorder,a=Sr().simplify;Jw=o,o.initLowLimValues=m,o.initCutValues=u,o.calcCutValue=p,o.leaveEdge=x,o.enterEdge=v,o.exchangeEdges=b;function o($){$=a($),r($);var T=e($);m(T),u(T,$);for(var j,N;j=x(T);)N=v(T,$,j),b(T,$,j,N)}function u($,T){var j=i($,$.nodes());j=j.slice(0,j.length-1),t.forEach(j,function(N){d($,T,N)})}function d($,T,j){var N=$.node(j),C=N.parent;$.edge(j,C).cutvalue=p($,T,j)}function p($,T,j){var N=$.node(j),C=N.parent,q=!0,M=T.edge(j,C),L=0;return M||(q=!1,M=T.edge(C,j)),L=M.weight,t.forEach(T.nodeEdges(j),function(E){var Z=E.v===j,Y=Z?E.w:E.v;if(Y!==C){var R=Z===q,G=T.edge(E).weight;if(L+=R?G:-G,Q($,j,Y)){var A=$.edge(j,Y).cutvalue;L+=R?-A:A}}}),L}function m($,T){arguments.length<2&&(T=$.nodes()[0]),g($,{},1,T)}function g($,T,j,N,C){var q=j,M=$.node(N);return T[N]=!0,t.forEach($.neighbors(N),function(L){t.has(T,L)||(j=g($,T,j,L,N))}),M.low=q,M.lim=j++,C?M.parent=C:delete M.parent,j}function x($){return t.find($.edges(),function(T){return $.edge(T).cutvalue<0})}function v($,T,j){var N=j.v,C=j.w;T.hasEdge(N,C)||(N=j.w,C=j.v);var q=$.node(N),M=$.node(C),L=q,E=!1;q.lim>M.lim&&(L=M,E=!0);var Z=t.filter(T.edges(),function(Y){return E===k($,$.node(Y.v),L)&&E!==k($,$.node(Y.w),L)});return t.minBy(Z,function(Y){return n(T,Y)})}function b($,T,j,N){var C=j.v,q=j.w;$.removeEdge(C,q),$.setEdge(N.v,N.w,{}),m($),u($,T),S($,T)}function S($,T){var j=t.find($.nodes(),function(C){return!T.node(C).parent}),N=s($,j);N=N.slice(1),t.forEach(N,function(C){var q=$.node(C).parent,M=T.edge(C,q),L=!1;M||(M=T.edge(q,C),L=!0),T.node(C).rank=T.node(q).rank+(L?M.minlen:-M.minlen)})}function Q($,T,j){return $.hasEdge(T,j)}function k($,T,j){return j.low<=T.lim&&T.lim<=j.lim}return Jw}var eS,QA;function mce(){if(QA)return eS;QA=1;var t=_m(),e=t.longestPath,n=$Z(),r=pce();eS=s;function s(u){switch(u.graph().ranker){case"network-simplex":o(u);break;case"tight-tree":a(u);break;case"longest-path":i(u);break;default:o(u)}}var i=e;function a(u){e(u),n(u)}function o(u){r(u)}return eS}var tS,kA;function Oce(){if(kA)return tS;kA=1;var t=Ft();tS=e;function e(s){var i=r(s);t.forEach(s.graph().dummyChains,function(a){for(var o=s.node(a),u=o.edgeObj,d=n(s,i,u.v,u.w),p=d.path,m=d.lca,g=0,x=p[g],v=!0;a!==u.w;){if(o=s.node(a),v){for(;(x=p[g])!==m&&s.node(x).maxRank<o.rank;)g++;x===m&&(v=!1)}if(!v){for(;g<p.length-1&&s.node(x=p[g+1]).minRank<=o.rank;)g++;x=p[g]}s.setParent(a,x),a=s.successors(a)[0]}})}function n(s,i,a,o){var u=[],d=[],p=Math.min(i[a].low,i[o].low),m=Math.max(i[a].lim,i[o].lim),g,x;g=a;do g=s.parent(g),u.push(g);while(g&&(i[g].low>p||m>i[g].lim));for(x=g,g=o;(g=s.parent(g))!==x;)d.push(g);return{path:u.concat(d.reverse()),lca:x}}function r(s){var i={},a=0;function o(u){var d=a;t.forEach(s.children(u),o),i[u]={low:d,lim:a++}}return t.forEach(s.children(),o),i}return tS}var nS,$A;function gce(){if($A)return nS;$A=1;var t=Ft(),e=Sr();nS={run:n,cleanup:a};function n(o){var u=e.addDummyNode(o,"root",{},"_root"),d=s(o),p=t.max(t.values(d))-1,m=2*p+1;o.graph().nestingRoot=u,t.forEach(o.edges(),function(x){o.edge(x).minlen*=m});var g=i(o)+1;t.forEach(o.children(),function(x){r(o,u,m,g,p,d,x)}),o.graph().nodeRankFactor=m}function r(o,u,d,p,m,g,x){var v=o.children(x);if(!v.length){x!==u&&o.setEdge(u,x,{weight:0,minlen:d});return}var b=e.addBorderNode(o,"_bt"),S=e.addBorderNode(o,"_bb"),Q=o.node(x);o.setParent(b,x),Q.borderTop=b,o.setParent(S,x),Q.borderBottom=S,t.forEach(v,function(k){r(o,u,d,p,m,g,k);var $=o.node(k),T=$.borderTop?$.borderTop:k,j=$.borderBottom?$.borderBottom:k,N=$.borderTop?p:2*p,C=T!==j?1:m-g[x]+1;o.setEdge(b,T,{weight:N,minlen:C,nestingEdge:!0}),o.setEdge(j,S,{weight:N,minlen:C,nestingEdge:!0})}),o.parent(x)||o.setEdge(u,b,{weight:0,minlen:m+g[x]})}function s(o){var u={};function d(p,m){var g=o.children(p);g&&g.length&&t.forEach(g,function(x){d(x,m+1)}),u[p]=m}return t.forEach(o.children(),function(p){d(p,1)}),u}function i(o){return t.reduce(o.edges(),function(u,d){return u+o.edge(d).weight},0)}function a(o){var u=o.graph();o.removeNode(u.nestingRoot),delete u.nestingRoot,t.forEach(o.edges(),function(d){var p=o.edge(d);p.nestingEdge&&o.removeEdge(d)})}return nS}var rS,TA;function xce(){if(TA)return rS;TA=1;var t=Ft(),e=Sr();rS=n;function n(s){function i(a){var o=s.children(a),u=s.node(a);if(o.length&&t.forEach(o,i),t.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var d=u.minRank,p=u.maxRank+1;d<p;++d)r(s,"borderLeft","_bl",a,u,d),r(s,"borderRight","_br",a,u,d)}}t.forEach(s.children(),i)}function r(s,i,a,o,u,d){var p={width:0,height:0,rank:d,borderType:i},m=u[i][d-1],g=e.addDummyNode(s,"border",p,a);u[i][d]=g,s.setParent(g,o),m&&s.setEdge(m,g,{weight:1})}return rS}var sS,jA;function yce(){if(jA)return sS;jA=1;var t=Ft();sS={adjust:e,undo:n};function e(d){var p=d.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&r(d)}function n(d){var p=d.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&i(d),(p==="lr"||p==="rl")&&(o(d),r(d))}function r(d){t.forEach(d.nodes(),function(p){s(d.node(p))}),t.forEach(d.edges(),function(p){s(d.edge(p))})}function s(d){var p=d.width;d.width=d.height,d.height=p}function i(d){t.forEach(d.nodes(),function(p){a(d.node(p))}),t.forEach(d.edges(),function(p){var m=d.edge(p);t.forEach(m.points,a),t.has(m,"y")&&a(m)})}function a(d){d.y=-d.y}function o(d){t.forEach(d.nodes(),function(p){u(d.node(p))}),t.forEach(d.edges(),function(p){var m=d.edge(p);t.forEach(m.points,u),t.has(m,"x")&&u(m)})}function u(d){var p=d.x;d.x=d.y,d.y=p}return sS}var iS,_A;function bce(){if(_A)return iS;_A=1;var t=Ft();iS=e;function e(n){var r={},s=t.filter(n.nodes(),function(d){return!n.children(d).length}),i=t.max(t.map(s,function(d){return n.node(d).rank})),a=t.map(t.range(i+1),function(){return[]});function o(d){if(!t.has(r,d)){r[d]=!0;var p=n.node(d);a[p.rank].push(d),t.forEach(n.successors(d),o)}}var u=t.sortBy(s,function(d){return n.node(d).rank});return t.forEach(u,o),a}return iS}var aS,PA;function vce(){if(PA)return aS;PA=1;var t=Ft();aS=e;function e(r,s){for(var i=0,a=1;a<s.length;++a)i+=n(r,s[a-1],s[a]);return i}function n(r,s,i){for(var a=t.zipObject(i,t.map(i,function(g,x){return x})),o=t.flatten(t.map(s,function(g){return t.sortBy(t.map(r.outEdges(g),function(x){return{pos:a[x.w],weight:r.edge(x).weight}}),"pos")}),!0),u=1;u<i.length;)u<<=1;var d=2*u-1;u-=1;var p=t.map(new Array(d),function(){return 0}),m=0;return t.forEach(o.forEach(function(g){var x=g.pos+u;p[x]+=g.weight;for(var v=0;x>0;)x%2&&(v+=p[x+1]),x=x-1>>1,p[x]+=g.weight;m+=g.weight*v})),m}return aS}var lS,NA;function wce(){if(NA)return lS;NA=1;var t=Ft();lS=e;function e(n,r){return t.map(r,function(s){var i=n.inEdges(s);if(i.length){var a=t.reduce(i,function(o,u){var d=n.edge(u),p=n.node(u.v);return{sum:o.sum+d.weight*p.order,weight:o.weight+d.weight}},{sum:0,weight:0});return{v:s,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:s}})}return lS}var oS,CA;function Sce(){if(CA)return oS;CA=1;var t=Ft();oS=e;function e(s,i){var a={};t.forEach(s,function(u,d){var p=a[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};t.isUndefined(u.barycenter)||(p.barycenter=u.barycenter,p.weight=u.weight)}),t.forEach(i.edges(),function(u){var d=a[u.v],p=a[u.w];!t.isUndefined(d)&&!t.isUndefined(p)&&(p.indegree++,d.out.push(a[u.w]))});var o=t.filter(a,function(u){return!u.indegree});return n(o)}function n(s){var i=[];function a(d){return function(p){p.merged||(t.isUndefined(p.barycenter)||t.isUndefined(d.barycenter)||p.barycenter>=d.barycenter)&&r(d,p)}}function o(d){return function(p){p.in.push(d),--p.indegree===0&&s.push(p)}}for(;s.length;){var u=s.pop();i.push(u),t.forEach(u.in.reverse(),a(u)),t.forEach(u.out,o(u))}return t.map(t.filter(i,function(d){return!d.merged}),function(d){return t.pick(d,["vs","i","barycenter","weight"])})}function r(s,i){var a=0,o=0;s.weight&&(a+=s.barycenter*s.weight,o+=s.weight),i.weight&&(a+=i.barycenter*i.weight,o+=i.weight),s.vs=i.vs.concat(s.vs),s.barycenter=a/o,s.weight=o,s.i=Math.min(i.i,s.i),i.merged=!0}return oS}var cS,RA;function Qce(){if(RA)return cS;RA=1;var t=Ft(),e=Sr();cS=n;function n(i,a){var o=e.partition(i,function(b){return t.has(b,"barycenter")}),u=o.lhs,d=t.sortBy(o.rhs,function(b){return-b.i}),p=[],m=0,g=0,x=0;u.sort(s(!!a)),x=r(p,d,x),t.forEach(u,function(b){x+=b.vs.length,p.push(b.vs),m+=b.barycenter*b.weight,g+=b.weight,x=r(p,d,x)});var v={vs:t.flatten(p,!0)};return g&&(v.barycenter=m/g,v.weight=g),v}function r(i,a,o){for(var u;a.length&&(u=t.last(a)).i<=o;)a.pop(),i.push(u.vs),o++;return o}function s(i){return function(a,o){return a.barycenter<o.barycenter?-1:a.barycenter>o.barycenter?1:i?o.i-a.i:a.i-o.i}}return cS}var uS,EA;function kce(){if(EA)return uS;EA=1;var t=Ft(),e=wce(),n=Sce(),r=Qce();uS=s;function s(o,u,d,p){var m=o.children(u),g=o.node(u),x=g?g.borderLeft:void 0,v=g?g.borderRight:void 0,b={};x&&(m=t.filter(m,function(j){return j!==x&&j!==v}));var S=e(o,m);t.forEach(S,function(j){if(o.children(j.v).length){var N=s(o,j.v,d,p);b[j.v]=N,t.has(N,"barycenter")&&a(j,N)}});var Q=n(S,d);i(Q,b);var k=r(Q,p);if(x&&(k.vs=t.flatten([x,k.vs,v],!0),o.predecessors(x).length)){var $=o.node(o.predecessors(x)[0]),T=o.node(o.predecessors(v)[0]);t.has(k,"barycenter")||(k.barycenter=0,k.weight=0),k.barycenter=(k.barycenter*k.weight+$.order+T.order)/(k.weight+2),k.weight+=2}return k}function i(o,u){t.forEach(o,function(d){d.vs=t.flatten(d.vs.map(function(p){return u[p]?u[p].vs:p}),!0)})}function a(o,u){t.isUndefined(o.barycenter)?(o.barycenter=u.barycenter,o.weight=u.weight):(o.barycenter=(o.barycenter*o.weight+u.barycenter*u.weight)/(o.weight+u.weight),o.weight+=u.weight)}return uS}var fS,AA;function $ce(){if(AA)return fS;AA=1;var t=Ft(),e=js().Graph;fS=n;function n(s,i,a){var o=r(s),u=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(d){return s.node(d)});return t.forEach(s.nodes(),function(d){var p=s.node(d),m=s.parent(d);(p.rank===i||p.minRank<=i&&i<=p.maxRank)&&(u.setNode(d),u.setParent(d,m||o),t.forEach(s[a](d),function(g){var x=g.v===d?g.w:g.v,v=u.edge(x,d),b=t.isUndefined(v)?0:v.weight;u.setEdge(x,d,{weight:s.edge(g).weight+b})}),t.has(p,"minRank")&&u.setNode(d,{borderLeft:p.borderLeft[i],borderRight:p.borderRight[i]}))}),u}function r(s){for(var i;s.hasNode(i=t.uniqueId("_root")););return i}return fS}var dS,qA;function Tce(){if(qA)return dS;qA=1;var t=Ft();dS=e;function e(n,r,s){var i={},a;t.forEach(s,function(o){for(var u=n.parent(o),d,p;u;){if(d=n.parent(u),d?(p=i[d],i[d]=u):(p=a,a=u),p&&p!==u){r.setEdge(p,u);return}u=d}})}return dS}var hS,MA;function jce(){if(MA)return hS;MA=1;var t=Ft(),e=bce(),n=vce(),r=kce(),s=$ce(),i=Tce(),a=js().Graph,o=Sr();hS=u;function u(g){var x=o.maxRank(g),v=d(g,t.range(1,x+1),"inEdges"),b=d(g,t.range(x-1,-1,-1),"outEdges"),S=e(g);m(g,S);for(var Q=Number.POSITIVE_INFINITY,k,$=0,T=0;T<4;++$,++T){p($%2?v:b,$%4>=2),S=o.buildLayerMatrix(g);var j=n(g,S);j<Q&&(T=0,k=t.cloneDeep(S),Q=j)}m(g,k)}function d(g,x,v){return t.map(x,function(b){return s(g,b,v)})}function p(g,x){var v=new a;t.forEach(g,function(b){var S=b.graph().root,Q=r(b,S,v,x);t.forEach(Q.vs,function(k,$){b.node(k).order=$}),i(b,v,Q.vs)})}function m(g,x){t.forEach(x,function(v){t.forEach(v,function(b,S){g.node(b).order=S})})}return hS}var pS,XA;function _ce(){if(XA)return pS;XA=1;var t=Ft(),e=js().Graph,n=Sr();pS={positionX:v,findType1Conflicts:r,findType2Conflicts:s,addConflict:a,hasConflict:o,verticalAlignment:u,horizontalCompaction:d,alignCoordinates:g,findSmallestWidthAlignment:m,balance:x};function r(Q,k){var $={};function T(j,N){var C=0,q=0,M=j.length,L=t.last(N);return t.forEach(N,function(E,Z){var Y=i(Q,E),R=Y?Q.node(Y).order:M;(Y||E===L)&&(t.forEach(N.slice(q,Z+1),function(G){t.forEach(Q.predecessors(G),function(A){var W=Q.node(A),I=W.order;(I<C||R<I)&&!(W.dummy&&Q.node(G).dummy)&&a($,A,G)})}),q=Z+1,C=R)}),N}return t.reduce(k,T),$}function s(Q,k){var $={};function T(N,C,q,M,L){var E;t.forEach(t.range(C,q),function(Z){E=N[Z],Q.node(E).dummy&&t.forEach(Q.predecessors(E),function(Y){var R=Q.node(Y);R.dummy&&(R.order<M||R.order>L)&&a($,Y,E)})})}function j(N,C){var q=-1,M,L=0;return t.forEach(C,function(E,Z){if(Q.node(E).dummy==="border"){var Y=Q.predecessors(E);Y.length&&(M=Q.node(Y[0]).order,T(C,L,Z,q,M),L=Z,q=M)}T(C,L,C.length,M,N.length)}),C}return t.reduce(k,j),$}function i(Q,k){if(Q.node(k).dummy)return t.find(Q.predecessors(k),function($){return Q.node($).dummy})}function a(Q,k,$){if(k>$){var T=k;k=$,$=T}var j=Q[k];j||(Q[k]=j={}),j[$]=!0}function o(Q,k,$){if(k>$){var T=k;k=$,$=T}return t.has(Q[k],$)}function u(Q,k,$,T){var j={},N={},C={};return t.forEach(k,function(q){t.forEach(q,function(M,L){j[M]=M,N[M]=M,C[M]=L})}),t.forEach(k,function(q){var M=-1;t.forEach(q,function(L){var E=T(L);if(E.length){E=t.sortBy(E,function(A){return C[A]});for(var Z=(E.length-1)/2,Y=Math.floor(Z),R=Math.ceil(Z);Y<=R;++Y){var G=E[Y];N[L]===L&&M<C[G]&&!o($,L,G)&&(N[G]=L,N[L]=j[L]=j[G],M=C[G])}}})}),{root:j,align:N}}function d(Q,k,$,T,j){var N={},C=p(Q,k,$,j),q=j?"borderLeft":"borderRight";function M(Z,Y){for(var R=C.nodes(),G=R.pop(),A={};G;)A[G]?Z(G):(A[G]=!0,R.push(G),R=R.concat(Y(G))),G=R.pop()}function L(Z){N[Z]=C.inEdges(Z).reduce(function(Y,R){return Math.max(Y,N[R.v]+C.edge(R))},0)}function E(Z){var Y=C.outEdges(Z).reduce(function(G,A){return Math.min(G,N[A.w]-C.edge(A))},Number.POSITIVE_INFINITY),R=Q.node(Z);Y!==Number.POSITIVE_INFINITY&&R.borderType!==q&&(N[Z]=Math.max(N[Z],Y))}return M(L,C.predecessors.bind(C)),M(E,C.successors.bind(C)),t.forEach(T,function(Z){N[Z]=N[$[Z]]}),N}function p(Q,k,$,T){var j=new e,N=Q.graph(),C=b(N.nodesep,N.edgesep,T);return t.forEach(k,function(q){var M;t.forEach(q,function(L){var E=$[L];if(j.setNode(E),M){var Z=$[M],Y=j.edge(Z,E);j.setEdge(Z,E,Math.max(C(Q,L,M),Y||0))}M=L})}),j}function m(Q,k){return t.minBy(t.values(k),function($){var T=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;return t.forIn($,function(N,C){var q=S(Q,C)/2;T=Math.max(N+q,T),j=Math.min(N-q,j)}),T-j})}function g(Q,k){var $=t.values(k),T=t.min($),j=t.max($);t.forEach(["u","d"],function(N){t.forEach(["l","r"],function(C){var q=N+C,M=Q[q],L;if(M!==k){var E=t.values(M);L=C==="l"?T-t.min(E):j-t.max(E),L&&(Q[q]=t.mapValues(M,function(Z){return Z+L}))}})})}function x(Q,k){return t.mapValues(Q.ul,function($,T){if(k)return Q[k.toLowerCase()][T];var j=t.sortBy(t.map(Q,T));return(j[1]+j[2])/2})}function v(Q){var k=n.buildLayerMatrix(Q),$=t.merge(r(Q,k),s(Q,k)),T={},j;t.forEach(["u","d"],function(C){j=C==="u"?k:t.values(k).reverse(),t.forEach(["l","r"],function(q){q==="r"&&(j=t.map(j,function(Z){return t.values(Z).reverse()}));var M=(C==="u"?Q.predecessors:Q.successors).bind(Q),L=u(Q,j,$,M),E=d(Q,j,L.root,L.align,q==="r");q==="r"&&(E=t.mapValues(E,function(Z){return-Z})),T[C+q]=E})});var N=m(Q,T);return g(T,N),x(T,Q.graph().align)}function b(Q,k,$){return function(T,j,N){var C=T.node(j),q=T.node(N),M=0,L;if(M+=C.width/2,t.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":L=-C.width/2;break;case"r":L=C.width/2;break}if(L&&(M+=$?L:-L),L=0,M+=(C.dummy?k:Q)/2,M+=(q.dummy?k:Q)/2,M+=q.width/2,t.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":L=q.width/2;break;case"r":L=-q.width/2;break}return L&&(M+=$?L:-L),L=0,M}}function S(Q,k){return Q.node(k).width}return pS}var mS,zA;function Pce(){if(zA)return mS;zA=1;var t=Ft(),e=Sr(),n=_ce().positionX;mS=r;function r(i){i=e.asNonCompoundGraph(i),s(i),t.forEach(n(i),function(a,o){i.node(o).x=a})}function s(i){var a=e.buildLayerMatrix(i),o=i.graph().ranksep,u=0;t.forEach(a,function(d){var p=t.max(t.map(d,function(m){return i.node(m).height}));t.forEach(d,function(m){i.node(m).y=u+p/2}),u+=p+o})}return mS}var OS,LA;function Nce(){if(LA)return OS;LA=1;var t=Ft(),e=dce(),n=hce(),r=mce(),s=Sr().normalizeRanks,i=Oce(),a=Sr().removeEmptyRanks,o=gce(),u=xce(),d=yce(),p=jce(),m=Pce(),g=Sr(),x=js().Graph;OS=v;function v(B,H){var J=H&&H.debugTiming?g.time:g.notime;J("layout",function(){var re=J("  buildLayoutGraph",function(){return M(B)});J("  runLayout",function(){b(re,J)}),J("  updateInputGraph",function(){S(B,re)})})}function b(B,H){H("    makeSpaceForEdgeLabels",function(){L(B)}),H("    removeSelfEdges",function(){U(B)}),H("    acyclic",function(){e.run(B)}),H("    nestingGraph.run",function(){o.run(B)}),H("    rank",function(){r(g.asNonCompoundGraph(B))}),H("    injectEdgeLabelProxies",function(){E(B)}),H("    removeEmptyRanks",function(){a(B)}),H("    nestingGraph.cleanup",function(){o.cleanup(B)}),H("    normalizeRanks",function(){s(B)}),H("    assignRankMinMax",function(){Z(B)}),H("    removeEdgeLabelProxies",function(){Y(B)}),H("    normalize.run",function(){n.run(B)}),H("    parentDummyChains",function(){i(B)}),H("    addBorderSegments",function(){u(B)}),H("    order",function(){p(B)}),H("    insertSelfEdges",function(){ee(B)}),H("    adjustCoordinateSystem",function(){d.adjust(B)}),H("    position",function(){m(B)}),H("    positionSelfEdges",function(){z(B)}),H("    removeBorderNodes",function(){I(B)}),H("    normalize.undo",function(){n.undo(B)}),H("    fixupEdgeLabelCoords",function(){A(B)}),H("    undoCoordinateSystem",function(){d.undo(B)}),H("    translateGraph",function(){R(B)}),H("    assignNodeIntersects",function(){G(B)}),H("    reversePoints",function(){W(B)}),H("    acyclic.undo",function(){e.undo(B)})}function S(B,H){t.forEach(B.nodes(),function(J){var re=B.node(J),ie=H.node(J);re&&(re.x=ie.x,re.y=ie.y,H.children(J).length&&(re.width=ie.width,re.height=ie.height))}),t.forEach(B.edges(),function(J){var re=B.edge(J),ie=H.edge(J);re.points=ie.points,t.has(ie,"x")&&(re.x=ie.x,re.y=ie.y)}),B.graph().width=H.graph().width,B.graph().height=H.graph().height}var Q=["nodesep","edgesep","ranksep","marginx","marginy"],k={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},$=["acyclicer","ranker","rankdir","align"],T=["width","height"],j={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},q=["labelpos"];function M(B){var H=new x({multigraph:!0,compound:!0}),J=K(B.graph());return H.setGraph(t.merge({},k,D(J,Q),t.pick(J,$))),t.forEach(B.nodes(),function(re){var ie=K(B.node(re));H.setNode(re,t.defaults(D(ie,T),j)),H.setParent(re,B.parent(re))}),t.forEach(B.edges(),function(re){var ie=K(B.edge(re));H.setEdge(re,t.merge({},C,D(ie,N),t.pick(ie,q)))}),H}function L(B){var H=B.graph();H.ranksep/=2,t.forEach(B.edges(),function(J){var re=B.edge(J);re.minlen*=2,re.labelpos.toLowerCase()!=="c"&&(H.rankdir==="TB"||H.rankdir==="BT"?re.width+=re.labeloffset:re.height+=re.labeloffset)})}function E(B){t.forEach(B.edges(),function(H){var J=B.edge(H);if(J.width&&J.height){var re=B.node(H.v),ie=B.node(H.w),ce={rank:(ie.rank-re.rank)/2+re.rank,e:H};g.addDummyNode(B,"edge-proxy",ce,"_ep")}})}function Z(B){var H=0;t.forEach(B.nodes(),function(J){var re=B.node(J);re.borderTop&&(re.minRank=B.node(re.borderTop).rank,re.maxRank=B.node(re.borderBottom).rank,H=t.max(H,re.maxRank))}),B.graph().maxRank=H}function Y(B){t.forEach(B.nodes(),function(H){var J=B.node(H);J.dummy==="edge-proxy"&&(B.edge(J.e).labelRank=J.rank,B.removeNode(H))})}function R(B){var H=Number.POSITIVE_INFINITY,J=0,re=Number.POSITIVE_INFINITY,ie=0,ce=B.graph(),ve=ce.marginx||0,_e=ce.marginy||0;function ne(he){var pe=he.x,xe=he.y,Ie=he.width,je=he.height;H=Math.min(H,pe-Ie/2),J=Math.max(J,pe+Ie/2),re=Math.min(re,xe-je/2),ie=Math.max(ie,xe+je/2)}t.forEach(B.nodes(),function(he){ne(B.node(he))}),t.forEach(B.edges(),function(he){var pe=B.edge(he);t.has(pe,"x")&&ne(pe)}),H-=ve,re-=_e,t.forEach(B.nodes(),function(he){var pe=B.node(he);pe.x-=H,pe.y-=re}),t.forEach(B.edges(),function(he){var pe=B.edge(he);t.forEach(pe.points,function(xe){xe.x-=H,xe.y-=re}),t.has(pe,"x")&&(pe.x-=H),t.has(pe,"y")&&(pe.y-=re)}),ce.width=J-H+ve,ce.height=ie-re+_e}function G(B){t.forEach(B.edges(),function(H){var J=B.edge(H),re=B.node(H.v),ie=B.node(H.w),ce,ve;J.points?(ce=J.points[0],ve=J.points[J.points.length-1]):(J.points=[],ce=ie,ve=re),J.points.unshift(g.intersectRect(re,ce)),J.points.push(g.intersectRect(ie,ve))})}function A(B){t.forEach(B.edges(),function(H){var J=B.edge(H);if(t.has(J,"x"))switch((J.labelpos==="l"||J.labelpos==="r")&&(J.width-=J.labeloffset),J.labelpos){case"l":J.x-=J.width/2+J.labeloffset;break;case"r":J.x+=J.width/2+J.labeloffset;break}})}function W(B){t.forEach(B.edges(),function(H){var J=B.edge(H);J.reversed&&J.points.reverse()})}function I(B){t.forEach(B.nodes(),function(H){if(B.children(H).length){var J=B.node(H),re=B.node(J.borderTop),ie=B.node(J.borderBottom),ce=B.node(t.last(J.borderLeft)),ve=B.node(t.last(J.borderRight));J.width=Math.abs(ve.x-ce.x),J.height=Math.abs(ie.y-re.y),J.x=ce.x+J.width/2,J.y=re.y+J.height/2}}),t.forEach(B.nodes(),function(H){B.node(H).dummy==="border"&&B.removeNode(H)})}function U(B){t.forEach(B.edges(),function(H){if(H.v===H.w){var J=B.node(H.v);J.selfEdges||(J.selfEdges=[]),J.selfEdges.push({e:H,label:B.edge(H)}),B.removeEdge(H)}})}function ee(B){var H=g.buildLayerMatrix(B);t.forEach(H,function(J){var re=0;t.forEach(J,function(ie,ce){var ve=B.node(ie);ve.order=ce+re,t.forEach(ve.selfEdges,function(_e){g.addDummyNode(B,"selfedge",{width:_e.label.width,height:_e.label.height,rank:ve.rank,order:ce+ ++re,e:_e.e,label:_e.label},"_se")}),delete ve.selfEdges})})}function z(B){t.forEach(B.nodes(),function(H){var J=B.node(H);if(J.dummy==="selfedge"){var re=B.node(J.e.v),ie=re.x+re.width/2,ce=re.y,ve=J.x-ie,_e=re.height/2;B.setEdge(J.e,J.label),B.removeNode(H),J.label.points=[{x:ie+2*ve/3,y:ce-_e},{x:ie+5*ve/6,y:ce-_e},{x:ie+ve,y:ce},{x:ie+5*ve/6,y:ce+_e},{x:ie+2*ve/3,y:ce+_e}],J.label.x=J.x,J.label.y=J.y}})}function D(B,H){return t.mapValues(t.pick(B,H),Number)}function K(B){var H={};return t.forEach(B,function(J,re){H[re.toLowerCase()]=J}),H}return OS}var gS,ZA;function Cce(){if(ZA)return gS;ZA=1;var t=Ft(),e=Sr(),n=js().Graph;gS={debugOrdering:r};function r(s){var i=e.buildLayerMatrix(s),a=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(s.nodes(),function(o){a.setNode(o,{label:o}),a.setParent(o,"layer"+s.node(o).rank)}),t.forEach(s.edges(),function(o){a.setEdge(o.v,o.w,{},o.name)}),t.forEach(i,function(o,u){var d="layer"+u;a.setNode(d,{rank:"same"}),t.reduce(o,function(p,m){return a.setEdge(p,m,{style:"invis"}),m})}),a}return gS}var xS,VA;function Rce(){return VA||(VA=1,xS="0.8.5"),xS}var yS,YA;function Ece(){return YA||(YA=1,yS={graphlib:js(),layout:Nce(),debug:Cce(),util:{time:Sr().time,notime:Sr().notime},version:Rce()}),yS}var Ace=Ece();const DA=Pm(Ace),Gr=({content:t,children:e})=>f.jsxs("div",{className:"relative group flex items-center",children:[e,f.jsx("div",{className:"absolute top-full mt-2 w-max max-w-xs bg-gray-900 text-white text-xs rounded-md py-1.5 px-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 ring-1 ring-white/10 shadow-lg",children:t})]}),qce=({data:t,selected:e,xPos:n,yPos:r})=>{var k,$;const{label:s,module:i,promptInfo:a,hasPrompt:o,colors:u,onClick:d,editMode:p,onEdit:m,isHighlighted:g}=t,x=!!(a!=null&&a.code),v=!!(a!=null&&a.test),b=!!(a!=null&&a.example),S=()=>{d&&d(i)},Q=T=>{T.stopPropagation(),m&&m(i)};return f.jsxs(f.Fragment,{children:[f.jsx($c,{type:"target",position:ze.Top,className:"!bg-blue-400 !w-2 !h-2"}),f.jsx(Gr,{content:f.jsxs("div",{className:"max-w-xs",children:[f.jsx("div",{className:"font-medium",children:i.filename}),f.jsx("div",{className:"text-xs text-surface-400 mt-1",children:i.filepath}),f.jsxs("div",{className:"text-xs mt-2",children:[(k=i.description)==null?void 0:k.substring(0,100),"..."]}),o&&f.jsxs("div",{className:"mt-2 pt-2 border-t border-surface-700/50",children:[f.jsxs("div",{className:"text-xs text-emerald-400 flex items-center gap-1 mb-1",children:[f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Prompt exists"]}),f.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1",children:[f.jsxs("span",{className:x?"text-green-400":"text-surface-500",children:[x?"":""," Code"]}),f.jsxs("span",{className:v?"text-yellow-400":"text-surface-500",children:[v?"":""," Test"]}),f.jsxs("span",{className:b?"text-blue-400":"text-surface-500",children:[b?"":""," Example"]})]})]})]}),children:f.jsxs("div",{onClick:S,className:`
            relative px-4 py-3 rounded-xl border cursor-pointer
            transition-all duration-200 hover:scale-105 group
            ${u.bg} ${u.border} ${u.hover}
            ${o?"ring-2 ring-emerald-500/50":""}
            ${e?"ring-2 ring-accent-500":""}
            ${g?"ring-2 ring-red-500 animate-pulse":""}
          `,style:{width:200,minHeight:85},children:[p&&f.jsx("button",{onClick:Q,className:"absolute -top-2 -left-2 w-6 h-6 bg-accent-600 hover:bg-accent-500 rounded-full flex items-center justify-center shadow-lg z-20 opacity-0 group-hover:opacity-100 transition-opacity",title:"Edit module",children:f.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),o&&f.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center shadow-lg z-10",children:f.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),o&&f.jsxs("div",{className:"absolute -bottom-1.5 right-1 flex gap-0.5 z-10",children:[f.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex items-center justify-center text-[8px] font-bold ${x?"bg-green-500 text-white":"bg-surface-700 text-surface-500"}`,title:x?"Code exists":"No code file",children:"C"}),f.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex items-center justify-center text-[8px] font-bold ${v?"bg-yellow-500 text-white":"bg-surface-700 text-surface-500"}`,title:v?"Test exists":"No test file",children:"T"}),f.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex items-center justify-center text-[8px] font-bold ${b?"bg-blue-500 text-white":"bg-surface-700 text-surface-500"}`,title:b?"Example exists":"No example file",children:"E"})]}),f.jsx("p",{className:"font-medium text-sm text-white truncate w-full",children:s}),!1,f.jsx("p",{className:`text-xs ${u.text} truncate w-full`,children:(($=i.interface)==null?void 0:$.type)||"module"}),f.jsxs("p",{className:"text-xs text-surface-500 truncate w-full",children:["Priority: ",i.priority]})]})}),f.jsx($c,{type:"source",position:ze.Bottom,className:"!bg-blue-400 !w-2 !h-2"})]})},Mce=_.memo(qce),BA=200,UA=85,Xce=t=>{const e=t.tags||[],n=["frontend","react","nextjs","ui","page","component","css","html"],r=["backend","api","database","sqlalchemy","fastapi","python","server"];return e.some(s=>n.includes(s.toLowerCase()))?"frontend":e.some(s=>r.includes(s.toLowerCase()))?"backend":"shared"},zce=t=>{switch(t){case"frontend":return{bg:"bg-orange-500/20",border:"border-orange-500/50",hover:"hover:border-orange-400",text:"text-orange-300"};case"backend":return{bg:"bg-blue-500/20",border:"border-blue-500/50",hover:"hover:border-blue-400",text:"text-blue-300"};default:return{bg:"bg-green-500/20",border:"border-green-500/50",hover:"hover:border-green-400",text:"text-green-300"}}},bS=(t,e,n="TB")=>{const r=new DA.graphlib.Graph;return r.setGraph({rankdir:n,nodesep:50,ranksep:100,edgesep:20}),r.setDefaultEdgeLabel(()=>({})),t.forEach(i=>{r.setNode(i.id,{width:BA,height:UA})}),e.forEach(i=>{r.setEdge(i.source,i.target)}),DA.layout(r),{nodes:t.map(i=>{const a=r.node(i.id);return{...i,position:{x:a.x-BA/2,y:a.y-UA/2}}}),edges:e}},Lce={moduleNode:Mce},Zce=({architecture:t,prdContent:e,appName:n,onRegenerate:r,onModuleClick:s,onGeneratePrompts:i,isGeneratingPrompts:a=!1,existingPrompts:o=new Set,promptsInfo:u=[],editMode:d=!1,onModuleEdit:p,onModuleDelete:m,onDependencyAdd:g,onDependencyRemove:x,onPositionsChange:v,highlightedModules:b=new Set,onInitialPositionsCalculated:S})=>{const[Q,k]=_.useState(!1),[$,T]=_.useState(null),j=_.useMemo(()=>{const ie=new Map;for(const ce of u){const ve=ce.prompt.split("/").pop()||"";ie.set(ve,ce)}return ie},[u]),N=_.useMemo(()=>t.every(ie=>ie.position),[t]),{initialNodes:C,initialEdges:q}=_.useMemo(()=>{const ie=t.every(ne=>!ne.position),ce=t.map(ne=>{const he=Xce(ne),pe=o.has(ne.filename),xe=b.has(ne.filename);return{id:ne.filename,type:"moduleNode",position:ne.position||{x:0,y:0},data:{label:ne.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,""),module:ne,promptInfo:j.get(ne.filename),hasPrompt:pe,colors:zce(he),onClick:s,editMode:d,onEdit:p,onDelete:m,isHighlighted:xe}}}),ve=new Set(t.map(ne=>ne.filename)),_e=t.flatMap(ne=>ne.dependencies.filter(he=>ve.has(he)).map(he=>({id:`${he}->${ne.filename}`,source:he,target:ne.filename,type:"smoothstep",style:{stroke:"#60a5fa",strokeWidth:2},markerEnd:{type:Cl.ArrowClosed,color:"#60a5fa",width:20,height:20},animated:!1,selectable:d,focusable:d,deletable:d,interactionWidth:20})));if(ie){const ne=bS(ce,_e,"TB");return{initialNodes:ne.nodes,initialEdges:ne.edges}}else if(!N){const ne=bS(ce,_e,"TB"),he=new Map(t.filter(xe=>xe.position).map(xe=>[xe.filename,xe.position]));return{initialNodes:ne.nodes.map(xe=>{const Ie=he.get(xe.id);return Ie?{...xe,position:Ie}:xe}),initialEdges:ne.edges}}return{initialNodes:ce,initialEdges:_e}},[t,o,j,s,d,p,m,b]),[M,L,E]=Iie(C),[Z,Y,R]=Hie(q),G=_.useRef(d);_.useEffect(()=>{const ie=!G.current,ce=d;if(G.current=d,ie&&ce&&v&&M.length>0){const ve=new Map;M.forEach(_e=>{ve.set(_e.id,{x:_e.position.x,y:_e.position.y})}),v(ve)}},[d,M,v]);const A=_.useRef(!1);_.useEffect(()=>{if(!A.current&&S&&M.length>0&&!N){A.current=!0;const ie=new Map;M.forEach(ce=>{ie.set(ce.id,{x:ce.position.x,y:ce.position.y})}),S(ie)}},[M,N,S]);const W=_.useCallback(()=>{const ie=bS(M,Z,"TB");if(L(ie.nodes),Y(ie.edges),d&&v){const ce=new Map;ie.nodes.forEach(ve=>{ce.set(ve.id,{x:ve.position.x,y:ve.position.y})}),v(ce)}},[M,Z,L,Y,d,v]),I=_.useCallback(ie=>{!d||!ie.source||!ie.target||(g==null||g(ie.target,ie.source),Y(ce=>ZL({...ie,id:`${ie.source}->${ie.target}`,type:"smoothstep",style:{stroke:"#60a5fa",strokeWidth:2},markerEnd:{type:Cl.ArrowClosed,color:"#60a5fa",width:20,height:20},animated:!1},ce)))},[d,g,Y]),U=_.useCallback(ie=>{if(d)for(const ce of ie)x==null||x(ce.target,ce.source)},[d,x]),ee=_.useCallback((ie,ce)=>{d&&(T(null),Y(ve=>ve.map(_e=>({..._e,selected:_e.id===ce.id,style:{..._e.style,stroke:_e.id===ce.id?"#ef4444":"#60a5fa",strokeWidth:_e.id===ce.id?3:2},markerEnd:_e.markerEnd?{..._e.markerEnd,color:_e.id===ce.id?"#ef4444":"#60a5fa"}:void 0}))))},[d,Y]),z=_.useCallback((ie,ce)=>{d&&(ie.preventDefault(),T({x:ie.clientX,y:ie.clientY,edge:ce}))},[d]),D=_.useCallback(()=>{if(!$)return;const ie=$.edge;x==null||x(ie.target,ie.source),Y(ce=>ce.filter(ve=>ve.id!==ie.id)),T(null)},[$,x,Y]),K=_.useCallback(()=>{T(null)},[]),B=_.useCallback(ie=>{if(d)for(const ce of ie)m==null||m(ce.id)},[d,m]),H=_.useCallback((ie,ce,ve)=>{if(!d)return;const _e=new Map;ve.forEach(ne=>{_e.set(ne.id,{x:ne.position.x,y:ne.position.y})}),v==null||v(_e)},[d,v]),J=fe.useRef(t),re=_.useCallback(ie=>ie.map(ce=>({filename:ce.filename,dependencies:[...ce.dependencies].sort().join(",")})).sort((ce,ve)=>ce.filename.localeCompare(ve.filename)).map(ce=>`${ce.filename}:${ce.dependencies}`).join("|"),[]);return fe.useEffect(()=>{const ie=re(J.current),ce=re(t),ve=ie!==ce;J.current=t,(ve||!d)&&(L(C),Y(q))},[C,q,L,Y,d,t,re]),f.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 overflow-hidden h-full flex flex-col",children:[f.jsxs("div",{className:"bg-surface-800/80 border-b border-surface-700/50 flex-shrink-0",children:[f.jsxs("div",{className:"flex justify-between items-center p-3",children:[f.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>k(!Q),children:[f.jsx("h3",{className:"font-semibold text-sm text-white",children:n||"Product Requirements Document"}),f.jsxs("p",{className:"text-xs text-surface-400",children:[t.length," modules"]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i&&f.jsx(Gr,{content:"Generate prompt files for all modules",children:f.jsxs("button",{onClick:i,disabled:a,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a?f.jsx(yf,{className:"w-3.5 h-3.5 animate-spin"}):f.jsx(HJ,{className:"w-3.5 h-3.5"}),f.jsx("span",{children:a?"Generating...":"Generate Prompts"})]})}),f.jsx(Gr,{content:"Regenerate architecture from PRD",children:f.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 transition-colors",children:[f.jsx(Hz,{className:"w-3.5 h-3.5"}),f.jsx("span",{children:"Regenerate"})]})}),f.jsx(Gr,{content:Q?"Collapse":"Expand",children:f.jsx("button",{onClick:()=>k(!Q),className:"p-1.5 rounded-lg hover:bg-surface-700 transition-colors",children:Q?f.jsx(ym,{className:"w-4 h-4 text-surface-400"}):f.jsx(bm,{className:"w-4 h-4 text-surface-400"})})})]})]}),Q&&f.jsx("div",{className:"border-t border-surface-700/50",children:f.jsx("pre",{className:"p-3 text-xs text-surface-300 whitespace-pre-wrap overflow-auto max-h-[200px] font-mono",children:e||"No PRD content available"})})]}),f.jsx("div",{className:"flex-1 min-h-0",children:f.jsxs(w6,{nodes:M,edges:Z,onNodesChange:E,onEdgesChange:R,onConnect:d?I:void 0,onEdgeClick:d?ee:void 0,onEdgeContextMenu:d?z:void 0,onPaneClick:K,onNodeDragStop:d?H:void 0,onEdgesDelete:d?U:void 0,onNodesDelete:d?B:void 0,nodeTypes:Lce,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,defaultEdgeOptions:{style:{stroke:"#60a5fa",strokeWidth:2},type:"smoothstep",markerEnd:{type:Cl.ArrowClosed,color:"#60a5fa",width:20,height:20},interactionWidth:20},connectionMode:d?Di.Loose:Di.Strict,deleteKeyCode:d?["Backspace","Delete"]:null,edgesUpdatable:d,edgesFocusable:d,elementsSelectable:d,selectNodesOnDrag:!1,proOptions:{hideAttribution:!0},children:[f.jsx(yae,{variant:rs.Dots,gap:20,size:1,color:"#374151"}),f.jsx(hae,{className:"!bg-surface-800 !border-surface-700 !rounded-lg [&>button]:!bg-surface-700 [&>button]:!border-surface-600 [&>button]:!text-surface-300 [&>button:hover]:!bg-surface-600"}),f.jsx(aae,{className:"!bg-surface-800 !border-surface-700 !rounded-lg",nodeColor:ie=>{const ce=ie.data;return ce.hasPrompt?"#10b981":ce.colors.bg.includes("orange")?"#f97316":ce.colors.bg.includes("blue")?"#3b82f6":"#22c55e"},maskColor:"rgba(0, 0, 0, 0.6)"}),f.jsx(fO,{position:"bottom-right",className:"!m-4",children:f.jsxs("div",{className:"bg-surface-800/90 rounded-lg p-3 border border-surface-700/50 backdrop-blur-sm",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("p",{className:"text-xs text-surface-400 font-medium",children:"Legend"}),f.jsx("button",{onClick:W,className:"text-[10px] px-2 py-0.5 bg-surface-700 hover:bg-surface-600 text-surface-300 rounded transition-colors",title:"Reset layout",children:"Re-layout"})]}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-orange-500/40 border border-orange-500/50"}),f.jsx("span",{className:"text-xs text-surface-300",children:"Frontend"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-blue-500/40 border border-blue-500/50"}),f.jsx("span",{className:"text-xs text-surface-300",children:"Backend"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-green-500/40 border border-green-500/50"}),f.jsx("span",{className:"text-xs text-surface-300",children:"Shared"})]}),f.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-surface-700/50 mt-1",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 flex items-center justify-center",children:f.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),f.jsx("span",{className:"text-xs text-surface-300",children:"Prompt exists"})]}),f.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-surface-700/50 mt-1",children:[f.jsxs("div",{className:"flex gap-0.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 flex items-center justify-center text-[7px] font-bold text-white",children:"C"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 flex items-center justify-center text-[7px] font-bold text-white",children:"T"}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 flex items-center justify-center text-[7px] font-bold text-white",children:"E"})]}),f.jsx("span",{className:"text-xs text-surface-300",children:"Code/Test/Example"})]}),f.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-surface-700/50 mt-1",children:[f.jsx("div",{className:"flex items-center",children:f.jsxs("svg",{className:"w-6 h-3",viewBox:"0 0 24 12",children:[f.jsx("defs",{children:f.jsx("marker",{id:"arrow-legend",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:f.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#60a5fa"})})}),f.jsx("line",{x1:"0",y1:"6",x2:"20",y2:"6",stroke:"#60a5fa",strokeWidth:"2",markerEnd:"url(#arrow-legend)"})]})}),f.jsx("span",{className:"text-xs text-surface-300",children:"Arrow shows dependency direction"})]}),d&&f.jsx("div",{className:"pt-1 border-t border-surface-700/50 mt-1",children:f.jsxs("p",{className:"text-[10px] text-surface-400 leading-relaxed",children:[f.jsx("span",{className:"text-orange-400",children:"Edit mode:"})," Right-click edge to delete, or click + Delete/Backspace"]})})]})]})})]})}),$&&f.jsxs("div",{className:"fixed z-50 bg-surface-800 border border-surface-700 rounded-lg shadow-xl py-1 min-w-[150px]",style:{top:$.y,left:$.x},onClick:ie=>ie.stopPropagation(),children:[f.jsxs("button",{onClick:D,className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-surface-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Edge"]}),f.jsx("div",{className:"px-4 py-2 text-xs text-surface-500 border-t border-surface-700",children:f.jsxs("div",{className:"font-mono",children:[$.edge.source,"  ",$.edge.target]})})]})]})},Vce=({isOpen:t,progress:e,results:n,onClose:r,onCancel:s})=>{if(!t)return null;const i=n!==null&&e===null,a=(n==null?void 0:n.filter(u=>u.success).length)||0,o=(n==null?void 0:n.filter(u=>!u.success).length)||0;return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i?r:void 0}),f.jsxs("div",{className:"relative glass rounded-2xl border border-surface-700/50 p-6 max-w-md w-full mx-4 shadow-2xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:i?"Generation Complete":"Generating Prompts"}),i&&f.jsx("button",{onClick:r,className:"p-1.5 hover:bg-surface-700 rounded-lg transition-colors",children:f.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e&&!i&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"relative h-2 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-emerald-500 to-emerald-400 transition-all duration-300",style:{width:`${e.current/e.total*100}%`}})}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("span",{className:"text-surface-400",children:["Generating prompt ",e.current," of ",e.total]}),f.jsxs("span",{className:"text-white font-medium",children:[Math.round(e.current/e.total*100),"%"]})]}),f.jsxs("div",{className:"flex items-center gap-2 p-3 bg-surface-800/50 rounded-lg",children:[f.jsx(yf,{className:"w-4 h-4 text-emerald-400 animate-spin"}),f.jsx("span",{className:"text-sm text-surface-300 truncate",children:e.currentModule})]}),s&&f.jsx("button",{onClick:s,className:"w-full px-4 py-2.5 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-xl font-medium transition-colors",children:"Stop Generation"})]}),i&&n&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-4 p-3 bg-surface-800/50 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),f.jsxs("span",{className:"text-sm text-surface-300",children:[a," succeeded"]})]}),o>0&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),f.jsxs("span",{className:"text-sm text-surface-300",children:[o," failed"]})]})]}),f.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:n.map((u,d)=>f.jsxs("div",{className:`flex items-start gap-2 p-2 rounded-lg ${u.success?"bg-emerald-500/10":"bg-red-500/10"}`,children:[f.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.success?f.jsx(IJ,{className:"w-4 h-4 text-emerald-400"}):f.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("span",{className:`text-sm ${u.success?"text-emerald-300":"text-red-300"}`,children:[u.module,".prompt"]}),u.error&&f.jsx("p",{className:"text-xs text-red-400 mt-1 truncate",children:u.error})]})]},d))}),f.jsx("button",{onClick:r,className:"w-full px-4 py-2.5 bg-accent-600 hover:bg-accent-500 text-white rounded-xl font-medium transition-colors",children:"Close"})]})]})]})};function WA(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const GA=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`modal-option-${t.name}`;if(t.type==="checkbox")return f.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[f.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:WA(t.name)}),f.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return f.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:WA(t.name)}),f.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),f.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:d=>n(parseFloat(d.target.value)),className:`flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500
              [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-500
              [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent-500/30
              [&::-webkit-slider-thumb]:hover:bg-accent-400 [&::-webkit-slider-thumb]:transition-colors`}),f.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return null},Yce=({isOpen:t,modules:e,existingPrompts:n=new Set,globalOptions:r,onGlobalOptionsChange:s,onClose:i,onConfirm:a})=>{const[o,u]=_.useState(!1),[d,p]=_.useState(()=>e.map((j,N)=>{const C=n.has(j.filename);return{module:j,selected:!C,order:N,hasExistingPrompt:C}}));fe.useEffect(()=>{p(e.map((j,N)=>{const C=n.has(j.filename);return{module:j,selected:!C,order:N,hasExistingPrompt:C}}))},[e,n]);const m=_.useCallback(j=>{p(N=>N.map((C,q)=>q===j?{...C,selected:!C.selected}:C))},[]),g=_.useCallback(j=>{j!==0&&p(N=>{const C=[...N];return[C[j-1],C[j]]=[C[j],C[j-1]],C})},[]),x=_.useCallback(j=>{p(N=>{if(j===N.length-1)return N;const C=[...N];return[C[j],C[j+1]]=[C[j+1],C[j]],C})},[]),v=_.useCallback(()=>{p(j=>j.map(N=>({...N,selected:!0})))},[]),b=_.useCallback(()=>{p(j=>j.map(N=>({...N,selected:!1})))},[]),S=_.useCallback(()=>{p(j=>j.map(N=>({...N,selected:!N.hasExistingPrompt})))},[]),Q=_.useCallback(()=>{const j=d.filter(N=>N.selected).map(N=>N.module);a(j)},[d,a]),k=j=>j.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,""),$=j=>{const N=j.filename.match(/_([A-Za-z]+)\.prompt$/);return(N==null?void 0:N[1])||"Unknown"},T=d.filter(j=>j.selected).length;return t?f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i}),f.jsxs("div",{className:"relative bg-surface-900 rounded-2xl border border-surface-700 shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[f.jsxs("div",{className:"p-4 border-b border-surface-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-white",children:"Configure Prompt Generation"}),f.jsx("p",{className:"text-sm text-surface-400 mt-1",children:"Select modules and set the generation order. Prompts will be generated from top to bottom."})]}),f.jsxs("div",{className:"px-4 py-2 border-b border-surface-700/50 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:S,className:"px-2 py-1 text-xs text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 rounded transition-colors font-medium",children:"Select Missing"}),f.jsx("button",{onClick:v,className:"px-2 py-1 text-xs text-surface-300 hover:text-white hover:bg-surface-700 rounded transition-colors",children:"Select All"}),f.jsx("button",{onClick:b,className:"px-2 py-1 text-xs text-surface-300 hover:text-white hover:bg-surface-700 rounded transition-colors",children:"Deselect All"})]}),f.jsxs("span",{className:"text-xs text-surface-400",children:[T," of ",d.length," selected"]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:f.jsx("div",{className:"space-y-1",children:d.map((j,N)=>{var C,q;return f.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg border transition-colors ${j.selected?"bg-surface-800 border-surface-600":"bg-surface-800/30 border-surface-700/30 opacity-60"} ${j.hasExistingPrompt?"ring-1 ring-emerald-500/30":""}`,children:[f.jsx("input",{type:"checkbox",checked:j.selected,onChange:()=>m(N),className:"w-4 h-4 rounded border-surface-600 bg-surface-700 text-accent-500 focus:ring-accent-500 cursor-pointer"}),f.jsx("span",{className:"w-6 text-center text-xs font-mono text-surface-500",children:j.selected?d.filter((M,L)=>L<=N&&M.selected).length:"-"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium text-sm text-white truncate",children:k(j.module)}),f.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-surface-700 text-surface-300 rounded",children:$(j.module)}),j.hasExistingPrompt&&f.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 text-[10px] font-medium bg-emerald-500/20 text-emerald-400 rounded",children:[f.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"exists"]})]}),f.jsxs("p",{className:"text-xs text-surface-500 truncate",children:[((C=j.module.description)==null?void 0:C.substring(0,60))||j.module.filepath,(((q=j.module.description)==null?void 0:q.length)||0)>60?"...":""]})]}),f.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${j.module.priority==="high"?"bg-red-500/20 text-red-300":j.module.priority==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:j.module.priority||"normal"}),f.jsxs("div",{className:"flex flex-col gap-0.5",children:[f.jsx("button",{onClick:()=>g(N),disabled:N===0,className:"p-1 hover:bg-surface-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move up",children:f.jsx("svg",{className:"w-3 h-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),f.jsx("button",{onClick:()=>x(N),disabled:N===d.length-1,className:"p-1 hover:bg-surface-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move down",children:f.jsx("svg",{className:"w-3 h-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]},j.module.filename)})})}),f.jsxs("div",{className:"border-t border-surface-700/50",children:[f.jsxs("button",{type:"button",onClick:()=>u(!o),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-surface-800/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),(r.strength!==dn.strength||r.temperature!==dn.temperature||r.time!==dn.time||r.local||r.verbose||r.quiet||r.force)&&f.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&f.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[f.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),Or.filter(j=>["strength","temperature","time"].includes(j.name)).map(j=>f.jsx(GA,{option:j,value:r[j.name],onChange:N=>s({...r,[j.name]:N}),compact:!0},j.name))]}),f.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),Or.filter(j=>["local","verbose","quiet","force"].includes(j.name)).map(j=>f.jsx(GA,{option:j,value:r[j.name],onChange:N=>s({...r,[j.name]:N}),compact:!0},j.name))]})]})]}),f.jsxs("div",{className:"p-4 border-t border-surface-700 flex items-center justify-between",children:[f.jsx("p",{className:"text-xs text-surface-500",children:"Dependencies are not automatically resolved. Ensure correct order."}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-surface-300 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",children:"Cancel"}),f.jsxs("button",{onClick:Q,disabled:T===0,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${T===0?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:["Generate ",T," Prompt",T!==1?"s":""]})]})]})]})]}):null},Dce=({editMode:t,hasUnsavedChanges:e,onToggleEditMode:n,onAddModule:r,onSave:s,onDiscard:i,onUndo:a,onRedo:o,canUndo:u,canRedo:d,isSaving:p=!1,onSyncFromPrompts:m})=>f.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800/80 border-b border-surface-700/50",children:[!t&&m&&f.jsxs(f.Fragment,{children:[f.jsx(Gr,{content:"Sync architecture.json from prompt metadata tags",children:f.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-purple-600 text-white hover:bg-purple-500 transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),f.jsx("span",{children:"Sync from Prompts"})]})}),f.jsx("div",{className:"w-px h-6 bg-surface-700"})]}),f.jsx(Gr,{content:t?"Exit edit mode":"Enter edit mode",children:f.jsxs("button",{onClick:n,className:`
            flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors
            ${t?"bg-accent-600 text-white hover:bg-accent-500":"bg-surface-700 text-surface-300 hover:bg-surface-600"}
          `,children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),f.jsx("span",{children:t?"Editing":"Edit"})]})}),t&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-px h-6 bg-surface-700"}),f.jsx(Gr,{content:"Add new module (N)",children:f.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-emerald-600 text-white hover:bg-emerald-500 transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),f.jsx("span",{children:"Add Module"})]})}),f.jsx("div",{className:"w-px h-6 bg-surface-700"}),f.jsx(Gr,{content:"Undo (Ctrl+Z)",children:f.jsx("button",{onClick:a,disabled:!u,className:"p-1.5 rounded-lg text-surface-300 hover:bg-surface-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})}),f.jsx(Gr,{content:"Redo (Ctrl+Shift+Z)",children:f.jsx("button",{onClick:o,disabled:!d,className:"p-1.5 rounded-lg text-surface-300 hover:bg-surface-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H11a8 8 0 00-8 8v2m18-10l-6 6m6-6l-6-6"})})})}),e&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-px h-6 bg-surface-700"}),f.jsxs("span",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[f.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Unsaved changes"]}),f.jsx(Gr,{content:"Save changes (Ctrl+S)",children:f.jsxs("button",{onClick:s,disabled:p,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-600 text-white hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[p?f.jsxs("svg",{className:"w-3.5 h-3.5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),f.jsx("span",{children:p?"Saving...":"Save"})]})}),f.jsx(Gr,{content:"Discard changes (Escape)",children:f.jsxs("button",{onClick:i,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),f.jsx("span",{children:"Discard"})]})})]})]})]}),Bce=["module","component","page","api","graphql","cli","job","message","config"],Uce=({isOpen:t,module:e,allModules:n,onSave:r,onDelete:s,onClose:i})=>{const[a,o]=_.useState(""),[u,d]=_.useState(""),[p,m]=_.useState(""),[g,x]=_.useState(""),[v,b]=_.useState(5),[S,Q]=_.useState(""),[k,$]=_.useState("module"),[T,j]=_.useState([]),[N,C]=_.useState(!1),q=_.useMemo(()=>n.filter(Y=>Y.filename!==(e==null?void 0:e.filename)),[n,e]);_.useEffect(()=>{var Y,R;e&&(o(e.filename),d(e.filepath),m(e.description),x(e.reason),b(e.priority),Q(((Y=e.tags)==null?void 0:Y.join(", "))||""),$(((R=e.interface)==null?void 0:R.type)||"module"),j(e.dependencies||[]),C(!1))},[e]);const M=_.useMemo(()=>{const Y=[];return a.trim()||Y.push("Filename is required"),u.trim()||Y.push("Filepath is required"),p.trim()||Y.push("Description is required"),e&&a!==e.filename&&n.some(R=>R.filename===a)&&Y.push("Filename already exists"),Y},[a,u,p,e,n]),L=()=>{if(M.length>0)return;const Y={filename:a,filepath:u,description:p,reason:g,priority:v,tags:S.split(",").map(R=>R.trim()).filter(R=>R),dependencies:T,interface:{type:k}};r(Y),i()},E=()=>{e&&(s(e.filename),i())},Z=Y=>{j(R=>R.includes(Y)?R.filter(G=>G!==Y):[...R,Y])};return!t||!e?null:f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-surface-800 rounded-none sm:rounded-xl border-0 sm:border border-surface-700 w-full h-full sm:h-auto sm:max-w-2xl sm:max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-white",children:"Edit Module"}),f.jsx("button",{onClick:i,className:"p-1.5 rounded-lg hover:bg-surface-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Filename ",f.jsx("span",{className:"text-red-400",children:"*"})]}),f.jsx("input",{type:"text",value:a,onChange:Y=>o(Y.target.value),placeholder:"e.g., user_api_Python.prompt",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),f.jsx(Hs,{label:"Filepath",value:u,onChange:d,placeholder:"e.g., src/api/user.py",description:"Target path for the generated code",required:!0,title:"Select Output Path"}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Description ",f.jsx("span",{className:"text-red-400",children:"*"})]}),f.jsx("textarea",{value:p,onChange:Y=>m(Y.target.value),placeholder:"What does this module do?",rows:3,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Reason"}),f.jsx("input",{type:"text",value:g,onChange:Y=>x(Y.target.value),placeholder:"Why is this module needed?",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Priority"}),f.jsx("input",{type:"number",value:v,onChange:Y=>b(parseInt(Y.target.value)||1),min:1,max:10,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Interface Type"}),f.jsx("select",{value:k,onChange:Y=>$(Y.target.value),className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",children:Bce.map(Y=>f.jsx("option",{value:Y,children:Y},Y))})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Tags ",f.jsx("span",{className:"text-surface-500",children:"(comma-separated)"})]}),f.jsx("input",{type:"text",value:S,onChange:Y=>Q(Y.target.value),placeholder:"e.g., backend, api, python",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Dependencies ",f.jsxs("span",{className:"text-surface-500",children:["(",T.length," selected)"]})]}),f.jsx("div",{className:"bg-surface-900 border border-surface-700 rounded-lg p-2 max-h-40 overflow-y-auto",children:q.length===0?f.jsx("p",{className:"text-sm text-surface-500 text-center py-2",children:"No other modules available"}):f.jsx("div",{className:"space-y-1",children:q.map(Y=>f.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-surface-800 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:T.includes(Y.filename),onChange:()=>Z(Y.filename),className:"rounded border-surface-600 bg-surface-800 text-accent-500 focus:ring-accent-500"}),f.jsx("span",{className:"text-sm text-surface-300 truncate",children:Y.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,"")})]},Y.filename))})})]}),M.length>0&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:f.jsx("ul",{className:"text-sm text-red-400 space-y-1",children:M.map((Y,R)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),Y]},R))})})]}),f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-surface-700 bg-surface-800/50",children:[f.jsx("div",{children:N?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-red-400",children:"Are you sure?"}),f.jsx("button",{onClick:E,className:"px-2 py-1 rounded text-xs font-medium bg-red-600 text-white hover:bg-red-500 transition-colors",children:"Yes, delete"}),f.jsx("button",{onClick:()=>C(!1),className:"px-2 py-1 rounded text-xs font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"})]}):f.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-400 hover:bg-red-500/10 transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Module"]})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg text-sm font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:L,disabled:M.length>0,className:"px-4 py-2 rounded-lg text-sm font-medium bg-accent-600 text-white hover:bg-accent-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Changes"})]})]})]})})},Wce=["Python","TypeScript","JavaScript","Java","Go","Rust","Ruby","C++"],Gce=["module","component","page","api","graphql","cli","job","message","config"],Ice=({isOpen:t,existingModules:e,onAdd:n,onClose:r})=>{const[s,i]=_.useState(""),[a,o]=_.useState("Python"),[u,d]=_.useState(""),[p,m]=_.useState(""),[g,x]=_.useState(""),[v,b]=_.useState(5),[S,Q]=_.useState(""),[k,$]=_.useState("module"),[T,j]=_.useState([]),N=_.useMemo(()=>s.trim()?`${s.trim().toLowerCase().replace(/\s+/g,"_")}_${a}.prompt`:"",[s,a]),C=_.useMemo(()=>{if(!s.trim())return"";const R=s.trim().toLowerCase().replace(/\s+/g,"_"),G=a==="Python"?"py":a==="TypeScript"||a==="JavaScript"?"ts":a.toLowerCase();return`${k==="api"?"src/api/":k==="component"?"src/components/":k==="page"?"src/pages/":"src/"}${R}.${G}`},[s,a,k]),q=u||C,M=_.useMemo(()=>{const R=[];return s.trim()||R.push("Module name is required"),p.trim()||R.push("Description is required"),e.some(G=>G.filename===N)&&R.push("A module with this name and language already exists"),R},[s,p,N,e]),L=()=>{if(M.length>0)return;const R={filename:N,filepath:q,description:p,reason:g||`Module for ${s}`,priority:v,tags:S.split(",").map(G=>G.trim()).filter(G=>G),dependencies:T,interface:{type:k}};n(R),E(),r()},E=()=>{i(""),o("Python"),d(""),m(""),x(""),b(5),Q(""),$("module"),j([])},Z=()=>{E(),r()},Y=R=>{j(G=>G.includes(R)?G.filter(A=>A!==R):[...G,R])};return t?f.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-surface-800 rounded-none sm:rounded-xl border-0 sm:border border-surface-700 w-full h-full sm:h-auto sm:max-w-2xl sm:max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-700",children:[f.jsx("h2",{className:"text-lg font-semibold text-white",children:"Add New Module"}),f.jsx("button",{onClick:Z,className:"p-1.5 rounded-lg hover:bg-surface-700 transition-colors",children:f.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Module Name ",f.jsx("span",{className:"text-red-400",children:"*"})]}),f.jsx("input",{type:"text",value:s,onChange:R=>i(R.target.value),placeholder:"e.g., user_api",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Language"}),f.jsx("select",{value:a,onChange:R=>o(R.target.value),className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",children:Wce.map(R=>f.jsx("option",{value:R,children:R},R))})]})]}),N&&f.jsxs("div",{className:"bg-surface-900/50 rounded-lg px-3 py-2",children:[f.jsx("span",{className:"text-xs text-surface-500",children:"Generated filename: "}),f.jsx("span",{className:"text-xs text-accent-400 font-mono",children:N})]}),f.jsxs("div",{children:[f.jsx(Hs,{label:"Filepath",value:u,onChange:d,placeholder:C||"e.g., src/api/user.py",description:"Target path for the generated code (auto-suggested based on name and type)",title:"Select Output Path"}),!u&&C&&f.jsxs("p",{className:"text-xs text-surface-500 mt-1",children:["Will use: ",C]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Description ",f.jsx("span",{className:"text-red-400",children:"*"})]}),f.jsx("textarea",{value:p,onChange:R=>m(R.target.value),placeholder:"What does this module do?",rows:3,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm resize-none"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Priority"}),f.jsx("input",{type:"number",value:v,onChange:R=>b(parseInt(R.target.value)||1),min:1,max:10,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Interface Type"}),f.jsx("select",{value:k,onChange:R=>$(R.target.value),className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",children:Gce.map(R=>f.jsx("option",{value:R,children:R},R))})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Tags ",f.jsx("span",{className:"text-surface-500",children:"(comma-separated)"})]}),f.jsx("input",{type:"text",value:S,onChange:R=>Q(R.target.value),placeholder:"e.g., backend, api, python",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),e.length>0&&f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Dependencies ",f.jsxs("span",{className:"text-surface-500",children:["(",T.length," selected)"]})]}),f.jsx("div",{className:"bg-surface-900 border border-surface-700 rounded-lg p-2 max-h-40 overflow-y-auto",children:f.jsx("div",{className:"space-y-1",children:e.map(R=>f.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-surface-800 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:T.includes(R.filename),onChange:()=>Y(R.filename),className:"rounded border-surface-600 bg-surface-800 text-accent-500 focus:ring-accent-500"}),f.jsx("span",{className:"text-sm text-surface-300 truncate",children:R.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,"")})]},R.filename))})})]}),M.length>0&&f.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:f.jsx("ul",{className:"text-sm text-red-400 space-y-1",children:M.map((R,G)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),R]},G))})})]}),f.jsxs("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-surface-700 bg-surface-800/50",children:[f.jsx("button",{onClick:Z,className:"px-4 py-2 rounded-lg text-sm font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:L,disabled:M.length>0,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Module"})]})]})}):null},Hce=({isOpen:t,isSyncing:e,result:n,onSync:r,onClose:s})=>{const[i,a]=_.useState(!1);if(!t)return null;const o=n&&n.validation&&!n.validation.valid,u=n!==null;return f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e?void 0:s}),f.jsxs("div",{className:"relative glass rounded-2xl border border-surface-700/50 w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col shadow-2xl m-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700/50",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[f.jsx("svg",{className:"w-6 h-6 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Sync from Prompts"]}),f.jsx("p",{className:"text-sm text-surface-400 mt-1",children:"Update architecture.json from prompt metadata tags"})]}),!e&&f.jsx("button",{onClick:s,className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:f.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u?f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:`rounded-lg p-4 border ${n.success&&n.validation.valid?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:f.jsxs("div",{className:"flex items-start gap-3",children:[n.success&&n.validation.valid?f.jsx("svg",{className:"w-6 h-6 text-green-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):f.jsx("svg",{className:"w-6 h-6 text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:`text-sm font-semibold mb-1 ${n.success&&n.validation.valid?"text-green-300":"text-red-300"}`,children:n.success&&n.validation.valid?"Sync Completed Successfully":o?"Validation Errors Detected":"Sync Failed"}),f.jsxs("p",{className:`text-sm ${n.success&&n.validation.valid?"text-green-200/80":"text-red-200/80"}`,children:["Updated ",n.updated_count," module",n.updated_count!==1?"s":"",n.skipped_count>0&&`, skipped ${n.skipped_count}`]})]})]})}),o&&f.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[f.jsx("h4",{className:"text-sm font-medium text-red-300 mb-2",children:"Validation Errors:"}),f.jsx("ul",{className:"text-sm text-red-200/80 space-y-1",children:n.validation.errors.map((d,p)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-red-400 flex-shrink-0",children:""}),f.jsx("span",{children:d.message})]},p))})]}),n.errors&&n.errors.length>0&&f.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[f.jsx("h4",{className:"text-sm font-medium text-yellow-300 mb-2",children:"Sync Warnings:"}),f.jsx("ul",{className:"text-sm text-yellow-200/80 space-y-1",children:n.errors.map((d,p)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-yellow-400 flex-shrink-0",children:""}),f.jsx("span",{children:d})]},p))})]}),n.results&&n.results.length>0&&f.jsxs("button",{onClick:()=>a(!i),className:"w-full px-4 py-2 bg-surface-700 hover:bg-surface-600 rounded-lg text-sm text-white flex items-center justify-between transition-colors",children:[f.jsxs("span",{children:[i?"Hide":"Show"," Detailed Changes"]}),f.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&n.results&&f.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.results.map((d,p)=>f.jsx(Fce,{result:d},p))})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-surface-800/50 border border-surface-700/50 rounded-lg p-4",children:[f.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"What this does:"}),f.jsxs("ul",{className:"text-sm text-surface-300 space-y-1.5 list-disc list-inside",children:[f.jsxs("li",{children:["Scans all prompt files for metadata tags (",f.jsx("code",{className:"text-accent-400",children:"<pdd-reason>"}),", ",f.jsx("code",{className:"text-accent-400",children:"<pdd-interface>"}),", ",f.jsx("code",{className:"text-accent-400",children:"<pdd-dependency>"}),")"]}),f.jsx("li",{children:"Updates corresponding entries in architecture.json"}),f.jsx("li",{children:"Validates the updated architecture for circular dependencies"}),f.jsx("li",{children:"Preserves fields not specified in tags (description, priority, tags)"})]})]}),f.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-blue-300 mb-1",children:"Source of Truth"}),f.jsx("p",{className:"text-sm text-blue-200/80",children:"Prompts are authoritative. Tags in prompt files will override what's in architecture.json."})]})]}),e&&f.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[f.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{className:"text-surface-300",children:"Syncing..."})]})]})}),f.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-surface-700/50",children:u?f.jsx("button",{onClick:s,className:"px-4 py-2 bg-surface-700 hover:bg-surface-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Close"}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:s,disabled:e,className:"px-4 py-2 text-sm text-surface-300 hover:text-white transition-colors disabled:opacity-50",children:"Cancel"}),f.jsxs("button",{onClick:r,disabled:e,className:"px-4 py-2 bg-accent-600 hover:bg-accent-500 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e&&f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e?"Syncing...":"Sync Now"]})]})})]})]})},Fce=({result:t})=>{const[e,n]=_.useState(!1),r=t.changes&&Object.keys(t.changes).length>0;return f.jsxs("div",{className:"bg-surface-800/50 border border-surface-700/50 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[t.success?t.updated?f.jsx("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):f.jsx("svg",{className:"w-4 h-4 text-surface-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}):f.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),f.jsx("span",{className:"text-sm font-mono text-white",children:t.filename})]}),r&&f.jsxs("button",{onClick:()=>n(!e),className:"text-xs text-accent-400 hover:text-accent-300 flex items-center gap-1",children:[e?"Hide":"Show"," changes",f.jsx("svg",{className:`w-3 h-3 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f.jsx("p",{className:"text-xs text-surface-400",children:t.updated?`Updated: ${Object.keys(t.changes).join(", ")}`:t.error||"No changes needed"}),e&&r&&f.jsx("div",{className:"mt-3 pt-3 border-t border-surface-700/30 space-y-2",children:Object.entries(t.changes).map(([s,i])=>{const a=i;return f.jsxs("div",{className:"text-xs",children:[f.jsxs("div",{className:"text-surface-400 font-medium mb-1",children:[s,":"]}),f.jsxs("div",{className:"bg-surface-900/50 rounded p-2 space-y-1",children:[f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-red-400 flex-shrink-0",children:"-"}),f.jsxs("span",{className:"text-red-300/80 break-all",children:[JSON.stringify(a.old).slice(0,100),JSON.stringify(a.old).length>100?"...":""]})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400 flex-shrink-0",children:"+"}),f.jsxs("span",{className:"text-green-300/80 break-all",children:[JSON.stringify(a.new).slice(0,100),JSON.stringify(a.new).length>100?"...":""]})]})]})]},s)})})]})};function Kce(t=[]){const[e,n]=_.useState({past:[],present:t,future:[]}),[r,s]=_.useState(t),i=_.useMemo(()=>JSON.stringify(e.present)!==JSON.stringify(r),[e.present,r]),a=_.useCallback(k=>{n($=>({past:[...$.past.slice(-49),$.present],present:k,future:[]}))},[]),o=_.useCallback(k=>{a([...e.present,k])},[e.present,a]),u=_.useCallback((k,$)=>{const T=e.present.map(j=>j.filename===k?$:k!==$.filename?{...j,dependencies:j.dependencies.map(N=>N===k?$.filename:N)}:j);a(T)},[e.present,a]),d=_.useCallback(k=>{const $=e.present.filter(T=>T.filename!==k).map(T=>({...T,dependencies:T.dependencies.filter(j=>j!==k)}));a($)},[e.present,a]),p=_.useCallback((k,$)=>{const T=e.present.map(j=>j.filename===k?j.dependencies.includes($)?j:{...j,dependencies:[...j.dependencies,$]}:j);a(T)},[e.present,a]),m=_.useCallback((k,$)=>{const T=e.present.map(j=>j.filename===k?{...j,dependencies:j.dependencies.filter(N=>N!==$)}:j);a(T)},[e.present,a]),g=_.useCallback(k=>{n($=>({...$,present:$.present.map(T=>{const j=k.get(T.filename);return j?{...T,position:j}:T})}))},[]),x=_.useCallback(()=>{n(k=>{if(k.past.length===0)return k;const $=k.past[k.past.length-1];return{past:k.past.slice(0,-1),present:$,future:[k.present,...k.future]}})},[]),v=_.useCallback(()=>{n(k=>{if(k.future.length===0)return k;const $=k.future[0];return{past:[...k.past,k.present],present:$,future:k.future.slice(1)}})},[]),b=_.useCallback(k=>{s(k),n({past:[],present:k,future:[]})},[]),S=_.useCallback(()=>{n({past:[],present:r,future:[]})},[r]),Q=_.useCallback(()=>{S()},[S]);return{architecture:e.present,hasUnsavedChanges:i,addModule:o,updateModule:u,deleteModule:d,addDependency:p,removeDependency:m,updatePositions:g,undo:x,redo:v,canUndo:e.past.length>0,canRedo:e.future.length>0,setOriginal:b,reset:S,discardChanges:Q}}function vS(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const IA=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`arch-option-${t.name}`;if(t.type==="checkbox")return f.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[f.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:vS(t.name)}),f.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return f.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:vS(t.name)}),f.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),f.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:d=>n(parseFloat(d.target.value)),className:`flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500
              [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-500
              [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent-500/30
              [&::-webkit-slider-thumb]:hover:bg-accent-400 [&::-webkit-slider-thumb]:transition-colors`}),f.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return f.jsxs("div",{children:[f.jsx("label",{htmlFor:s,className:`block ${r?"text-xs":"text-sm"} font-medium text-white mb-1.5`,children:vS(t.name)}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mb-2`,children:t.description}),f.jsx("input",{type:t.type==="number"?"number":"text",id:s,value:e||"",onChange:i=>n(t.type==="number"?i.target.value?Number(i.target.value):"":i.target.value),placeholder:t.placeholder,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})},Jce=({serverConnected:t,isExecuting:e,onOpenPromptSpace:n,onBatchStart:r,onBatchProgress:s,onBatchComplete:i,executionMode:a,selectedRemoteSession:o,onRemoteJobSubmitted:u})=>{const[d,p]=_.useState(null),[m,g]=_.useState(!0),[x,v]=_.useState(null),[b,S]=_.useState("empty"),[Q,k]=_.useState(""),[$,T]=_.useState(""),[j,N]=_.useState(null),[C,q]=_.useState(""),[M,L]=_.useState(null),[E,Z]=_.useState(!1),[Y,R]=_.useState(null),[G,A]=_.useState("architecture.json"),[W,I]=_.useState(null),[U,ee]=_.useState(!1),[z,D]=_.useState(null),[K,B]=_.useState(!1),[H,J]=_.useState(null),[re,ie]=_.useState(null),[ce,ve]=_.useState(!1),[_e,ne]=_.useState(!1),[he,pe]=_.useState(!1),[xe,Ie]=_.useState({strength:dn.strength,temperature:dn.temperature,time:dn.time,verbose:dn.verbose,quiet:dn.quiet,force:dn.force,local:dn.local}),je=_.useRef(!1),[ke,Je]=_.useState(!1),[ut,et]=_.useState(!1),[jt,Ve]=_.useState(new Set),[nt,ln]=_.useState([]),[St,Ut]=_.useState(!1),[qt,pn]=_.useState(!1),[yn,Qt]=_.useState(!1),[Lt,dt]=_.useState(null),[rt,Wt]=_.useState(!1),[yt,Kt]=_.useState(null),[ir,ye]=_.useState(new Set),[Qe,Pe]=_.useState(window.innerWidth<768),[Fe,_t]=_.useState(!1),[Yt,Rn]=_.useState(!1),[mn,be]=_.useState(null),{architecture:Ce,hasUnsavedChanges:Ye,addModule:bn,updateModule:Mn,deleteModule:Ia,addDependency:Ha,removeDependency:Gi,updatePositions:Ii,undo:Hi,redo:Fi,canUndo:ar,canRedo:Jt,setOriginal:on,discardChanges:Qr}=Kce([]);_.useEffect(()=>{d&&on(d)},[d,on]),_.useEffect(()=>{const Oe=()=>Pe(window.innerWidth<768);return window.addEventListener("resize",Oe),()=>window.removeEventListener("resize",Oe)},[]);const Es=St?Ce:d,lr=_.useCallback(async()=>{try{const Oe=await Ee.listPrompts();ln(Oe);const $e=new Set(Oe.map(De=>De.prompt.split("/").pop()||""));Ve($e)}catch(Oe){console.error("Failed to load existing prompts:",Oe)}},[]);_.useEffect(()=>{(async()=>{if(!t){g(!1);return}g(!0);try{if((await Ee.checkArchitectureExists()).exists){const De=await Ee.getArchitecture();p(De),S("graph"),await lr()}else S("empty")}catch($e){console.error("Failed to load architecture:",$e),S("empty")}finally{g(!1)}})()},[t,lr]);const Jl=_.useCallback(async Oe=>{try{const $e=await Ee.getFileContent(Oe);if(Y==="prd")T($e.content),N(Oe),b==="empty"&&S("editor");else if(Y==="techStack")q($e.content),L(Oe);else if(Y==="architecture")try{const De=JSON.parse($e.content);p(De),S("graph"),await lr()}catch(De){console.error("Failed to parse architecture.json:",De),alert("Invalid architecture.json format. Please select a valid architecture file.");return}R(null)}catch($e){console.error("Failed to load file:",$e)}},[Y,b,lr]),ii=_.useCallback(async()=>{var Oe,$e;if(!G.trim()){I("Please enter a file path");return}I(null);try{const De=await Ee.getFileContent(G.trim()),ot=JSON.parse(De.content);p(ot),S("graph"),await lr()}catch(De){console.error("Failed to load architecture:",De),(Oe=De.message)!=null&&Oe.includes("404")||($e=De.message)!=null&&$e.includes("not found")?I(`File not found: ${G}`):De instanceof SyntaxError?I("Invalid JSON format in file"):I(De.message||"Failed to load architecture file")}},[G,lr]),ai=async()=>{if(!$.trim()&&!j){D("Please provide a PRD (Product Requirements Document)");return}ee(!0),D(null);try{if(a==="remote"&&o){if(!j&&$.trim()){D('Remote execution requires PRD to be loaded from a file. Please use "Load PRD" to select a file.'),ee(!1);return}const Oe=[];j&&Oe.push(`PRD_FILE=${j}`),M&&Oe.push(`TECH_STACK_FILE=${M}`),Q&&Oe.push(`APP_NAME=${Q}`);const $e={output:"architecture.json",template:"architecture/architecture_json",env:Oe};if(xe){const{strength:De,temperature:ot,time:en,verbose:Kn,quiet:cr,force:Wn}=xe;De!==void 0&&($e.strength=De),ot!==void 0&&($e.temperature=ot),en!==void 0&&($e.time=en),Kn&&($e.verbose=!0),cr&&($e.quiet=!0),Wn&&($e.force=!0)}try{await Ee.submitRemoteCommand({sessionId:o,type:"generate",payload:{args:{},options:$e}}),D(null),ee(!1),alert("Architecture generation command submitted to remote session. Check the remote machine for results.")}catch(De){D(`Failed to submit remote command: ${De instanceof Error?De.message:String(De)}`)}}else{const Oe=await Ee.generateArchitecture({prdPath:j||void 0,prdContent:j?void 0:$,techStackPath:M||void 0,techStackContent:M?void 0:C||void 0,appName:Q||void 0,globalOptions:xe});if(Oe.success){const $e=await Ee.getArchitecture();p($e),S("graph"),Je(!0)}else D(Oe.message||"Generation failed")}}catch(Oe){console.error("Failed to generate architecture:",Oe),D(Oe.message||"Failed to generate architecture")}finally{ee(!1)}},Fa=async()=>{try{await Ee.cancelCommand(),ee(!1)}catch(Oe){console.error("Failed to cancel:",Oe)}},fs=_.useCallback(Oe=>{const $e=Oe.filename.match(/_([A-Za-z]+)\.prompt$/),De=$e?$e[1].toLowerCase():void 0,ot=Oe.filename.replace(/_[A-Za-z]+\.prompt$/,""),en={prompt:`prompts/${Oe.filename}`,sync_basename:ot,language:De,code:Oe.filepath};n(en)},[n]),ds=_.useCallback(()=>{Je(!1),S("editor")},[]),As=_.useCallback(()=>{!d||d.length===0||ne(!0)},[d]),qs=_.useCallback(async Oe=>{if(ne(!1),Oe.length===0)return;je.current=!1,B(!0),ie(null),ve(!0);const $e=Oe.map(De=>{const ot=De.filename.match(/^(.+)_([^_]+)\.prompt$/);return{module:(ot==null?void 0:ot[1])||De.filename.replace(".prompt",""),langOrFramework:(ot==null?void 0:ot[2])||"Python"}});r==null||r("Generating Prompts",$e.length);try{if(a==="remote"&&o){const De=[];for(let en=0;en<$e.length&&!je.current;en++){const{module:Kn,langOrFramework:cr}=$e[en];J({current:en+1,total:$e.length,currentModule:Kn}),s==null||s(en+1,$e.length,Kn);try{const Wn=[`MODULE=${Kn}`,`LANG_OR_FRAMEWORK=${cr}`,"ARCHITECTURE_FILE=architecture.json"];j&&Wn.push(`PRD_FILE=${j}`),M&&Wn.push(`TECH_STACK_FILE=${M}`);const Ms={template:"generic/generate_prompt",env:Wn,output:`prompts/${Kn}_${cr}.prompt`};if(xe){const{strength:xd,temperature:Yc,time:Dc,verbose:Bc,quiet:NO,force:CO}=xe;xd!==void 0&&(Ms.strength=xd),Yc!==void 0&&(Ms.temperature=Yc),Dc!==void 0&&(Ms.time=Dc),Bc&&(Ms.verbose=!0),NO&&(Ms.quiet=!0),CO&&(Ms.force=!0)}const{commandId:gd}=await Ee.submitRemoteCommand({sessionId:o,type:"generate",payload:{args:{},options:Ms}}),Ji=`pdd generate --template generic/generate_prompt -o prompts/${Kn}_${cr}.prompt`;u==null||u(`[Remote] ${Ji}`,"generate",gd,o),De.push({module:`${Kn}_${cr}`,success:!0})}catch(Wn){De.push({module:`${Kn}_${cr}`,success:!1,error:Wn instanceof Error?Wn.message:String(Wn)})}}ie(De);const ot=De.every(en=>en.success);i==null||i(ot)}else{const De=await Ee.batchGeneratePrompts({modules:$e,architectureFile:"architecture.json",prdFile:j||void 0,techStackFile:M||void 0,globalOptions:xe},(en,Kn,cr)=>{J({current:en,total:Kn,currentModule:cr}),s==null||s(en,Kn,cr)},()=>je.current);ie(De);const ot=De.every(en=>en.success);i==null||i(ot)}}catch(De){console.error("Failed to generate prompts:",De),ie([{module:"error",success:!1,error:De.message||"Failed to generate prompts"}]),i==null||i(!1)}finally{B(!1),J(null)}},[j,M,xe,r,s,i,a,o,u]),cn=_.useCallback(async()=>{je.current=!0;try{await Ee.cancelCommand()}catch(Oe){console.error("Failed to cancel command:",Oe)}},[]),eo=_.useCallback(async()=>{ve(!1),ie(null),je.current=!1,await lr()},[lr]),to=_.useCallback(()=>{be(null),_t(!0)},[]),hs=_.useCallback(async()=>{Rn(!0);try{const Oe=await Ee.syncArchitectureFromPrompts({dry_run:!1});if(be(Oe),Oe.success&&Oe.validation.valid){const $e=await Ee.getArchitecture();p($e),await lr()}}catch(Oe){console.error("Sync failed:",Oe),be({success:!1,updated_count:0,skipped_count:0,results:[],validation:{valid:!0,errors:[],warnings:[]},errors:[Oe.message||"Unexpected error during sync"]})}finally{Rn(!1)}},[lr]),ps=_.useCallback(()=>{_t(!1),be(null)},[]),Zc=_.useCallback(()=>{if(St&&Ye)if(window.confirm("You have unsaved changes. Discard them?"))Qr(),Kt(null),ye(new Set);else return;Ut(!St)},[St,Ye,Qr]),no=_.useCallback(Oe=>{dt(Oe),pn(!0)},[]),ro=_.useCallback(Oe=>{Lt&&Mn(Lt.filename,Oe),pn(!1),dt(null)},[Lt,Mn]),Ki=_.useCallback(Oe=>{Ia(Oe),pn(!1),dt(null)},[Ia]),so=_.useCallback(Oe=>{bn(Oe)},[bn]),io=_.useCallback((Oe,$e)=>{Ha(Oe,$e)},[Ha]),ms=_.useCallback((Oe,$e)=>{Gi(Oe,$e)},[Gi]),or=_.useCallback(Oe=>{Ii(Oe)},[Ii]),Od=_.useCallback(Oe=>{if(!d)return;const $e=d.map(De=>{const ot=Oe.get(De.filename);return ot?{...De,position:ot}:De});p($e)},[d]),Vc=_.useCallback(async()=>{if(!(!Ce||Ce.length===0)){Wt(!0),Kt(null),ye(new Set);try{const Oe=await Ee.validateArchitecture(Ce);if(Kt(Oe),!Oe.valid){const De=new Set;for(const ot of Oe.errors)ot.modules.forEach(en=>De.add(en));ye(De),Wt(!1);return}const $e=await Ee.saveArchitecture(Ce);$e.success?(p(Ce),on(Ce),Ut(!1)):alert("Failed to save: "+($e.error||"Unknown error"))}catch(Oe){console.error("Failed to save architecture:",Oe),alert("Failed to save: "+Oe.message)}finally{Wt(!1)}}},[Ce,on]),Ka=_.useCallback(()=>{Ye&&!window.confirm("Are you sure you want to discard all changes?")||(Qr(),Kt(null),ye(new Set))},[Ye,Qr]);return _.useEffect(()=>{const Oe=$e=>{if(St&&(($e.ctrlKey||$e.metaKey)&&$e.key==="s"&&($e.preventDefault(),Ye&&Vc()),($e.ctrlKey||$e.metaKey)&&$e.key==="z"&&!$e.shiftKey&&($e.preventDefault(),ar&&Hi()),($e.ctrlKey||$e.metaKey)&&$e.key==="z"&&$e.shiftKey&&($e.preventDefault(),Jt&&Fi()),$e.key==="Escape"&&(qt?(pn(!1),dt(null)):yn?Qt(!1):Ye?Ka():Ut(!1)),$e.key==="n"&&!$e.ctrlKey&&!$e.metaKey&&!qt&&!yn)){if($e.target.tagName==="INPUT"||$e.target.tagName==="TEXTAREA")return;$e.preventDefault(),Qt(!0)}};return window.addEventListener("keydown",Oe),()=>window.removeEventListener("keydown",Oe)},[St,Ye,ar,Jt,qt,yn,Vc,Ka,Hi,Fi]),_.useEffect(()=>{const Oe=$e=>{St&&Ye&&($e.preventDefault(),$e.returnValue="")};return window.addEventListener("beforeunload",Oe),()=>window.removeEventListener("beforeunload",Oe)},[St,Ye]),m?f.jsx("div",{className:"flex items-center justify-center h-64",children:f.jsxs("div",{className:"flex items-center gap-3 text-surface-400",children:[f.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading architecture..."]})}):b==="empty"?f.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[f.jsxs("div",{className:"glass rounded-2xl p-8 max-w-lg text-center border border-surface-700/50",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-accent-500/20 flex items-center justify-center mx-auto mb-4",children:f.jsx("svg",{className:"w-8 h-8 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),f.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No architecture.json found"}),f.jsx("p",{className:"text-surface-400 text-sm mb-6",children:"Generate a new architecture from a PRD, or load an existing architecture.json file."}),f.jsxs("div",{className:"flex gap-3 justify-center mb-4",children:[f.jsx("button",{onClick:()=>S("editor"),className:"px-4 py-2.5 bg-accent-600 hover:bg-accent-500 text-white rounded-xl font-medium transition-colors",disabled:!t,children:"Write PRD"}),f.jsx("button",{onClick:()=>R("prd"),className:"px-4 py-2.5 bg-surface-700 hover:bg-surface-600 text-white rounded-xl font-medium transition-colors",disabled:!t,children:"Load PRD"})]}),f.jsxs("div",{className:"pt-4 border-t border-surface-700/50",children:[f.jsx("p",{className:"text-surface-500 text-xs mb-3",children:"Or load an existing architecture file"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:G,onChange:Oe=>{A(Oe.target.value),I(null)},placeholder:"architecture.json",className:"flex-1 px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-sm text-white placeholder-surface-500 focus:outline-none focus:border-accent-500",disabled:!t,onKeyDown:Oe=>{Oe.key==="Enter"&&ii()}}),f.jsx("button",{onClick:()=>R("architecture"),className:"p-2 bg-surface-700 hover:bg-surface-600 text-surface-400 hover:text-white rounded-lg transition-colors",disabled:!t,title:"Browse files",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),f.jsx("button",{onClick:ii,className:"px-4 py-2 bg-surface-700 hover:bg-surface-600 text-surface-300 hover:text-white rounded-lg text-sm font-medium transition-colors",disabled:!t,children:"Load"})]}),W&&f.jsx("p",{className:"text-red-400 text-xs mt-2",children:W})]}),!t&&f.jsx("p",{className:"text-yellow-400 text-xs mt-4",children:"Connect to server to enable architecture generation"})]}),Y&&f.jsx(C2,{onSelect:Jl,onClose:()=>R(null),filter:Y==="architecture"?".json":".md",title:Y==="prd"?"Select PRD File":Y==="architecture"?"Select Architecture File":"Select Tech Stack File"})]}):f.jsxs("div",{className:"flex gap-4 h-[calc(100vh-200px)] min-h-[500px]",children:[f.jsx("div",{className:`flex-shrink-0 transition-all duration-300 ${ke?"w-12":"w-80"}`,children:f.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 h-full flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"p-3 border-b border-surface-700/50 flex items-center justify-between",children:[!ke&&f.jsx("div",{className:"flex-1 min-w-0",children:f.jsx("input",{type:"text",value:Q,onChange:Oe=>k(Oe.target.value),placeholder:"Project Name",className:"w-full bg-transparent text-white text-sm font-medium placeholder-surface-500 focus:outline-none"})}),f.jsx("button",{onClick:()=>Je(!ke),className:"p-1.5 hover:bg-surface-700 rounded-lg transition-colors flex-shrink-0",title:ke?"Expand sidebar":"Collapse sidebar",children:f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${ke?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),!ke&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[f.jsxs("div",{className:"p-2 border-b border-surface-700/50 flex items-center justify-between",children:[f.jsx("span",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider",children:"PRD"}),f.jsx("button",{onClick:()=>R("prd"),className:"p-1 hover:bg-surface-700 rounded text-surface-400 hover:text-white transition-colors",title:"Browse files",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]}),j&&f.jsx("div",{className:"px-2 py-1 bg-surface-800/50 text-xs text-surface-400 truncate",children:j}),f.jsx("textarea",{value:$,onChange:Oe=>{T(Oe.target.value),N(null)},placeholder:`# Product Requirements

## Overview
Describe your product...

## Features
- Feature 1
- Feature 2`,className:"flex-1 p-3 bg-transparent text-sm text-white placeholder-surface-600 resize-none focus:outline-none font-mono"},j||"prd-manual")]}),f.jsxs("div",{className:"border-t border-surface-700/50",children:[f.jsxs("button",{onClick:()=>{ut||(et(!0),requestAnimationFrame(()=>{Z(!E),setTimeout(()=>et(!1),150)}))},className:"w-full p-2 flex items-center justify-between text-left hover:bg-surface-800/30 transition-colors",children:[f.jsx("span",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Tech Stack (optional)"}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${E?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&f.jsxs("div",{className:`border-t border-surface-700/30 transition-opacity duration-150 ${ut?"opacity-50":"opacity-100"}`,children:[f.jsx("div",{className:"p-2 flex items-center justify-end",children:f.jsx("button",{onClick:()=>R("techStack"),className:"p-1 hover:bg-surface-700 rounded text-surface-400 hover:text-white transition-colors",title:"Browse files",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})}),M&&f.jsx("div",{className:"px-2 py-1 bg-surface-800/50 text-xs text-surface-400 truncate",children:M}),f.jsx("textarea",{value:C,onChange:Oe=>{q(Oe.target.value),L(null)},placeholder:`Backend: Python, FastAPI
Frontend: React, TypeScript
Database: PostgreSQL`,className:"w-full h-24 p-3 bg-transparent text-sm text-white placeholder-surface-600 resize-none focus:outline-none font-mono"},M||"tech-manual")]})]}),f.jsxs("div",{className:"border-t border-surface-700/50",children:[f.jsxs("button",{onClick:()=>{ut||(et(!0),requestAnimationFrame(()=>{pe(!he),setTimeout(()=>et(!1),150)}))},className:"w-full p-2 flex items-center justify-between text-left hover:bg-surface-800/30 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),(xe.strength!==dn.strength||xe.temperature!==dn.temperature||xe.time!==dn.time||xe.local||xe.verbose||xe.quiet||xe.force)&&f.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${he?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),he&&f.jsxs("div",{className:`border-t border-surface-700/30 p-3 space-y-3 transition-opacity duration-150 ${ut?"opacity-50":"opacity-100"}`,children:[f.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),Or.filter(Oe=>["strength","temperature","time"].includes(Oe.name)).map(Oe=>f.jsx(IA,{option:Oe,value:xe[Oe.name],onChange:$e=>Ie(De=>({...De,[Oe.name]:$e})),compact:!0},Oe.name))]}),f.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),Or.filter(Oe=>["local","verbose","quiet","force"].includes(Oe.name)).map(Oe=>f.jsx(IA,{option:Oe,value:xe[Oe.name],onChange:$e=>Ie(De=>({...De,[Oe.name]:$e})),compact:!0},Oe.name))]})]})]}),f.jsxs("div",{className:"p-3 border-t border-surface-700/50",children:[z&&f.jsx("div",{className:"mb-2 p-2 bg-red-500/10 border border-red-500/20 rounded-lg text-xs text-red-400",children:z}),U?f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"flex-1 px-4 py-2.5 bg-surface-700 rounded-xl flex items-center justify-center gap-2",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4 text-surface-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.jsx("span",{className:"text-sm text-surface-400",children:"Generating..."})]}),f.jsx("button",{onClick:Fa,className:"px-3 py-2.5 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-xl text-sm font-medium transition-colors",children:"Stop"})]}):f.jsx("button",{onClick:ai,disabled:e||!t||!$.trim()&&!j,className:`w-full px-4 py-2.5 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 ${e||!t||!$.trim()&&!j?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25"}`,children:d?"Regenerate":"Generate Architecture"})]}),f.jsx("div",{className:"border-t border-surface-700/50",children:f.jsxs("div",{className:"p-3",children:[f.jsx("p",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider mb-2",children:"Load Architecture File"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"text",value:G,onChange:Oe=>{A(Oe.target.value),I(null)},placeholder:"architecture.json",className:"flex-1 px-2 py-1.5 bg-surface-900/50 border border-surface-600 rounded text-xs text-white placeholder-surface-500 focus:outline-none focus:border-accent-500",onKeyDown:Oe=>{Oe.key==="Enter"&&ii()}}),f.jsx("button",{onClick:()=>R("architecture"),className:"p-1.5 bg-surface-700 hover:bg-surface-600 text-surface-400 hover:text-white rounded transition-colors",title:"Browse files",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),f.jsx("button",{onClick:ii,className:"px-3 py-1.5 bg-surface-700 hover:bg-surface-600 text-surface-300 hover:text-white rounded text-xs font-medium transition-colors",children:"Load"})]}),W&&f.jsx("p",{className:"text-red-400 text-[10px] mt-1",children:W})]})}),f.jsx("div",{className:"border-t border-surface-700/50",children:f.jsx("div",{className:"p-3",children:f.jsxs("button",{onClick:()=>{p(null),T(""),N(null),q(""),L(null),k(""),S("empty"),Ut(!1)},className:"w-full px-3 py-2 bg-surface-800/50 hover:bg-surface-700 text-surface-400 hover:text-white rounded-lg text-xs font-medium transition-colors flex items-center justify-center gap-2",title:"Start a new project from scratch",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Start New Project"]})})})]})]})}),f.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[b==="graph"&&Es&&f.jsx(Dce,{editMode:St,hasUnsavedChanges:Ye,onToggleEditMode:Zc,onAddModule:()=>Qt(!0),onSave:Vc,onDiscard:Ka,onUndo:Hi,onRedo:Fi,canUndo:ar,canRedo:Jt,isSaving:rt,onSyncFromPrompts:to}),yt&&!yt.valid&&f.jsx("div",{className:"bg-red-500/10 border-b border-red-500/30 px-4 py-2",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm text-red-400 font-medium",children:"Cannot save: validation errors"}),f.jsx("ul",{className:"text-xs text-red-300 mt-1 space-y-0.5",children:yt.errors.map((Oe,$e)=>f.jsx("li",{children:Oe.message},$e))})]})]})}),f.jsx("div",{className:"flex-1 min-h-0",children:b==="graph"&&Es?Qe?f.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 h-full overflow-y-auto p-4",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),f.jsx("h3",{className:"text-white font-semibold mb-2",children:"Architecture Graph"}),f.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"The interactive architecture graph is best viewed on desktop devices (screen width > 768px)"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-surface-500",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("span",{children:"Module list shown below"})]})]}),f.jsx("div",{className:"space-y-3",children:Es.map(Oe=>f.jsxs("div",{className:"bg-surface-800/50 p-4 rounded-lg border border-surface-700/30 hover:border-surface-600/50 transition-colors",onClick:()=>fs(Oe),children:[f.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[f.jsx("div",{className:"font-medium text-white text-sm flex-1",children:Oe.filename}),jt.has(`${Oe.filename.replace(".py","")}.prompt`)&&f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-500/10 text-green-400 border border-green-500/20 flex-shrink-0",children:[f.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:f.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Prompt exists"]})]}),f.jsx("p",{className:"text-xs text-surface-400 line-clamp-2 mb-3",children:Oe.description}),Oe.dependencies&&Oe.dependencies.length>0&&f.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-surface-500",children:[f.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),f.jsxs("span",{className:"truncate",children:["Depends on: ",Oe.dependencies.join(", ")]})]})]},Oe.filename))}),!St&&f.jsx("button",{onClick:()=>As(),disabled:K,className:"mt-6 w-full px-4 py-3 bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white rounded-xl font-medium transition-all duration-200 shadow-lg shadow-accent-500/25 hover:shadow-accent-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:K?"Generating Prompts...":"Generate All Prompts"})]}):f.jsx(Zce,{architecture:Es,prdContent:$,appName:Q,onRegenerate:ds,onModuleClick:fs,onGeneratePrompts:As,isGeneratingPrompts:K,existingPrompts:jt,promptsInfo:nt,editMode:St,onModuleEdit:no,onModuleDelete:Ki,onDependencyAdd:io,onDependencyRemove:ms,onPositionsChange:or,highlightedModules:ir,onInitialPositionsCalculated:Od}):f.jsx("div",{className:"glass rounded-xl border border-surface-700/50 h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center text-surface-400",children:[f.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),f.jsx("p",{className:"text-sm",children:"Write your PRD and click Generate to create the architecture"})]})})})]}),Y&&f.jsx(C2,{onSelect:Jl,onClose:()=>R(null),filter:Y==="architecture"?".json":".md",title:Y==="prd"?"Select PRD File":Y==="architecture"?"Select Architecture File":"Select Tech Stack File"}),_e&&d&&f.jsx(Yce,{isOpen:_e,modules:d,existingPrompts:jt,globalOptions:xe,onGlobalOptionsChange:Ie,onClose:()=>ne(!1),onConfirm:qs}),ce&&f.jsx(Vce,{isOpen:ce,progress:H,results:re,onClose:eo,onCancel:K?cn:void 0}),f.jsx(Uce,{isOpen:qt,module:Lt,allModules:Ce,onSave:ro,onDelete:Ki,onClose:()=>{pn(!1),dt(null)}}),f.jsx(Ice,{isOpen:yn,existingModules:Ce,onAdd:so,onClose:()=>Qt(!1)}),f.jsx(Hce,{isOpen:Fe,isSyncing:Yt,result:mn,onSync:hs,onClose:ps})]})},eue=["python","typescript","javascript","java","go","rust","cpp","c","csharp","ruby","swift","kotlin"],HA={contexts:{default:{paths:["**"],defaults:{generate_output_path:"src/",test_output_path:"tests/",example_output_path:"examples/",default_language:"python"}}}},_n={generate_output_path:{label:"Code Output Directory",description:"Where generated code files will be saved",placeholder:"src/"},test_output_path:{label:"Test Output Directory",description:"Where generated test files will be saved",placeholder:"tests/"},example_output_path:{label:"Example Output Directory",description:"Where generated example files will be saved",placeholder:"examples/"},prompts_dir:{label:"Prompts Directory",description:"Custom directory for prompt files",placeholder:"prompts/"},default_language:{label:"Default Language"},strength:{label:"Model Strength",placeholder:"0.75"},temperature:{label:"Temperature",placeholder:"0.0"},budget:{label:"Budget",placeholder:"5.0"}},tue=({name:t,context:e,isDefault:n,onChange:r,onDelete:s,onRename:i})=>{const[a,o]=_.useState(!0),[u,d]=_.useState(!1),[p,m]=_.useState(!1),[g,x]=_.useState(t),v=($,T)=>{const j={...e.defaults};T===""||T===void 0?delete j[$]:j[$]=T,r(t,{...e,defaults:j})},b=$=>{const T=$.split(",").map(j=>j.trim()).filter(Boolean);r(t,{...e,paths:T})},S=e.paths||[],Q=e.defaults||{},k=()=>{g&&g!==t&&i(t,g),m(!1)};return f.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-surface-800/50 transition-colors",onClick:()=>o(!a),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Kz,{className:"w-5 h-5 text-accent-400"}),p&&!n?f.jsx("input",{type:"text",value:g,onChange:$=>x($.target.value),onBlur:k,onKeyDown:$=>{$.key==="Enter"&&k(),$.key==="Escape"&&(x(t),m(!1))},onClick:$=>$.stopPropagation(),className:"px-2 py-1 bg-surface-900 border border-surface-600 rounded text-white text-sm focus:outline-none focus:border-accent-500",autoFocus:!0}):f.jsxs("span",{className:"font-medium text-white",onDoubleClick:$=>{n||($.stopPropagation(),m(!0))},children:[t,n&&f.jsx("span",{className:"ml-2 text-xs text-surface-400",children:"(default)"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[!n&&f.jsx(Gr,{content:"Delete context",children:f.jsx("button",{onClick:$=>{$.stopPropagation(),s(t)},className:"p-1.5 hover:bg-red-500/20 rounded-lg transition-colors text-surface-400 hover:text-red-400",children:f.jsx(eee,{className:"w-4 h-4"})})}),a?f.jsx(ym,{className:"w-5 h-5 text-surface-400"}):f.jsx(bm,{className:"w-5 h-5 text-surface-400"})]})]}),a&&f.jsxs("div",{className:"p-4 pt-0 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"File Patterns"}),f.jsx("input",{type:"text",value:S.join(", "),onChange:$=>b($.target.value),placeholder:"**, frontend/**, backend/**",className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"}),f.jsx("p",{className:"mt-1 text-xs text-surface-500",children:"Glob patterns to match files (e.g., frontend/**, **/*.py)"})]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsx(Hs,{label:_n.generate_output_path.label,value:Q.generate_output_path||"",onChange:$=>v("generate_output_path",$),placeholder:_n.generate_output_path.placeholder,description:_n.generate_output_path.description,directoryMode:!0,title:"Select Code Output Directory"}),f.jsx(Hs,{label:_n.test_output_path.label,value:Q.test_output_path||"",onChange:$=>v("test_output_path",$),placeholder:_n.test_output_path.placeholder,description:_n.test_output_path.description,directoryMode:!0,title:"Select Test Output Directory"}),f.jsx(Hs,{label:_n.example_output_path.label,value:Q.example_output_path||"",onChange:$=>v("example_output_path",$),placeholder:_n.example_output_path.placeholder,description:_n.example_output_path.description,directoryMode:!0,title:"Select Example Output Directory"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:_n.default_language.label}),f.jsxs("select",{value:Q.default_language||"",onChange:$=>v("default_language",$.target.value),className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white focus:outline-none focus:border-accent-500 text-sm",children:[f.jsx("option",{value:"",children:"Select language..."}),eue.map($=>f.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]})]})]}),f.jsxs("button",{onClick:()=>d(!u),className:"flex items-center gap-2 text-sm text-surface-400 hover:text-white transition-colors",children:[u?f.jsx(ym,{className:"w-4 h-4"}):f.jsx(bm,{className:"w-4 h-4"}),"Advanced Options"]}),u&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-3 bg-surface-800/30 rounded-lg",children:[f.jsx(Hs,{label:_n.prompts_dir.label,value:Q.prompts_dir||"",onChange:$=>v("prompts_dir",$),placeholder:_n.prompts_dir.placeholder,description:_n.prompts_dir.description,directoryMode:!0,title:"Select Prompts Directory"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:_n.strength.label}),f.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",value:Q.strength??"",onChange:$=>v("strength",$.target.value?parseFloat($.target.value):void 0),placeholder:_n.strength.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:_n.temperature.label}),f.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:Q.temperature??"",onChange:$=>v("temperature",$.target.value?parseFloat($.target.value):void 0),placeholder:_n.temperature.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:_n.budget.label}),f.jsx("input",{type:"number",min:"0",step:"1",value:Q.budget??"",onChange:$=>v("budget",$.target.value?parseFloat($.target.value):void 0),placeholder:_n.budget.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]})]})]})]})},nue=()=>{const[t,e]=_.useState(null),[n,r]=_.useState(""),[s,i]=_.useState(!0),[a,o]=_.useState(!1),[u,d]=_.useState(null),[p,m]=_.useState(!1),[g,x]=_.useState(null),[v,b]=_.useState(!1),[S,Q]=_.useState(null),k=async()=>{i(!0),d(null);try{console.log("[ProjectSettings] Loading .pddrc configuration...");const L=await Ee.getPddrc();console.log("[ProjectSettings] Loaded config:",L),L?(e(L),r(JSON.stringify(L))):(console.log("[ProjectSettings] No .pddrc found, using defaults"),e(HA),r(""))}catch(L){console.error("[ProjectSettings] Error loading config:",L),d(L instanceof Error?L.message:"Failed to load configuration"),e(HA)}finally{console.log("[ProjectSettings] Loading complete"),i(!1)}};_.useEffect(()=>{k()},[]),_.useEffect(()=>{(async()=>{try{const E=await Ee.getAuthStatus();x(E)}catch{x({authenticated:!1,cached:!1,expires_at:null})}})()},[]);const $=async()=>{b(!0),Q(null);try{const L=await Ee.logout();if(L.success){Q({success:!0,message:"Tokens cleared. Run any pdd command to re-authenticate with GitHub."});const E=await Ee.getAuthStatus();x(E)}else Q(L)}catch(L){Q({success:!1,message:L instanceof Error?L.message:"Failed to clear tokens"})}finally{b(!1)}},T=_.useCallback(()=>t?JSON.stringify(t)!==n:!1,[t,n]),j=async()=>{if(t){o(!0),d(null);try{const L=await Ee.savePddrc(t);L.success?(r(JSON.stringify(t)),m(!0),setTimeout(()=>m(!1),3e3)):d(L.error||"Failed to save configuration")}catch(L){d(L instanceof Error?L.message:"Failed to save configuration")}finally{o(!1)}}},N=(L,E)=>{t&&e({...t,contexts:{...t.contexts,[L]:E}})},C=L=>{if(!t||L==="default")return;const E={...t.contexts};delete E[L],e({...t,contexts:E})},q=(L,E)=>{if(!t||L==="default"||!E||E===L)return;if(t.contexts[E]){d(`Context "${E}" already exists`);return}const Z={};for(const[Y,R]of Object.entries(t.contexts))Y===L?Z[E]=R:Z[Y]=R;e({...t,contexts:Z})},M=()=>{if(!t)return;let L="new-context",E=1;for(;t.contexts[L];)L=`new-context-${E}`,E++;e({...t,contexts:{...t.contexts,[L]:{paths:[],defaults:{}}}})};return s?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 bg-surface-900/50 rounded-xl",children:[f.jsx(yf,{className:"w-8 h-8 text-accent-400 animate-spin"}),f.jsx("p",{className:"mt-4 text-surface-400 text-sm",children:"Loading project settings..."})]}):t?f.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 animate-fade-in",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center",children:f.jsx(Jz,{className:"w-5 h-5 text-accent-400"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Project Settings"}),f.jsx("p",{className:"text-sm text-surface-400",children:"Configure where your code, tests, and examples are saved"})]})]}),f.jsx("button",{onClick:j,disabled:a||!T(),className:`px-4 py-2 rounded-xl font-medium transition-all flex items-center gap-2 ${a||!T()?"bg-surface-700 text-surface-500 cursor-not-allowed":p?"bg-green-600 text-white":"bg-accent-600 hover:bg-accent-500 text-white"}`,children:a?f.jsxs(f.Fragment,{children:[f.jsx(yf,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):p?"Saved!":"Save Changes"})]}),u&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-sm",children:u}),f.jsx("div",{className:"mb-6 p-4 glass rounded-xl border border-surface-700/50",children:f.jsxs("p",{className:"text-sm text-surface-300",children:["Define output paths for different parts of your project. Each ",f.jsx("strong",{children:"context"})," matches file patterns and applies specific settings. The ",f.jsx("strong",{children:"default"})," context matches all files not covered by other contexts."]})}),f.jsx("div",{className:"space-y-4",children:(t==null?void 0:t.contexts)&&Object.entries(t.contexts).map(([L,E])=>f.jsx(tue,{name:L,context:E,isDefault:L==="default",onChange:N,onDelete:C,onRename:q},L))}),f.jsxs("button",{onClick:M,className:"mt-4 w-full px-4 py-3 border-2 border-dashed border-surface-600 rounded-xl text-surface-400 hover:text-white hover:border-accent-500 transition-colors flex items-center justify-center gap-2",children:[f.jsx(tee,{className:"w-5 h-5"}),"Add Context"]}),f.jsxs("div",{className:"mt-8 glass rounded-xl border border-surface-700/50 p-4 sm:p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:f.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-semibold text-white",children:"PDD Cloud Authentication"}),f.jsx("p",{className:"text-sm text-surface-400",children:"Manage your GitHub authentication for PDD Cloud"})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-surface-800/50 mb-4",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${g!=null&&g.authenticated?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-white",children:g!=null&&g.authenticated?"Currently Authenticated":"Not Authenticated"}),f.jsx("p",{className:"text-xs text-surface-400",children:g!=null&&g.authenticated?g.cached?"Using cached JWT token":"Using refresh token":"No valid tokens found"})]})]}),f.jsx("p",{className:"text-sm text-surface-300 mb-4",children:"Clear stored tokens to force a fresh GitHub Device Flow login on the next PDD command."}),S&&f.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${S.success?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:S.message}),f.jsx("button",{onClick:$,disabled:v,className:"px-4 py-2 bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:v?f.jsxs(f.Fragment,{children:[f.jsx(yf,{className:"w-4 h-4 animate-spin"}),"Clearing..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Force Re-authentication"]})}),f.jsx("p",{className:"mt-2 text-xs text-surface-500",children:"Clears JWT cache (~/.pdd/jwt_cache) and refresh token from system keyring."})]}),T()&&f.jsx("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-yellow-300 text-sm",children:'You have unsaved changes. Click "Save Changes" to persist your configuration.'})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 gap-4",children:[f.jsx("p",{className:"text-surface-400",children:"Failed to load configuration"}),f.jsx("button",{onClick:k,className:"px-4 py-2 bg-accent-600 hover:bg-accent-500 text-white rounded-lg transition-colors",children:"Retry"})]})};function FA(t,e){const r=Math.floor((new Date().getTime()-t.getTime())/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60),i=r%60;if(s<60)return`${s}m ${i}s`;const a=Math.floor(s/60),o=s%60;return`${a}h ${o}m`}function rue(t){const e=Math.floor((new Date().getTime()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function sue(t){switch(t){case"queued":return{bg:"bg-yellow-500/20",text:"text-yellow-400",icon:"clock"};case"running":return{bg:"bg-accent-500/20",text:"text-accent-400",icon:"spinner"};case"completed":return{bg:"bg-green-500/20",text:"text-green-400",icon:"check"};case"failed":return{bg:"bg-red-500/20",text:"text-red-400",icon:"x"};case"cancelled":return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"slash"};default:return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"question"}}}const KA=({job:t,isSelected:e,onSelect:n,onCancel:r,onRemove:s,onMarkDone:i,onMarkStatus:a})=>{var g,x;const o=sue(t.status),u=t.status==="queued"||t.status==="running",d=t.id.startsWith("spawned-"),p=((g=t.metadata)==null?void 0:g.remote)===!0,m=t.progress?Math.round(t.progress.current/t.progress.total*100):null;return f.jsxs("div",{onClick:n,className:`
        relative p-4 rounded-xl border cursor-pointer transition-all duration-200
        ${e?"border-accent-500 bg-accent-500/10 shadow-lg shadow-accent-500/10":"border-surface-700/50 bg-surface-800/50 hover:border-surface-600 hover:bg-surface-800/80"}
      `,children:[f.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"text-sm font-medium text-white truncate",title:t.displayCommand,children:t.displayCommand}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${o.bg} ${o.text}`,children:[o.icon==="spinner"&&f.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),o.icon==="check"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.icon==="x"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),o.icon==="clock"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.icon==="slash"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),t.status]}),f.jsx("span",{className:"text-xs text-surface-500",children:u?FA(t.startedAt):t.completedAt?rue(t.completedAt):FA(t.startedAt)})]})]}),t.cost>0&&f.jsxs("span",{className:"text-xs text-surface-400 font-mono",children:["$",t.cost.toFixed(3)]})]}),u&&m!==null&&f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[f.jsx("span",{className:"text-surface-400 truncate max-w-[70%]",children:((x=t.progress)==null?void 0:x.message)||"Processing..."}),f.jsxs("span",{className:"text-accent-400 font-medium",children:[m,"%"]})]}),f.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-accent-600 to-accent-400 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}),t.status==="running"&&m===null&&f.jsx("div",{className:"mb-3",children:f.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-accent-600 to-accent-400 rounded-full animate-indeterminate"})})}),t.output.length>0&&f.jsx("div",{className:"mb-3 p-2 bg-surface-900/50 rounded-lg",children:f.jsx("p",{className:"text-xs text-surface-400 font-mono truncate",children:t.output[t.output.length-1]})}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u&&d&&!p&&i&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:v=>{v.stopPropagation(),i(!0)},className:"px-3 py-1.5 text-xs font-medium text-green-400 bg-green-500/10 hover:bg-green-500/20 border border-green-500/20 rounded-lg transition-colors",title:"Mark as successfully completed",children:"Done"}),f.jsx("button",{onClick:v=>{v.stopPropagation(),i(!1)},className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",title:"Mark as failed",children:"Failed"}),s&&f.jsx("button",{onClick:v=>{v.stopPropagation(),s()},className:"px-3 py-1.5 text-xs font-medium text-surface-400 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors",title:"Remove from dashboard (close terminal to stop command)",children:"Dismiss"})]}),u&&p&&a&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:v=>{v.stopPropagation(),a("completed")},className:"px-3 py-1.5 text-xs font-medium text-green-400 bg-green-500/10 hover:bg-green-500/20 border border-green-500/20 rounded-lg transition-colors",title:"Mark as successfully completed",children:"Done"}),f.jsx("button",{onClick:v=>{v.stopPropagation(),a("failed")},className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",title:"Mark as failed",children:"Failed"}),f.jsx("button",{onClick:v=>{v.stopPropagation(),a("cancelled")},className:"px-3 py-1.5 text-xs font-medium text-surface-400 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors",title:"Mark as cancelled",children:"Cancelled"})]}),u&&p&&f.jsx("button",{onClick:v=>{v.stopPropagation(),alert("Cancel Remote is not fully implemented yet. Use the manual status buttons above to mark the job status.")},className:"px-3 py-1.5 text-xs font-medium text-purple-400/50 bg-purple-500/5 border border-purple-500/10 rounded-lg cursor-not-allowed",title:"Coming soon - use manual status buttons for now",children:"Cancel Remote (Coming Soon)"}),u&&!d&&!p&&f.jsx("button",{onClick:v=>{v.stopPropagation(),r()},className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",children:"Cancel"}),!u&&s&&f.jsx("button",{onClick:v=>{v.stopPropagation(),s()},className:"px-3 py-1.5 text-xs font-medium text-surface-400 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors",children:"Remove"}),f.jsx("button",{onClick:v=>{v.stopPropagation(),n()},className:"px-3 py-1.5 text-xs font-medium text-accent-400 bg-accent-500/10 hover:bg-accent-500/20 border border-accent-500/20 rounded-lg transition-colors ml-auto",children:d?"Details":"View Output"})]})]})},Tt={background:"#0A0A23",cyan:"#00D8FF",purple:"#8C47FF",green:"#18C07A",magenta:"#FF2AA6",red:"#FF4444",white:"#F1F5F9"};function iue(t){switch(t){case"generate":return{path:"prompt-code",bidirectional:!1};case"example":return{path:"prompt-example",bidirectional:!1};case"test":return{path:"prompt-tests",bidirectional:!1};case"fix":return{path:"code-tests",bidirectional:!0};case"crash":case"verify":return{path:"code-example",bidirectional:!0};case"update":return{path:"code-prompt",bidirectional:!1};case"auto-deps":return{path:"none",bidirectional:!1};case"checking":case"initializing":case"synced":return{path:"all-pulse",bidirectional:!1};default:return{path:"none",bidirectional:!1}}}function JA(t){switch(t){case"generate":case"update":return"code";case"example":return"example";case"test":return"tests";case"fix":return"code";case"crash":case"verify":return"code";case"auto-deps":return"prompt";case"checking":case"initializing":return null;default:return null}}function aue(t){const e=Math.floor(t/3600),n=Math.floor(t%3600/60),r=Math.floor(t%60);return e>0?`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function hp(t){const e=t.split("/");return e[e.length-1]||t}const lue=({state:t})=>{const[e,n]=_.useState(t.elapsedSeconds),[r,s]=_.useState("forward"),[i,a]=_.useState(t.operation),[o,u]=_.useState(null),d=_.useRef(Date.now()-t.elapsedSeconds*1e3);_.useEffect(()=>{if(t.status!=="running")return;const N=setInterval(()=>{n(Math.floor((Date.now()-d.current)/1e3))},1e3);return()=>clearInterval(N)},[t.status]),_.useEffect(()=>{d.current=Date.now()-t.elapsedSeconds*1e3},[t.elapsedSeconds]);const p=_.useMemo(()=>iue(t.operation),[t.operation]);_.useEffect(()=>{if(!p.bidirectional)return;const N=setInterval(()=>{s(C=>C==="forward"?"reverse":"forward")},2500);return()=>clearInterval(N)},[p.bidirectional]),_.useEffect(()=>{if(t.operation!==i){const N=JA(t.operation);N&&(u(N),setTimeout(()=>u(null),300)),a(t.operation)}},[t.operation,i]);const m=JA(t.operation),g=t.status==="completed",x=t.status==="failed",v=t.status==="running",b=t.budget&&t.cost>t.budget*.8,S={prompt:{x:200,y:70},code:{x:100,y:220},example:{x:200,y:220},tests:{x:300,y:220}};function Q(N,C){const q=(N.y+C.y)/2;return`M ${N.x} ${N.y+25} C ${N.x} ${q}, ${C.x} ${q}, ${C.x} ${C.y-25}`}function k(){switch(p.path){case"prompt-code":return Q(S.prompt,S.code);case"prompt-example":return Q(S.prompt,S.example);case"prompt-tests":return Q(S.prompt,S.tests);case"code-tests":return Q(S.code,S.tests);case"code-example":return Q(S.code,S.example);case"code-prompt":return Q(S.code,S.prompt);default:return null}}const $=k(),T=`sync-path-${t.basename}`,j=`sync-glow-${t.basename}`;return f.jsxs("div",{className:"relative flex flex-col mx-auto rounded-xl overflow-hidden border",style:{minWidth:400,maxWidth:700,background:Tt.background,borderColor:"rgba(0, 216, 255, 0.15)",backdropFilter:"blur(8px)"},children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"radial-gradient(circle, rgba(0, 216, 255, 0.03) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),f.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 216, 255, 0.015) 2px, rgba(0, 216, 255, 0.015) 4px)",opacity:.3}}),f.jsxs("div",{className:"relative flex items-center justify-between px-4 py-3 border-b",style:{borderColor:"rgba(0, 216, 255, 0.15)"},children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{style:{color:Tt.cyan,fontSize:"14px"},children:""}),f.jsx("span",{className:"text-sm font-medium",style:{color:Tt.white},children:"Prompt Driven Development"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[g&&f.jsx("span",{className:"text-xs font-bold uppercase",style:{color:Tt.green},children:"Completed"}),x&&f.jsx("span",{className:"text-xs font-bold uppercase",style:{color:Tt.red},children:"Failed"}),v&&f.jsx("span",{className:"text-xs font-bold uppercase",style:{color:Tt.cyan,animation:"syncPulse 2s ease-in-out infinite"},children:t.operation})]})]}),f.jsxs("div",{className:"relative flex-1 p-4",style:{minHeight:280},children:[f.jsxs("svg",{viewBox:"0 0 400 300",className:"absolute inset-0 w-full h-full pointer-events-none",style:{padding:"16px"},children:[f.jsx("defs",{children:f.jsxs("filter",{id:j,children:[f.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"coloredBlur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),f.jsx("path",{d:Q(S.prompt,S.code),fill:"none",stroke:Tt.cyan,strokeWidth:"1.5",opacity:p.path==="prompt-code"||p.path==="code-prompt"?.8:.2,style:{transition:"opacity 0.5s ease"}}),f.jsx("path",{d:Q(S.prompt,S.example),fill:"none",stroke:Tt.cyan,strokeWidth:"1.5",opacity:p.path==="prompt-example"?.8:.2,style:{transition:"opacity 0.5s ease"}}),f.jsx("path",{d:Q(S.prompt,S.tests),fill:"none",stroke:Tt.cyan,strokeWidth:"1.5",opacity:p.path==="prompt-tests"?.8:.2,style:{transition:"opacity 0.5s ease"}}),f.jsx("path",{d:Q(S.code,S.tests),fill:"none",stroke:Tt.cyan,strokeWidth:"1.5",opacity:p.path==="code-tests"?.8:.2,style:{transition:"opacity 0.5s ease"}}),f.jsx("path",{d:Q(S.code,S.example),fill:"none",stroke:Tt.cyan,strokeWidth:"1.5",opacity:p.path==="code-example"?.8:.2,style:{transition:"opacity 0.5s ease"}}),f.jsx("circle",{cx:S.prompt.x,cy:S.prompt.y+25,r:"2",fill:Tt.cyan,opacity:"0.4"}),f.jsx("circle",{cx:S.code.x,cy:S.code.y-25,r:"2",fill:Tt.cyan,opacity:"0.4"}),f.jsx("circle",{cx:S.example.x,cy:S.example.y-25,r:"2",fill:Tt.cyan,opacity:"0.4"}),f.jsx("circle",{cx:S.tests.x,cy:S.tests.y-25,r:"2",fill:Tt.cyan,opacity:"0.4"}),$&&v&&f.jsxs(f.Fragment,{children:[f.jsx("path",{id:T,d:$,fill:"none",stroke:"none"}),f.jsx("circle",{r:"5",fill:Tt.cyan,filter:`url(#${j})`,children:f.jsx("animateMotion",{dur:"2.5s",repeatCount:"indefinite",keyPoints:r==="reverse"?"1;0":"0;1",keyTimes:"0;1",calcMode:"spline",keySplines:"0.42 0 0.58 1",children:f.jsx("mpath",{href:`#${T}`})})}),f.jsx("circle",{r:"3",fill:Tt.cyan,opacity:"0.5",children:f.jsx("animateMotion",{dur:"2.5s",repeatCount:"indefinite",keyPoints:r==="reverse"?"1;0":"0;1",keyTimes:"0;1",calcMode:"spline",keySplines:"0.42 0 0.58 1",begin:"-0.15s",children:f.jsx("mpath",{href:`#${T}`})})}),f.jsx("circle",{r:"2",fill:Tt.cyan,opacity:"0.3",children:f.jsx("animateMotion",{dur:"2.5s",repeatCount:"indefinite",keyPoints:r==="reverse"?"1;0":"0;1",keyTimes:"0;1",calcMode:"spline",keySplines:"0.42 0 0.58 1",begin:"-0.3s",children:f.jsx("mpath",{href:`#${T}`})})})]})]}),f.jsxs("div",{className:"relative w-full h-full",style:{minHeight:260},children:[f.jsx(pp,{label:"Prompt",emoji:"",filepath:hp(t.paths.prompt),color:Tt.purple,isActive:m==="prompt",isFlashing:o==="prompt",isCompleted:g,isFailed:x&&m==="prompt",isPulsing:t.operation==="auto-deps",allPulsing:p.path==="all-pulse"&&v,style:{position:"absolute",top:"5%",left:"50%",transform:"translateX(-50%)"}}),f.jsx(pp,{label:"Code",emoji:"",filepath:hp(t.paths.code),color:Tt.cyan,isActive:m==="code",isFlashing:o==="code",isCompleted:g,isFailed:x&&m==="code",allPulsing:p.path==="all-pulse"&&v,style:{position:"absolute",bottom:"5%",left:"8%"}}),f.jsx(pp,{label:"Example",emoji:"",filepath:hp(t.paths.example),color:Tt.green,isActive:m==="example",isFlashing:o==="example",isCompleted:g,isFailed:x&&m==="example",allPulsing:p.path==="all-pulse"&&v,style:{position:"absolute",bottom:"5%",left:"50%",transform:"translateX(-50%)"}}),f.jsx(pp,{label:"Tests",emoji:"",filepath:hp(t.paths.tests),color:Tt.magenta,isActive:m==="tests",isFlashing:o==="tests",isCompleted:g,isFailed:x&&m==="tests",allPulsing:p.path==="all-pulse"&&v,style:{position:"absolute",bottom:"5%",right:"8%"}})]})]}),f.jsxs("div",{className:"relative flex items-center justify-between px-4 py-2.5 border-t text-xs font-mono",style:{borderColor:"rgba(0, 216, 255, 0.15)"},children:[f.jsx("span",{style:{color:Tt.cyan,opacity:.6},children:t.basename}),f.jsx("span",{style:{color:Tt.cyan,opacity:.6},children:aue(v?e:t.elapsedSeconds)}),f.jsxs("span",{style:{color:b?Tt.magenta:Tt.cyan,opacity:.6},children:["$",t.cost.toFixed(2),t.budget!==null&&` / $${t.budget.toFixed(2)}`]})]}),f.jsx("style",{children:`
        @keyframes syncPulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.4; }
        }
        @keyframes syncBounce {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-2px); }
        }
        @keyframes syncFlash {
          0% { transform: scale(1.03); }
          100% { transform: scale(1); }
        }
        @keyframes syncShake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-3px); }
          75% { transform: translateX(3px); }
        }
        @keyframes syncGlowPulse {
          0%, 100% { box-shadow: 0 0 12px rgba(140, 71, 255, 0.3); }
          50% { box-shadow: 0 0 24px rgba(140, 71, 255, 0.6), 0 0 48px rgba(140, 71, 255, 0.3); }
        }
        @keyframes syncAllPulse {
          0%, 100% { opacity: 0.7; }
          50% { opacity: 1; }
        }
      `})]})},pp=({label:t,emoji:e,filepath:n,color:r,isActive:s,isFlashing:i,isCompleted:a,isFailed:o,isPulsing:u,allPulsing:d,style:p})=>{const m=o?Tt.red:a?Tt.green:r,g=s?`0 0 20px rgba(${mp(m)}, 0.5), 0 0 40px rgba(${mp(m)}, 0.2)`:`0 0 12px rgba(${mp(m)}, 0.15)`,x={};return i&&(x.animation="syncFlash 0.3s ease-out"),o&&(x.animation="syncShake 0.5s ease-out"),u&&(x.animation="syncGlowPulse 1.5s ease-in-out infinite"),d&&(x.animation="syncAllPulse 2s ease-in-out infinite"),f.jsxs("div",{style:{...p,...x,width:110,padding:"10px 8px",borderRadius:8,border:`2px solid ${m}`,background:`rgba(${mp(m)}, 0.08)`,boxShadow:g,transition:"box-shadow 0.5s ease, border-color 0.5s ease",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"1.2em",marginBottom:4,animation:s?"syncBounce 0.6s ease-in-out infinite":"none"},dangerouslySetInnerHTML:{__html:e}}),f.jsx("div",{style:{fontSize:11,fontWeight:600,color:m,marginBottom:3},children:t}),f.jsx("div",{className:"font-mono truncate",style:{fontSize:10,color:Tt.cyan,opacity:.7,maxWidth:94,margin:"0 auto"},title:n,children:n})]})};function mp(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?`${parseInt(e[1],16)}, ${parseInt(e[2],16)}, ${parseInt(e[3],16)}`:"0, 0, 0"}function eq(t,e){const r=Math.floor(((e||new Date).getTime()-t.getTime())/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60),i=r%60;if(s<60)return`${s}m ${i}s`;const a=Math.floor(s/60),o=s%60;return`${a}h ${o}m`}const oue=({job:t,onCancel:e,onClose:n})=>{var v;const r=_.useRef(null),[s,i]=_.useState(!0),[a,o]=_.useState(!1),[u,d]=_.useState(eq(t.startedAt,t.completedAt)),p=t.status==="queued"||t.status==="running",m=t.progress?Math.round(t.progress.current/t.progress.total*100):null;_.useEffect(()=>{if(!p)return;const b=setInterval(()=>{d(eq(t.startedAt,null))},1e3);return()=>clearInterval(b)},[p,t.startedAt]),_.useEffect(()=>{s&&r.current&&(r.current.scrollTop=r.current.scrollHeight)},[t.output,s]);const g=()=>{if(!r.current)return;const{scrollTop:b,scrollHeight:S,clientHeight:Q}=r.current,k=S-b-Q<50;i(k)},x=async()=>{const b=t.output.join(`
`);try{await navigator.clipboard.writeText(b),o(!0),setTimeout(()=>o(!1),2e3)}catch(S){console.error("Failed to copy:",S)}};return f.jsxs("div",{className:"flex flex-col h-full bg-surface-900 rounded-xl border border-surface-700/50 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-surface-800/50 border-b border-surface-700/50",children:[f.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[f.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${t.status==="running"?"bg-accent-400 animate-pulse":t.status==="queued"?"bg-yellow-400":t.status==="completed"?"bg-green-400":t.status==="failed"?"bg-red-400":"bg-surface-400"}`}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("h3",{className:"text-sm font-medium text-white truncate",children:t.displayCommand}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-surface-400",children:[f.jsx("span",{className:"capitalize",children:t.status}),f.jsx("span",{children:""}),f.jsx("span",{children:u}),t.cost>0&&f.jsxs(f.Fragment,{children:[f.jsx("span",{children:""}),f.jsxs("span",{className:"font-mono",children:["$",t.cost.toFixed(3)]})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:x,className:"px-3 py-1.5 text-xs font-medium text-surface-300 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors flex items-center gap-1.5",title:"Copy output",children:a?f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-3.5 h-3.5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})}),p&&f.jsx("button",{onClick:e,className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",children:"Cancel"}),f.jsx("button",{onClick:n,className:"p-1.5 text-surface-400 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",title:"Close",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),p&&f.jsx("div",{className:"px-4 py-2 bg-surface-800/30 border-b border-surface-700/30",children:m!==null?f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[f.jsx("span",{className:"text-surface-400 truncate max-w-[70%]",children:((v=t.progress)==null?void 0:v.message)||"Processing..."}),f.jsxs("span",{className:"text-accent-400 font-medium",children:[m,"%"]})]}),f.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-accent-600 to-accent-400 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}):f.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-accent-600 to-accent-400 rounded-full animate-indeterminate"})})}),t.syncState?f.jsx("div",{className:"flex-1 overflow-auto p-4 flex items-center justify-center",children:f.jsx(lue,{state:t.syncState})}):f.jsxs("div",{ref:r,onScroll:g,className:"flex-1 overflow-auto p-4 font-mono text-sm",children:[t.output.length===0?f.jsx("div",{className:"text-surface-500 text-center py-8",children:p?"Waiting for output...":"No output"}):f.jsx("pre",{className:"whitespace-pre-wrap break-words text-surface-300",children:t.output.map((b,S)=>f.jsx("div",{className:`${b.startsWith("[stderr]")?"text-red-400":b.startsWith(">")?"text-accent-400":""}`,children:b},S))}),!s&&t.output.length>0&&f.jsxs("button",{onClick:()=>{i(!0),r.current&&(r.current.scrollTop=r.current.scrollHeight)},className:"fixed bottom-20 right-8 px-3 py-2 bg-accent-600 hover:bg-accent-500 text-white text-xs font-medium rounded-lg shadow-lg transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Scroll to bottom"]})]}),t.status==="failed"&&t.error&&f.jsx("div",{className:"px-4 py-3 bg-red-500/10 border-t border-red-500/20",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-sm text-red-400",children:t.error})]})}),t.status==="completed"&&f.jsx("div",{className:"px-4 py-3 bg-green-500/10 border-t border-green-500/20",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f.jsx("p",{className:"text-sm text-green-400",children:"Job completed successfully"})]})})]})},cue=({activeJobs:t,completedJobs:e,selectedJob:n,onSelectJob:r,onCancelJob:s,onRemoveJob:i,onClearCompleted:a,onMarkSpawnedDone:o,onMarkJobStatus:u,batchOperation:d,onCancelBatchOperation:p})=>{const[m,g]=_.useState(!1),x=t.length>0||e.length>0,v=d&&d.status==="running";return!x&&!n&&!v?null:f.jsx("div",{className:"fixed bottom-12 left-0 right-0 z-50 pointer-events-none",children:f.jsxs("div",{className:`
          pointer-events-auto mx-4 mb-2 bg-surface-900/95 backdrop-blur-lg rounded-2xl border border-surface-700/50 shadow-2xl
          transition-all duration-300 ease-in-out
          ${m?"max-h-14":n?"max-h-[65vh]":"max-h-[35vh]"}
        `,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-700/50 cursor-pointer",onClick:()=>g(!m),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${m?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f.jsx("h2",{className:"text-sm font-medium text-white",children:"Jobs Dashboard"}),v&&f.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-500/20 text-purple-400 rounded-full flex items-center gap-1",children:[f.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.name]}),t.length>0&&f.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-accent-500/20 text-accent-400 rounded-full",children:[t.length," running"]}),e.length>0&&f.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-surface-700 text-surface-400 rounded-full",children:[e.length," completed"]})]}),f.jsx("div",{className:"flex items-center gap-2",onClick:b=>b.stopPropagation(),children:e.length>0&&f.jsx("button",{onClick:a,className:"px-3 py-1.5 text-xs font-medium text-surface-400 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",children:"Clear completed"})})]}),!m&&f.jsxs("div",{className:`flex ${n?"h-[calc(65vh-3.5rem)]":"h-[calc(35vh-3.5rem)]"}`,children:[f.jsxs("div",{className:`${n?"w-80 border-r border-surface-700/50":"w-full"} overflow-y-auto p-4`,children:[v&&d&&f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-xs font-medium text-purple-400 uppercase tracking-wider mb-3",children:"Batch Operation"}),f.jsxs("div",{className:"bg-surface-800/50 rounded-xl p-4 border border-purple-500/20",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-white",children:d.name}),p&&f.jsx("button",{onClick:p,className:"px-2 py-1 text-xs text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",children:"Cancel"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-surface-400 mb-2",children:[f.jsxs("span",{children:[d.current," / ",d.total]}),f.jsx("span",{className:"text-surface-600",children:""}),f.jsx("span",{className:"text-purple-400",children:d.currentItem})]}),f.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-accent-500 transition-all duration-300",style:{width:`${d.current/d.total*100}%`}})})]})]}),t.length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsx("h3",{className:"text-xs font-medium text-surface-500 uppercase tracking-wider mb-3",children:"Active Jobs"}),f.jsx("div",{className:"space-y-3",children:t.map(b=>f.jsx(KA,{job:b,isSelected:(n==null?void 0:n.id)===b.id,onSelect:()=>r(b.id),onCancel:()=>s(b.id),onRemove:()=>i(b.id),onMarkDone:o?S=>o(b.id,S):void 0,onMarkStatus:u?S=>u(b.id,S):void 0},b.id))})]}),e.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-xs font-medium text-surface-500 uppercase tracking-wider mb-3",children:"Recent Jobs"}),f.jsx("div",{className:"space-y-3",children:e.slice(0,10).map(b=>f.jsx(KA,{job:b,isSelected:(n==null?void 0:n.id)===b.id,onSelect:()=>r(b.id),onCancel:()=>{},onRemove:()=>i(b.id)},b.id))})]}),t.length===0&&e.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("svg",{className:"w-12 h-12 text-surface-600 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),f.jsx("p",{className:"text-surface-500 text-sm",children:"No jobs yet"}),f.jsx("p",{className:"text-surface-600 text-xs mt-1",children:"Run a command to see it here"})]})]}),n&&f.jsx("div",{className:"flex-1 p-4",children:f.jsx(oue,{job:n,onCancel:()=>s(n.id),onClose:()=>r(null)})})]})]})})};function uue(t,e){if(!t)return"";const r=Math.floor(((e||new Date).getTime()-t.getTime())/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60),i=r%60;if(s<60)return`${s}m ${i}s`;const a=Math.floor(s/60),o=s%60;return`${a}h ${o}m`}function fue(t){switch(t){case"pending":return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"clock"};case"running":return{bg:"bg-accent-500/20",text:"text-accent-400",icon:"spinner"};case"completed":return{bg:"bg-green-500/20",text:"text-green-400",icon:"check"};case"failed":return{bg:"bg-red-500/20",text:"text-red-400",icon:"x"};case"skipped":return{bg:"bg-yellow-500/20",text:"text-yellow-400",icon:"skip"};default:return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"question"}}}const due=({task:t,index:e,onRemove:n,onSkip:r,onRetry:s,onRunNow:i,isDraggable:a,onDragStart:o,onDragOver:u,onDrop:d,onDragEnd:p})=>{if(!t)return null;const m=fue(t.status||"pending"),g=t.status==="running",x=t.status==="pending",v=t.status==="failed",b=t.status==="completed"||t.status==="skipped";return f.jsxs("div",{draggable:a,onDragStart:o,onDragOver:u,onDrop:d,onDragEnd:p,className:`
        relative p-3 rounded-lg border transition-all duration-200
        ${g?"border-accent-500/50 bg-accent-500/10":b?"border-surface-700/30 bg-surface-800/30 opacity-75":"border-surface-700/50 bg-surface-800/50 hover:border-surface-600"}
        ${a?"cursor-grab active:cursor-grabbing":""}
      `,children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2 pt-0.5",children:[a?f.jsx("div",{className:"text-surface-500 hover:text-surface-400 cursor-grab",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}):f.jsx("div",{className:"w-4"}),f.jsx("span",{className:"text-xs text-surface-500 font-mono w-4 text-center",children:e+1})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"flex items-start justify-between gap-2",children:f.jsx("h4",{className:"text-sm font-medium text-white truncate",title:t.displayCommand||"Task",children:t.displayCommand||"Task"})}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${m.bg} ${m.text}`,children:[m.icon==="spinner"&&f.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),m.icon==="check"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m.icon==="x"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),m.icon==="clock"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.icon==="skip"&&f.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),t.status]}),(g||b)&&t.startedAt&&f.jsx("span",{className:"text-xs text-surface-500",children:uue(t.startedAt,t.completedAt)}),t.jobId&&f.jsxs("span",{className:"text-xs text-surface-600 font-mono",children:["#",t.jobId.slice(-6)]})]}),t.error&&f.jsx("p",{className:"text-xs text-red-400 mt-1 truncate",title:t.error,children:t.error})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[x&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:S=>{S.stopPropagation(),i()},className:"p-1.5 text-accent-400 hover:bg-accent-500/20 rounded transition-colors",title:"Run now",children:f.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),f.jsx("button",{onClick:S=>{S.stopPropagation(),r()},className:"p-1.5 text-yellow-400 hover:bg-yellow-500/20 rounded transition-colors",title:"Skip this task",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),v&&f.jsx("button",{onClick:S=>{S.stopPropagation(),s()},className:"p-1.5 text-accent-400 hover:bg-accent-500/20 rounded transition-colors",title:"Retry this task",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),!g&&f.jsx("button",{onClick:S=>{S.stopPropagation(),n()},className:"p-1.5 text-surface-500 hover:text-red-400 hover:bg-red-500/20 rounded transition-colors",title:"Remove from queue",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),g&&f.jsx("div",{className:"mt-2 h-1 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-accent-600 to-accent-400 rounded-full animate-indeterminate"})})]})},hue=({executionMode:t,isQueueRunning:e,isPaused:n,hasPendingTasks:r,hasCompletedTasks:s,hasAnyTasks:i,progress:a,onSetExecutionMode:o,onStartQueue:u,onPauseQueue:d,onResumeQueue:p,onRunNextTask:m,onClearCompleted:g,onClearAll:x})=>f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-surface-400",children:"Execution Mode"}),f.jsxs("div",{className:"flex items-center bg-surface-800 rounded-lg p-0.5 border border-surface-700",children:[f.jsx("button",{onClick:()=>o("auto"),className:`
              px-3 py-1 text-xs font-medium rounded-md transition-colors
              ${t==="auto"?"bg-accent-600 text-white":"text-surface-400 hover:text-white"}
            `,children:"Auto"}),f.jsx("button",{onClick:()=>o("manual"),className:`
              px-3 py-1 text-xs font-medium rounded-md transition-colors
              ${t==="manual"?"bg-accent-600 text-white":"text-surface-400 hover:text-white"}
            `,children:"Manual"})]})]}),i&&f.jsxs("div",{className:"flex items-center justify-between text-xs",children:[f.jsx("span",{className:"text-surface-400",children:"Progress"}),f.jsxs("span",{className:"text-surface-300",children:[a.completed," / ",a.total," completed"]})]}),i&&a.total>0&&f.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-accent-600 to-green-500 rounded-full transition-all duration-300",style:{width:`${a.completed/a.total*100}%`}})}),f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t==="auto"&&f.jsxs(f.Fragment,{children:[!e&&r&&f.jsxs("button",{onClick:u,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 rounded-lg transition-colors",children:[f.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start Queue"]}),e&&!n&&f.jsxs("button",{onClick:d,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-yellow-600 text-white hover:bg-yellow-500 rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pause"]}),e&&n&&f.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 rounded-lg transition-colors",children:[f.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Resume"]})]}),t==="manual"&&r&&a.running===0&&f.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),"Run Next"]}),s&&f.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Clear Completed"]}),i&&f.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]})]}),pue=({tasks:t,executionMode:e,isQueueRunning:n,isPaused:r,progress:s,onSetExecutionMode:i,onStartQueue:a,onPauseQueue:o,onResumeQueue:u,onRunNextTask:d,onRemoveTask:p,onSkipTask:m,onRetryTask:g,onReorderTasks:x,onClearCompleted:v,onClearAll:b})=>{const[S,Q]=_.useState(!1),[k,$]=_.useState(null),T=_.useCallback(E=>Z=>{if(!t||!t[E]||t[E].status!=="pending"){Z.preventDefault();return}$(E),Z.dataTransfer.effectAllowed="move"},[t]),j=_.useCallback(E=>Z=>{Z.preventDefault(),!(k===null||k===E)&&(!t||!t[E]||t[E].status!=="pending"||(Z.dataTransfer.dropEffect="move"))},[k,t]),N=_.useCallback(E=>Z=>{Z.preventDefault(),!(k===null||k===E)&&(!t||!t[E]||t[E].status!=="pending"||(x(k,E),$(null)))},[k,x,t]),C=_.useCallback(()=>{$(null)},[]);if(!Array.isArray(t))return console.error("TaskQueuePanel: tasks is not an array",t),null;const q=t.some(E=>(E==null?void 0:E.status)==="pending"),M=t.some(E=>(E==null?void 0:E.status)==="completed"||(E==null?void 0:E.status)==="failed"||(E==null?void 0:E.status)==="skipped"),L=t.length>0;return L?f.jsx("div",{className:"fixed top-16 right-4 z-40 pointer-events-none",style:{width:"380px"},children:f.jsxs("div",{className:`
          pointer-events-auto bg-surface-900/95 backdrop-blur-lg rounded-2xl border border-surface-700/50 shadow-2xl
          transition-all duration-300 ease-in-out
          ${S?"max-h-14":"max-h-[70vh]"}
        `,children:[f.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-700/50 cursor-pointer",onClick:()=>Q(!S),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${S?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Task Queue"]}),n&&!r&&f.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-accent-500/20 text-accent-400 rounded-full flex items-center gap-1",children:[f.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Running"]}),n&&r&&f.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-yellow-500/20 text-yellow-400 rounded-full",children:"Paused"}),f.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-surface-700 text-surface-400 rounded-full",children:[s.pending," pending"]})]}),f.jsx("div",{className:"flex items-center gap-2",onClick:E=>E.stopPropagation(),children:f.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${e==="auto"?"bg-green-500/20 text-green-400":"bg-surface-700 text-surface-400"}`,children:e==="auto"?"Auto":"Manual"})})]}),!S&&f.jsxs("div",{className:"max-h-[calc(70vh-3.5rem)] overflow-hidden flex flex-col",children:[f.jsx("div",{className:"px-4 py-3 border-b border-surface-700/30",children:f.jsx(hue,{executionMode:e,isQueueRunning:n,isPaused:r,hasPendingTasks:q,hasCompletedTasks:M,hasAnyTasks:L,progress:s,onSetExecutionMode:i,onStartQueue:a,onPauseQueue:o,onResumeQueue:u,onRunNextTask:d,onClearCompleted:v,onClearAll:b})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[f.jsx("div",{className:"space-y-2",children:t.map((E,Z)=>!E||!E.id?null:f.jsx(due,{task:E,index:Z,isDraggable:E.status==="pending",onRemove:()=>p(E.id),onSkip:()=>m(E.id),onRetry:()=>g(E.id),onRunNow:d,onDragStart:T(Z),onDragOver:j(Z),onDrop:N(Z),onDragEnd:C},E.id))}),t.length===0&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("svg",{className:"w-12 h-12 text-surface-600 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),f.jsx("p",{className:"text-surface-500 text-sm",children:"Queue is empty"}),f.jsx("p",{className:"text-surface-600 text-xs mt-1",children:"Add tasks to run them in sequence"})]})]})]})]})}):null};function wS(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const SS=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`queue-option-${t.name}`;if(t.type==="checkbox")return f.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[f.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:wS(t.name)}),f.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return f.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:wS(t.name)}),f.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),f.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:d=>n(parseFloat(d.target.value)),className:"flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500"}),f.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return f.jsxs("div",{children:[f.jsxs("label",{htmlFor:s,className:`block ${r?"text-xs":"text-sm"} font-medium text-white mb-1.5`,children:[wS(t.name),t.required&&f.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),f.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mb-2`,children:t.description}),f.jsx("input",{type:t.type==="number"?"number":"text",id:s,value:e||"",onChange:i=>n(t.type==="number"?i.target.value?Number(i.target.value):"":i.target.value),placeholder:t.placeholder,required:t.required,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})},mue=({isOpen:t,prompt:e,preselectedCommand:n,onAddToQueue:r,onClose:s})=>{var S;const i=_.useMemo(()=>Object.values(Ra).filter(Q=>Q.requiresPrompt),[]),[a,o]=_.useState(n||null),[u,d]=_.useState(!1),[p,m]=_.useState({}),g=a?Ra[a]:null;fe.useEffect(()=>{if(!g){m({});return}const Q={};g.options.forEach(k=>{k.defaultValue!==void 0&&(k.type==="checkbox"?Q[k.name]=k.defaultValue==="true"||k.defaultValue===!0:(k.type==="number"||k.type,Q[k.name]=k.defaultValue))}),g.requiresCode&&(e!=null&&e.code)&&(Q._code=e.code),g.requiresTest&&(e!=null&&e.test)&&(Q._test=e.test),g.name===Ze.SUBMIT_EXAMPLE&&(e!=null&&e.example)&&(Q["verification-program"]=e.example),Or.forEach(k=>{Q[`_global_${k.name}`]=k.defaultValue}),m(Q)},[g,e]),fe.useEffect(()=>{t||(o(n||null),d(!1))},[t,n]);const x=(Q,k)=>{m($=>({...$,[Q]:k}))},v=()=>{if(!g||!e||!a)return;const Q=I2(g.name,e,p);r(g.name,e,p,Q),s()},b=Or.some(Q=>p[`_global_${Q.name}`]!==Q.defaultValue);return t?Array.isArray(i)?f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:f.jsxs("div",{className:"glass rounded-none sm:rounded-2xl border-0 sm:border border-surface-600/50 shadow-2xl w-full h-full sm:h-auto sm:max-w-md sm:max-h-[90vh] overflow-y-auto animate-scale-in",onClick:Q=>Q.stopPropagation(),children:[f.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-surface-700/50",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:f.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add to Task Queue"}),f.jsx("p",{className:"text-xs sm:text-sm text-surface-400",children:"Queue this task for later execution"})]})]})}),f.jsxs("div",{className:"px-4 sm:px-6 py-4 space-y-4 max-h-[50vh] sm:max-h-[60vh] overflow-y-auto",children:[e&&f.jsxs("div",{className:"bg-surface-800/50 rounded-xl px-3 py-2.5 border border-surface-700/50",children:[f.jsx("div",{className:"text-xs text-surface-400 mb-0.5",children:"Target Prompt"}),f.jsx("div",{className:"text-sm text-white font-mono truncate",children:e.sync_basename||((S=e.prompt)==null?void 0:S.split("/").pop())||"Unknown"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Command"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(Q=>Q&&f.jsxs("button",{onClick:()=>o(Q.name),className:`
                    flex items-center gap-2 px-3 py-2.5 rounded-xl text-sm text-left transition-all
                    ${a===Q.name?"bg-accent-600 text-white border border-accent-500":"bg-surface-800/50 text-surface-300 border border-surface-700 hover:bg-surface-700/50"}
                  `,children:[f.jsx("span",{children:Q.icon||""}),f.jsx("span",{className:"truncate",children:Q.shortDescription||Q.name})]},Q.name))})]}),g&&f.jsxs(f.Fragment,{children:[g.requiresCode&&f.jsx(Hs,{label:"Code File",value:p._code||"",onChange:Q=>x("_code",Q),placeholder:"e.g., src/calculator.py",required:!0,filter:[".py",".ts",".tsx",".js",".jsx",".java",".go",".rs",".rb",".php",".cs",".cpp",".c",".h"],title:"Select Code File",isDetected:!!(e!=null&&e.code)}),g.requiresTest&&f.jsx(Hs,{label:"Test File",value:p._test||"",onChange:Q=>x("_test",Q),placeholder:"e.g., tests/test_calculator.py",required:!0,filter:[".py",".ts",".tsx",".js",".jsx",".java",".go",".rs",".rb",".php",".cs",".cpp",".c"],title:"Select Test File",isDetected:!!(e!=null&&e.test)}),g.options.length>0&&f.jsx("div",{className:"space-y-3",children:g.options.map(Q=>f.jsx(SS,{option:Q,value:p[Q.name],onChange:k=>x(Q.name,k)},Q.name))}),f.jsxs("div",{className:"border-t border-surface-700/30 pt-3 mt-2",children:[f.jsxs("button",{type:"button",onClick:()=>d(!u),className:"w-full flex items-center justify-between text-left group",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),b&&f.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),f.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&f.jsxs("div",{className:"mt-3 space-y-3 animate-slide-down",children:[f.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),Or.filter(Q=>["strength","temperature","time"].includes(Q.name)).map(Q=>f.jsx(SS,{option:Q,value:p[`_global_${Q.name}`],onChange:k=>x(`_global_${Q.name}`,k),compact:!0},Q.name))]}),f.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[f.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),Or.filter(Q=>["local","verbose","quiet","force","review-examples"].includes(Q.name)).map(Q=>f.jsx(SS,{option:Q,value:p[`_global_${Q.name}`],onChange:k=>x(`_global_${Q.name}`,k),compact:!0},Q.name))]})]})]})]})]}),f.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-surface-700/50 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3",children:[f.jsx("button",{type:"button",onClick:s,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-surface-700/50 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),f.jsxs("button",{type:"button",onClick:v,disabled:!a||!e,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white shadow-lg shadow-emerald-500/25 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),f.jsx("span",{children:"Add to Queue"})]})]})]})}):(console.error("AddToQueueModal: availableCommands is not an array"),null):null},Oue=({onReauth:t})=>{const[e,n]=_.useState(null),[r,s]=_.useState(!0);if(_.useEffect(()=>{const a=async()=>{try{const u=await Ee.getAuthStatus();n(u)}catch{n({authenticated:!1,cached:!1,expires_at:null})}finally{s(!1)}};a();const o=setInterval(a,3e4);return()=>clearInterval(o)},[]),r)return f.jsxs("div",{className:"flex items-center gap-1.5 px-2 sm:px-3 py-1.5 rounded-full bg-surface-800/50",children:[f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-surface-500 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),f.jsx("span",{className:"text-xs text-surface-400 hidden sm:inline",children:"Auth..."})]});const i=e==null?void 0:e.authenticated;return f.jsxs("button",{onClick:t,className:`flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-1.5 rounded-full transition-colors ${i?"bg-blue-500/10 text-blue-400 border border-blue-500/20 hover:bg-blue-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20 hover:bg-yellow-500/20"}`,title:i?"Cloud Authenticated - Click to manage authentication":"Not authenticated - Click to login",children:[f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),f.jsx("span",{className:"sr-only",children:i?"Cloud Authenticated - Click to manage authentication":"Not authenticated - Click to login"}),f.jsx("span",{className:"hidden xs:inline","aria-hidden":"true",children:i?"Logged In":"Login"}),f.jsx("span",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full ${i?"bg-blue-400":"bg-yellow-400 animate-pulse"}`})]})},gue=({onClose:t})=>{const[e,n]=_.useState(null),[r,s]=_.useState({phase:"idle"}),[i,a]=_.useState(!1),[o,u]=_.useState(!1),d=_.useRef(null);_.useEffect(()=>{(async()=>{try{const b=await Ee.getAuthStatus();n(b)}catch{n({authenticated:!1,cached:!1,expires_at:null})}})()},[]),_.useEffect(()=>()=>{d.current&&clearInterval(d.current)},[]);const p=_.useCallback(v=>{d.current&&clearInterval(d.current);const b=async()=>{try{const S=await Ee.pollLoginStatus(v);if(S.status==="completed"){d.current&&(clearInterval(d.current),d.current=null),s({phase:"success"});const Q=await Ee.getAuthStatus();n(Q)}else S.status==="expired"?(d.current&&(clearInterval(d.current),d.current=null),s({phase:"error",message:S.message||"Authentication timed out. Please try again."})):S.status==="error"&&(d.current&&(clearInterval(d.current),d.current=null),s({phase:"error",message:S.message||"Authentication failed."}))}catch(S){console.error("Poll error:",S)}};b(),d.current=window.setInterval(b,3e3)},[]),m=async()=>{s({phase:"starting"}),a(!1);try{const v=await Ee.startLogin({no_browser:o});if(!v.success||!v.user_code||!v.verification_uri||!v.poll_id){s({phase:"error",message:v.error||"Failed to start authentication"});return}const b=Date.now()+(v.expires_in||900)*1e3;s({phase:"waiting",userCode:v.user_code,verificationUri:v.verification_uri,pollId:v.poll_id,expiresAt:b}),p(v.poll_id)}catch(v){s({phase:"error",message:v instanceof Error?v.message:"Failed to start authentication"})}},g=async()=>{if(r.phase==="waiting")try{await navigator.clipboard.writeText(r.userCode),a(!0),setTimeout(()=>a(!1),2e3)}catch(v){console.error("Failed to copy:",v)}},x=()=>{d.current&&(clearInterval(d.current),d.current=null),s({phase:"idle"})};return f.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"reauth-modal-title",children:f.jsxs("div",{className:"bg-gray-800 rounded-none sm:rounded-lg shadow-xl w-full h-full sm:h-auto sm:max-w-md sm:max-h-[90vh] flex flex-col ring-1 ring-white/10 overflow-y-auto",onClick:v=>v.stopPropagation(),children:[f.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[f.jsxs("h2",{id:"reauth-modal-title",className:"text-lg font-semibold text-white flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"PDD Cloud Authentication"]}),f.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Close modal",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsxs("main",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-700/50",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${e!=null&&e.authenticated?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-white",children:e!=null&&e.authenticated?"Currently Authenticated":"Not Authenticated"}),f.jsx("p",{className:"text-xs text-gray-400",children:e!=null&&e.authenticated?e.cached?"Using cached JWT token":"Using refresh token":"No valid tokens found"})]})]}),r.phase==="idle"&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("p",{className:"text-sm text-gray-300",children:["Click the button below to authenticate with GitHub.",!o&&" A browser window will open for you to authorize PDD."]}),f.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer hover:text-gray-300 transition-colors",children:[f.jsx("input",{type:"checkbox",checked:o,onChange:v=>u(v.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 cursor-pointer"}),f.jsx("span",{children:"Don't open browser automatically (I'll open the link manually)"})]})]}),r.phase==="starting"&&f.jsxs("div",{className:"flex items-center justify-center gap-3 py-6",children:[f.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-400",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{className:"text-gray-300",children:"Starting GitHub authentication..."})]}),r.phase==="waiting"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("p",{className:"text-sm text-gray-300",children:o?"Open the link below in your browser and enter this code on GitHub:":"A browser window has opened. Enter this code on GitHub:"}),f.jsxs("button",{onClick:g,className:"group relative inline-flex items-center gap-2 px-6 py-3 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",title:"Click to copy",children:[f.jsx("span",{className:"text-2xl font-mono font-bold text-white tracking-wider","aria-label":"Device verification code",children:r.userCode}),f.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),i&&f.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-green-600 text-white text-xs rounded",children:"Copied!"})]})]}),f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{children:"Waiting for authorization..."})]}),f.jsxs("p",{className:"text-xs text-center text-gray-500",children:[o?"Visit: ":"If the browser didn't open, go to: ",f.jsx("a",{href:r.verificationUri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:r.verificationUri})]})]}),r.phase==="success"&&f.jsxs("div",{className:"p-4 rounded-lg bg-green-500/20 border border-green-500/30 text-center space-y-2",children:[f.jsx("svg",{className:"w-12 h-12 mx-auto text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-green-300 font-medium",children:"Authentication Successful!"}),f.jsx("p",{className:"text-sm text-green-400/80",children:"You can now use PDD Cloud features."})]}),r.phase==="error"&&f.jsxs("div",{className:"p-4 rounded-lg bg-red-500/20 border border-red-500/30 space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsx("p",{className:"text-sm text-red-300",children:r.message})]}),f.jsx("button",{onClick:x,className:"w-full px-3 py-2 text-sm bg-red-600/30 hover:bg-red-600/50 text-red-200 rounded transition-colors",children:"Try Again"})]})]}),f.jsxs("footer",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end gap-3 rounded-b-lg",children:[f.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium bg-gray-600 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-gray-500 transition-colors",children:r.phase==="success"?"Done":"Close"}),(r.phase==="idle"||r.phase==="error")&&f.jsxs("button",{onClick:m,className:"px-4 py-2 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 transition-colors flex items-center gap-2",children:[f.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"})}),"Login with GitHub"]})]})]})})};class xue extends fe.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-xl p-6 max-w-2xl w-full",children:[f.jsx("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Something went wrong"}),f.jsxs("div",{className:"bg-surface-900 rounded-lg p-4 mb-4 overflow-auto max-h-64",children:[f.jsx("pre",{className:"text-sm text-red-300 whitespace-pre-wrap",children:(e=this.state.error)==null?void 0:e.toString()}),this.state.errorInfo&&f.jsx("pre",{className:"text-xs text-surface-400 mt-2 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]}),f.jsx("button",{onClick:()=>{localStorage.removeItem("pdd-task-queue"),window.location.reload()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-500 transition-colors",children:"Clear Queue Data & Reload"})]})}):this.props.children}}const yue=({sessions:t,selectedSessionId:e,onSelectSession:n,disabled:r=!1,error:s=null,onRefresh:i})=>{const[a,o]=_.useState(!1),u=t.find(p=>p.sessionId===e),d=p=>{try{const m=new Date(p),x=new Date().getTime()-m.getTime(),v=Math.floor(x/6e4),b=Math.floor(x/36e5);return v<1?"just now":v<60?`${v}m ago`:b<24?`${b}h ago`:`${Math.floor(b/24)}d ago`}catch{return"unknown"}};return f.jsxs("div",{className:"flex flex-col gap-1.5",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-1.5 md:gap-2",children:[f.jsx("label",{className:"text-xs sm:text-sm text-surface-300 font-medium whitespace-nowrap",children:"Session:"}),f.jsxs("select",{value:e||"",onChange:p=>n(p.target.value||null),disabled:r||t.length===0,className:"w-full md:w-48 lg:w-56 px-2 sm:px-3 py-1 sm:py-1.5 bg-surface-800 border border-surface-700 rounded-lg text-xs sm:text-sm text-surface-200 focus:outline-none focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx("option",{value:"",children:"-- Select Session --"}),t.map(p=>f.jsxs("option",{value:p.sessionId,children:[p.projectName," @ ",p.metadata.hostname,p.status==="stale"?" (offline)":""]},p.sessionId))]}),t.length===0&&!s&&f.jsx("span",{className:"text-xs text-surface-500",children:"No sessions"}),s&&f.jsx("span",{className:"text-xs text-red-400",children:" Error loading sessions"}),f.jsx("button",{onClick:()=>o(!a),className:"ml-2 px-2 py-0.5 text-xs text-surface-400 hover:text-surface-200 border border-surface-700 hover:border-surface-500 rounded transition-colors",title:"Toggle debug info",children:a?" Hide Debug":" Debug"}),i&&f.jsx("button",{onClick:i,className:"ml-1 px-2 py-0.5 text-xs text-surface-400 hover:text-surface-200 border border-surface-700 hover:border-surface-500 rounded transition-colors",title:"Refresh sessions",children:""}),u&&f.jsxs("div",{className:"w-full md:w-auto mt-1.5 md:mt-0 md:ml-2 flex items-center gap-2 text-xs text-surface-400",children:[f.jsxs("span",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium ${u.status==="active"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u.status==="active"?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),u.status==="active"?"Active":"Offline"]}),f.jsx("span",{className:"hidden lg:inline text-xs text-surface-400",children:d(u.lastHeartbeat)}),f.jsx("span",{className:"hidden xl:inline text-xs text-surface-500 truncate max-w-[150px] lg:max-w-[200px]",title:u.projectPath,children:u.projectPath})]})]}),u&&u.status==="stale"&&f.jsx("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium text-yellow-400",children:"Session Offline"}),f.jsx("p",{className:"text-xs text-yellow-200/70 mt-0.5",children:"This session has not sent a heartbeat recently. The remote machine may not be running. Commands submitted may not be executed."})]})]})}),a&&f.jsxs("div",{className:"mt-2 p-3 bg-surface-900/50 border border-surface-700 rounded-lg text-xs",children:[f.jsx("div",{className:"font-semibold text-surface-300 mb-2",children:" Debug Information"}),f.jsxs("div",{className:"space-y-1 text-surface-400",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"text-surface-500 min-w-[100px]",children:"Sessions:"}),f.jsxs("span",{children:[t.length," found"]})]}),s&&f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"text-surface-500 min-w-[100px]",children:"Error:"}),f.jsx("span",{className:"text-red-400 flex-1 break-words",children:s})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"text-surface-500 min-w-[100px]",children:"Last Fetch:"}),f.jsx("span",{children:new Date().toLocaleTimeString()})]}),f.jsxs("div",{className:"mt-2 pt-2 border-t border-surface-700",children:[f.jsx("div",{className:"text-surface-500 mb-1",children:"Troubleshooting:"}),f.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-surface-400",children:[(s==null?void 0:s.includes("Not authenticated"))&&f.jsx("li",{children:"Not authenticated. Run: pdd auth login"}),(s==null?void 0:s.includes("401"))||(s==null?void 0:s.includes("403"))&&f.jsx("li",{children:"JWT token expired or invalid. Try: source setup_staging_env.sh"}),(s==null?void 0:s.includes("timeout"))||(s==null?void 0:s.includes("network"))&&f.jsx("li",{children:"Network issue. Check cloud connectivity."}),!s&&t.length===0&&f.jsx("li",{children:"No sessions found. Start one with: pdd connect"})]})]})]})]})]})},bue=({mode:t,onModeChange:e,disabled:n=!1})=>f.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[f.jsx("label",{className:"text-xs sm:text-sm text-surface-300 font-medium whitespace-nowrap",children:"Mode:"}),f.jsxs("div",{className:"flex bg-surface-800 border border-surface-700 rounded-lg p-0.5 sm:p-1",children:[f.jsxs("button",{onClick:()=>e("local"),disabled:n,className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-xs sm:text-sm font-medium transition-all ${t==="local"?"bg-blue-500 text-white shadow-sm":"text-surface-400 hover:text-surface-200"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"Execute commands on this machine",children:[f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),f.jsx("span",{children:"Local"})]}),f.jsxs("button",{onClick:()=>e("remote"),disabled:n,className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-xs sm:text-sm font-medium transition-all ${t==="remote"?"bg-purple-500 text-white shadow-sm":"text-surface-400 hover:text-surface-200"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"Control a remote session via cloud",children:[f.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),f.jsx("span",{children:"Remote"})]})]}),t==="remote"&&!n&&f.jsxs("span",{className:"hidden sm:flex text-xs text-purple-400 items-center gap-1",children:[f.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Commands will execute on the selected remote session"]})]}),vue=()=>{const[t,e]=_.useState(window.innerWidth);return _.useEffect(()=>{const n=()=>e(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),null},wue=3,tq=5;function Sue(t={}){const{onJobComplete:e,maxOutputLines:n=1e3}=t,[r,s]=_.useState(new Map),[i,a]=_.useState(null),o=_.useRef(new Map),u=_.useRef(r);u.current=r,_.useEffect(()=>()=>{o.current.forEach(q=>{q.readyState===WebSocket.OPEN&&q.close()}),o.current.clear()},[]);const d=_.useCallback((q,M)=>{s(L=>{const E=new Map(L),Z=E.get(q);if(Z){const Y=[...Z.output,M];Y.length>n&&Y.splice(0,Y.length-n),E.set(q,{...Z,output:Y})}return E})},[n]),p=_.useCallback((q,M,L,E)=>{s(Z=>{const Y=new Map(Z),R=Y.get(q);return R&&Y.set(q,{...R,progress:{current:M,total:L,message:E},status:"running"}),Y})},[]),m=_.useCallback((q,M,L,E)=>{s(Y=>{const R=new Map(Y),G=R.get(q);if(G){let A=[...G.output];if(E!=null&&E.stdout&&typeof E.stdout=="string"&&E.stdout.trim()&&(A.length===0||!A.includes(E.stdout))&&A.push(E.stdout),E!=null&&E.stderr&&typeof E.stderr=="string"&&E.stderr.trim()){const I=`[stderr] ${E.stderr}`;A.includes(I)||A.push(I)}const W={...G,output:A,status:M?"completed":"failed",cost:L,completedAt:new Date,error:M?null:(E==null?void 0:E.error)||"Job failed"};R.set(q,W),e&&e(W,M)}return R});const Z=o.current.get(q);Z&&Z.readyState===WebSocket.OPEN&&Z.close(),o.current.delete(q)},[e]),g=_.useCallback(async(q,M)=>{const L=u.current,E=Array.from(L.values()).filter(Z=>Z.status==="queued"||Z.status==="running").length;if(E>=tq)throw new Error(`Too many jobs queued (${E}/${tq}). Please wait for some to complete.`);E>=wue&&console.warn(`Warning: ${E} jobs already running. New job will be queued.`);try{const Z=await Ee.executeCommand(q),Y=Z.job_id,R={id:Y,command:q.command,displayCommand:M,status:Z.status,progress:null,output:[],cost:0,startedAt:new Date,completedAt:null,error:null};s(A=>{const W=new Map(A);return W.set(Y,R),W}),a(Y);const G=Ee.connectToJobStream(Y,{onStdout:A=>d(Y,A),onStderr:A=>d(Y,`[stderr] ${A}`),onProgress:(A,W,I)=>p(Y,A,W,I),onComplete:(A,W,I)=>m(Y,A,I,W),onError:A=>{console.error(`WebSocket error for job ${Y}:`,A),m(Y,!1,0,{error:A.message})},onClose:()=>{const A=u.current.get(Y);A&&A.status==="running"&&Ee.getJobStatus(Y).then(W=>{const I=W.status==="completed";m(Y,I,W.cost||0,W)}).catch(()=>{m(Y,!1,0,{error:"Connection lost"})})}});return o.current.set(Y,G),Y}catch(Z){return console.error("Failed to submit job:",Z),null}},[d,p,m]),x=_.useCallback(async q=>{var M,L;try{const E=r.get(q);if((M=E==null?void 0:E.metadata)!=null&&M.remote&&((L=E==null?void 0:E.metadata)!=null&&L.sessionId)){await Ee.cancelRemoteCommand({sessionId:E.metadata.sessionId,commandId:q}),s(Y=>{const R=new Map(Y),G=R.get(q);return G&&R.set(q,{...G,status:"cancelled",completedAt:new Date}),R});return}const Z=o.current.get(q);Z&&Z.readyState===WebSocket.OPEN&&Ee.sendCancelRequest(Z),await Ee.cancelJob(q),s(Y=>{const R=new Map(Y),G=R.get(q);return G&&R.set(q,{...G,status:"cancelled",completedAt:new Date}),R})}catch(E){throw console.error("Failed to cancel job:",E),E}},[r]),v=_.useCallback((q,M)=>{s(L=>{const E=new Map(L),Z=E.get(q);return Z&&E.set(q,{...Z,...M}),E})},[]),b=_.useCallback(q=>{s(L=>{const E=new Map(L);return E.delete(q),E});const M=o.current.get(q);M&&(M.close(),o.current.delete(q)),a(L=>L===q?null:L)},[]),S=_.useCallback(()=>{s(q=>{const M=new Map(q);for(const[L,E]of M.entries())(E.status==="completed"||E.status==="failed"||E.status==="cancelled")&&M.delete(L);return M})},[]),Q=_.useCallback((q,M,L,E)=>{const Z=L||`spawned-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,Y={id:Z,command:M,displayCommand:q,status:"running",progress:null,output:[E!=null&&E.remote?"Command running on remote session.":"Command running in separate terminal window.","","Status will update automatically when command completes."],cost:0,startedAt:new Date,completedAt:null,error:null,metadata:E};return s(R=>{const G=new Map(R);return G.set(Z,Y),G}),a(Z),Z},[]),k=_.useCallback((q,M=!0)=>{s(L=>{const E=new Map(L),Z=E.get(q);return Z&&(E.set(q,{...Z,status:M?"completed":"failed",completedAt:new Date,output:[...Z.output,M?"Marked as completed by user.":"Marked as failed by user."]}),e&&e({...Z,status:M?"completed":"failed"},M)),E})},[e]),$=_.useCallback((q,M)=>{s(L=>{const E=new Map(L),Z=E.get(q);if(Z){const Y={completed:" Manually marked as completed by user.",failed:" Manually marked as failed by user.",cancelled:" Manually marked as cancelled by user."};E.set(q,{...Z,status:M,completedAt:new Date,output:[...Z.output,"",Y[M]]}),e&&e({...Z,status:M},M==="completed")}return E})},[e]);_.useEffect(()=>{const q=Array.from(r.values()).filter(L=>L.id.startsWith("spawned-")&&L.status==="running");if(q.length===0)return;const M=setInterval(async()=>{for(const L of q)try{const E=await Ee.getSpawnedJobStatus(L.id);if(E.status==="completed"||E.status==="failed"){const Z=E.status==="completed";s(Y=>{const R=new Map(Y),G=R.get(L.id);if(G&&G.status==="running"){const A={...G,status:Z?"completed":"failed",completedAt:new Date,output:[...G.output,"",Z?` Command completed successfully (exit code: ${E.exit_code||0})`:` Command failed (exit code: ${E.exit_code||1})`]};R.set(L.id,A),e&&e(A,Z)}return R})}}catch{}},2e3);return()=>clearInterval(M)},[r,e]),_.useEffect(()=>{if(!Array.from(r.values()).filter(E=>{var Z;return(Z=E.metadata)==null?void 0:Z.remote}).some(E=>E.status==="running"))return;const L=setInterval(async()=>{var Y,R;const E=u.current,Z=Array.from(E.values()).filter(G=>{var A;return((A=G.metadata)==null?void 0:A.remote)&&G.status==="running"});for(const G of Z)if((Y=G.metadata)!=null&&Y.sessionId)try{const A=await Ee.getRemoteCommandStatus(G.metadata.sessionId,G.id);if(!A)continue;if(A.status==="processing"&&((R=A.response)!=null&&R.streaming)&&s(W=>{var ee,z;const I=new Map(W),U=I.get(G.id);if(U&&U.status==="running"){const D=[];let K=U.syncState;const B="@@PDD_SYNC_STATE@@";if((ee=A.response)!=null&&ee.stdout){const H=A.response.stdout.split(`
`).filter(J=>J.trim());for(const J of H)if(J.startsWith(B))try{const re=JSON.parse(J.slice(B.length));K={operation:re.operation||"",cost:re.cost||0,budget:re.budget??null,basename:re.basename||"",elapsedSeconds:re.elapsedSeconds||0,paths:re.paths||{prompt:"",code:"",example:"",tests:""},colors:re.colors,status:re.status||"running"}}catch{}else D.push(J)}if((z=A.response)!=null&&z.stderr){const H=A.response.stderr.split(`
`).filter(J=>J.trim());D.push(...H.map(J=>`[stderr] ${J}`))}if(D.length>0||K!==U.syncState){const H=U.output.length<=3&&U.output.some(J=>J.includes("Command running")||J.includes("Status will update"));I.set(G.id,{...U,output:D.length>0?D:U.output,syncState:K})}}return I}),A.status==="completed"||A.status==="failed"||A.status==="cancelled"){const W=A.status==="completed",I=A.status==="cancelled";let U=null;s(ee=>{var K,B,H,J,re;const z=new Map(ee),D=z.get(G.id);if(D&&(D.status==="running"||D.status==="queued")){const ie=[];let ce=D.syncState;const ve="@@PDD_SYNC_STATE@@";if((K=A.response)!=null&&K.stdout){const ne=A.response.stdout.split(`
`).filter(he=>he.trim());for(const he of ne)if(he.startsWith(ve))try{const pe=JSON.parse(he.slice(ve.length));ce={operation:pe.operation||"",cost:pe.cost||0,budget:pe.budget??null,basename:pe.basename||"",elapsedSeconds:pe.elapsedSeconds||0,paths:pe.paths||{prompt:"",code:"",example:"",tests:""},colors:pe.colors,status:pe.status||(W?"completed":"failed")}}catch{}else ie.push(he)}if((B=A.response)!=null&&B.stderr){const ne=A.response.stderr.split(`
`).filter(he=>he.trim());ie.push(...ne.map(he=>`[stderr] ${he}`))}I?ie.push(""," Command was cancelled"):W?ie.push(""," Command completed successfully"):ie.push("",` Command failed: ${((H=A.response)==null?void 0:H.message)||"Unknown error"}`),ce&&(ce={...ce,status:W?"completed":"failed"});const _e={...D,status:I?"cancelled":W?"completed":"failed",completedAt:new Date,output:ie.length>0?ie:D.output,cost:((J=A.response)==null?void 0:J.cost)||0,error:W?null:((re=A.response)==null?void 0:re.message)||"Command failed",syncState:ce};z.set(G.id,_e),U={job:_e,success:W}}return z}),U&&e&&e(U.job,U.success)}}catch(A){console.warn("Failed to poll remote job status:",A)}},2e3);return()=>clearInterval(L)},[r,e]);const T=Array.from(r.values()).filter(q=>q.status==="queued"||q.status==="running"),j=Array.from(r.values()).filter(q=>q.status==="completed"||q.status==="failed"||q.status==="cancelled"),N=i&&r.get(i)||null,C=T.length>0;return{jobs:r,activeJobs:T,completedJobs:j,selectedJob:N,selectedJobId:i,isAnyJobRunning:C,submitJob:g,cancelJob:x,removeJob:b,clearCompletedJobs:S,setSelectedJobId:a,addSpawnedJob:Q,markSpawnedJobDone:k,markJobStatus:$,updateSpawnedJobStatus:v}}const nq="pdd-task-queue",rq=50;function Que(){return`task-${Date.now()}-${Math.random().toString(36).slice(2,11)}`}function kue(t={}){const{onTaskStart:e,onTaskComplete:n,onQueueComplete:r}=t,[s,i]=_.useState([]),[a,o]=_.useState("manual"),[u,d]=_.useState(!1),[p,m]=_.useState(!1),g=_.useRef({tasks:s,executionMode:a,isQueueRunning:u,isPaused:p});g.current={tasks:s,executionMode:a,isQueueRunning:u,isPaused:p};const x=_.useRef({onTaskStart:e,onTaskComplete:n,onQueueComplete:r});x.current={onTaskStart:e,onTaskComplete:n,onQueueComplete:r};const v=_.useRef(null);_.useEffect(()=>{try{const U=localStorage.getItem(nq);if(U){const{tasks:ee,executionMode:z}=JSON.parse(U);if(Array.isArray(ee)){const D=ee.filter(K=>K.status==="pending").map(K=>({...K,createdAt:new Date(K.createdAt)}));i(D)}(z==="auto"||z==="manual")&&o(z)}}catch(U){console.warn("Failed to restore task queue from localStorage:",U)}},[]),_.useEffect(()=>{try{const U=s.filter(ee=>ee.status==="pending");localStorage.setItem(nq,JSON.stringify({tasks:U,executionMode:a}))}catch(U){console.warn("Failed to save task queue to localStorage:",U)}},[s,a]);const b=_.useCallback((U,ee,z,D)=>{const K={id:Que(),commandType:U,prompt:ee,rawOptions:z,displayCommand:D,status:"pending",createdAt:new Date};return i(B=>B.length>=rq?(console.warn(`Task queue is full (${rq} items). Cannot add more tasks.`),B):[...B,K]),K.id},[]),S=_.useCallback(U=>{i(ee=>ee.filter(z=>z.id!==U))},[]),Q=_.useCallback((U,ee)=>{i(z=>{var B;const D=[...z];if(((B=D[U])==null?void 0:B.status)!=="pending")return z;const[K]=D.splice(U,1);return D.splice(ee,0,K),D})},[]),k=_.useCallback(()=>{i([]),d(!1),m(!1)},[]),$=_.useCallback(()=>{i(U=>U.filter(ee=>ee.status==="pending"||ee.status==="running"))},[]),T=_.useCallback((U,ee)=>{i(z=>z.map(D=>D.id===U?{...D,...ee}:D))},[]),j=_.useCallback(async()=>{var z,D,K,B,H,J,re,ie;const U=g.current;if(U.isPaused)return;const ee=U.tasks.find(ce=>ce.status==="pending");if(!ee){d(!1),(D=(z=x.current).onQueueComplete)==null||D.call(z);return}if(!v.current){console.error("submitJob function not set. Cannot run task.");return}T(ee.id,{status:"running",startedAt:new Date}),(B=(K=x.current).onTaskStart)==null||B.call(K,ee);try{const ce=await v.current(ee);ce?T(ee.id,{jobId:ce}):(T(ee.id,{status:"failed",completedAt:new Date,error:"Failed to submit job"}),(J=(H=x.current).onTaskComplete)==null||J.call(H,{...ee,status:"failed"},!1),U.executionMode==="auto"&&U.isQueueRunning&&!U.isPaused&&setTimeout(()=>j(),100))}catch(ce){const ve=ce instanceof Error?ce.message:"Unknown error";T(ee.id,{status:"failed",completedAt:new Date,error:ve}),(ie=(re=x.current).onTaskComplete)==null||ie.call(re,{...ee,status:"failed"},!1),U.executionMode==="auto"&&U.isQueueRunning&&!U.isPaused&&setTimeout(()=>j(),100)}},[T]),N=_.useCallback((U,ee)=>{var B,H;const z=g.current.tasks.find(J=>J.jobId===U);if(!z)return;const D=ee?"completed":"failed";T(z.id,{status:D,completedAt:new Date,error:ee?void 0:"Job failed"}),(H=(B=x.current).onTaskComplete)==null||H.call(B,{...z,status:D},ee);const K=g.current;K.executionMode==="auto"&&K.isQueueRunning&&!K.isPaused&&setTimeout(()=>j(),100)},[T,j]),C=_.useCallback(async()=>{d(!0),m(!1),await j()},[j]),q=_.useCallback(()=>{m(!0)},[]),M=_.useCallback(async()=>{m(!1),g.current.tasks.some(ee=>ee.status==="running")||await j()},[j]),L=_.useCallback(async()=>{u||d(!0),m(!1),await j()},[j,u]),E=_.useCallback(U=>{var z,D;const ee=g.current.tasks.find(K=>K.id===U);if(ee&&(T(U,{status:"skipped",completedAt:new Date}),(D=(z=x.current).onTaskComplete)==null||D.call(z,{...ee,status:"skipped"},!1),ee.status==="running"||ee.status==="pending")){const K=g.current;K.executionMode==="auto"&&K.isQueueRunning&&!K.isPaused&&setTimeout(()=>j(),100)}},[T,j]),Z=_.useCallback(U=>{T(U,{status:"pending",jobId:void 0,startedAt:void 0,completedAt:void 0,error:void 0})},[T]),Y=_.useCallback(U=>{v.current=U},[]),R=s.filter(U=>U.status==="pending"),G=s.filter(U=>U.status==="completed"||U.status==="failed"||U.status==="skipped"),A=s.find(U=>U.status==="running")||null,W=A!==null,I={total:s.length,completed:G.length,pending:R.length,running:W?1:0};return{tasks:s,executionMode:a,isQueueRunning:u,isPaused:p,runningTask:A,pendingTasks:R,completedTasks:G,progress:I,addTask:b,removeTask:S,reorderTasks:Q,clearQueue:k,clearCompleted:$,skipTask:E,retryTask:Z,setExecutionMode:o,startQueue:C,pauseQueue:q,resumeQueue:M,runNextTask:L,handleJobComplete:N,setSubmitJob:Y}}const TZ=_.createContext(null);async function $ue(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1}function Tue(t,e,n){Notification.permission==="granted"&&new Notification(t,{body:e,icon:"/favicon.ico",silent:!1})}const jue=({toast:t,onDismiss:e})=>{_.useEffect(()=>{if(t.duration&&t.duration>0){const s=setTimeout(e,t.duration);return()=>clearTimeout(s)}},[t.duration,e]);const r={success:{bg:"bg-green-500/20",border:"border-green-500/30",text:"text-green-400",icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},error:{bg:"bg-red-500/20",border:"border-red-500/30",text:"text-red-400",icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},info:{bg:"bg-accent-500/20",border:"border-accent-500/30",text:"text-accent-400",icon:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}}[t.type];return f.jsxs("div",{className:`
        flex items-center gap-3 px-4 py-3 rounded-xl border backdrop-blur-lg shadow-lg
        ${r.bg} ${r.border}
      `,style:{animation:"slideIn 0.3s ease-out"},children:[f.jsx("span",{className:r.text,children:r.icon}),f.jsx("p",{className:"text-sm text-white flex-1",children:t.message}),f.jsx("button",{onClick:e,className:"text-surface-400 hover:text-white transition-colors",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},_ue=()=>f.jsx("style",{children:`
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    @keyframes indeterminate {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(400%);
      }
    }
    .animate-indeterminate {
      animation: indeterminate 1.5s ease-in-out infinite;
    }
  `}),Pue=({toasts:t,removeToast:e})=>f.jsxs(f.Fragment,{children:[f.jsx(_ue,{}),t.length>0&&f.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2 max-w-sm",children:t.map(n=>f.jsx(jue,{toast:n,onDismiss:()=>e(n.id)},n.id))})]}),Nue=({children:t})=>{const[e,n]=_.useState([]),r=_.useCallback(i=>{n(a=>a.filter(o=>o.id!==i))},[]),s=_.useCallback((i,a,o=5e3)=>{const d={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,message:i,type:a,duration:o};n(p=>[...p,d]),document.hidden&&(a==="success"||a==="error")&&Tue(a==="success"?"Job Completed":"Job Failed",i)},[]);return _.useEffect(()=>{$ue()},[]),f.jsxs(TZ.Provider,{value:{addToast:s,removeToast:r},children:[t,f.jsx(Pue,{toasts:e,removeToast:r})]})};function Cue(){const t=_.useContext(TZ);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}const sq="pdd-audio-notifications-enabled";let QS=null;function Rue(){return QS||(QS=new AudioContext),QS}async function iq(t){try{const e=Rue();e.state==="suspended"&&await e.resume(),t?(Op(e,880,0,.15),Op(e,1108.73,.12,.2)):(Op(e,440,0,.2),Op(e,349.23,.15,.25))}catch(e){console.warn("Audio notification failed:",e)}}function Op(t,e,n,r){const s=t.createOscillator(),i=t.createGain();s.connect(i),i.connect(t.destination),s.type="sine",s.frequency.value=e;const a=t.currentTime;i.gain.setValueAtTime(0,a+n),i.gain.linearRampToValueAtTime(.5,a+n+.02),i.gain.exponentialRampToValueAtTime(.01,a+n+r),s.start(a+n),s.stop(a+n+r)}function Eue(){const[t,e]=_.useState(()=>{try{const a=localStorage.getItem(sq);return a===null?!0:a==="true"}catch{return!0}}),n=_.useRef(t);n.current=t;const r=_.useCallback(a=>{e(a);try{localStorage.setItem(sq,String(a))}catch{}},[]),s=_.useCallback(a=>{n.current&&iq(a)},[]),i=_.useCallback(a=>{iq(a)},[]);return{audioEnabled:t,setAudioEnabled:r,playNotification:s,testSound:i}}const aq=()=>{const t=window.location.hash.slice(1);if(!t)return{view:"architecture"};const[e,...n]=t.split("/"),r=n.length>0?n.join("/"):void 0;return{view:["architecture","prompts","bug","fix","change","settings"].includes(e)?e:"architecture",promptPath:r}},Aue=()=>{const t=aq(),[e,n]=_.useState(t.view),[r,s]=_.useState(t.promptPath),[i,a]=_.useState(null),[o,u]=_.useState(null),[d,p]=_.useState(!1),[m,g]=_.useState("idle"),[x,v]=_.useState(null),[b,S]=_.useState(null),[Q,k]=_.useState(!1),[$,T]=_.useState(""),[j,N]=_.useState(""),[C,q]=_.useState(""),[M,L]=_.useState(null),[E,Z]=_.useState(!1),[Y,R]=_.useState(!1),[G,A]=_.useState(null),{addToast:W}=Cue(),{audioEnabled:I,setAudioEnabled:U,playNotification:ee,testSound:z}=Eue(),D=_.useCallback(()=>{const ye=!I;U(ye),ye&&z(!0)},[I,U,z]),[K,B]=_.useState("local"),[H,J]=_.useState([]),[re,ie]=_.useState(null),[ce,ve]=_.useState(null),[_e,ne]=_.useState(!1),he=kue({onTaskStart:ye=>{W(`Starting task: ${ye.displayCommand}`,"info",3e3)},onTaskComplete:(ye,Qe)=>{W(`Task ${Qe?"completed":"failed"}: ${ye.displayCommand}`,Qe?"success":"error",5e3),ee(Qe)},onQueueComplete:()=>{W("Task queue completed","success",3e3),ee(!0)}}),pe=_.useCallback((ye,Qe)=>{W(`${ye.displayCommand} ${Qe?"completed successfully":"failed"}`,Qe?"success":"error",5e3),ee(Qe),he.handleJobComplete(ye.id,Qe)},[W,ee,he]),{activeJobs:xe,completedJobs:Ie,selectedJob:je,isAnyJobRunning:ke,cancelJob:Je,removeJob:ut,clearCompletedJobs:et,setSelectedJobId:jt,addSpawnedJob:Ve,markSpawnedJobDone:nt,markJobStatus:ln}=Sue({onJobComplete:pe}),St=_.useCallback(async ye=>{try{const{args:Qe,options:Pe,displayCommand:Fe,backendName:_t}=Mj(ye.commandType,ye.prompt,ye.rawOptions);if(K==="remote"&&re){const{commandId:Yt}=await Ee.submitRemoteCommand({sessionId:re,type:_t,payload:{args:Qe,options:Pe}});return Ve(`[Remote] ${Fe}`,_t,Yt,{remote:!0,sessionId:re}),Yt}else{const Yt=await Ee.spawnTerminal({command:_t,args:Qe,options:Pe});return Yt.success&&Yt.job_id?(Ve(Fe,_t,Yt.job_id),Yt.job_id):(console.error("Failed to spawn terminal:",Yt.message),null)}}catch(Qe){return console.error("Failed to submit job:",Qe),null}},[Ve,K,re]);_.useEffect(()=>{he.setSubmitJob(St)},[he,St]);const Ut=_.useCallback((ye,Qe,Pe,Fe)=>{he.addTask(ye,Qe,Pe,Fe),W(`Added to queue: ${Fe}`,"info",3e3)},[he,W]);_.useCallback(ye=>{A(ye),R(!0)},[]),_.useEffect(()=>{Ee.getStatus().then(()=>k(!0)).catch(()=>k(!1))},[]),_.useEffect(()=>{o?window.location.hash=`prompts/${o.prompt}`:window.location.hash=e},[e,o]),_.useEffect(()=>{const ye=()=>{const{view:Qe,promptPath:Pe}=aq();n(Qe),Pe?s(Pe):u(null)};return window.addEventListener("hashchange",ye),()=>window.removeEventListener("hashchange",ye)},[]),_.useEffect(()=>{Q&&r&&Ee.listPrompts().then(ye=>{const Qe=ye.find(Pe=>Pe.prompt===r);Qe&&u(Qe),s(void 0)}).catch(()=>{s(void 0)})},[Q,r]),_.useEffect(()=>{if(!Q)return;const ye=async()=>{try{const Pe=await Ee.listRemoteSessions();J(Pe),ve(null)}catch(Pe){const Fe=Pe instanceof Error?Pe.message:String(Pe);console.error("Failed to fetch remote sessions:",Fe),ve(Fe),Fe.includes("Not authenticated")||Fe.includes("401")||Fe.includes("403")||(Fe.includes("timeout")||Fe.includes("network")||Fe.includes("Failed to fetch")?W("Network error: Cannot reach cloud. Check your connection.","error",5e3):W(`Failed to load remote sessions: ${Fe}`,"error",5e3))}};ye();const Qe=setInterval(ye,3e4);return()=>clearInterval(Qe)},[Q,W]);const qt=async(ye,Qe,Pe)=>{if(!Q){alert('Server not connected. Run "pdd connect" in your terminal first.');return}const Fe=Ra[ye];p(!0),g("running");const{args:_t,options:Yt,displayCommand:Rn}=Mj(ye,Qe,Pe||{});v(Rn);try{if(K==="remote"&&re){const mn=H.find(be=>be.sessionId===re);if((mn==null?void 0:mn.status)==="stale"&&!window.confirm(`Warning: The selected session appears to be offline (stale).

The remote machine may not be running or has lost connection.
The command may not be executed.

Do you want to submit anyway?`)){p(!1),g("idle");return}try{const{commandId:be}=await Ee.submitRemoteCommand({sessionId:re,type:Fe.backendName,payload:{args:_t,options:Yt}});Ve(`[Remote] ${Rn}`,Fe.backendName,be,{remote:!0,sessionId:re}),g("success"),W("Command submitted to remote session","success",3e3)}catch(be){g("failed"),W(`Failed to submit remote command: ${be instanceof Error?be.message:String(be)}`,"error",5e3)}}else{const mn=await Ee.spawnTerminal({command:Fe.backendName,args:_t,options:Yt});mn.success?(Ve(Rn,Fe.backendName,mn.job_id),g("success"),W(`Opened terminal: ${Rn}`,"success",3e3)):(g("failed"),W(`Failed to open terminal: ${mn.message}`,"error",5e3))}setTimeout(()=>{g("idle"),v(null)},3e3)}catch(mn){console.error("Failed to execute command:",mn),S({success:!1,message:mn.message||"Failed to execute command",exit_code:1,error_details:mn.message}),g("failed"),W(`Error: ${mn.message}`,"error",5e3),setTimeout(()=>{g("idle"),v(null)},1e4)}finally{p(!1)}},pn=async()=>{if(!Q){alert('Server not connected. Run "pdd connect" in your terminal first.');return}if(!$.trim()){alert("Please enter a GitHub issue URL");return}p(!0),g("running");const ye=`pdd bug ${$}`;v(ye);try{if(K==="remote"&&re){const Qe=H.find(Pe=>Pe.sessionId===re);if((Qe==null?void 0:Qe.status)==="stale"&&!window.confirm(`Warning: The selected session appears to be offline (stale).

The remote machine may not be running or has lost connection.
The command may not be executed.

Do you want to submit anyway?`)){p(!1),g("idle");return}try{const{commandId:Pe}=await Ee.submitRemoteCommand({sessionId:re,type:"bug",payload:{args:{args:[$]},options:{}}});Ve(`[Remote] ${ye}`,"bug",Pe,{remote:!0,sessionId:re}),g("success"),W("Command submitted to remote session","success",3e3)}catch(Pe){g("failed"),W(`Failed to submit remote command: ${Pe instanceof Error?Pe.message:String(Pe)}`,"error",5e3)}}else{const Qe=await Ee.spawnTerminal({command:"bug",args:{args:[$]},options:{}});Qe.success?(Ve(ye,"bug",Qe.job_id),g("success"),W(`Opened terminal: ${ye}`,"success",3e3)):(g("failed"),W(`Failed to open terminal: ${Qe.message}`,"error",5e3))}setTimeout(()=>{g("idle"),v(null)},3e3)}catch(Qe){console.error("Failed to execute bug command:",Qe),g("failed"),W(`Error: ${Qe.message}`,"error",5e3),setTimeout(()=>{g("idle"),v(null)},5e3)}finally{p(!1)}},yn=async()=>{if(!Q){alert('Server not connected. Run "pdd connect" in your terminal first.');return}if(!j.trim()){alert("Please enter a GitHub PR URL");return}p(!0),g("running");const ye=`pdd fix ${j}`;v(ye);try{if(K==="remote"&&re){const Qe=H.find(Pe=>Pe.sessionId===re);if((Qe==null?void 0:Qe.status)==="stale"&&!window.confirm(`Warning: The selected session appears to be offline (stale).

The remote machine may not be running or has lost connection.
The command may not be executed.

Do you want to submit anyway?`)){p(!1),g("idle");return}try{const{commandId:Pe}=await Ee.submitRemoteCommand({sessionId:re,type:"fix",payload:{args:{args:[j]},options:{}}});Ve(`[Remote] ${ye}`,"fix",Pe,{remote:!0,sessionId:re}),g("success"),W("Command submitted to remote session","success",3e3)}catch(Pe){g("failed"),W(`Failed to submit remote command: ${Pe instanceof Error?Pe.message:String(Pe)}`,"error",5e3)}}else{const Qe=await Ee.spawnTerminal({command:"fix",args:{args:[j]},options:{}});Qe.success?(Ve(ye,"fix",Qe.job_id),g("success"),W(`Opened terminal: ${ye}`,"success",3e3)):(g("failed"),W(`Failed to open terminal: ${Qe.message}`,"error",5e3))}setTimeout(()=>{g("idle"),v(null)},3e3)}catch(Qe){console.error("Failed to execute fix command:",Qe),g("failed"),W(`Error: ${Qe.message}`,"error",5e3),setTimeout(()=>{g("idle"),v(null)},5e3)}finally{p(!1)}},Qt=async()=>{if(!Q){alert('Server not connected. Run "pdd connect" in your terminal first.');return}if(!C.trim()){alert("Please enter a GitHub issue URL");return}p(!0),g("running");const ye=`pdd change ${C}`;v(ye);try{if(K==="remote"&&re){const Qe=H.find(Pe=>Pe.sessionId===re);if((Qe==null?void 0:Qe.status)==="stale"&&!window.confirm(`Warning: The selected session appears to be offline (stale).

The remote machine may not be running or has lost connection.
The command may not be executed.

Do you want to submit anyway?`)){p(!1),g("idle");return}try{const{commandId:Pe}=await Ee.submitRemoteCommand({sessionId:re,type:"change",payload:{args:{args:[C]},options:{}}});Ve(`[Remote] ${ye}`,"change",Pe,{remote:!0,sessionId:re}),g("success"),W("Command submitted to remote session","success",3e3)}catch(Pe){g("failed"),W(`Failed to submit remote command: ${Pe instanceof Error?Pe.message:String(Pe)}`,"error",5e3)}}else{const Qe=await Ee.spawnTerminal({command:"change",args:{args:[C]},options:{}});Qe.success?(Ve(ye,"change",Qe.job_id),g("success"),W(`Opened terminal: ${ye}`,"success",3e3)):(g("failed"),W(`Failed to open terminal: ${Qe.message}`,"error",5e3))}setTimeout(()=>{g("idle"),v(null)},3e3)}catch(Qe){console.error("Failed to execute change command:",Qe),g("failed"),W(`Error: ${Qe.message}`,"error",5e3),setTimeout(()=>{g("idle"),v(null)},5e3)}finally{p(!1)}},Lt=(ye,Qe)=>{o&&qt(ye,o,Qe)},dt=(ye,Qe)=>{if(o){const Pe=Qe||{},Fe=I2(ye,o,Pe);Ut(ye,o,Pe,Fe)}},rt=async()=>{try{(await Ee.cancelCommand()).cancelled&&(g("failed"),v(null),setTimeout(()=>g("idle"),3e3))}catch(ye){console.error("Failed to cancel:",ye)}},Wt=_.useCallback((ye,Qe)=>{L({id:`batch-${Date.now()}`,name:ye,current:0,total:Qe,currentItem:"",status:"running",startedAt:new Date})},[]),yt=_.useCallback((ye,Qe,Pe)=>{L(Fe=>Fe?{...Fe,current:ye,total:Qe,currentItem:Pe}:null)},[]),Kt=_.useCallback(ye=>{L(Qe=>Qe?{...Qe,status:ye?"completed":"failed"}:null),setTimeout(()=>L(null),3e3)},[]),ir=_.useCallback(async()=>{try{await Ee.cancelCommand()}catch(ye){console.error("Failed to cancel batch operation:",ye)}},[]);return o?f.jsx(yee,{prompt:o,onBack:()=>u(null),onRunCommand:Lt,onAddToQueue:dt,isExecuting:d,executionStatus:m,lastCommand:x,lastRunResult:b,onCancelCommand:rt}):f.jsx(xue,{children:f.jsxs("div",{className:"min-h-screen bg-surface-950",children:[f.jsx("header",{className:"glass sticky top-0 z-40 border-b border-surface-700/50",children:f.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12",children:f.jsxs("div",{className:"flex items-center justify-between h-16",children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[f.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-lg bg-surface-800/80 flex items-center justify-center shadow-glow p-1",children:f.jsxs("svg",{viewBox:"0 0 1024 1024",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsxs("filter",{id:"glow-header",x:"-60%",y:"-60%",width:"220%",height:"220%",children:[f.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"40",result:"blur"}),f.jsxs("feMerge",{children:[f.jsx("feMergeNode",{in:"blur"}),f.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),f.jsxs("g",{stroke:"#00e3ff",strokeWidth:"60",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",filter:"url(#glow-header)",children:[f.jsx("path",{d:"M 260 180 H 600 A 230 230 0 0 1 600 660 H 480 L 260 880 V 180 Z"}),f.jsx("polyline",{points:"505 340 585 420 505 500"})]})]})}),f.jsx("div",{className:"hidden sm:block",children:f.jsx("h1",{className:"text-base sm:text-lg font-bold text-white whitespace-nowrap",children:"Prompt Driven Development"})})]}),f.jsxs("div",{className:"flex gap-1 sm:gap-2 bg-surface-800/50 p-1 rounded-xl max-w-[280px] xs:max-w-none overflow-x-auto scrollbar-hide",children:[f.jsxs("button",{onClick:()=>n("architecture"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="architecture"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[f.jsx(FJ,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Architecture"]}),f.jsxs("button",{onClick:()=>n("prompts"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="prompts"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[f.jsx(Fz,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Prompts"]}),f.jsxs("button",{onClick:()=>n("bug"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="bug"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[f.jsx(zx,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Bug"]}),f.jsxs("button",{onClick:()=>n("fix"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="fix"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[f.jsx("svg",{className:"hidden sm:inline w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Fix"]}),f.jsxs("button",{onClick:()=>n("change"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="change"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[f.jsx("svg",{className:"hidden sm:inline w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Change"]}),f.jsxs("button",{onClick:()=>n("settings"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="settings"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[f.jsx(Jz,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Settings"]})]}),f.jsxs("button",{onClick:()=>ne(!_e),className:`flex items-center gap-1.5 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors ${K==="remote"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-surface-700/50 text-surface-400 border border-surface-600/50 hover:bg-surface-700"}`,title:_e?"Hide remote session panel":"Show remote session panel",children:[f.jsx("span",{"aria-hidden":"true",children:K==="remote"?"":""}),f.jsx("span",{className:"sr-only",children:K==="remote"?"Remote execution mode":"Local execution mode"}),f.jsx("span",{className:"hidden sm:inline",children:K==="remote"?"Remote":"Local"}),f.jsx("svg",{className:`w-3 h-3 transition-transform ${_e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f.jsxs("div",{className:`flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-1.5 rounded-full transition-colors ${Q?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20"}`,children:[f.jsx("span",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full ${Q?"bg-green-400 animate-pulse-slow":"bg-yellow-400 animate-pulse"}`}),f.jsx("span",{className:"hidden xs:inline",children:Q?"Connected":"Offline"})]}),f.jsx("button",{onClick:D,className:`p-1.5 rounded-lg transition-colors ${I?"text-accent-400 hover:bg-accent-500/20":"text-surface-500 hover:bg-surface-700/50"}`,title:I?"Sound notifications on":"Sound notifications off",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15zm11.707-6.707l4 4m0-4l-4 4"})})}),f.jsx(Oue,{onReauth:()=>Z(!0)})]})})}),_e&&f.jsx("div",{className:"glass border-b border-surface-700/50 animate-slide-down",children:f.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12 py-3",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs text-surface-400",children:"Mode:"}),f.jsx(bue,{mode:K,onModeChange:B})]}),f.jsxs("button",{onClick:D,className:`flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all ${I?"bg-accent-500/20 text-accent-300 hover:bg-accent-500/30":"bg-surface-700/50 text-surface-400 hover:bg-surface-700"}`,title:I?"Audio notifications enabled - click to disable":"Audio notifications disabled - click to enable",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15zm11.707-6.707l4 4m0-4l-4 4"})}),f.jsx("span",{className:"hidden sm:inline",children:I?"Sound On":"Sound Off"})]}),K==="remote"&&f.jsx("div",{className:"flex-1 w-full sm:w-auto",children:f.jsx(yue,{sessions:H,selectedSessionId:re,onSelectSession:ie,error:ce,onRefresh:async()=>{try{const ye=await Ee.listRemoteSessions();J(ye),ve(null)}catch(ye){ve(ye instanceof Error?ye.message:String(ye))}}})}),f.jsx("button",{onClick:()=>ne(!1),className:"absolute right-4 sm:relative sm:right-auto text-surface-400 hover:text-white p-1 rounded-lg hover:bg-surface-700/50 transition-colors",title:"Close panel","aria-label":"Close remote session panel",children:f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f.jsx("p",{className:"text-xs text-surface-500 mt-2",children:K==="local"?"Commands execute on this machine in terminal windows.":re?"Commands will be sent to the selected remote session via cloud.":"Select a remote session to execute commands remotely."})]})}),m!=="idle"&&f.jsxs("div",{className:`
          px-4 sm:px-6 py-2.5 sm:py-3 text-center text-xs sm:text-sm font-medium border-b animate-slide-down
          ${m==="running"?"bg-accent-500/10 text-accent-300 border-accent-500/20":""}
          ${m==="success"?"bg-green-500/10 text-green-300 border-green-500/20":""}
          ${m==="failed"?"bg-red-500/10 text-red-300 border-red-500/20":""}
        `,children:[m==="running"&&f.jsxs("span",{className:"flex items-center justify-center gap-2 flex-wrap",children:[f.jsxs("svg",{className:"animate-spin h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{className:"hidden sm:inline",children:"Running:"}),f.jsx("code",{className:"bg-surface-800/80 px-2 py-0.5 rounded font-mono text-xs max-w-[200px] sm:max-w-none truncate",children:x}),f.jsx("span",{className:"text-surface-400 hidden md:inline",children:"(output in terminal)"}),f.jsx("button",{onClick:async()=>{try{(await Ee.cancelCommand()).cancelled&&(g("failed"),v(null),setTimeout(()=>g("idle"),3e3))}catch(ye){console.error("Failed to cancel:",ye)}},className:"ml-2 sm:ml-4 px-2.5 sm:px-3 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-lg text-xs font-medium transition-colors",children:"Stop"})]}),m==="success"&&f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Command completed successfully"]}),m==="failed"&&f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),f.jsx("span",{className:"hidden sm:inline",children:"Command failed or cancelled - check terminal"}),f.jsx("span",{className:"sm:hidden",children:"Command failed"})]})]}),f.jsxs("main",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12 py-4 sm:py-6 pb-16 sm:pb-20",children:[!Q&&f.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 glass-light rounded-xl border border-yellow-500/20 animate-fade-in",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:f.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-yellow-300 text-sm sm:text-base font-medium",children:"Server not connected"}),f.jsxs("p",{className:"text-yellow-200/70 text-xs sm:text-sm mt-1",children:["Run ",f.jsx("code",{className:"bg-surface-800/80 px-1.5 py-0.5 rounded font-mono text-yellow-300",children:"pdd connect"})," in your terminal to enable command execution."]})]})]})}),e==="architecture"?f.jsx("div",{className:"animate-fade-in",children:f.jsx(Jce,{serverConnected:Q,isExecuting:d,onOpenPromptSpace:ye=>u(ye),onBatchStart:Wt,onBatchProgress:yt,onBatchComplete:Kt,executionMode:K,selectedRemoteSession:re,onRemoteJobSubmitted:(ye,Qe,Pe,Fe)=>{Ve(ye,Qe,Pe,{remote:!0,sessionId:Fe})}})}):e==="prompts"?f.jsxs("div",{className:"animate-fade-in",children:[f.jsx("div",{className:"mb-4 sm:mb-6",children:f.jsx("p",{className:"text-surface-400 text-xs sm:text-sm",children:"Select a prompt and click a command to run. Output appears in your terminal."})}),f.jsx(aY,{onSelectPrompt:a,onEditPrompt:u,onCreatePrompt:u,selectedPrompt:i})]}):e==="settings"?f.jsx("div",{className:"animate-fade-in",children:f.jsx(nue,{})}):e==="bug"?f.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[f.jsxs("div",{className:"mb-6 text-center sm:text-left",children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white mb-2 flex items-center justify-center sm:justify-start gap-2",children:[f.jsx("span",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:f.jsx(zx,{className:"w-5 h-5"})}),"Bug Investigation Agent"]}),f.jsx("p",{className:"text-surface-400 text-sm",children:"Automatically investigate GitHub issues and generate failing test cases with AI-powered analysis."})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-6 border border-surface-700/50",children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"GitHub Issue URL"}),f.jsx("input",{type:"url",value:$,onChange:ye=>T(ye.target.value),placeholder:"https://github.com/org/repo/issues/123",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 transition-all text-sm sm:text-base",disabled:d}),f.jsxs("button",{onClick:pn,disabled:d||!Q||!$.trim(),className:`
                      mt-4 w-full px-4 py-2.5 sm:py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base
                      ${d||!Q||!$.trim()?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/25 hover:shadow-red-500/40"}
                    `,children:[f.jsx(zx,{className:"w-4 h-4"}),f.jsx("span",{children:"Start Investigation"})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Prerequisites"]}),f.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"1"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"GitHub CLI installed"})," - Install from ",f.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"brew install gh"})," or ",f.jsx("a",{href:"https://cli.github.com",target:"_blank",rel:"noopener noreferrer",className:"text-accent-400 hover:underline",children:"cli.github.com"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"2"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Authenticated with GitHub"})," - Run ",f.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"gh auth login"})," if needed"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"3"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Repository cloned locally"})," - The agent works within your local codebase"]})]})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"After Investigation"]}),f.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"1."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Review the draft PR"})," - The agent creates a draft PR with a failing test"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"2."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Fix the bug"})," - Implement the fix to make the test pass"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"3."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Mark PR ready"})," - Convert from draft to ready for review"]})]})]})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Agent Workflow (10 Steps)"]}),f.jsx("div",{className:"space-y-1",children:[{step:1,name:"Duplicate Check",desc:"Search for existing similar issues"},{step:2,name:"Documentation Check",desc:"Verify if it's a known issue or user error"},{step:3,name:"Triage",desc:"Assess if sufficient information is provided"},{step:4,name:"Reproduce",desc:"Attempt to reproduce the reported bug"},{step:5,name:"Root Cause Analysis",desc:"Identify the underlying cause"},{step:6,name:"Test Plan",desc:"Design a testing strategy"},{step:7,name:"Generate Test",desc:"Create a failing unit test"},{step:8,name:"Verify Test",desc:"Ensure test correctly detects the bug"},{step:9,name:"E2E Test",desc:"Run end-to-end tests to verify fix"},{step:10,name:"Create PR",desc:"Open a draft pull request"}].map(ye=>f.jsxs("div",{className:"flex items-start gap-3 py-1.5 px-2 rounded-lg hover:bg-surface-800/30 transition-colors",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-surface-700 flex items-center justify-center text-[10px] font-medium text-surface-300 flex-shrink-0",children:ye.step}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-xs text-white font-medium",children:ye.name}),f.jsx("p",{className:"text-[11px] text-surface-500",children:ye.desc})]})]},ye.step))}),f.jsx("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:f.jsxs("p",{className:"text-xs text-surface-500",children:[f.jsx("strong",{className:"text-surface-400",children:"Note:"})," The agent may exit early if it detects a duplicate issue, feature request, or insufficient information. Progress is shown in the terminal."]})})]})]})]}):e==="fix"?f.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[f.jsxs("div",{className:"mb-6 text-center sm:text-left",children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white mb-2 flex items-center justify-center sm:justify-start gap-2",children:[f.jsx("span",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:f.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),"PR Fix Agent"]}),f.jsx("p",{className:"text-surface-400 text-sm",children:"Automatically fix code issues based on PR review comments with AI-powered analysis."})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-6 border border-surface-700/50",children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"GitHub PR URL"}),f.jsx("input",{type:"url",value:j,onChange:ye=>N(ye.target.value),placeholder:"https://github.com/org/repo/pull/123",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 transition-all text-sm sm:text-base",disabled:d}),f.jsxs("button",{onClick:yn,disabled:d||!Q||!j.trim(),className:`
                      mt-4 w-full px-4 py-2.5 sm:py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base
                      ${d||!Q||!j.trim()?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white shadow-lg shadow-blue-500/25 hover:shadow-blue-500/40"}
                    `,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),f.jsx("span",{children:"Start Fix"})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Prerequisites"]}),f.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"1"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"GitHub CLI installed"})," - Install from ",f.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"brew install gh"})," or ",f.jsx("a",{href:"https://cli.github.com",target:"_blank",rel:"noopener noreferrer",className:"text-accent-400 hover:underline",children:"cli.github.com"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"2"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Authenticated with GitHub"})," - Run ",f.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"gh auth login"})," if needed"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"3"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"PR has review comments"})," - The agent analyzes review comments to understand what needs fixing"]})]})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"After Fix"]}),f.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"1."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Review the changes"})," - The agent commits fixes addressing review comments"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"2."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Run tests"})," - Verify the fixes don't break existing functionality"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"3."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Push changes"})," - Push the fix commits to update the PR"]})]})]})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Agent Workflow"]}),f.jsx("div",{className:"space-y-1",children:[{step:1,name:"Fetch PR Details",desc:"Get PR information and review comments"},{step:2,name:"Analyze Comments",desc:"Understand what changes are requested"},{step:3,name:"Locate Code",desc:"Find the relevant code sections to fix"},{step:4,name:"Plan Changes",desc:"Design the fix approach"},{step:5,name:"Apply Fixes",desc:"Make the necessary code changes"},{step:6,name:"Verify Changes",desc:"Ensure fixes address the comments"},{step:7,name:"Commit",desc:"Create commits with fix descriptions"}].map(ye=>f.jsxs("div",{className:"flex items-start gap-3 py-1.5 px-2 rounded-lg hover:bg-surface-800/30 transition-colors",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-surface-700 flex items-center justify-center text-[10px] font-medium text-surface-300 flex-shrink-0",children:ye.step}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-xs text-white font-medium",children:ye.name}),f.jsx("p",{className:"text-[11px] text-surface-500",children:ye.desc})]})]},ye.step))}),f.jsx("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:f.jsxs("p",{className:"text-xs text-surface-500",children:[f.jsx("strong",{className:"text-surface-400",children:"Note:"})," The agent focuses on addressing review comments. Progress is shown in the terminal."]})})]})]})]}):e==="change"?f.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[f.jsxs("div",{className:"mb-6 text-center sm:text-left",children:[f.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white mb-2 flex items-center justify-center sm:justify-start gap-2",children:[f.jsx("span",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:f.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),"Change Request Agent"]}),f.jsx("p",{className:"text-surface-400 text-sm",children:"Automatically implement feature requests and changes from GitHub issues with AI-powered analysis."})]}),f.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-6 border border-surface-700/50",children:[f.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"GitHub Issue URL"}),f.jsx("input",{type:"url",value:C,onChange:ye=>q(ye.target.value),placeholder:"https://github.com/org/repo/issues/123",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 transition-all text-sm sm:text-base",disabled:d}),f.jsxs("button",{onClick:Qt,disabled:d||!Q||!C.trim(),className:`
                      mt-4 w-full px-4 py-2.5 sm:py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base
                      ${d||!Q||!C.trim()?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40"}
                    `,children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),f.jsx("span",{children:"Start Implementation"})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Prerequisites"]}),f.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"1"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"GitHub CLI installed"})," - Install from ",f.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"brew install gh"})," or ",f.jsx("a",{href:"https://cli.github.com",target:"_blank",rel:"noopener noreferrer",className:"text-accent-400 hover:underline",children:"cli.github.com"})]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"2"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Authenticated with GitHub"})," - Run ",f.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"gh auth login"})," if needed"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"3"}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Clear requirements"})," - The issue should describe the desired change clearly"]})]})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"After Implementation"]}),f.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"1."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Review the draft PR"})," - The agent creates a draft PR with the implementation"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"2."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Test the changes"})," - Verify the implementation works as expected"]})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-400",children:"3."}),f.jsxs("span",{children:[f.jsx("strong",{className:"text-surface-300",children:"Mark PR ready"})," - Convert from draft to ready for review"]})]})]})]})]}),f.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[f.jsxs("h3",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[f.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Agent Workflow"]}),f.jsx("div",{className:"space-y-1",children:[{step:1,name:"Fetch Issue",desc:"Get issue details and requirements"},{step:2,name:"Analyze Requirements",desc:"Understand what needs to be implemented"},{step:3,name:"Explore Codebase",desc:"Find relevant code and patterns"},{step:4,name:"Plan Implementation",desc:"Design the approach and changes needed"},{step:5,name:"Implement Changes",desc:"Write the code for the feature"},{step:6,name:"Add Tests",desc:"Create tests for the new functionality"},{step:7,name:"Verify",desc:"Run tests and verify implementation"},{step:8,name:"Create PR",desc:"Open a draft pull request"}].map(ye=>f.jsxs("div",{className:"flex items-start gap-3 py-1.5 px-2 rounded-lg hover:bg-surface-800/30 transition-colors",children:[f.jsx("div",{className:"w-5 h-5 rounded-full bg-surface-700 flex items-center justify-center text-[10px] font-medium text-surface-300 flex-shrink-0",children:ye.step}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-xs text-white font-medium",children:ye.name}),f.jsx("p",{className:"text-[11px] text-surface-500",children:ye.desc})]})]},ye.step))}),f.jsx("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:f.jsxs("p",{className:"text-xs text-surface-500",children:[f.jsx("strong",{className:"text-surface-400",children:"Note:"})," The agent analyzes the issue and implements the requested changes. Progress is shown in the terminal."]})})]})]})]}):null]}),f.jsx(cue,{activeJobs:xe,completedJobs:Ie,selectedJob:je,onSelectJob:jt,onCancelJob:Je,onRemoveJob:ut,onClearCompleted:et,onMarkSpawnedDone:nt,onMarkJobStatus:ln,batchOperation:M,onCancelBatchOperation:ir}),f.jsx(pue,{tasks:he.tasks,executionMode:he.executionMode,isQueueRunning:he.isQueueRunning,isPaused:he.isPaused,progress:he.progress,onSetExecutionMode:he.setExecutionMode,onStartQueue:he.startQueue,onPauseQueue:he.pauseQueue,onResumeQueue:he.resumeQueue,onRunNextTask:he.runNextTask,onRemoveTask:he.removeTask,onSkipTask:he.skipTask,onRetryTask:he.retryTask,onReorderTasks:he.reorderTasks,onClearCompleted:he.clearCompleted,onClearAll:he.clearQueue}),f.jsx(mue,{isOpen:Y,prompt:G,onAddToQueue:Ut,onClose:()=>{R(!1),A(null)}}),f.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-40 glass border-t border-surface-700/50 px-4 sm:px-6 py-2.5 sm:py-3",children:f.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12 flex items-center justify-center gap-2 text-xs text-surface-500",children:[f.jsx("span",{className:"w-4 h-4 rounded bg-surface-800/80 flex items-center justify-center p-0.5",children:f.jsx("svg",{viewBox:"0 0 1024 1024",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:f.jsxs("g",{stroke:"#00e3ff",strokeWidth:"70",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",children:[f.jsx("path",{d:"M 260 180 H 600 A 230 230 0 0 1 600 660 H 480 L 260 880 V 180 Z"}),f.jsx("polyline",{points:"505 340 585 420 505 500"})]})})}),f.jsx("span",{className:"hidden sm:inline",children:"Prompt Driven Development"}),f.jsx("span",{className:"sm:hidden",children:"PDD"}),f.jsx("span",{className:"text-surface-600",children:""}),f.jsx("span",{children:ke?"Jobs running - see dashboard below":"Commands tracked in dashboard"})]})}),E&&f.jsx(gue,{onClose:()=>Z(!1)}),f.jsx(vue,{})]})})},jZ=document.getElementById("root");if(!jZ)throw new Error("Could not find root element to mount to");const que=V9.createRoot(jZ);que.render(f.jsx(fe.StrictMode,{children:f.jsx(Nue,{children:f.jsx(Aue,{})})}));
