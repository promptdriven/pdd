var vY=Object.defineProperty;var SY=(t,e,n)=>e in t?vY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var jt=(t,e,n)=>SY(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sg={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function wY(){if(m_)return wu;m_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var o in s)o!=="key"&&(i[o]=s[o])}else i=s;return s=i.ref,{$$typeof:t,type:r,key:a,ref:s!==void 0?s:null,props:i}}return wu.Fragment=e,wu.jsx=n,wu.jsxs=n,wu}var O_;function QY(){return O_||(O_=1,Sg.exports=wY()),Sg.exports}var d=QY(),wg={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function kY(){if(g_)return Ue;g_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=g&&X[g]||X["@@iterator"],typeof X=="function"?X:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function Q(X,B,te){this.props=X,this.context=B,this.refs=w,this.updater=te||v}Q.prototype.isReactComponent={},Q.prototype.setState=function(X,B){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,B,"setState")},Q.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function k(){}k.prototype=Q.prototype;function $(X,B,te){this.props=X,this.context=B,this.refs=w,this.updater=te||v}var _=$.prototype=new k;_.constructor=$,y(_,Q.prototype),_.isPureReactComponent=!0;var T=Array.isArray;function N(){}var C={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function z(X,B,te){var V=te.ref;return{$$typeof:t,type:X,key:B,ref:V!==void 0?V:null,props:te}}function Z(X,B){return z(X.type,B,X.props)}function R(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function Y(X){var B={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(te){return B[te]})}var L=/\/+/g;function E(X,B){return typeof X=="object"&&X!==null&&X.key!=null?Y(""+X.key):B.toString(36)}function U(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(N,N):(X.status="pending",X.then(function(B){X.status==="pending"&&(X.status="fulfilled",X.value=B)},function(B){X.status==="pending"&&(X.status="rejected",X.reason=B)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function A(X,B,te,V,W){var ee=typeof X;(ee==="undefined"||ee==="boolean")&&(X=null);var re=!1;if(X===null)re=!0;else switch(ee){case"bigint":case"string":case"number":re=!0;break;case"object":switch(X.$$typeof){case t:case e:re=!0;break;case p:return re=X._init,A(re(X._payload),B,te,V,W)}}if(re)return W=W(X),re=V===""?"."+E(X,0):V,T(W)?(te="",re!=null&&(te=re.replace(L,"$&/")+"/"),A(W,B,te,"",function(Se){return Se})):W!=null&&(R(W)&&(W=Z(W,te+(W.key==null||X&&X.key===W.key?"":(""+W.key).replace(L,"$&/")+"/")+re)),B.push(W)),1;re=0;var ue=V===""?".":V+":";if(T(X))for(var pe=0;pe<X.length;pe++)V=X[pe],ee=ue+E(V,pe),re+=A(V,B,te,ee,W);else if(pe=x(X),typeof pe=="function")for(X=pe.call(X),pe=0;!(V=X.next()).done;)V=V.value,ee=ue+E(V,pe++),re+=A(V,B,te,ee,W);else if(ee==="object"){if(typeof X.then=="function")return A(U(X),B,te,V,W);throw B=String(X),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return re}function I(X,B,te){if(X==null)return X;var V=[],W=0;return A(X,V,"","",function(ee){return B.call(te,ee,W++)}),V}function F(X){if(X._status===-1){var B=X._result;B=B(),B.then(function(te){(X._status===0||X._status===-1)&&(X._status=1,X._result=te)},function(te){(X._status===0||X._status===-1)&&(X._status=2,X._result=te)}),X._status===-1&&(X._status=0,X._result=B)}if(X._status===1)return X._result.default;throw X._result}var G=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},J={map:I,forEach:function(X,B,te){I(X,function(){B.apply(this,arguments)},te)},count:function(X){var B=0;return I(X,function(){B++}),B},toArray:function(X){return I(X,function(B){return B})||[]},only:function(X){if(!R(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Ue.Activity=m,Ue.Children=J,Ue.Component=Q,Ue.Fragment=n,Ue.Profiler=s,Ue.PureComponent=$,Ue.StrictMode=r,Ue.Suspense=u,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(X){return C.H.useMemoCache(X)}},Ue.cache=function(X){return function(){return X.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(X,B,te){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var V=y({},X.props),W=X.key;if(B!=null)for(ee in B.key!==void 0&&(W=""+B.key),B)!q.call(B,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&B.ref===void 0||(V[ee]=B[ee]);var ee=arguments.length-2;if(ee===1)V.children=te;else if(1<ee){for(var re=Array(ee),ue=0;ue<ee;ue++)re[ue]=arguments[ue+2];V.children=re}return z(X.type,W,V)},Ue.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:i,_context:X},X},Ue.createElement=function(X,B,te){var V,W={},ee=null;if(B!=null)for(V in B.key!==void 0&&(ee=""+B.key),B)q.call(B,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(W[V]=B[V]);var re=arguments.length-2;if(re===1)W.children=te;else if(1<re){for(var ue=Array(re),pe=0;pe<re;pe++)ue[pe]=arguments[pe+2];W.children=ue}if(X&&X.defaultProps)for(V in re=X.defaultProps,re)W[V]===void 0&&(W[V]=re[V]);return z(X,ee,W)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(X){return{$$typeof:o,render:X}},Ue.isValidElement=R,Ue.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:F}},Ue.memo=function(X,B){return{$$typeof:f,type:X,compare:B===void 0?null:B}},Ue.startTransition=function(X){var B=C.T,te={};C.T=te;try{var V=X(),W=C.S;W!==null&&W(te,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(N,G)}catch(ee){G(ee)}finally{B!==null&&te.types!==null&&(B.types=te.types),C.T=B}},Ue.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ue.use=function(X){return C.H.use(X)},Ue.useActionState=function(X,B,te){return C.H.useActionState(X,B,te)},Ue.useCallback=function(X,B){return C.H.useCallback(X,B)},Ue.useContext=function(X){return C.H.useContext(X)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(X,B){return C.H.useDeferredValue(X,B)},Ue.useEffect=function(X,B){return C.H.useEffect(X,B)},Ue.useEffectEvent=function(X){return C.H.useEffectEvent(X)},Ue.useId=function(){return C.H.useId()},Ue.useImperativeHandle=function(X,B,te){return C.H.useImperativeHandle(X,B,te)},Ue.useInsertionEffect=function(X,B){return C.H.useInsertionEffect(X,B)},Ue.useLayoutEffect=function(X,B){return C.H.useLayoutEffect(X,B)},Ue.useMemo=function(X,B){return C.H.useMemo(X,B)},Ue.useOptimistic=function(X,B){return C.H.useOptimistic(X,B)},Ue.useReducer=function(X,B,te){return C.H.useReducer(X,B,te)},Ue.useRef=function(X){return C.H.useRef(X)},Ue.useState=function(X){return C.H.useState(X)},Ue.useSyncExternalStore=function(X,B,te){return C.H.useSyncExternalStore(X,B,te)},Ue.useTransition=function(){return C.H.useTransition()},Ue.version="19.2.3",Ue}var x_;function Mf(){return x_||(x_=1,wg.exports=kY()),wg.exports}var j=Mf();const oe=mm(j);var Qg={exports:{}},Qu={},kg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function $Y(){return b_||(b_=1,(function(t){function e(A,I){var F=A.length;A.push(I);e:for(;0<F;){var G=F-1>>>1,J=A[G];if(0<s(J,I))A[G]=I,A[F]=J,F=G;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var I=A[0],F=A.pop();if(F!==I){A[0]=F;e:for(var G=0,J=A.length,X=J>>>1;G<X;){var B=2*(G+1)-1,te=A[B],V=B+1,W=A[V];if(0>s(te,F))V<J&&0>s(W,te)?(A[G]=W,A[V]=F,G=V):(A[G]=te,A[B]=F,G=B);else if(V<J&&0>s(W,F))A[G]=W,A[V]=F,G=V;else break e}}return I}function s(A,I){var F=A.sortIndex-I.sortIndex;return F!==0?F:A.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],f=[],p=1,m=null,g=3,x=!1,v=!1,y=!1,w=!1,Q=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function _(A){for(var I=n(f);I!==null;){if(I.callback===null)r(f);else if(I.startTime<=A)r(f),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(f)}}function T(A){if(y=!1,_(A),!v)if(n(u)!==null)v=!0,N||(N=!0,Y());else{var I=n(f);I!==null&&U(T,I.startTime-A)}}var N=!1,C=-1,q=5,z=-1;function Z(){return w?!0:!(t.unstable_now()-z<q)}function R(){if(w=!1,N){var A=t.unstable_now();z=A;var I=!0;try{e:{v=!1,y&&(y=!1,k(C),C=-1),x=!0;var F=g;try{t:{for(_(A),m=n(u);m!==null&&!(m.expirationTime>A&&Z());){var G=m.callback;if(typeof G=="function"){m.callback=null,g=m.priorityLevel;var J=G(m.expirationTime<=A);if(A=t.unstable_now(),typeof J=="function"){m.callback=J,_(A),I=!0;break t}m===n(u)&&r(u),_(A)}else r(u);m=n(u)}if(m!==null)I=!0;else{var X=n(f);X!==null&&U(T,X.startTime-A),I=!1}}break e}finally{m=null,g=F,x=!1}I=void 0}}finally{I?Y():N=!1}}}var Y;if(typeof $=="function")Y=function(){$(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,E=L.port2;L.port1.onmessage=R,Y=function(){E.postMessage(null)}}else Y=function(){Q(R,0)};function U(A,I){C=Q(function(){A(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(A){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var F=g;g=I;try{return A()}finally{g=F}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(A,I){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=g;g=A;try{return I()}finally{g=F}},t.unstable_scheduleCallback=function(A,I,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,A={id:p++,callback:I,priorityLevel:A,startTime:F,expirationTime:J,sortIndex:-1},F>G?(A.sortIndex=F,e(f,A),n(u)===null&&A===n(f)&&(y?(k(C),C=-1):y=!0,U(T,F-G))):(A.sortIndex=J,e(u,A),v||x||(v=!0,N||(N=!0,Y()))),A},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(A){var I=g;return function(){var F=g;g=I;try{return A.apply(this,arguments)}finally{g=F}}}})($g)),$g}var y_;function TY(){return y_||(y_=1,kg.exports=$Y()),kg.exports}var Tg={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function _Y(){if(v_)return Zn;v_=1;var t=Mf();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(u,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:u,containerInfo:f,implementation:p}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zn.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(u,f,null,p)},Zn.flushSync=function(u){var f=a.T,p=r.p;try{if(a.T=null,r.p=2,u)return u()}finally{a.T=f,r.p=p,r.d.f()}},Zn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},Zn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Zn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,m=o(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):p==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=o(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},Zn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=o(p,f.crossOrigin);r.d.L(u,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zn.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=o(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},Zn.requestFormReset=function(u){r.d.r(u)},Zn.unstable_batchedUpdates=function(u,f){return u(f)},Zn.useFormState=function(u,f,p){return a.H.useFormState(u,f,p)},Zn.useFormStatus=function(){return a.H.useHostTransitionStatus()},Zn.version="19.2.3",Zn}var S_;function WA(){if(S_)return Tg.exports;S_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=_Y(),Tg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function PY(){if(w_)return Qu;w_=1;var t=TY(),e=Mf(),n=WA();function r(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function a(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function o(l){if(l.tag===31){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function u(l){if(i(l)!==l)throw Error(r(188))}function f(l){var c=l.alternate;if(!c){if(c=i(l),c===null)throw Error(r(188));return c!==l?null:l}for(var h=l,O=c;;){var b=h.return;if(b===null)break;var S=b.alternate;if(S===null){if(O=b.return,O!==null){h=O;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===h)return u(b),l;if(S===O)return u(b),c;S=S.sibling}throw Error(r(188))}if(h.return!==O.return)h=b,O=S;else{for(var P=!1,M=b.child;M;){if(M===h){P=!0,h=b,O=S;break}if(M===O){P=!0,O=b,h=S;break}M=M.sibling}if(!P){for(M=S.child;M;){if(M===h){P=!0,h=S,O=b;break}if(M===O){P=!0,O=S,h=b;break}M=M.sibling}if(!P)throw Error(r(189))}}if(h.alternate!==O)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:c}function p(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=p(l),c!==null)return c;l=l.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),$=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=R&&l[R]||l["@@iterator"],typeof l=="function"?l:null)}var L=Symbol.for("react.client.reference");function E(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===L?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case Q:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList";case z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case $:return l.displayName||"Context";case k:return(l._context.displayName||"Context")+".Consumer";case _:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case C:return c=l.displayName||null,c!==null?c:E(l.type)||"Memo";case q:c=l._payload,l=l._init;try{return E(l(c))}catch{}}return null}var U=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},G=[],J=-1;function X(l){return{current:l}}function B(l){0>J||(l.current=G[J],G[J]=null,J--)}function te(l,c){J++,G[J]=l.current,l.current=c}var V=X(null),W=X(null),ee=X(null),re=X(null);function ue(l,c){switch(te(ee,c),te(W,l),te(V,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?MT(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=MT(c),l=zT(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}B(V),te(V,l)}function pe(){B(V),B(W),B(ee)}function Se(l){l.memoizedState!==null&&te(re,l);var c=V.current,h=zT(c,l.type);c!==h&&(te(W,l),te(V,h))}function Ye(l){W.current===l&&(B(V),B(W)),re.current===l&&(B(re),bu._currentValue=F)}var Le,We;function Xe(l){if(Le===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Le=c&&c[1]||"",We=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+l+We}var Qe=!1;function ct(l,c){if(!l||Qe)return"";Qe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(c){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(le){var ae=le}Reflect.construct(l,[],he)}else{try{he.call()}catch(le){ae=le}l.call(he.prototype)}}else{try{throw Error()}catch(le){ae=le}(he=l())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=O.DetermineComponentFrameRoot(),P=S[0],M=S[1];if(P&&M){var H=P.split(`
`),ie=M.split(`
`);for(b=O=0;O<H.length&&!H[O].includes("DetermineComponentFrameRoot");)O++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(O===H.length||b===ie.length)for(O=H.length-1,b=ie.length-1;1<=O&&0<=b&&H[O]!==ie[b];)b--;for(;1<=O&&0<=b;O--,b--)if(H[O]!==ie[b]){if(O!==1||b!==1)do if(O--,b--,0>b||H[O]!==ie[b]){var ce=`
`+H[O].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=O&&0<=b);break}}}finally{Qe=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Xe(h):""}function be(l,c){switch(l.tag){case 26:case 27:case 5:return Xe(l.type);case 16:return Xe("Lazy");case 13:return l.child!==c&&c!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return ct(l.type,!1);case 11:return ct(l.type.render,!1);case 1:return ct(l.type,!0);case 31:return Xe("Activity");default:return""}}function we(l){try{var c="",h=null;do c+=be(l,h),h=l,l=l.return;while(l);return c}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}var ut=Object.prototype.hasOwnProperty,on=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,Yt=t.unstable_shouldYield,Je=t.unstable_requestPaint,rt=t.unstable_now,Wt=t.unstable_getCurrentPriorityLevel,me=t.unstable_ImmediatePriority,ye=t.unstable_UserBlockingPriority,Ze=t.unstable_NormalPriority,Fe=t.unstable_LowPriority,Xt=t.unstable_IdlePriority,ft=t.log,Et=t.unstable_setDisableYieldValue,ke=null,Ie=null;function en(l){if(typeof ft=="function"&&Et(l),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(ke,l)}catch{}}var at=Math.clz32?Math.clz32:tn,$e=Math.log,$t=Math.LN2;function tn(l){return l>>>=0,l===0?32:31-($e(l)/$t|0)|0}var Pn=256,Fn=262144,pr=4194304;function dn(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Kn(l,c,h){var O=l.pendingLanes;if(O===0)return 0;var b=0,S=l.suspendedLanes,P=l.pingedLanes;l=l.warmLanes;var M=O&134217727;return M!==0?(O=M&~S,O!==0?b=dn(O):(P&=M,P!==0?b=dn(P):h||(h=M&~l,h!==0&&(b=dn(h))))):(M=O&~S,M!==0?b=dn(M):P!==0?b=dn(P):h||(h=O&~l,h!==0&&(b=dn(h)))),b===0?0:c!==0&&c!==b&&(c&S)===0&&(S=b&-b,h=c&-c,S>=h||S===32&&(h&4194048)!==0)?c:b}function hn(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function jn(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ti(){var l=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),l}function ls(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Jn(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Cr(l,c,h,O,b,S){var P=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var M=l.entanglements,H=l.expirationTimes,ie=l.hiddenUpdates;for(h=P&~h;0<h;){var ce=31-at(h),he=1<<ce;M[ce]=0,H[ce]=-1;var ae=ie[ce];if(ae!==null)for(ie[ce]=null,ce=0;ce<ae.length;ce++){var le=ae[ce];le!==null&&(le.lane&=-536870913)}h&=~he}O!==0&&os(l,O,0),S!==0&&b===0&&l.tag!==0&&(l.suspendedLanes|=S&~(P&~c))}function os(l,c,h){l.pendingLanes|=c,l.suspendedLanes&=~c;var O=31-at(c);l.entangledLanes|=c,l.entanglements[O]=l.entanglements[O]|1073741824|h&261930}function ni(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var O=31-at(h),b=1<<O;b&c|l[O]&c&&(l[O]|=c),h&=~b}}function mr(l,c){var h=c&-c;return h=(h&42)!==0?1:Er(h),(h&(l.suspendedLanes|c))!==0?0:h}function Er(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Rr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Oe(){var l=I.p;return l!==0?l:(l=window.event,l===void 0?32:o_(l.type))}function Ne(l,c){var h=I.p;try{return I.p=l,c()}finally{I.p=h}}var De=Math.random().toString(36).slice(2),et="__reactFiber$"+De,tt="__reactProps$"+De,cs="__reactContainer$"+De,Cs="__reactEvents$"+De,Rc="__reactListeners$"+De,Ac="__reactHandles$"+De,Va="__reactResources$"+De,ri="__reactMarker$"+De;function Ui(l){delete l[et],delete l[tt],delete l[Cs],delete l[Rc],delete l[Ac]}function Es(l){var c=l[et];if(c)return c;for(var h=l.parentNode;h;){if(c=h[cs]||h[et]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=UT(l);l!==null;){if(h=l[et])return h;l=UT(l)}return c}l=h,h=l.parentNode}return null}function us(l){if(l=l[et]||l[cs]){var c=l.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return l}return null}function si(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(r(33))}function Rs(l){var c=l[Va];return c||(c=l[Va]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function nn(l){l[ri]=!0}var Bl=new Set,Ul={};function fs(l,c){ds(l,c),ds(l+"Capture",c)}function ds(l,c){for(Ul[l]=c,l=0;l<c.length;l++)Bl.add(c[l])}var Gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wl={},Il={};function Da(l){return ut.call(Il,l)?!0:ut.call(Wl,l)?!1:Gl.test(l)?Il[l]=!0:(Wl[l]=!0,!1)}function Hl(l,c,h){if(Da(c))if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var O=c.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+h)}}function Gi(l,c,h){if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+h)}}function Or(l,c,h,O){if(O===null)l.removeAttribute(h);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(c,h,""+O)}}function fe(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function je(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function dt(l,c,h){var O=Object.getOwnPropertyDescriptor(l.constructor.prototype,c);if(!l.hasOwnProperty(c)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var b=O.get,S=O.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return b.call(this)},set:function(P){h=""+P,S.call(this,P)}}),Object.defineProperty(l,c,{enumerable:O.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function kn(l){if(!l._valueTracker){var c=je(l)?"checked":"value";l._valueTracker=dt(l,c,""+l[c])}}function hs(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),O="";return l&&(O=je(l)?l.checked?"true":"false":l.value),l=O,l!==h?(c.setValue(l),!0):!1}function Ba(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ad=/[\n"\\]/g;function Ar(l){return l.replace(ad,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function OO(l,c,h,O,b,S,P,M){l.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?l.type=P:l.removeAttribute("type"),c!=null?P==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+fe(c)):l.value!==""+fe(c)&&(l.value=""+fe(c)):P!=="submit"&&P!=="reset"||l.removeAttribute("value"),c!=null?gO(l,P,fe(c)):h!=null?gO(l,P,fe(h)):O!=null&&l.removeAttribute("value"),b==null&&S!=null&&(l.defaultChecked=!!S),b!=null&&(l.checked=b&&typeof b!="function"&&typeof b!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?l.name=""+fe(M):l.removeAttribute("name")}function Ck(l,c,h,O,b,S,P,M){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null)){kn(l);return}h=h!=null?""+fe(h):"",c=c!=null?""+fe(c):h,M||c===l.value||(l.value=c),l.defaultValue=c}O=O??b,O=typeof O!="function"&&typeof O!="symbol"&&!!O,l.checked=M?l.checked:!!O,l.defaultChecked=!!O,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(l.name=P),kn(l)}function gO(l,c,h){c==="number"&&Ba(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Fl(l,c,h,O){if(l=l.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<l.length;h++)b=c.hasOwnProperty("$"+l[h].value),l[h].selected!==b&&(l[h].selected=b),b&&O&&(l[h].defaultSelected=!0)}else{for(h=""+fe(h),c=null,b=0;b<l.length;b++){if(l[b].value===h){l[b].selected=!0,O&&(l[b].defaultSelected=!0);return}c!==null||l[b].disabled||(c=l[b])}c!==null&&(c.selected=!0)}}function Ek(l,c,h){if(c!=null&&(c=""+fe(c),c!==l.value&&(l.value=c),h==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=h!=null?""+fe(h):""}function Rk(l,c,h,O){if(c==null){if(O!=null){if(h!=null)throw Error(r(92));if(U(O)){if(1<O.length)throw Error(r(93));O=O[0]}h=O}h==null&&(h=""),c=h}h=fe(c),l.defaultValue=h,O=l.textContent,O===h&&O!==""&&O!==null&&(l.value=O),kn(l)}function Kl(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var O6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ak(l,c,h){var O=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?O?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":O?l.setProperty(c,h):typeof h!="number"||h===0||O6.has(c)?c==="float"?l.cssFloat=h:l[c]=(""+h).trim():l[c]=h+"px"}function qk(l,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(l=l.style,h!=null){for(var O in h)!h.hasOwnProperty(O)||c!=null&&c.hasOwnProperty(O)||(O.indexOf("--")===0?l.setProperty(O,""):O==="float"?l.cssFloat="":l[O]="");for(var b in c)O=c[b],c.hasOwnProperty(b)&&h[b]!==O&&Ak(l,b,O)}else for(var S in c)c.hasOwnProperty(S)&&Ak(l,S,c[S])}function xO(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ld(l){return x6.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ii(){}var bO=null;function yO(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Jl=null,eo=null;function Xk(l){var c=us(l);if(c&&(l=c.stateNode)){var h=l[tt]||null;e:switch(l=c.stateNode,c.type){case"input":if(OO(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Ar(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var O=h[c];if(O!==l&&O.form===l.form){var b=O[tt]||null;if(!b)throw Error(r(90));OO(O,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<h.length;c++)O=h[c],O.form===l.form&&hs(O)}break e;case"textarea":Ek(l,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Fl(l,!!h.multiple,c,!1)}}}var vO=!1;function Mk(l,c,h){if(vO)return l(c,h);vO=!0;try{var O=l(c);return O}finally{if(vO=!1,(Jl!==null||eo!==null)&&(Wd(),Jl&&(c=Jl,l=eo,eo=Jl=null,Xk(c),l)))for(c=0;c<l.length;c++)Xk(l[c])}}function qc(l,c){var h=l.stateNode;if(h===null)return null;var O=h[tt]||null;if(O===null)return null;h=O[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(l=l.type,O=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!O;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SO=!1;if(ai)try{var Xc={};Object.defineProperty(Xc,"passive",{get:function(){SO=!0}}),window.addEventListener("test",Xc,Xc),window.removeEventListener("test",Xc,Xc)}catch{SO=!1}var Wi=null,wO=null,od=null;function zk(){if(od)return od;var l,c=wO,h=c.length,O,b="value"in Wi?Wi.value:Wi.textContent,S=b.length;for(l=0;l<h&&c[l]===b[l];l++);var P=h-l;for(O=1;O<=P&&c[h-O]===b[S-O];O++);return od=b.slice(l,1<O?1-O:void 0)}function cd(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function ud(){return!0}function Zk(){return!1}function er(l){function c(h,O,b,S,P){this._reactName=h,this._targetInst=b,this.type=O,this.nativeEvent=S,this.target=P,this.currentTarget=null;for(var M in l)l.hasOwnProperty(M)&&(h=l[M],this[M]=h?h(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ud:Zk,this.isPropagationStopped=Zk,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),c}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fd=er(Ua),Mc=m({},Ua,{view:0,detail:0}),b6=er(Mc),QO,kO,zc,dd=m({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TO,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==zc&&(zc&&l.type==="mousemove"?(QO=l.screenX-zc.screenX,kO=l.screenY-zc.screenY):kO=QO=0,zc=l),QO)},movementY:function(l){return"movementY"in l?l.movementY:kO}}),Lk=er(dd),y6=m({},dd,{dataTransfer:0}),v6=er(y6),S6=m({},Mc,{relatedTarget:0}),$O=er(S6),w6=m({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Q6=er(w6),k6=m({},Ua,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),$6=er(k6),T6=m({},Ua,{data:0}),Yk=er(T6),_6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N6(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=j6[l])?!!c[l]:!1}function TO(){return N6}var C6=m({},Mc,{key:function(l){if(l.key){var c=_6[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=cd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?P6[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TO,charCode:function(l){return l.type==="keypress"?cd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?cd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),E6=er(C6),R6=m({},dd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vk=er(R6),A6=m({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TO}),q6=er(A6),X6=m({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),M6=er(X6),z6=m({},dd,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Z6=er(z6),L6=m({},Ua,{newState:0,oldState:0}),Y6=er(L6),V6=[9,13,27,32],_O=ai&&"CompositionEvent"in window,Zc=null;ai&&"documentMode"in document&&(Zc=document.documentMode);var D6=ai&&"TextEvent"in window&&!Zc,Dk=ai&&(!_O||Zc&&8<Zc&&11>=Zc),Bk=" ",Uk=!1;function Gk(l,c){switch(l){case"keyup":return V6.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var to=!1;function B6(l,c){switch(l){case"compositionend":return Wk(c);case"keypress":return c.which!==32?null:(Uk=!0,Bk);case"textInput":return l=c.data,l===Bk&&Uk?null:l;default:return null}}function U6(l,c){if(to)return l==="compositionend"||!_O&&Gk(l,c)?(l=zk(),od=wO=Wi=null,to=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Dk&&c.locale!=="ko"?null:c.data;default:return null}}var G6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ik(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!G6[l.type]:c==="textarea"}function Hk(l,c,h,O){Jl?eo?eo.push(O):eo=[O]:Jl=O,c=th(c,"onChange"),0<c.length&&(h=new fd("onChange","change",null,h,O),l.push({event:h,listeners:c}))}var Lc=null,Yc=null;function W6(l){CT(l,0)}function hd(l){var c=si(l);if(hs(c))return l}function Fk(l,c){if(l==="change")return c}var Kk=!1;if(ai){var PO;if(ai){var jO="oninput"in document;if(!jO){var Jk=document.createElement("div");Jk.setAttribute("oninput","return;"),jO=typeof Jk.oninput=="function"}PO=jO}else PO=!1;Kk=PO&&(!document.documentMode||9<document.documentMode)}function e5(){Lc&&(Lc.detachEvent("onpropertychange",t5),Yc=Lc=null)}function t5(l){if(l.propertyName==="value"&&hd(Yc)){var c=[];Hk(c,Yc,l,yO(l)),Mk(W6,c)}}function I6(l,c,h){l==="focusin"?(e5(),Lc=c,Yc=h,Lc.attachEvent("onpropertychange",t5)):l==="focusout"&&e5()}function H6(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return hd(Yc)}function F6(l,c){if(l==="click")return hd(c)}function K6(l,c){if(l==="input"||l==="change")return hd(c)}function J6(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var gr=typeof Object.is=="function"?Object.is:J6;function Vc(l,c){if(gr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),O=Object.keys(c);if(h.length!==O.length)return!1;for(O=0;O<h.length;O++){var b=h[O];if(!ut.call(c,b)||!gr(l[b],c[b]))return!1}return!0}function n5(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function r5(l,c){var h=n5(l);l=0;for(var O;h;){if(h.nodeType===3){if(O=l+h.textContent.length,l<=c&&O>=c)return{node:h,offset:c-l};l=O}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=n5(h)}}function s5(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?s5(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function i5(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=Ba(l.document);c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=Ba(l.document)}return c}function NO(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var e8=ai&&"documentMode"in document&&11>=document.documentMode,no=null,CO=null,Dc=null,EO=!1;function a5(l,c,h){var O=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;EO||no==null||no!==Ba(O)||(O=no,"selectionStart"in O&&NO(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Dc&&Vc(Dc,O)||(Dc=O,O=th(CO,"onSelect"),0<O.length&&(c=new fd("onSelect","select",null,c,h),l.push({event:c,listeners:O}),c.target=no)))}function Ga(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var ro={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},RO={},l5={};ai&&(l5=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Wa(l){if(RO[l])return RO[l];if(!ro[l])return l;var c=ro[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in l5)return RO[l]=c[h];return l}var o5=Wa("animationend"),c5=Wa("animationiteration"),u5=Wa("animationstart"),t8=Wa("transitionrun"),n8=Wa("transitionstart"),r8=Wa("transitioncancel"),f5=Wa("transitionend"),d5=new Map,AO="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");AO.push("scrollEnd");function ps(l,c){d5.set(l,c),fs(c,[l])}var pd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},qr=[],so=0,qO=0;function md(){for(var l=so,c=qO=so=0;c<l;){var h=qr[c];qr[c++]=null;var O=qr[c];qr[c++]=null;var b=qr[c];qr[c++]=null;var S=qr[c];if(qr[c++]=null,O!==null&&b!==null){var P=O.pending;P===null?b.next=b:(b.next=P.next,P.next=b),O.pending=b}S!==0&&h5(h,b,S)}}function Od(l,c,h,O){qr[so++]=l,qr[so++]=c,qr[so++]=h,qr[so++]=O,qO|=O,l.lanes|=O,l=l.alternate,l!==null&&(l.lanes|=O)}function XO(l,c,h,O){return Od(l,c,h,O),gd(l)}function Ia(l,c){return Od(l,null,null,c),gd(l)}function h5(l,c,h){l.lanes|=h;var O=l.alternate;O!==null&&(O.lanes|=h);for(var b=!1,S=l.return;S!==null;)S.childLanes|=h,O=S.alternate,O!==null&&(O.childLanes|=h),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(b=!0)),l=S,S=S.return;return l.tag===3?(S=l.stateNode,b&&c!==null&&(b=31-at(h),l=S.hiddenUpdates,O=l[b],O===null?l[b]=[c]:O.push(c),c.lane=h|536870912),S):null}function gd(l){if(50<du)throw du=0,U0=null,Error(r(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var io={};function s8(l,c,h,O){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(l,c,h,O){return new s8(l,c,h,O)}function MO(l){return l=l.prototype,!(!l||!l.isReactComponent)}function li(l,c){var h=l.alternate;return h===null?(h=xr(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function p5(l,c){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,c=h.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function xd(l,c,h,O,b,S){var P=0;if(O=l,typeof l=="function")MO(l)&&(P=1);else if(typeof l=="string")P=cY(l,h,V.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case z:return l=xr(31,h,c,b),l.elementType=z,l.lanes=S,l;case y:return Ha(h.children,b,S,c);case w:P=8,b|=24;break;case Q:return l=xr(12,h,c,b|2),l.elementType=Q,l.lanes=S,l;case T:return l=xr(13,h,c,b),l.elementType=T,l.lanes=S,l;case N:return l=xr(19,h,c,b),l.elementType=N,l.lanes=S,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case $:P=10;break e;case k:P=9;break e;case _:P=11;break e;case C:P=14;break e;case q:P=16,O=null;break e}P=29,h=Error(r(130,l===null?"null":typeof l,"")),O=null}return c=xr(P,h,c,b),c.elementType=l,c.type=O,c.lanes=S,c}function Ha(l,c,h,O){return l=xr(7,l,O,c),l.lanes=h,l}function zO(l,c,h){return l=xr(6,l,null,c),l.lanes=h,l}function m5(l){var c=xr(18,null,null,0);return c.stateNode=l,c}function ZO(l,c,h){return c=xr(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var O5=new WeakMap;function Xr(l,c){if(typeof l=="object"&&l!==null){var h=O5.get(l);return h!==void 0?h:(c={value:l,source:c,stack:we(c)},O5.set(l,c),c)}return{value:l,source:c,stack:we(c)}}var ao=[],lo=0,bd=null,Bc=0,Mr=[],zr=0,Ii=null,As=1,qs="";function oi(l,c){ao[lo++]=Bc,ao[lo++]=bd,bd=l,Bc=c}function g5(l,c,h){Mr[zr++]=As,Mr[zr++]=qs,Mr[zr++]=Ii,Ii=l;var O=As;l=qs;var b=32-at(O)-1;O&=~(1<<b),h+=1;var S=32-at(c)+b;if(30<S){var P=b-b%5;S=(O&(1<<P)-1).toString(32),O>>=P,b-=P,As=1<<32-at(c)+b|h<<b|O,qs=S+l}else As=1<<S|h<<b|O,qs=l}function LO(l){l.return!==null&&(oi(l,1),g5(l,1,0))}function YO(l){for(;l===bd;)bd=ao[--lo],ao[lo]=null,Bc=ao[--lo],ao[lo]=null;for(;l===Ii;)Ii=Mr[--zr],Mr[zr]=null,qs=Mr[--zr],Mr[zr]=null,As=Mr[--zr],Mr[zr]=null}function x5(l,c){Mr[zr++]=As,Mr[zr++]=qs,Mr[zr++]=Ii,As=c.id,qs=c.overflow,Ii=l}var Nn=null,Zt=null,ht=!1,Hi=null,Zr=!1,VO=Error(r(519));function Fi(l){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uc(Xr(c,l)),VO}function b5(l){var c=l.stateNode,h=l.type,O=l.memoizedProps;switch(c[et]=l,c[tt]=O,h){case"dialog":it("cancel",c),it("close",c);break;case"iframe":case"object":case"embed":it("load",c);break;case"video":case"audio":for(h=0;h<pu.length;h++)it(pu[h],c);break;case"source":it("error",c);break;case"img":case"image":case"link":it("error",c),it("load",c);break;case"details":it("toggle",c);break;case"input":it("invalid",c),Ck(c,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0);break;case"select":it("invalid",c);break;case"textarea":it("invalid",c),Rk(c,O.value,O.defaultValue,O.children)}h=O.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||O.suppressHydrationWarning===!0||qT(c.textContent,h)?(O.popover!=null&&(it("beforetoggle",c),it("toggle",c)),O.onScroll!=null&&it("scroll",c),O.onScrollEnd!=null&&it("scrollend",c),O.onClick!=null&&(c.onclick=ii),c=!0):c=!1,c||Fi(l,!0)}function y5(l){for(Nn=l.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:Zr=!1;return;case 27:case 3:Zr=!0;return;default:Nn=Nn.return}}function oo(l){if(l!==Nn)return!1;if(!ht)return y5(l),ht=!0,!1;var c=l.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||lg(l.type,l.memoizedProps)),h=!h),h&&Zt&&Fi(l),y5(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Zt=BT(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Zt=BT(l)}else c===27?(c=Zt,fa(l.type)?(l=dg,dg=null,Zt=l):Zt=c):Zt=Nn?Yr(l.stateNode.nextSibling):null;return!0}function Fa(){Zt=Nn=null,ht=!1}function DO(){var l=Hi;return l!==null&&(sr===null?sr=l:sr.push.apply(sr,l),Hi=null),l}function Uc(l){Hi===null?Hi=[l]:Hi.push(l)}var BO=X(null),Ka=null,ci=null;function Ki(l,c,h){te(BO,c._currentValue),c._currentValue=h}function ui(l){l._currentValue=BO.current,B(BO)}function UO(l,c,h){for(;l!==null;){var O=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,O!==null&&(O.childLanes|=c)):O!==null&&(O.childLanes&c)!==c&&(O.childLanes|=c),l===h)break;l=l.return}}function GO(l,c,h,O){var b=l.child;for(b!==null&&(b.return=l);b!==null;){var S=b.dependencies;if(S!==null){var P=b.child;S=S.firstContext;e:for(;S!==null;){var M=S;S=b;for(var H=0;H<c.length;H++)if(M.context===c[H]){S.lanes|=h,M=S.alternate,M!==null&&(M.lanes|=h),UO(S.return,h,l),O||(P=null);break e}S=M.next}}else if(b.tag===18){if(P=b.return,P===null)throw Error(r(341));P.lanes|=h,S=P.alternate,S!==null&&(S.lanes|=h),UO(P,h,l),P=null}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===l){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}}function co(l,c,h,O){l=null;for(var b=c,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var P=b.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var M=b.type;gr(b.pendingProps.value,P.value)||(l!==null?l.push(M):l=[M])}}else if(b===re.current){if(P=b.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(l!==null?l.push(bu):l=[bu])}b=b.return}l!==null&&GO(c,l,h,O),c.flags|=262144}function yd(l){for(l=l.firstContext;l!==null;){if(!gr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ja(l){Ka=l,ci=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Cn(l){return v5(Ka,l)}function vd(l,c){return Ka===null&&Ja(l),v5(l,c)}function v5(l,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ci===null){if(l===null)throw Error(r(308));ci=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else ci=ci.next=c;return h}var i8=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(h,O){l.push(O)}};this.abort=function(){c.aborted=!0,l.forEach(function(h){return h()})}},a8=t.unstable_scheduleCallback,l8=t.unstable_NormalPriority,pn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function WO(){return{controller:new i8,data:new Map,refCount:0}}function Gc(l){l.refCount--,l.refCount===0&&a8(l8,function(){l.controller.abort()})}var Wc=null,IO=0,uo=0,fo=null;function o8(l,c){if(Wc===null){var h=Wc=[];IO=0,uo=K0(),fo={status:"pending",value:void 0,then:function(O){h.push(O)}}}return IO++,c.then(S5,S5),c}function S5(){if(--IO===0&&Wc!==null){fo!==null&&(fo.status="fulfilled");var l=Wc;Wc=null,uo=0,fo=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function c8(l,c){var h=[],O={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return l.then(function(){O.status="fulfilled",O.value=c;for(var b=0;b<h.length;b++)(0,h[b])(c)},function(b){for(O.status="rejected",O.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),O}var w5=A.S;A.S=function(l,c){aT=rt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&o8(l,c),w5!==null&&w5(l,c)};var el=X(null);function HO(){var l=el.current;return l!==null?l:Rt.pooledCache}function Sd(l,c){c===null?te(el,el.current):te(el,c.pool)}function Q5(){var l=HO();return l===null?null:{parent:pn._currentValue,pool:l}}var ho=Error(r(460)),FO=Error(r(474)),wd=Error(r(542)),Qd={then:function(){}};function k5(l){return l=l.status,l==="fulfilled"||l==="rejected"}function $5(l,c,h){switch(h=l[h],h===void 0?l.push(c):h!==c&&(c.then(ii,ii),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,_5(l),l;default:if(typeof c.status=="string")c.then(ii,ii);else{if(l=Rt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=c,l.status="pending",l.then(function(O){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=O}},function(O){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=O}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,_5(l),l}throw nl=c,ho}}function tl(l){try{var c=l._init;return c(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(nl=h,ho):h}}var nl=null;function T5(){if(nl===null)throw Error(r(459));var l=nl;return nl=null,l}function _5(l){if(l===ho||l===wd)throw Error(r(483))}var po=null,Ic=0;function kd(l){var c=Ic;return Ic+=1,po===null&&(po=[]),$5(po,l,c)}function Hc(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function $d(l,c){throw c.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function P5(l){function c(ne,K){if(l){var se=ne.deletions;se===null?(ne.deletions=[K],ne.flags|=16):se.push(K)}}function h(ne,K){if(!l)return null;for(;K!==null;)c(ne,K),K=K.sibling;return null}function O(ne){for(var K=new Map;ne!==null;)ne.key!==null?K.set(ne.key,ne):K.set(ne.index,ne),ne=ne.sibling;return K}function b(ne,K){return ne=li(ne,K),ne.index=0,ne.sibling=null,ne}function S(ne,K,se){return ne.index=se,l?(se=ne.alternate,se!==null?(se=se.index,se<K?(ne.flags|=67108866,K):se):(ne.flags|=67108866,K)):(ne.flags|=1048576,K)}function P(ne){return l&&ne.alternate===null&&(ne.flags|=67108866),ne}function M(ne,K,se,de){return K===null||K.tag!==6?(K=zO(se,ne.mode,de),K.return=ne,K):(K=b(K,se),K.return=ne,K)}function H(ne,K,se,de){var ze=se.type;return ze===y?ce(ne,K,se.props.children,de,se.key):K!==null&&(K.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===q&&tl(ze)===K.type)?(K=b(K,se.props),Hc(K,se),K.return=ne,K):(K=xd(se.type,se.key,se.props,null,ne.mode,de),Hc(K,se),K.return=ne,K)}function ie(ne,K,se,de){return K===null||K.tag!==4||K.stateNode.containerInfo!==se.containerInfo||K.stateNode.implementation!==se.implementation?(K=ZO(se,ne.mode,de),K.return=ne,K):(K=b(K,se.children||[]),K.return=ne,K)}function ce(ne,K,se,de,ze){return K===null||K.tag!==7?(K=Ha(se,ne.mode,de,ze),K.return=ne,K):(K=b(K,se),K.return=ne,K)}function he(ne,K,se){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=zO(""+K,ne.mode,se),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return se=xd(K.type,K.key,K.props,null,ne.mode,se),Hc(se,K),se.return=ne,se;case v:return K=ZO(K,ne.mode,se),K.return=ne,K;case q:return K=tl(K),he(ne,K,se)}if(U(K)||Y(K))return K=Ha(K,ne.mode,se,null),K.return=ne,K;if(typeof K.then=="function")return he(ne,kd(K),se);if(K.$$typeof===$)return he(ne,vd(ne,K),se);$d(ne,K)}return null}function ae(ne,K,se,de){var ze=K!==null?K.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return ze!==null?null:M(ne,K,""+se,de);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return se.key===ze?H(ne,K,se,de):null;case v:return se.key===ze?ie(ne,K,se,de):null;case q:return se=tl(se),ae(ne,K,se,de)}if(U(se)||Y(se))return ze!==null?null:ce(ne,K,se,de,null);if(typeof se.then=="function")return ae(ne,K,kd(se),de);if(se.$$typeof===$)return ae(ne,K,vd(ne,se),de);$d(ne,se)}return null}function le(ne,K,se,de,ze){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return ne=ne.get(se)||null,M(K,ne,""+de,ze);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case x:return ne=ne.get(de.key===null?se:de.key)||null,H(K,ne,de,ze);case v:return ne=ne.get(de.key===null?se:de.key)||null,ie(K,ne,de,ze);case q:return de=tl(de),le(ne,K,se,de,ze)}if(U(de)||Y(de))return ne=ne.get(se)||null,ce(K,ne,de,ze,null);if(typeof de.then=="function")return le(ne,K,se,kd(de),ze);if(de.$$typeof===$)return le(ne,K,se,vd(K,de),ze);$d(K,de)}return null}function Pe(ne,K,se,de){for(var ze=null,gt=null,Ce=K,Ke=K=0,ot=null;Ce!==null&&Ke<se.length;Ke++){Ce.index>Ke?(ot=Ce,Ce=null):ot=Ce.sibling;var xt=ae(ne,Ce,se[Ke],de);if(xt===null){Ce===null&&(Ce=ot);break}l&&Ce&&xt.alternate===null&&c(ne,Ce),K=S(xt,K,Ke),gt===null?ze=xt:gt.sibling=xt,gt=xt,Ce=ot}if(Ke===se.length)return h(ne,Ce),ht&&oi(ne,Ke),ze;if(Ce===null){for(;Ke<se.length;Ke++)Ce=he(ne,se[Ke],de),Ce!==null&&(K=S(Ce,K,Ke),gt===null?ze=Ce:gt.sibling=Ce,gt=Ce);return ht&&oi(ne,Ke),ze}for(Ce=O(Ce);Ke<se.length;Ke++)ot=le(Ce,ne,Ke,se[Ke],de),ot!==null&&(l&&ot.alternate!==null&&Ce.delete(ot.key===null?Ke:ot.key),K=S(ot,K,Ke),gt===null?ze=ot:gt.sibling=ot,gt=ot);return l&&Ce.forEach(function(Oa){return c(ne,Oa)}),ht&&oi(ne,Ke),ze}function Ve(ne,K,se,de){if(se==null)throw Error(r(151));for(var ze=null,gt=null,Ce=K,Ke=K=0,ot=null,xt=se.next();Ce!==null&&!xt.done;Ke++,xt=se.next()){Ce.index>Ke?(ot=Ce,Ce=null):ot=Ce.sibling;var Oa=ae(ne,Ce,xt.value,de);if(Oa===null){Ce===null&&(Ce=ot);break}l&&Ce&&Oa.alternate===null&&c(ne,Ce),K=S(Oa,K,Ke),gt===null?ze=Oa:gt.sibling=Oa,gt=Oa,Ce=ot}if(xt.done)return h(ne,Ce),ht&&oi(ne,Ke),ze;if(Ce===null){for(;!xt.done;Ke++,xt=se.next())xt=he(ne,xt.value,de),xt!==null&&(K=S(xt,K,Ke),gt===null?ze=xt:gt.sibling=xt,gt=xt);return ht&&oi(ne,Ke),ze}for(Ce=O(Ce);!xt.done;Ke++,xt=se.next())xt=le(Ce,ne,Ke,xt.value,de),xt!==null&&(l&&xt.alternate!==null&&Ce.delete(xt.key===null?Ke:xt.key),K=S(xt,K,Ke),gt===null?ze=xt:gt.sibling=xt,gt=xt);return l&&Ce.forEach(function(yY){return c(ne,yY)}),ht&&oi(ne,Ke),ze}function Pt(ne,K,se,de){if(typeof se=="object"&&se!==null&&se.type===y&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case x:e:{for(var ze=se.key;K!==null;){if(K.key===ze){if(ze=se.type,ze===y){if(K.tag===7){h(ne,K.sibling),de=b(K,se.props.children),de.return=ne,ne=de;break e}}else if(K.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===q&&tl(ze)===K.type){h(ne,K.sibling),de=b(K,se.props),Hc(de,se),de.return=ne,ne=de;break e}h(ne,K);break}else c(ne,K);K=K.sibling}se.type===y?(de=Ha(se.props.children,ne.mode,de,se.key),de.return=ne,ne=de):(de=xd(se.type,se.key,se.props,null,ne.mode,de),Hc(de,se),de.return=ne,ne=de)}return P(ne);case v:e:{for(ze=se.key;K!==null;){if(K.key===ze)if(K.tag===4&&K.stateNode.containerInfo===se.containerInfo&&K.stateNode.implementation===se.implementation){h(ne,K.sibling),de=b(K,se.children||[]),de.return=ne,ne=de;break e}else{h(ne,K);break}else c(ne,K);K=K.sibling}de=ZO(se,ne.mode,de),de.return=ne,ne=de}return P(ne);case q:return se=tl(se),Pt(ne,K,se,de)}if(U(se))return Pe(ne,K,se,de);if(Y(se)){if(ze=Y(se),typeof ze!="function")throw Error(r(150));return se=ze.call(se),Ve(ne,K,se,de)}if(typeof se.then=="function")return Pt(ne,K,kd(se),de);if(se.$$typeof===$)return Pt(ne,K,vd(ne,se),de);$d(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,K!==null&&K.tag===6?(h(ne,K.sibling),de=b(K,se),de.return=ne,ne=de):(h(ne,K),de=zO(se,ne.mode,de),de.return=ne,ne=de),P(ne)):h(ne,K)}return function(ne,K,se,de){try{Ic=0;var ze=Pt(ne,K,se,de);return po=null,ze}catch(Ce){if(Ce===ho||Ce===wd)throw Ce;var gt=xr(29,Ce,null,ne.mode);return gt.lanes=de,gt.return=ne,gt}finally{}}}var rl=P5(!0),j5=P5(!1),Ji=!1;function KO(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function JO(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ea(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function ta(l,c,h){var O=l.updateQueue;if(O===null)return null;if(O=O.shared,(vt&2)!==0){var b=O.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),O.pending=c,c=gd(l),h5(l,null,h),c}return Od(l,O,c,h),gd(l)}function Fc(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var O=c.lanes;O&=l.pendingLanes,h|=O,c.lanes=h,ni(l,h)}}function e0(l,c){var h=l.updateQueue,O=l.alternate;if(O!==null&&(O=O.updateQueue,h===O)){var b=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var P={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?b=S=P:S=S.next=P,h=h.next}while(h!==null);S===null?b=S=c:S=S.next=c}else b=S=c;h={baseState:O.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:O.shared,callbacks:O.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}var t0=!1;function Kc(){if(t0){var l=fo;if(l!==null)throw l}}function Jc(l,c,h,O){t0=!1;var b=l.updateQueue;Ji=!1;var S=b.firstBaseUpdate,P=b.lastBaseUpdate,M=b.shared.pending;if(M!==null){b.shared.pending=null;var H=M,ie=H.next;H.next=null,P===null?S=ie:P.next=ie,P=H;var ce=l.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==P&&(M===null?ce.firstBaseUpdate=ie:M.next=ie,ce.lastBaseUpdate=H))}if(S!==null){var he=b.baseState;P=0,ce=ie=H=null,M=S;do{var ae=M.lane&-536870913,le=ae!==M.lane;if(le?(lt&ae)===ae:(O&ae)===ae){ae!==0&&ae===uo&&(t0=!0),ce!==null&&(ce=ce.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Pe=l,Ve=M;ae=c;var Pt=h;switch(Ve.tag){case 1:if(Pe=Ve.payload,typeof Pe=="function"){he=Pe.call(Pt,he,ae);break e}he=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ve.payload,ae=typeof Pe=="function"?Pe.call(Pt,he,ae):Pe,ae==null)break e;he=m({},he,ae);break e;case 2:Ji=!0}}ae=M.callback,ae!==null&&(l.flags|=64,le&&(l.flags|=8192),le=b.callbacks,le===null?b.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(ie=ce=le,H=he):ce=ce.next=le,P|=ae;if(M=M.next,M===null){if(M=b.shared.pending,M===null)break;le=M,M=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);ce===null&&(H=he),b.baseState=H,b.firstBaseUpdate=ie,b.lastBaseUpdate=ce,S===null&&(b.shared.lanes=0),aa|=P,l.lanes=P,l.memoizedState=he}}function N5(l,c){if(typeof l!="function")throw Error(r(191,l));l.call(c)}function C5(l,c){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)N5(h[l],c)}var mo=X(null),Td=X(0);function E5(l,c){l=bi,te(Td,l),te(mo,c),bi=l|c.baseLanes}function n0(){te(Td,bi),te(mo,mo.current)}function r0(){bi=Td.current,B(mo),B(Td)}var br=X(null),Lr=null;function na(l){var c=l.alternate;te(cn,cn.current&1),te(br,l),Lr===null&&(c===null||mo.current!==null||c.memoizedState!==null)&&(Lr=l)}function s0(l){te(cn,cn.current),te(br,l),Lr===null&&(Lr=l)}function R5(l){l.tag===22?(te(cn,cn.current),te(br,l),Lr===null&&(Lr=l)):ra()}function ra(){te(cn,cn.current),te(br,br.current)}function yr(l){B(br),Lr===l&&(Lr=null),B(cn)}var cn=X(0);function _d(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||ug(h)||fg(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var fi=0,He=null,Tt=null,mn=null,Pd=!1,Oo=!1,sl=!1,jd=0,eu=0,go=null,u8=0;function rn(){throw Error(r(321))}function i0(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!gr(l[h],c[h]))return!1;return!0}function a0(l,c,h,O,b,S){return fi=S,He=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,A.H=l===null||l.memoizedState===null?g$:v0,sl=!1,S=h(O,b),sl=!1,Oo&&(S=q5(c,h,O,b)),A5(l),S}function A5(l){A.H=ru;var c=Tt!==null&&Tt.next!==null;if(fi=0,mn=Tt=He=null,Pd=!1,eu=0,go=null,c)throw Error(r(300));l===null||On||(l=l.dependencies,l!==null&&yd(l)&&(On=!0))}function q5(l,c,h,O){He=l;var b=0;do{if(Oo&&(go=null),eu=0,Oo=!1,25<=b)throw Error(r(301));if(b+=1,mn=Tt=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}A.H=x$,S=c(h,O)}while(Oo);return S}function f8(){var l=A.H,c=l.useState()[0];return c=typeof c.then=="function"?tu(c):c,l=l.useState()[0],(Tt!==null?Tt.memoizedState:null)!==l&&(He.flags|=1024),c}function l0(){var l=jd!==0;return jd=0,l}function o0(l,c,h){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~h}function c0(l){if(Pd){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Pd=!1}fi=0,mn=Tt=He=null,Oo=!1,eu=jd=0,go=null}function Dn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?He.memoizedState=mn=l:mn=mn.next=l,mn}function un(){if(Tt===null){var l=He.alternate;l=l!==null?l.memoizedState:null}else l=Tt.next;var c=mn===null?He.memoizedState:mn.next;if(c!==null)mn=c,Tt=l;else{if(l===null)throw He.alternate===null?Error(r(467)):Error(r(310));Tt=l,l={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},mn===null?He.memoizedState=mn=l:mn=mn.next=l}return mn}function Nd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(l){var c=eu;return eu+=1,go===null&&(go=[]),l=$5(go,l,c),c=He,(mn===null?c.memoizedState:mn.next)===null&&(c=c.alternate,A.H=c===null||c.memoizedState===null?g$:v0),l}function Cd(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return tu(l);if(l.$$typeof===$)return Cn(l)}throw Error(r(438,String(l)))}function u0(l){var c=null,h=He.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var O=He.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(c={data:O.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Nd(),He.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(l),O=0;O<l;O++)h[O]=Z;return c.index++,h}function di(l,c){return typeof c=="function"?c(l):c}function Ed(l){var c=un();return f0(c,Tt,l)}function f0(l,c,h){var O=l.queue;if(O===null)throw Error(r(311));O.lastRenderedReducer=h;var b=l.baseQueue,S=O.pending;if(S!==null){if(b!==null){var P=b.next;b.next=S.next,S.next=P}c.baseQueue=b=S,O.pending=null}if(S=l.baseState,b===null)l.memoizedState=S;else{c=b.next;var M=P=null,H=null,ie=c,ce=!1;do{var he=ie.lane&-536870913;if(he!==ie.lane?(lt&he)===he:(fi&he)===he){var ae=ie.revertLane;if(ae===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),he===uo&&(ce=!0);else if((fi&ae)===ae){ie=ie.next,ae===uo&&(ce=!0);continue}else he={lane:0,revertLane:ie.revertLane,gesture:null,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},H===null?(M=H=he,P=S):H=H.next=he,He.lanes|=ae,aa|=ae;he=ie.action,sl&&h(S,he),S=ie.hasEagerState?ie.eagerState:h(S,he)}else ae={lane:he,revertLane:ie.revertLane,gesture:ie.gesture,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},H===null?(M=H=ae,P=S):H=H.next=ae,He.lanes|=he,aa|=he;ie=ie.next}while(ie!==null&&ie!==c);if(H===null?P=S:H.next=M,!gr(S,l.memoizedState)&&(On=!0,ce&&(h=fo,h!==null)))throw h;l.memoizedState=S,l.baseState=P,l.baseQueue=H,O.lastRenderedState=S}return b===null&&(O.lanes=0),[l.memoizedState,O.dispatch]}function d0(l){var c=un(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var O=h.dispatch,b=h.pending,S=c.memoizedState;if(b!==null){h.pending=null;var P=b=b.next;do S=l(S,P.action),P=P.next;while(P!==b);gr(S,c.memoizedState)||(On=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,O]}function X5(l,c,h){var O=He,b=un(),S=ht;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=c();var P=!gr((Tt||b).memoizedState,h);if(P&&(b.memoizedState=h,On=!0),b=b.queue,m0(Z5.bind(null,O,b,l),[l]),b.getSnapshot!==c||P||mn!==null&&mn.memoizedState.tag&1){if(O.flags|=2048,xo(9,{destroy:void 0},z5.bind(null,O,b,h,c),null),Rt===null)throw Error(r(349));S||(fi&127)!==0||M5(O,c,h)}return h}function M5(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=He.updateQueue,c===null?(c=Nd(),He.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function z5(l,c,h,O){c.value=h,c.getSnapshot=O,L5(c)&&Y5(l)}function Z5(l,c,h){return h(function(){L5(c)&&Y5(l)})}function L5(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!gr(l,h)}catch{return!0}}function Y5(l){var c=Ia(l,2);c!==null&&ir(c,l,2)}function h0(l){var c=Dn();if(typeof l=="function"){var h=l;if(l=h(),sl){en(!0);try{h()}finally{en(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:l},c}function V5(l,c,h,O){return l.baseState=h,f0(l,Tt,typeof O=="function"?O:di)}function d8(l,c,h,O,b){if(qd(l))throw Error(r(485));if(l=c.action,l!==null){var S={payload:b,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){S.listeners.push(P)}};A.T!==null?h(!0):S.isTransition=!1,O(S),h=c.pending,h===null?(S.next=c.pending=S,D5(c,S)):(S.next=h.next,c.pending=h.next=S)}}function D5(l,c){var h=c.action,O=c.payload,b=l.state;if(c.isTransition){var S=A.T,P={};A.T=P;try{var M=h(b,O),H=A.S;H!==null&&H(P,M),B5(l,c,M)}catch(ie){p0(l,c,ie)}finally{S!==null&&P.types!==null&&(S.types=P.types),A.T=S}}else try{S=h(b,O),B5(l,c,S)}catch(ie){p0(l,c,ie)}}function B5(l,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(O){U5(l,c,O)},function(O){return p0(l,c,O)}):U5(l,c,h)}function U5(l,c,h){c.status="fulfilled",c.value=h,G5(c),l.state=h,c=l.pending,c!==null&&(h=c.next,h===c?l.pending=null:(h=h.next,c.next=h,D5(l,h)))}function p0(l,c,h){var O=l.pending;if(l.pending=null,O!==null){O=O.next;do c.status="rejected",c.reason=h,G5(c),c=c.next;while(c!==O)}l.action=null}function G5(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function W5(l,c){return c}function I5(l,c){if(ht){var h=Rt.formState;if(h!==null){e:{var O=He;if(ht){if(Zt){t:{for(var b=Zt,S=Zr;b.nodeType!==8;){if(!S){b=null;break t}if(b=Yr(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){Zt=Yr(b.nextSibling),O=b.data==="F!";break e}}Fi(O)}O=!1}O&&(c=h[0])}}return h=Dn(),h.memoizedState=h.baseState=c,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W5,lastRenderedState:c},h.queue=O,h=p$.bind(null,He,O),O.dispatch=h,O=h0(!1),S=y0.bind(null,He,!1,O.queue),O=Dn(),b={state:c,dispatch:null,action:l,pending:null},O.queue=b,h=d8.bind(null,He,b,S,h),b.dispatch=h,O.memoizedState=l,[c,h,!1]}function H5(l){var c=un();return F5(c,Tt,l)}function F5(l,c,h){if(c=f0(l,c,W5)[0],l=Ed(di)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var O=tu(c)}catch(P){throw P===ho?wd:P}else O=c;c=un();var b=c.queue,S=b.dispatch;return h!==c.memoizedState&&(He.flags|=2048,xo(9,{destroy:void 0},h8.bind(null,b,h),null)),[O,S,l]}function h8(l,c){l.action=c}function K5(l){var c=un(),h=Tt;if(h!==null)return F5(c,h,l);un(),c=c.memoizedState,h=un();var O=h.queue.dispatch;return h.memoizedState=l,[c,O,!1]}function xo(l,c,h,O){return l={tag:l,create:h,deps:O,inst:c,next:null},c=He.updateQueue,c===null&&(c=Nd(),He.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=l.next=l:(O=h.next,h.next=l,l.next=O,c.lastEffect=l),l}function J5(){return un().memoizedState}function Rd(l,c,h,O){var b=Dn();He.flags|=l,b.memoizedState=xo(1|c,{destroy:void 0},h,O===void 0?null:O)}function Ad(l,c,h,O){var b=un();O=O===void 0?null:O;var S=b.memoizedState.inst;Tt!==null&&O!==null&&i0(O,Tt.memoizedState.deps)?b.memoizedState=xo(c,S,h,O):(He.flags|=l,b.memoizedState=xo(1|c,S,h,O))}function e$(l,c){Rd(8390656,8,l,c)}function m0(l,c){Ad(2048,8,l,c)}function p8(l){He.flags|=4;var c=He.updateQueue;if(c===null)c=Nd(),He.updateQueue=c,c.events=[l];else{var h=c.events;h===null?c.events=[l]:h.push(l)}}function t$(l){var c=un().memoizedState;return p8({ref:c,nextImpl:l}),function(){if((vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function n$(l,c){return Ad(4,2,l,c)}function r$(l,c){return Ad(4,4,l,c)}function s$(l,c){if(typeof c=="function"){l=l();var h=c(l);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function i$(l,c,h){h=h!=null?h.concat([l]):null,Ad(4,4,s$.bind(null,c,l),h)}function O0(){}function a$(l,c){var h=un();c=c===void 0?null:c;var O=h.memoizedState;return c!==null&&i0(c,O[1])?O[0]:(h.memoizedState=[l,c],l)}function l$(l,c){var h=un();c=c===void 0?null:c;var O=h.memoizedState;if(c!==null&&i0(c,O[1]))return O[0];if(O=l(),sl){en(!0);try{l()}finally{en(!1)}}return h.memoizedState=[O,c],O}function g0(l,c,h){return h===void 0||(fi&1073741824)!==0&&(lt&261930)===0?l.memoizedState=c:(l.memoizedState=h,l=oT(),He.lanes|=l,aa|=l,h)}function o$(l,c,h,O){return gr(h,c)?h:mo.current!==null?(l=g0(l,h,O),gr(l,c)||(On=!0),l):(fi&42)===0||(fi&1073741824)!==0&&(lt&261930)===0?(On=!0,l.memoizedState=h):(l=oT(),He.lanes|=l,aa|=l,c)}function c$(l,c,h,O,b){var S=I.p;I.p=S!==0&&8>S?S:8;var P=A.T,M={};A.T=M,y0(l,!1,c,h);try{var H=b(),ie=A.S;if(ie!==null&&ie(M,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ce=c8(H,O);nu(l,c,ce,wr(l))}else nu(l,c,O,wr(l))}catch(he){nu(l,c,{then:function(){},status:"rejected",reason:he},wr())}finally{I.p=S,P!==null&&M.types!==null&&(P.types=M.types),A.T=P}}function m8(){}function x0(l,c,h,O){if(l.tag!==5)throw Error(r(476));var b=u$(l).queue;c$(l,b,c,F,h===null?m8:function(){return f$(l),h(O)})}function u$(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:F},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:h},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function f$(l){var c=u$(l);c.next===null&&(c=l.alternate.memoizedState),nu(l,c.next.queue,{},wr())}function b0(){return Cn(bu)}function d$(){return un().memoizedState}function h$(){return un().memoizedState}function O8(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var h=wr();l=ea(h);var O=ta(c,l,h);O!==null&&(ir(O,c,h),Fc(O,c,h)),c={cache:WO()},l.payload=c;return}c=c.return}}function g8(l,c,h){var O=wr();h={lane:O,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},qd(l)?m$(c,h):(h=XO(l,c,h,O),h!==null&&(ir(h,l,O),O$(h,c,O)))}function p$(l,c,h){var O=wr();nu(l,c,h,O)}function nu(l,c,h,O){var b={lane:O,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(qd(l))m$(c,b);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var P=c.lastRenderedState,M=S(P,h);if(b.hasEagerState=!0,b.eagerState=M,gr(M,P))return Od(l,c,b,0),Rt===null&&md(),!1}catch{}finally{}if(h=XO(l,c,b,O),h!==null)return ir(h,l,O),O$(h,c,O),!0}return!1}function y0(l,c,h,O){if(O={lane:2,revertLane:K0(),gesture:null,action:O,hasEagerState:!1,eagerState:null,next:null},qd(l)){if(c)throw Error(r(479))}else c=XO(l,h,O,2),c!==null&&ir(c,l,2)}function qd(l){var c=l.alternate;return l===He||c!==null&&c===He}function m$(l,c){Oo=Pd=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function O$(l,c,h){if((h&4194048)!==0){var O=c.lanes;O&=l.pendingLanes,h|=O,c.lanes=h,ni(l,h)}}var ru={readContext:Cn,use:Cd,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};ru.useEffectEvent=rn;var g$={readContext:Cn,use:Cd,useCallback:function(l,c){return Dn().memoizedState=[l,c===void 0?null:c],l},useContext:Cn,useEffect:e$,useImperativeHandle:function(l,c,h){h=h!=null?h.concat([l]):null,Rd(4194308,4,s$.bind(null,c,l),h)},useLayoutEffect:function(l,c){return Rd(4194308,4,l,c)},useInsertionEffect:function(l,c){Rd(4,2,l,c)},useMemo:function(l,c){var h=Dn();c=c===void 0?null:c;var O=l();if(sl){en(!0);try{l()}finally{en(!1)}}return h.memoizedState=[O,c],O},useReducer:function(l,c,h){var O=Dn();if(h!==void 0){var b=h(c);if(sl){en(!0);try{h(c)}finally{en(!1)}}}else b=c;return O.memoizedState=O.baseState=b,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:b},O.queue=l,l=l.dispatch=g8.bind(null,He,l),[O.memoizedState,l]},useRef:function(l){var c=Dn();return l={current:l},c.memoizedState=l},useState:function(l){l=h0(l);var c=l.queue,h=p$.bind(null,He,c);return c.dispatch=h,[l.memoizedState,h]},useDebugValue:O0,useDeferredValue:function(l,c){var h=Dn();return g0(h,l,c)},useTransition:function(){var l=h0(!1);return l=c$.bind(null,He,l.queue,!0,!1),Dn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,h){var O=He,b=Dn();if(ht){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Rt===null)throw Error(r(349));(lt&127)!==0||M5(O,c,h)}b.memoizedState=h;var S={value:h,getSnapshot:c};return b.queue=S,e$(Z5.bind(null,O,S,l),[l]),O.flags|=2048,xo(9,{destroy:void 0},z5.bind(null,O,S,h,c),null),h},useId:function(){var l=Dn(),c=Rt.identifierPrefix;if(ht){var h=qs,O=As;h=(O&~(1<<32-at(O)-1)).toString(32)+h,c="_"+c+"R_"+h,h=jd++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=u8++,c="_"+c+"r_"+h.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:b0,useFormState:I5,useActionState:I5,useOptimistic:function(l){var c=Dn();c.memoizedState=c.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=y0.bind(null,He,!0,h),h.dispatch=c,[l,c]},useMemoCache:u0,useCacheRefresh:function(){return Dn().memoizedState=O8.bind(null,He)},useEffectEvent:function(l){var c=Dn(),h={impl:l};return c.memoizedState=h,function(){if((vt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},v0={readContext:Cn,use:Cd,useCallback:a$,useContext:Cn,useEffect:m0,useImperativeHandle:i$,useInsertionEffect:n$,useLayoutEffect:r$,useMemo:l$,useReducer:Ed,useRef:J5,useState:function(){return Ed(di)},useDebugValue:O0,useDeferredValue:function(l,c){var h=un();return o$(h,Tt.memoizedState,l,c)},useTransition:function(){var l=Ed(di)[0],c=un().memoizedState;return[typeof l=="boolean"?l:tu(l),c]},useSyncExternalStore:X5,useId:d$,useHostTransitionStatus:b0,useFormState:H5,useActionState:H5,useOptimistic:function(l,c){var h=un();return V5(h,Tt,l,c)},useMemoCache:u0,useCacheRefresh:h$};v0.useEffectEvent=t$;var x$={readContext:Cn,use:Cd,useCallback:a$,useContext:Cn,useEffect:m0,useImperativeHandle:i$,useInsertionEffect:n$,useLayoutEffect:r$,useMemo:l$,useReducer:d0,useRef:J5,useState:function(){return d0(di)},useDebugValue:O0,useDeferredValue:function(l,c){var h=un();return Tt===null?g0(h,l,c):o$(h,Tt.memoizedState,l,c)},useTransition:function(){var l=d0(di)[0],c=un().memoizedState;return[typeof l=="boolean"?l:tu(l),c]},useSyncExternalStore:X5,useId:d$,useHostTransitionStatus:b0,useFormState:K5,useActionState:K5,useOptimistic:function(l,c){var h=un();return Tt!==null?V5(h,Tt,l,c):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:u0,useCacheRefresh:h$};x$.useEffectEvent=t$;function S0(l,c,h,O){c=l.memoizedState,h=h(O,c),h=h==null?c:m({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var w0={enqueueSetState:function(l,c,h){l=l._reactInternals;var O=wr(),b=ea(O);b.payload=c,h!=null&&(b.callback=h),c=ta(l,b,O),c!==null&&(ir(c,l,O),Fc(c,l,O))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var O=wr(),b=ea(O);b.tag=1,b.payload=c,h!=null&&(b.callback=h),c=ta(l,b,O),c!==null&&(ir(c,l,O),Fc(c,l,O))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=wr(),O=ea(h);O.tag=2,c!=null&&(O.callback=c),c=ta(l,O,h),c!==null&&(ir(c,l,h),Fc(c,l,h))}};function b$(l,c,h,O,b,S,P){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(O,S,P):c.prototype&&c.prototype.isPureReactComponent?!Vc(h,O)||!Vc(b,S):!0}function y$(l,c,h,O){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,O),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,O),c.state!==l&&w0.enqueueReplaceState(c,c.state,null)}function il(l,c){var h=c;if("ref"in c){h={};for(var O in c)O!=="ref"&&(h[O]=c[O])}if(l=l.defaultProps){h===c&&(h=m({},h));for(var b in l)h[b]===void 0&&(h[b]=l[b])}return h}function v$(l){pd(l)}function S$(l){console.error(l)}function w$(l){pd(l)}function Xd(l,c){try{var h=l.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(O){setTimeout(function(){throw O})}}function Q$(l,c,h){try{var O=l.onCaughtError;O(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Q0(l,c,h){return h=ea(h),h.tag=3,h.payload={element:null},h.callback=function(){Xd(l,c)},h}function k$(l){return l=ea(l),l.tag=3,l}function $$(l,c,h,O){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var S=O.value;l.payload=function(){return b(S)},l.callback=function(){Q$(c,h,O)}}var P=h.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){Q$(c,h,O),typeof b!="function"&&(la===null?la=new Set([this]):la.add(this));var M=O.stack;this.componentDidCatch(O.value,{componentStack:M!==null?M:""})})}function x8(l,c,h,O,b){if(h.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(c=h.alternate,c!==null&&co(c,h,b,!0),h=br.current,h!==null){switch(h.tag){case 31:case 13:return Lr===null?Id():h.alternate===null&&sn===0&&(sn=3),h.flags&=-257,h.flags|=65536,h.lanes=b,O===Qd?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([O]):c.add(O),I0(l,O,b)),!1;case 22:return h.flags|=65536,O===Qd?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([O])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([O]):h.add(O)),I0(l,O,b)),!1}throw Error(r(435,h.tag))}return I0(l,O,b),Id(),!1}if(ht)return c=br.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,O!==VO&&(l=Error(r(422),{cause:O}),Uc(Xr(l,h)))):(O!==VO&&(c=Error(r(423),{cause:O}),Uc(Xr(c,h))),l=l.current.alternate,l.flags|=65536,b&=-b,l.lanes|=b,O=Xr(O,h),b=Q0(l.stateNode,O,b),e0(l,b),sn!==4&&(sn=2)),!1;var S=Error(r(520),{cause:O});if(S=Xr(S,h),fu===null?fu=[S]:fu.push(S),sn!==4&&(sn=2),c===null)return!0;O=Xr(O,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,l=b&-b,h.lanes|=l,l=Q0(h.stateNode,O,l),e0(h,l),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(la===null||!la.has(S))))return h.flags|=65536,b&=-b,h.lanes|=b,b=k$(b),$$(b,l,h,O),e0(h,b),!1}h=h.return}while(h!==null);return!1}var k0=Error(r(461)),On=!1;function En(l,c,h,O){c.child=l===null?j5(c,null,h,O):rl(c,l.child,h,O)}function T$(l,c,h,O,b){h=h.render;var S=c.ref;if("ref"in O){var P={};for(var M in O)M!=="ref"&&(P[M]=O[M])}else P=O;return Ja(c),O=a0(l,c,h,P,S,b),M=l0(),l!==null&&!On?(o0(l,c,b),hi(l,c,b)):(ht&&M&&LO(c),c.flags|=1,En(l,c,O,b),c.child)}function _$(l,c,h,O,b){if(l===null){var S=h.type;return typeof S=="function"&&!MO(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,P$(l,c,S,O,b)):(l=xd(h.type,null,O,c,c.mode,b),l.ref=c.ref,l.return=c,c.child=l)}if(S=l.child,!E0(l,b)){var P=S.memoizedProps;if(h=h.compare,h=h!==null?h:Vc,h(P,O)&&l.ref===c.ref)return hi(l,c,b)}return c.flags|=1,l=li(S,O),l.ref=c.ref,l.return=c,c.child=l}function P$(l,c,h,O,b){if(l!==null){var S=l.memoizedProps;if(Vc(S,O)&&l.ref===c.ref)if(On=!1,c.pendingProps=O=S,E0(l,b))(l.flags&131072)!==0&&(On=!0);else return c.lanes=l.lanes,hi(l,c,b)}return $0(l,c,h,O,b)}function j$(l,c,h,O){var b=O.children,S=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),O.mode==="hidden"){if((c.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,l!==null){for(O=c.child=l.child,b=0;O!==null;)b=b|O.lanes|O.childLanes,O=O.sibling;O=b&~S}else O=0,c.child=null;return N$(l,c,S,h,O)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&Sd(c,S!==null?S.cachePool:null),S!==null?E5(c,S):n0(),R5(c);else return O=c.lanes=536870912,N$(l,c,S!==null?S.baseLanes|h:h,h,O)}else S!==null?(Sd(c,S.cachePool),E5(c,S),ra(),c.memoizedState=null):(l!==null&&Sd(c,null),n0(),ra());return En(l,c,b,h),c.child}function su(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function N$(l,c,h,O,b){var S=HO();return S=S===null?null:{parent:pn._currentValue,pool:S},c.memoizedState={baseLanes:h,cachePool:S},l!==null&&Sd(c,null),n0(),R5(c),l!==null&&co(l,c,O,!0),c.childLanes=b,null}function Md(l,c){return c=Zd({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function C$(l,c,h){return rl(c,l.child,null,h),l=Md(c,c.pendingProps),l.flags|=2,yr(c),c.memoizedState=null,l}function b8(l,c,h){var O=c.pendingProps,b=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(ht){if(O.mode==="hidden")return l=Md(c,O),c.lanes=536870912,su(null,l);if(s0(c),(l=Zt)?(l=DT(l,Zr),l=l!==null&&l.data==="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:Ii!==null?{id:As,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},h=m5(l),h.return=c,c.child=h,Nn=c,Zt=null)):l=null,l===null)throw Fi(c);return c.lanes=536870912,null}return Md(c,O)}var S=l.memoizedState;if(S!==null){var P=S.dehydrated;if(s0(c),b)if(c.flags&256)c.flags&=-257,c=C$(l,c,h);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(r(558));else if(On||co(l,c,h,!1),b=(h&l.childLanes)!==0,On||b){if(O=Rt,O!==null&&(P=mr(O,h),P!==0&&P!==S.retryLane))throw S.retryLane=P,Ia(l,P),ir(O,l,P),k0;Id(),c=C$(l,c,h)}else l=S.treeContext,Zt=Yr(P.nextSibling),Nn=c,ht=!0,Hi=null,Zr=!1,l!==null&&x5(c,l),c=Md(c,O),c.flags|=4096;return c}return l=li(l.child,{mode:O.mode,children:O.children}),l.ref=c.ref,c.child=l,l.return=c,l}function zd(l,c){var h=c.ref;if(h===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(c.flags|=4194816)}}function $0(l,c,h,O,b){return Ja(c),h=a0(l,c,h,O,void 0,b),O=l0(),l!==null&&!On?(o0(l,c,b),hi(l,c,b)):(ht&&O&&LO(c),c.flags|=1,En(l,c,h,b),c.child)}function E$(l,c,h,O,b,S){return Ja(c),c.updateQueue=null,h=q5(c,O,h,b),A5(l),O=l0(),l!==null&&!On?(o0(l,c,S),hi(l,c,S)):(ht&&O&&LO(c),c.flags|=1,En(l,c,h,S),c.child)}function R$(l,c,h,O,b){if(Ja(c),c.stateNode===null){var S=io,P=h.contextType;typeof P=="object"&&P!==null&&(S=Cn(P)),S=new h(O,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=w0,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=O,S.state=c.memoizedState,S.refs={},KO(c),P=h.contextType,S.context=typeof P=="object"&&P!==null?Cn(P):io,S.state=c.memoizedState,P=h.getDerivedStateFromProps,typeof P=="function"&&(S0(c,h,P,O),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(P=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),P!==S.state&&w0.enqueueReplaceState(S,S.state,null),Jc(c,O,S,b),Kc(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),O=!0}else if(l===null){S=c.stateNode;var M=c.memoizedProps,H=il(h,M);S.props=H;var ie=S.context,ce=h.contextType;P=io,typeof ce=="object"&&ce!==null&&(P=Cn(ce));var he=h.getDerivedStateFromProps;ce=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function",M=c.pendingProps!==M,ce||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M||ie!==P)&&y$(c,S,O,P),Ji=!1;var ae=c.memoizedState;S.state=ae,Jc(c,O,S,b),Kc(),ie=c.memoizedState,M||ae!==ie||Ji?(typeof he=="function"&&(S0(c,h,he,O),ie=c.memoizedState),(H=Ji||b$(c,h,H,O,ae,ie,P))?(ce||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=O,c.memoizedState=ie),S.props=O,S.state=ie,S.context=P,O=H):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),O=!1)}else{S=c.stateNode,JO(l,c),P=c.memoizedProps,ce=il(h,P),S.props=ce,he=c.pendingProps,ae=S.context,ie=h.contextType,H=io,typeof ie=="object"&&ie!==null&&(H=Cn(ie)),M=h.getDerivedStateFromProps,(ie=typeof M=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(P!==he||ae!==H)&&y$(c,S,O,H),Ji=!1,ae=c.memoizedState,S.state=ae,Jc(c,O,S,b),Kc();var le=c.memoizedState;P!==he||ae!==le||Ji||l!==null&&l.dependencies!==null&&yd(l.dependencies)?(typeof M=="function"&&(S0(c,h,M,O),le=c.memoizedState),(ce=Ji||b$(c,h,ce,O,ae,le,H)||l!==null&&l.dependencies!==null&&yd(l.dependencies))?(ie||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(O,le,H),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(O,le,H)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||P===l.memoizedProps&&ae===l.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&ae===l.memoizedState||(c.flags|=1024),c.memoizedProps=O,c.memoizedState=le),S.props=O,S.state=le,S.context=H,O=ce):(typeof S.componentDidUpdate!="function"||P===l.memoizedProps&&ae===l.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||P===l.memoizedProps&&ae===l.memoizedState||(c.flags|=1024),O=!1)}return S=O,zd(l,c),O=(c.flags&128)!==0,S||O?(S=c.stateNode,h=O&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,l!==null&&O?(c.child=rl(c,l.child,null,b),c.child=rl(c,null,h,b)):En(l,c,h,b),c.memoizedState=S.state,l=c.child):l=hi(l,c,b),l}function A$(l,c,h,O){return Fa(),c.flags|=256,En(l,c,h,O),c.child}var T0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _0(l){return{baseLanes:l,cachePool:Q5()}}function P0(l,c,h){return l=l!==null?l.childLanes&~h:0,c&&(l|=Sr),l}function q$(l,c,h){var O=c.pendingProps,b=!1,S=(c.flags&128)!==0,P;if((P=S)||(P=l!==null&&l.memoizedState===null?!1:(cn.current&2)!==0),P&&(b=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,l===null){if(ht){if(b?na(c):ra(),(l=Zt)?(l=DT(l,Zr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:Ii!==null?{id:As,overflow:qs}:null,retryLane:536870912,hydrationErrors:null},h=m5(l),h.return=c,c.child=h,Nn=c,Zt=null)):l=null,l===null)throw Fi(c);return fg(l)?c.lanes=32:c.lanes=536870912,null}var M=O.children;return O=O.fallback,b?(ra(),b=c.mode,M=Zd({mode:"hidden",children:M},b),O=Ha(O,b,h,null),M.return=c,O.return=c,M.sibling=O,c.child=M,O=c.child,O.memoizedState=_0(h),O.childLanes=P0(l,P,h),c.memoizedState=T0,su(null,O)):(na(c),j0(c,M))}var H=l.memoizedState;if(H!==null&&(M=H.dehydrated,M!==null)){if(S)c.flags&256?(na(c),c.flags&=-257,c=N0(l,c,h)):c.memoizedState!==null?(ra(),c.child=l.child,c.flags|=128,c=null):(ra(),M=O.fallback,b=c.mode,O=Zd({mode:"visible",children:O.children},b),M=Ha(M,b,h,null),M.flags|=2,O.return=c,M.return=c,O.sibling=M,c.child=O,rl(c,l.child,null,h),O=c.child,O.memoizedState=_0(h),O.childLanes=P0(l,P,h),c.memoizedState=T0,c=su(null,O));else if(na(c),fg(M)){if(P=M.nextSibling&&M.nextSibling.dataset,P)var ie=P.dgst;P=ie,O=Error(r(419)),O.stack="",O.digest=P,Uc({value:O,source:null,stack:null}),c=N0(l,c,h)}else if(On||co(l,c,h,!1),P=(h&l.childLanes)!==0,On||P){if(P=Rt,P!==null&&(O=mr(P,h),O!==0&&O!==H.retryLane))throw H.retryLane=O,Ia(l,O),ir(P,l,O),k0;ug(M)||Id(),c=N0(l,c,h)}else ug(M)?(c.flags|=192,c.child=l.child,c=null):(l=H.treeContext,Zt=Yr(M.nextSibling),Nn=c,ht=!0,Hi=null,Zr=!1,l!==null&&x5(c,l),c=j0(c,O.children),c.flags|=4096);return c}return b?(ra(),M=O.fallback,b=c.mode,H=l.child,ie=H.sibling,O=li(H,{mode:"hidden",children:O.children}),O.subtreeFlags=H.subtreeFlags&65011712,ie!==null?M=li(ie,M):(M=Ha(M,b,h,null),M.flags|=2),M.return=c,O.return=c,O.sibling=M,c.child=O,su(null,O),O=c.child,M=l.child.memoizedState,M===null?M=_0(h):(b=M.cachePool,b!==null?(H=pn._currentValue,b=b.parent!==H?{parent:H,pool:H}:b):b=Q5(),M={baseLanes:M.baseLanes|h,cachePool:b}),O.memoizedState=M,O.childLanes=P0(l,P,h),c.memoizedState=T0,su(l.child,O)):(na(c),h=l.child,l=h.sibling,h=li(h,{mode:"visible",children:O.children}),h.return=c,h.sibling=null,l!==null&&(P=c.deletions,P===null?(c.deletions=[l],c.flags|=16):P.push(l)),c.child=h,c.memoizedState=null,h)}function j0(l,c){return c=Zd({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function Zd(l,c){return l=xr(22,l,null,c),l.lanes=0,l}function N0(l,c,h){return rl(c,l.child,null,h),l=j0(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function X$(l,c,h){l.lanes|=c;var O=l.alternate;O!==null&&(O.lanes|=c),UO(l.return,c,h)}function C0(l,c,h,O,b,S){var P=l.memoizedState;P===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:O,tail:h,tailMode:b,treeForkCount:S}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=O,P.tail=h,P.tailMode=b,P.treeForkCount=S)}function M$(l,c,h){var O=c.pendingProps,b=O.revealOrder,S=O.tail;O=O.children;var P=cn.current,M=(P&2)!==0;if(M?(P=P&1|2,c.flags|=128):P&=1,te(cn,P),En(l,c,O,h),O=ht?Bc:0,!M&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&X$(l,h,c);else if(l.tag===19)X$(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(b){case"forwards":for(h=c.child,b=null;h!==null;)l=h.alternate,l!==null&&_d(l)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),C0(c,!1,b,h,S,O);break;case"backwards":case"unstable_legacy-backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(l=b.alternate,l!==null&&_d(l)===null){c.child=b;break}l=b.sibling,b.sibling=h,h=b,b=l}C0(c,!0,h,null,S,O);break;case"together":C0(c,!1,null,null,void 0,O);break;default:c.memoizedState=null}return c.child}function hi(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),aa|=c.lanes,(h&c.childLanes)===0)if(l!==null){if(co(l,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,h=li(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=li(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function E0(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&yd(l)))}function y8(l,c,h){switch(c.tag){case 3:ue(c,c.stateNode.containerInfo),Ki(c,pn,l.memoizedState.cache),Fa();break;case 27:case 5:Se(c);break;case 4:ue(c,c.stateNode.containerInfo);break;case 10:Ki(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,s0(c),null;break;case 13:var O=c.memoizedState;if(O!==null)return O.dehydrated!==null?(na(c),c.flags|=128,null):(h&c.child.childLanes)!==0?q$(l,c,h):(na(c),l=hi(l,c,h),l!==null?l.sibling:null);na(c);break;case 19:var b=(l.flags&128)!==0;if(O=(h&c.childLanes)!==0,O||(co(l,c,h,!1),O=(h&c.childLanes)!==0),b){if(O)return M$(l,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),te(cn,cn.current),O)break;return null;case 22:return c.lanes=0,j$(l,c,h,c.pendingProps);case 24:Ki(c,pn,l.memoizedState.cache)}return hi(l,c,h)}function z$(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps)On=!0;else{if(!E0(l,h)&&(c.flags&128)===0)return On=!1,y8(l,c,h);On=(l.flags&131072)!==0}else On=!1,ht&&(c.flags&1048576)!==0&&g5(c,Bc,c.index);switch(c.lanes=0,c.tag){case 16:e:{var O=c.pendingProps;if(l=tl(c.elementType),c.type=l,typeof l=="function")MO(l)?(O=il(l,O),c.tag=1,c=R$(null,c,l,O,h)):(c.tag=0,c=$0(null,c,l,O,h));else{if(l!=null){var b=l.$$typeof;if(b===_){c.tag=11,c=T$(null,c,l,O,h);break e}else if(b===C){c.tag=14,c=_$(null,c,l,O,h);break e}}throw c=E(l)||l,Error(r(306,c,""))}}return c;case 0:return $0(l,c,c.type,c.pendingProps,h);case 1:return O=c.type,b=il(O,c.pendingProps),R$(l,c,O,b,h);case 3:e:{if(ue(c,c.stateNode.containerInfo),l===null)throw Error(r(387));O=c.pendingProps;var S=c.memoizedState;b=S.element,JO(l,c),Jc(c,O,null,h);var P=c.memoizedState;if(O=P.cache,Ki(c,pn,O),O!==S.cache&&GO(c,[pn],h,!0),Kc(),O=P.element,S.isDehydrated)if(S={element:O,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=A$(l,c,O,h);break e}else if(O!==b){b=Xr(Error(r(424)),c),Uc(b),c=A$(l,c,O,h);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Zt=Yr(l.firstChild),Nn=c,ht=!0,Hi=null,Zr=!0,h=j5(c,null,O,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Fa(),O===b){c=hi(l,c,h);break e}En(l,c,O,h)}c=c.child}return c;case 26:return zd(l,c),l===null?(h=HT(c.type,null,c.pendingProps,null))?c.memoizedState=h:ht||(h=c.type,l=c.pendingProps,O=nh(ee.current).createElement(h),O[et]=c,O[tt]=l,Rn(O,h,l),nn(O),c.stateNode=O):c.memoizedState=HT(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return Se(c),l===null&&ht&&(O=c.stateNode=GT(c.type,c.pendingProps,ee.current),Nn=c,Zr=!0,b=Zt,fa(c.type)?(dg=b,Zt=Yr(O.firstChild)):Zt=b),En(l,c,c.pendingProps.children,h),zd(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&ht&&((b=O=Zt)&&(O=H8(O,c.type,c.pendingProps,Zr),O!==null?(c.stateNode=O,Nn=c,Zt=Yr(O.firstChild),Zr=!1,b=!0):b=!1),b||Fi(c)),Se(c),b=c.type,S=c.pendingProps,P=l!==null?l.memoizedProps:null,O=S.children,lg(b,S)?O=null:P!==null&&lg(b,P)&&(c.flags|=32),c.memoizedState!==null&&(b=a0(l,c,f8,null,null,h),bu._currentValue=b),zd(l,c),En(l,c,O,h),c.child;case 6:return l===null&&ht&&((l=h=Zt)&&(h=F8(h,c.pendingProps,Zr),h!==null?(c.stateNode=h,Nn=c,Zt=null,l=!0):l=!1),l||Fi(c)),null;case 13:return q$(l,c,h);case 4:return ue(c,c.stateNode.containerInfo),O=c.pendingProps,l===null?c.child=rl(c,null,O,h):En(l,c,O,h),c.child;case 11:return T$(l,c,c.type,c.pendingProps,h);case 7:return En(l,c,c.pendingProps,h),c.child;case 8:return En(l,c,c.pendingProps.children,h),c.child;case 12:return En(l,c,c.pendingProps.children,h),c.child;case 10:return O=c.pendingProps,Ki(c,c.type,O.value),En(l,c,O.children,h),c.child;case 9:return b=c.type._context,O=c.pendingProps.children,Ja(c),b=Cn(b),O=O(b),c.flags|=1,En(l,c,O,h),c.child;case 14:return _$(l,c,c.type,c.pendingProps,h);case 15:return P$(l,c,c.type,c.pendingProps,h);case 19:return M$(l,c,h);case 31:return b8(l,c,h);case 22:return j$(l,c,h,c.pendingProps);case 24:return Ja(c),O=Cn(pn),l===null?(b=HO(),b===null&&(b=Rt,S=WO(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=h),b=S),c.memoizedState={parent:O,cache:b},KO(c),Ki(c,pn,b)):((l.lanes&h)!==0&&(JO(l,c),Jc(c,null,null,h),Kc()),b=l.memoizedState,S=c.memoizedState,b.parent!==O?(b={parent:O,cache:O},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),Ki(c,pn,O)):(O=S.cache,Ki(c,pn,O),O!==b.cache&&GO(c,[pn],h,!0))),En(l,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function pi(l){l.flags|=4}function R0(l,c,h,O,b){if((c=(l.mode&32)!==0)&&(c=!1),c){if(l.flags|=16777216,(b&335544128)===b)if(l.stateNode.complete)l.flags|=8192;else if(dT())l.flags|=8192;else throw nl=Qd,FO}else l.flags&=-16777217}function Z$(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!t_(c))if(dT())l.flags|=8192;else throw nl=Qd,FO}function Ld(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?ti():536870912,l.lanes|=c,So|=c)}function iu(l,c){if(!ht)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var O=null;h!==null;)h.alternate!==null&&(O=h),h=h.sibling;O===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:O.sibling=null}}function Lt(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,O=0;if(c)for(var b=l.child;b!==null;)h|=b.lanes|b.childLanes,O|=b.subtreeFlags&65011712,O|=b.flags&65011712,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)h|=b.lanes|b.childLanes,O|=b.subtreeFlags,O|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=O,l.childLanes=h,c}function v8(l,c,h){var O=c.pendingProps;switch(YO(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(c),null;case 1:return Lt(c),null;case 3:return h=c.stateNode,O=null,l!==null&&(O=l.memoizedState.cache),c.memoizedState.cache!==O&&(c.flags|=2048),ui(pn),pe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(oo(c)?pi(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,DO())),Lt(c),null;case 26:var b=c.type,S=c.memoizedState;return l===null?(pi(c),S!==null?(Lt(c),Z$(c,S)):(Lt(c),R0(c,b,null,O,h))):S?S!==l.memoizedState?(pi(c),Lt(c),Z$(c,S)):(Lt(c),c.flags&=-16777217):(l=l.memoizedProps,l!==O&&pi(c),Lt(c),R0(c,b,l,O,h)),null;case 27:if(Ye(c),h=ee.current,b=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==O&&pi(c);else{if(!O){if(c.stateNode===null)throw Error(r(166));return Lt(c),null}l=V.current,oo(c)?b5(c):(l=GT(b,O,h),c.stateNode=l,pi(c))}return Lt(c),null;case 5:if(Ye(c),b=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==O&&pi(c);else{if(!O){if(c.stateNode===null)throw Error(r(166));return Lt(c),null}if(S=V.current,oo(c))b5(c);else{var P=nh(ee.current);switch(S){case 1:S=P.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=P.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=P.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=P.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=P.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof O.is=="string"?P.createElement("select",{is:O.is}):P.createElement("select"),O.multiple?S.multiple=!0:O.size&&(S.size=O.size);break;default:S=typeof O.is=="string"?P.createElement(b,{is:O.is}):P.createElement(b)}}S[et]=c,S[tt]=O;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)S.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=S;e:switch(Rn(S,b,O),b){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}O&&pi(c)}}return Lt(c),R0(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,h),null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==O&&pi(c);else{if(typeof O!="string"&&c.stateNode===null)throw Error(r(166));if(l=ee.current,oo(c)){if(l=c.stateNode,h=c.memoizedProps,O=null,b=Nn,b!==null)switch(b.tag){case 27:case 5:O=b.memoizedProps}l[et]=c,l=!!(l.nodeValue===h||O!==null&&O.suppressHydrationWarning===!0||qT(l.nodeValue,h)),l||Fi(c,!0)}else l=nh(l).createTextNode(O),l[et]=c,c.stateNode=l}return Lt(c),null;case 31:if(h=c.memoizedState,l===null||l.memoizedState!==null){if(O=oo(c),h!==null){if(l===null){if(!O)throw Error(r(318));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[et]=c}else Fa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Lt(c),l=!1}else h=DO(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return c.flags&256?(yr(c),c):(yr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Lt(c),null;case 13:if(O=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(b=oo(c),O!==null&&O.dehydrated!==null){if(l===null){if(!b)throw Error(r(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[et]=c}else Fa(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Lt(c),b=!1}else b=DO(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(yr(c),c):(yr(c),null)}return yr(c),(c.flags&128)!==0?(c.lanes=h,c):(h=O!==null,l=l!==null&&l.memoizedState!==null,h&&(O=c.child,b=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(b=O.alternate.memoizedState.cachePool.pool),S=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(S=O.memoizedState.cachePool.pool),S!==b&&(O.flags|=2048)),h!==l&&h&&(c.child.flags|=8192),Ld(c,c.updateQueue),Lt(c),null);case 4:return pe(),l===null&&ng(c.stateNode.containerInfo),Lt(c),null;case 10:return ui(c.type),Lt(c),null;case 19:if(B(cn),O=c.memoizedState,O===null)return Lt(c),null;if(b=(c.flags&128)!==0,S=O.rendering,S===null)if(b)iu(O,!1);else{if(sn!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(S=_d(l),S!==null){for(c.flags|=128,iu(O,!1),l=S.updateQueue,c.updateQueue=l,Ld(c,l),c.subtreeFlags=0,l=h,h=c.child;h!==null;)p5(h,l),h=h.sibling;return te(cn,cn.current&1|2),ht&&oi(c,O.treeForkCount),c.child}l=l.sibling}O.tail!==null&&rt()>Ud&&(c.flags|=128,b=!0,iu(O,!1),c.lanes=4194304)}else{if(!b)if(l=_d(S),l!==null){if(c.flags|=128,b=!0,l=l.updateQueue,c.updateQueue=l,Ld(c,l),iu(O,!0),O.tail===null&&O.tailMode==="hidden"&&!S.alternate&&!ht)return Lt(c),null}else 2*rt()-O.renderingStartTime>Ud&&h!==536870912&&(c.flags|=128,b=!0,iu(O,!1),c.lanes=4194304);O.isBackwards?(S.sibling=c.child,c.child=S):(l=O.last,l!==null?l.sibling=S:c.child=S,O.last=S)}return O.tail!==null?(l=O.tail,O.rendering=l,O.tail=l.sibling,O.renderingStartTime=rt(),l.sibling=null,h=cn.current,te(cn,b?h&1|2:h&1),ht&&oi(c,O.treeForkCount),l):(Lt(c),null);case 22:case 23:return yr(c),r0(),O=c.memoizedState!==null,l!==null?l.memoizedState!==null!==O&&(c.flags|=8192):O&&(c.flags|=8192),O?(h&536870912)!==0&&(c.flags&128)===0&&(Lt(c),c.subtreeFlags&6&&(c.flags|=8192)):Lt(c),h=c.updateQueue,h!==null&&Ld(c,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),O=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(O=c.memoizedState.cachePool.pool),O!==h&&(c.flags|=2048),l!==null&&B(el),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ui(pn),Lt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function S8(l,c){switch(YO(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return ui(pn),pe(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return Ye(c),null;case 31:if(c.memoizedState!==null){if(yr(c),c.alternate===null)throw Error(r(340));Fa()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(yr(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Fa()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return B(cn),null;case 4:return pe(),null;case 10:return ui(c.type),null;case 22:case 23:return yr(c),r0(),l!==null&&B(el),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return ui(pn),null;case 25:return null;default:return null}}function L$(l,c){switch(YO(c),c.tag){case 3:ui(pn),pe();break;case 26:case 27:case 5:Ye(c);break;case 4:pe();break;case 31:c.memoizedState!==null&&yr(c);break;case 13:yr(c);break;case 19:B(cn);break;case 10:ui(c.type);break;case 22:case 23:yr(c),r0(),l!==null&&B(el);break;case 24:ui(pn)}}function au(l,c){try{var h=c.updateQueue,O=h!==null?h.lastEffect:null;if(O!==null){var b=O.next;h=b;do{if((h.tag&l)===l){O=void 0;var S=h.create,P=h.inst;O=S(),P.destroy=O}h=h.next}while(h!==b)}}catch(M){kt(c,c.return,M)}}function sa(l,c,h){try{var O=c.updateQueue,b=O!==null?O.lastEffect:null;if(b!==null){var S=b.next;O=S;do{if((O.tag&l)===l){var P=O.inst,M=P.destroy;if(M!==void 0){P.destroy=void 0,b=c;var H=h,ie=M;try{ie()}catch(ce){kt(b,H,ce)}}}O=O.next}while(O!==S)}}catch(ce){kt(c,c.return,ce)}}function Y$(l){var c=l.updateQueue;if(c!==null){var h=l.stateNode;try{C5(c,h)}catch(O){kt(l,l.return,O)}}}function V$(l,c,h){h.props=il(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(O){kt(l,c,O)}}function lu(l,c){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var O=l.stateNode;break;case 30:O=l.stateNode;break;default:O=l.stateNode}typeof h=="function"?l.refCleanup=h(O):h.current=O}}catch(b){kt(l,c,b)}}function Xs(l,c){var h=l.ref,O=l.refCleanup;if(h!==null)if(typeof O=="function")try{O()}catch(b){kt(l,c,b)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){kt(l,c,b)}else h.current=null}function D$(l){var c=l.type,h=l.memoizedProps,O=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&O.focus();break e;case"img":h.src?O.src=h.src:h.srcSet&&(O.srcset=h.srcSet)}}catch(b){kt(l,l.return,b)}}function A0(l,c,h){try{var O=l.stateNode;D8(O,l.type,h,c),O[tt]=c}catch(b){kt(l,l.return,b)}}function B$(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&fa(l.type)||l.tag===4}function q0(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||B$(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&fa(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function X0(l,c,h){var O=l.tag;if(O===5||O===6)l=l.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(l),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=ii));else if(O!==4&&(O===27&&fa(l.type)&&(h=l.stateNode,c=null),l=l.child,l!==null))for(X0(l,c,h),l=l.sibling;l!==null;)X0(l,c,h),l=l.sibling}function Yd(l,c,h){var O=l.tag;if(O===5||O===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(O!==4&&(O===27&&fa(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Yd(l,c,h),l=l.sibling;l!==null;)Yd(l,c,h),l=l.sibling}function U$(l){var c=l.stateNode,h=l.memoizedProps;try{for(var O=l.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Rn(c,O,h),c[et]=l,c[tt]=h}catch(S){kt(l,l.return,S)}}var mi=!1,gn=!1,M0=!1,G$=typeof WeakSet=="function"?WeakSet:Set,$n=null;function w8(l,c){if(l=l.containerInfo,ig=ch,l=i5(l),NO(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var O=h.getSelection&&h.getSelection();if(O&&O.rangeCount!==0){h=O.anchorNode;var b=O.anchorOffset,S=O.focusNode;O=O.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var P=0,M=-1,H=-1,ie=0,ce=0,he=l,ae=null;t:for(;;){for(var le;he!==h||b!==0&&he.nodeType!==3||(M=P+b),he!==S||O!==0&&he.nodeType!==3||(H=P+O),he.nodeType===3&&(P+=he.nodeValue.length),(le=he.firstChild)!==null;)ae=he,he=le;for(;;){if(he===l)break t;if(ae===h&&++ie===b&&(M=P),ae===S&&++ce===O&&(H=P),(le=he.nextSibling)!==null)break;he=ae,ae=he.parentNode}he=le}h=M===-1||H===-1?null:{start:M,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(ag={focusedElem:l,selectionRange:h},ch=!1,$n=c;$n!==null;)if(c=$n,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,$n=l;else for(;$n!==null;){switch(c=$n,S=c.alternate,l=c.flags,c.tag){case 0:if((l&4)!==0&&(l=c.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)b=l[h],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&S!==null){l=void 0,h=c,b=S.memoizedProps,S=S.memoizedState,O=h.stateNode;try{var Pe=il(h.type,b);l=O.getSnapshotBeforeUpdate(Pe,S),O.__reactInternalSnapshotBeforeUpdate=l}catch(Ve){kt(h,h.return,Ve)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,h=l.nodeType,h===9)cg(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":cg(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=c.sibling,l!==null){l.return=c.return,$n=l;break}$n=c.return}}function W$(l,c,h){var O=h.flags;switch(h.tag){case 0:case 11:case 15:gi(l,h),O&4&&au(5,h);break;case 1:if(gi(l,h),O&4)if(l=h.stateNode,c===null)try{l.componentDidMount()}catch(P){kt(h,h.return,P)}else{var b=il(h.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(b,c,l.__reactInternalSnapshotBeforeUpdate)}catch(P){kt(h,h.return,P)}}O&64&&Y$(h),O&512&&lu(h,h.return);break;case 3:if(gi(l,h),O&64&&(l=h.updateQueue,l!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{C5(l,c)}catch(P){kt(h,h.return,P)}}break;case 27:c===null&&O&4&&U$(h);case 26:case 5:gi(l,h),c===null&&O&4&&D$(h),O&512&&lu(h,h.return);break;case 12:gi(l,h);break;case 31:gi(l,h),O&4&&F$(l,h);break;case 13:gi(l,h),O&4&&K$(l,h),O&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=C8.bind(null,h),K8(l,h))));break;case 22:if(O=h.memoizedState!==null||mi,!O){c=c!==null&&c.memoizedState!==null||gn,b=mi;var S=gn;mi=O,(gn=c)&&!S?xi(l,h,(h.subtreeFlags&8772)!==0):gi(l,h),mi=b,gn=S}break;case 30:break;default:gi(l,h)}}function I$(l){var c=l.alternate;c!==null&&(l.alternate=null,I$(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Ui(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Vt=null,tr=!1;function Oi(l,c,h){for(h=h.child;h!==null;)H$(l,c,h),h=h.sibling}function H$(l,c,h){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(ke,h)}catch{}switch(h.tag){case 26:gn||Xs(h,c),Oi(l,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:gn||Xs(h,c);var O=Vt,b=tr;fa(h.type)&&(Vt=h.stateNode,tr=!1),Oi(l,c,h),Ou(h.stateNode),Vt=O,tr=b;break;case 5:gn||Xs(h,c);case 6:if(O=Vt,b=tr,Vt=null,Oi(l,c,h),Vt=O,tr=b,Vt!==null)if(tr)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(h.stateNode)}catch(S){kt(h,c,S)}else try{Vt.removeChild(h.stateNode)}catch(S){kt(h,c,S)}break;case 18:Vt!==null&&(tr?(l=Vt,YT(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),jo(l)):YT(Vt,h.stateNode));break;case 4:O=Vt,b=tr,Vt=h.stateNode.containerInfo,tr=!0,Oi(l,c,h),Vt=O,tr=b;break;case 0:case 11:case 14:case 15:sa(2,h,c),gn||sa(4,h,c),Oi(l,c,h);break;case 1:gn||(Xs(h,c),O=h.stateNode,typeof O.componentWillUnmount=="function"&&V$(h,c,O)),Oi(l,c,h);break;case 21:Oi(l,c,h);break;case 22:gn=(O=gn)||h.memoizedState!==null,Oi(l,c,h),gn=O;break;default:Oi(l,c,h)}}function F$(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{jo(l)}catch(h){kt(c,c.return,h)}}}function K$(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{jo(l)}catch(h){kt(c,c.return,h)}}function Q8(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new G$),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new G$),c;default:throw Error(r(435,l.tag))}}function Vd(l,c){var h=Q8(l);c.forEach(function(O){if(!h.has(O)){h.add(O);var b=E8.bind(null,l,O);O.then(b,b)}})}function nr(l,c){var h=c.deletions;if(h!==null)for(var O=0;O<h.length;O++){var b=h[O],S=l,P=c,M=P;e:for(;M!==null;){switch(M.tag){case 27:if(fa(M.type)){Vt=M.stateNode,tr=!1;break e}break;case 5:Vt=M.stateNode,tr=!1;break e;case 3:case 4:Vt=M.stateNode.containerInfo,tr=!0;break e}M=M.return}if(Vt===null)throw Error(r(160));H$(S,P,b),Vt=null,tr=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)J$(c,l),c=c.sibling}var ms=null;function J$(l,c){var h=l.alternate,O=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:nr(c,l),rr(l),O&4&&(sa(3,l,l.return),au(3,l),sa(5,l,l.return));break;case 1:nr(c,l),rr(l),O&512&&(gn||h===null||Xs(h,h.return)),O&64&&mi&&(l=l.updateQueue,l!==null&&(O=l.callbacks,O!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?O:h.concat(O))));break;case 26:var b=ms;if(nr(c,l),rr(l),O&512&&(gn||h===null||Xs(h,h.return)),O&4){var S=h!==null?h.memoizedState:null;if(O=l.memoizedState,h===null)if(O===null)if(l.stateNode===null){e:{O=l.type,h=l.memoizedProps,b=b.ownerDocument||b;t:switch(O){case"title":S=b.getElementsByTagName("title")[0],(!S||S[ri]||S[et]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(O),b.head.insertBefore(S,b.querySelector("head > title"))),Rn(S,O,h),S[et]=l,nn(S),O=S;break e;case"link":var P=JT("link","href",b).get(O+(h.href||""));if(P){for(var M=0;M<P.length;M++)if(S=P[M],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){P.splice(M,1);break t}}S=b.createElement(O),Rn(S,O,h),b.head.appendChild(S);break;case"meta":if(P=JT("meta","content",b).get(O+(h.content||""))){for(M=0;M<P.length;M++)if(S=P[M],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){P.splice(M,1);break t}}S=b.createElement(O),Rn(S,O,h),b.head.appendChild(S);break;default:throw Error(r(468,O))}S[et]=l,nn(S),O=S}l.stateNode=O}else e_(b,l.type,l.stateNode);else l.stateNode=KT(b,O,l.memoizedProps);else S!==O?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,O===null?e_(b,l.type,l.stateNode):KT(b,O,l.memoizedProps)):O===null&&l.stateNode!==null&&A0(l,l.memoizedProps,h.memoizedProps)}break;case 27:nr(c,l),rr(l),O&512&&(gn||h===null||Xs(h,h.return)),h!==null&&O&4&&A0(l,l.memoizedProps,h.memoizedProps);break;case 5:if(nr(c,l),rr(l),O&512&&(gn||h===null||Xs(h,h.return)),l.flags&32){b=l.stateNode;try{Kl(b,"")}catch(Pe){kt(l,l.return,Pe)}}O&4&&l.stateNode!=null&&(b=l.memoizedProps,A0(l,b,h!==null?h.memoizedProps:b)),O&1024&&(M0=!0);break;case 6:if(nr(c,l),rr(l),O&4){if(l.stateNode===null)throw Error(r(162));O=l.memoizedProps,h=l.stateNode;try{h.nodeValue=O}catch(Pe){kt(l,l.return,Pe)}}break;case 3:if(ih=null,b=ms,ms=rh(c.containerInfo),nr(c,l),ms=b,rr(l),O&4&&h!==null&&h.memoizedState.isDehydrated)try{jo(c.containerInfo)}catch(Pe){kt(l,l.return,Pe)}M0&&(M0=!1,eT(l));break;case 4:O=ms,ms=rh(l.stateNode.containerInfo),nr(c,l),rr(l),ms=O;break;case 12:nr(c,l),rr(l);break;case 31:nr(c,l),rr(l),O&4&&(O=l.updateQueue,O!==null&&(l.updateQueue=null,Vd(l,O)));break;case 13:nr(c,l),rr(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Bd=rt()),O&4&&(O=l.updateQueue,O!==null&&(l.updateQueue=null,Vd(l,O)));break;case 22:b=l.memoizedState!==null;var H=h!==null&&h.memoizedState!==null,ie=mi,ce=gn;if(mi=ie||b,gn=ce||H,nr(c,l),gn=ce,mi=ie,rr(l),O&8192)e:for(c=l.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(h===null||H||mi||gn||al(l)),h=null,c=l;;){if(c.tag===5||c.tag===26){if(h===null){H=h=c;try{if(S=H.stateNode,b)P=S.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{M=H.stateNode;var he=H.memoizedProps.style,ae=he!=null&&he.hasOwnProperty("display")?he.display:null;M.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Pe){kt(H,H.return,Pe)}}}else if(c.tag===6){if(h===null){H=c;try{H.stateNode.nodeValue=b?"":H.memoizedProps}catch(Pe){kt(H,H.return,Pe)}}}else if(c.tag===18){if(h===null){H=c;try{var le=H.stateNode;b?VT(le,!0):VT(H.stateNode,!1)}catch(Pe){kt(H,H.return,Pe)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}O&4&&(O=l.updateQueue,O!==null&&(h=O.retryQueue,h!==null&&(O.retryQueue=null,Vd(l,h))));break;case 19:nr(c,l),rr(l),O&4&&(O=l.updateQueue,O!==null&&(l.updateQueue=null,Vd(l,O)));break;case 30:break;case 21:break;default:nr(c,l),rr(l)}}function rr(l){var c=l.flags;if(c&2){try{for(var h,O=l.return;O!==null;){if(B$(O)){h=O;break}O=O.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var b=h.stateNode,S=q0(l);Yd(l,S,b);break;case 5:var P=h.stateNode;h.flags&32&&(Kl(P,""),h.flags&=-33);var M=q0(l);Yd(l,M,P);break;case 3:case 4:var H=h.stateNode.containerInfo,ie=q0(l);X0(l,ie,H);break;default:throw Error(r(161))}}catch(ce){kt(l,l.return,ce)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function eT(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;eT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function gi(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)W$(l,c.alternate,c),c=c.sibling}function al(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:sa(4,c,c.return),al(c);break;case 1:Xs(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&V$(c,c.return,h),al(c);break;case 27:Ou(c.stateNode);case 26:case 5:Xs(c,c.return),al(c);break;case 22:c.memoizedState===null&&al(c);break;case 30:al(c);break;default:al(c)}l=l.sibling}}function xi(l,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var O=c.alternate,b=l,S=c,P=S.flags;switch(S.tag){case 0:case 11:case 15:xi(b,S,h),au(4,S);break;case 1:if(xi(b,S,h),O=S,b=O.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){kt(O,O.return,ie)}if(O=S,b=O.updateQueue,b!==null){var M=O.stateNode;try{var H=b.shared.hiddenCallbacks;if(H!==null)for(b.shared.hiddenCallbacks=null,b=0;b<H.length;b++)N5(H[b],M)}catch(ie){kt(O,O.return,ie)}}h&&P&64&&Y$(S),lu(S,S.return);break;case 27:U$(S);case 26:case 5:xi(b,S,h),h&&O===null&&P&4&&D$(S),lu(S,S.return);break;case 12:xi(b,S,h);break;case 31:xi(b,S,h),h&&P&4&&F$(b,S);break;case 13:xi(b,S,h),h&&P&4&&K$(b,S);break;case 22:S.memoizedState===null&&xi(b,S,h),lu(S,S.return);break;case 30:break;default:xi(b,S,h)}c=c.sibling}}function z0(l,c){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Gc(h))}function Z0(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Gc(l))}function Os(l,c,h,O){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)tT(l,c,h,O),c=c.sibling}function tT(l,c,h,O){var b=c.flags;switch(c.tag){case 0:case 11:case 15:Os(l,c,h,O),b&2048&&au(9,c);break;case 1:Os(l,c,h,O);break;case 3:Os(l,c,h,O),b&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Gc(l)));break;case 12:if(b&2048){Os(l,c,h,O),l=c.stateNode;try{var S=c.memoizedProps,P=S.id,M=S.onPostCommit;typeof M=="function"&&M(P,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(H){kt(c,c.return,H)}}else Os(l,c,h,O);break;case 31:Os(l,c,h,O);break;case 13:Os(l,c,h,O);break;case 23:break;case 22:S=c.stateNode,P=c.alternate,c.memoizedState!==null?S._visibility&2?Os(l,c,h,O):ou(l,c):S._visibility&2?Os(l,c,h,O):(S._visibility|=2,bo(l,c,h,O,(c.subtreeFlags&10256)!==0||!1)),b&2048&&z0(P,c);break;case 24:Os(l,c,h,O),b&2048&&Z0(c.alternate,c);break;default:Os(l,c,h,O)}}function bo(l,c,h,O,b){for(b=b&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var S=l,P=c,M=h,H=O,ie=P.flags;switch(P.tag){case 0:case 11:case 15:bo(S,P,M,H,b),au(8,P);break;case 23:break;case 22:var ce=P.stateNode;P.memoizedState!==null?ce._visibility&2?bo(S,P,M,H,b):ou(S,P):(ce._visibility|=2,bo(S,P,M,H,b)),b&&ie&2048&&z0(P.alternate,P);break;case 24:bo(S,P,M,H,b),b&&ie&2048&&Z0(P.alternate,P);break;default:bo(S,P,M,H,b)}c=c.sibling}}function ou(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=l,O=c,b=O.flags;switch(O.tag){case 22:ou(h,O),b&2048&&z0(O.alternate,O);break;case 24:ou(h,O),b&2048&&Z0(O.alternate,O);break;default:ou(h,O)}c=c.sibling}}var cu=8192;function yo(l,c,h){if(l.subtreeFlags&cu)for(l=l.child;l!==null;)nT(l,c,h),l=l.sibling}function nT(l,c,h){switch(l.tag){case 26:yo(l,c,h),l.flags&cu&&l.memoizedState!==null&&uY(h,ms,l.memoizedState,l.memoizedProps);break;case 5:yo(l,c,h);break;case 3:case 4:var O=ms;ms=rh(l.stateNode.containerInfo),yo(l,c,h),ms=O;break;case 22:l.memoizedState===null&&(O=l.alternate,O!==null&&O.memoizedState!==null?(O=cu,cu=16777216,yo(l,c,h),cu=O):yo(l,c,h));break;default:yo(l,c,h)}}function rT(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function uu(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var O=c[h];$n=O,iT(O,l)}rT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)sT(l),l=l.sibling}function sT(l){switch(l.tag){case 0:case 11:case 15:uu(l),l.flags&2048&&sa(9,l,l.return);break;case 3:uu(l);break;case 12:uu(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,Dd(l)):uu(l);break;default:uu(l)}}function Dd(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var O=c[h];$n=O,iT(O,l)}rT(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:sa(8,c,c.return),Dd(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Dd(c));break;default:Dd(c)}l=l.sibling}}function iT(l,c){for(;$n!==null;){var h=$n;switch(h.tag){case 0:case 11:case 15:sa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var O=h.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Gc(h.memoizedState.cache)}if(O=h.child,O!==null)O.return=h,$n=O;else e:for(h=l;$n!==null;){O=$n;var b=O.sibling,S=O.return;if(I$(O),O===h){$n=null;break e}if(b!==null){b.return=S,$n=b;break e}$n=S}}}var k8={getCacheForType:function(l){var c=Cn(pn),h=c.data.get(l);return h===void 0&&(h=l(),c.data.set(l,h)),h},cacheSignal:function(){return Cn(pn).controller.signal}},$8=typeof WeakMap=="function"?WeakMap:Map,vt=0,Rt=null,st=null,lt=0,Qt=0,vr=null,ia=!1,vo=!1,L0=!1,bi=0,sn=0,aa=0,ll=0,Y0=0,Sr=0,So=0,fu=null,sr=null,V0=!1,Bd=0,aT=0,Ud=1/0,Gd=null,la=null,vn=0,oa=null,wo=null,yi=0,D0=0,B0=null,lT=null,du=0,U0=null;function wr(){return(vt&2)!==0&&lt!==0?lt&-lt:A.T!==null?K0():Oe()}function oT(){if(Sr===0)if((lt&536870912)===0||ht){var l=Fn;Fn<<=1,(Fn&3932160)===0&&(Fn=262144),Sr=l}else Sr=536870912;return l=br.current,l!==null&&(l.flags|=32),Sr}function ir(l,c,h){(l===Rt&&(Qt===2||Qt===9)||l.cancelPendingCommit!==null)&&(Qo(l,0),ca(l,lt,Sr,!1)),Jn(l,h),((vt&2)===0||l!==Rt)&&(l===Rt&&((vt&2)===0&&(ll|=h),sn===4&&ca(l,lt,Sr,!1)),Ms(l))}function cT(l,c,h){if((vt&6)!==0)throw Error(r(327));var O=!h&&(c&127)===0&&(c&l.expiredLanes)===0||hn(l,c),b=O?P8(l,c):W0(l,c,!0),S=O;do{if(b===0){vo&&!O&&ca(l,c,0,!1);break}else{if(h=l.current.alternate,S&&!T8(h)){b=W0(l,c,!1),S=!1;continue}if(b===2){if(S=c,l.errorRecoveryDisabledLanes&S)var P=0;else P=l.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var M=l;b=fu;var H=M.current.memoizedState.isDehydrated;if(H&&(Qo(M,P).flags|=256),P=W0(M,P,!1),P!==2){if(L0&&!H){M.errorRecoveryDisabledLanes|=S,ll|=S,b=4;break e}S=sr,sr=b,S!==null&&(sr===null?sr=S:sr.push.apply(sr,S))}b=P}if(S=!1,b!==2)continue}}if(b===1){Qo(l,0),ca(l,c,0,!0);break}e:{switch(O=l,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:ca(O,c,Sr,!ia);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(b=Bd+300-rt(),10<b)){if(ca(O,c,Sr,!ia),Kn(O,0,!0)!==0)break e;yi=c,O.timeoutHandle=ZT(uT.bind(null,O,h,sr,Gd,V0,c,Sr,ll,So,ia,S,"Throttled",-0,0),b);break e}uT(O,h,sr,Gd,V0,c,Sr,ll,So,ia,S,null,-0,0)}}break}while(!0);Ms(l)}function uT(l,c,h,O,b,S,P,M,H,ie,ce,he,ae,le){if(l.timeoutHandle=-1,he=c.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},nT(c,S,he);var Pe=(S&62914560)===S?Bd-rt():(S&4194048)===S?aT-rt():0;if(Pe=fY(he,Pe),Pe!==null){yi=S,l.cancelPendingCommit=Pe(xT.bind(null,l,c,S,h,O,b,P,M,H,ce,he,null,ae,le)),ca(l,S,P,!ie);return}}xT(l,c,S,h,O,b,P,M,H)}function T8(l){for(var c=l;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var O=0;O<h.length;O++){var b=h[O],S=b.getSnapshot;b=b.value;try{if(!gr(S(),b))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ca(l,c,h,O){c&=~Y0,c&=~ll,l.suspendedLanes|=c,l.pingedLanes&=~c,O&&(l.warmLanes|=c),O=l.expirationTimes;for(var b=c;0<b;){var S=31-at(b),P=1<<S;O[S]=-1,b&=~P}h!==0&&os(l,h,c)}function Wd(){return(vt&6)===0?(hu(0),!1):!0}function G0(){if(st!==null){if(Qt===0)var l=st.return;else l=st,ci=Ka=null,c0(l),po=null,Ic=0,l=st;for(;l!==null;)L$(l.alternate,l),l=l.return;st=null}}function Qo(l,c){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,G8(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),yi=0,G0(),Rt=l,st=h=li(l.current,null),lt=c,Qt=0,vr=null,ia=!1,vo=hn(l,c),L0=!1,So=Sr=Y0=ll=aa=sn=0,sr=fu=null,V0=!1,(c&8)!==0&&(c|=c&32);var O=l.entangledLanes;if(O!==0)for(l=l.entanglements,O&=c;0<O;){var b=31-at(O),S=1<<b;c|=l[b],O&=~S}return bi=c,md(),h}function fT(l,c){He=null,A.H=ru,c===ho||c===wd?(c=T5(),Qt=3):c===FO?(c=T5(),Qt=4):Qt=c===k0?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,vr=c,st===null&&(sn=1,Xd(l,Xr(c,l.current)))}function dT(){var l=br.current;return l===null?!0:(lt&4194048)===lt?Lr===null:(lt&62914560)===lt||(lt&536870912)!==0?l===Lr:!1}function hT(){var l=A.H;return A.H=ru,l===null?ru:l}function pT(){var l=A.A;return A.A=k8,l}function Id(){sn=4,ia||(lt&4194048)!==lt&&br.current!==null||(vo=!0),(aa&134217727)===0&&(ll&134217727)===0||Rt===null||ca(Rt,lt,Sr,!1)}function W0(l,c,h){var O=vt;vt|=2;var b=hT(),S=pT();(Rt!==l||lt!==c)&&(Gd=null,Qo(l,c)),c=!1;var P=sn;e:do try{if(Qt!==0&&st!==null){var M=st,H=vr;switch(Qt){case 8:G0(),P=6;break e;case 3:case 2:case 9:case 6:br.current===null&&(c=!0);var ie=Qt;if(Qt=0,vr=null,ko(l,M,H,ie),h&&vo){P=0;break e}break;default:ie=Qt,Qt=0,vr=null,ko(l,M,H,ie)}}_8(),P=sn;break}catch(ce){fT(l,ce)}while(!0);return c&&l.shellSuspendCounter++,ci=Ka=null,vt=O,A.H=b,A.A=S,st===null&&(Rt=null,lt=0,md()),P}function _8(){for(;st!==null;)mT(st)}function P8(l,c){var h=vt;vt|=2;var O=hT(),b=pT();Rt!==l||lt!==c?(Gd=null,Ud=rt()+500,Qo(l,c)):vo=hn(l,c);e:do try{if(Qt!==0&&st!==null){c=st;var S=vr;t:switch(Qt){case 1:Qt=0,vr=null,ko(l,c,S,1);break;case 2:case 9:if(k5(S)){Qt=0,vr=null,OT(c);break}c=function(){Qt!==2&&Qt!==9||Rt!==l||(Qt=7),Ms(l)},S.then(c,c);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:k5(S)?(Qt=0,vr=null,OT(c)):(Qt=0,vr=null,ko(l,c,S,7));break;case 5:var P=null;switch(st.tag){case 26:P=st.memoizedState;case 5:case 27:var M=st;if(P?t_(P):M.stateNode.complete){Qt=0,vr=null;var H=M.sibling;if(H!==null)st=H;else{var ie=M.return;ie!==null?(st=ie,Hd(ie)):st=null}break t}}Qt=0,vr=null,ko(l,c,S,5);break;case 6:Qt=0,vr=null,ko(l,c,S,6);break;case 8:G0(),sn=6;break e;default:throw Error(r(462))}}j8();break}catch(ce){fT(l,ce)}while(!0);return ci=Ka=null,A.H=O,A.A=b,vt=h,st!==null?0:(Rt=null,lt=0,md(),sn)}function j8(){for(;st!==null&&!Yt();)mT(st)}function mT(l){var c=z$(l.alternate,l,bi);l.memoizedProps=l.pendingProps,c===null?Hd(l):st=c}function OT(l){var c=l,h=c.alternate;switch(c.tag){case 15:case 0:c=E$(h,c,c.pendingProps,c.type,void 0,lt);break;case 11:c=E$(h,c,c.pendingProps,c.type.render,c.ref,lt);break;case 5:c0(c);default:L$(h,c),c=st=p5(c,bi),c=z$(h,c,bi)}l.memoizedProps=l.pendingProps,c===null?Hd(l):st=c}function ko(l,c,h,O){ci=Ka=null,c0(c),po=null,Ic=0;var b=c.return;try{if(x8(l,b,c,h,lt)){sn=1,Xd(l,Xr(h,l.current)),st=null;return}}catch(S){if(b!==null)throw st=b,S;sn=1,Xd(l,Xr(h,l.current)),st=null;return}c.flags&32768?(ht||O===1?l=!0:vo||(lt&536870912)!==0?l=!1:(ia=l=!0,(O===2||O===9||O===3||O===6)&&(O=br.current,O!==null&&O.tag===13&&(O.flags|=16384))),gT(c,l)):Hd(c)}function Hd(l){var c=l;do{if((c.flags&32768)!==0){gT(c,ia);return}l=c.return;var h=v8(c.alternate,c,bi);if(h!==null){st=h;return}if(c=c.sibling,c!==null){st=c;return}st=c=l}while(c!==null);sn===0&&(sn=5)}function gT(l,c){do{var h=S8(l.alternate,l);if(h!==null){h.flags&=32767,st=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(l=l.sibling,l!==null)){st=l;return}st=l=h}while(l!==null);sn=6,st=null}function xT(l,c,h,O,b,S,P,M,H){l.cancelPendingCommit=null;do Fd();while(vn!==0);if((vt&6)!==0)throw Error(r(327));if(c!==null){if(c===l.current)throw Error(r(177));if(S=c.lanes|c.childLanes,S|=qO,Cr(l,h,S,P,M,H),l===Rt&&(st=Rt=null,lt=0),wo=c,oa=l,yi=h,D0=S,B0=b,lT=O,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,R8(Ze,function(){return wT(),null})):(l.callbackNode=null,l.callbackPriority=0),O=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||O){O=A.T,A.T=null,b=I.p,I.p=2,P=vt,vt|=4;try{w8(l,c,h)}finally{vt=P,I.p=b,A.T=O}}vn=1,bT(),yT(),vT()}}function bT(){if(vn===1){vn=0;var l=oa,c=wo,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=A.T,A.T=null;var O=I.p;I.p=2;var b=vt;vt|=4;try{J$(c,l);var S=ag,P=i5(l.containerInfo),M=S.focusedElem,H=S.selectionRange;if(P!==M&&M&&M.ownerDocument&&s5(M.ownerDocument.documentElement,M)){if(H!==null&&NO(M)){var ie=H.start,ce=H.end;if(ce===void 0&&(ce=ie),"selectionStart"in M)M.selectionStart=ie,M.selectionEnd=Math.min(ce,M.value.length);else{var he=M.ownerDocument||document,ae=he&&he.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Pe=M.textContent.length,Ve=Math.min(H.start,Pe),Pt=H.end===void 0?Ve:Math.min(H.end,Pe);!le.extend&&Ve>Pt&&(P=Pt,Pt=Ve,Ve=P);var ne=r5(M,Ve),K=r5(M,Pt);if(ne&&K&&(le.rangeCount!==1||le.anchorNode!==ne.node||le.anchorOffset!==ne.offset||le.focusNode!==K.node||le.focusOffset!==K.offset)){var se=he.createRange();se.setStart(ne.node,ne.offset),le.removeAllRanges(),Ve>Pt?(le.addRange(se),le.extend(K.node,K.offset)):(se.setEnd(K.node,K.offset),le.addRange(se))}}}}for(he=[],le=M;le=le.parentNode;)le.nodeType===1&&he.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<he.length;M++){var de=he[M];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}ch=!!ig,ag=ig=null}finally{vt=b,I.p=O,A.T=h}}l.current=c,vn=2}}function yT(){if(vn===2){vn=0;var l=oa,c=wo,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=A.T,A.T=null;var O=I.p;I.p=2;var b=vt;vt|=4;try{W$(l,c.alternate,c)}finally{vt=b,I.p=O,A.T=h}}vn=3}}function vT(){if(vn===4||vn===3){vn=0,Je();var l=oa,c=wo,h=yi,O=lT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?vn=5:(vn=0,wo=oa=null,ST(l,l.pendingLanes));var b=l.pendingLanes;if(b===0&&(la=null),Rr(h),c=c.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(ke,c,void 0,(c.current.flags&128)===128)}catch{}if(O!==null){c=A.T,b=I.p,I.p=2,A.T=null;try{for(var S=l.onRecoverableError,P=0;P<O.length;P++){var M=O[P];S(M.value,{componentStack:M.stack})}}finally{A.T=c,I.p=b}}(yi&3)!==0&&Fd(),Ms(l),b=l.pendingLanes,(h&261930)!==0&&(b&42)!==0?l===U0?du++:(du=0,U0=l):du=0,hu(0)}}function ST(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Gc(c)))}function Fd(){return bT(),yT(),vT(),wT()}function wT(){if(vn!==5)return!1;var l=oa,c=D0;D0=0;var h=Rr(yi),O=A.T,b=I.p;try{I.p=32>h?32:h,A.T=null,h=B0,B0=null;var S=oa,P=yi;if(vn=0,wo=oa=null,yi=0,(vt&6)!==0)throw Error(r(331));var M=vt;if(vt|=4,sT(S.current),tT(S,S.current,P,h),vt=M,hu(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(ke,S)}catch{}return!0}finally{I.p=b,A.T=O,ST(l,c)}}function QT(l,c,h){c=Xr(h,c),c=Q0(l.stateNode,c,2),l=ta(l,c,2),l!==null&&(Jn(l,2),Ms(l))}function kt(l,c,h){if(l.tag===3)QT(l,l,h);else for(;c!==null;){if(c.tag===3){QT(c,l,h);break}else if(c.tag===1){var O=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(la===null||!la.has(O))){l=Xr(h,l),h=k$(2),O=ta(c,h,2),O!==null&&($$(h,O,c,l),Jn(O,2),Ms(O));break}}c=c.return}}function I0(l,c,h){var O=l.pingCache;if(O===null){O=l.pingCache=new $8;var b=new Set;O.set(c,b)}else b=O.get(c),b===void 0&&(b=new Set,O.set(c,b));b.has(h)||(L0=!0,b.add(h),l=N8.bind(null,l,c,h),c.then(l,l))}function N8(l,c,h){var O=l.pingCache;O!==null&&O.delete(c),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,Rt===l&&(lt&h)===h&&(sn===4||sn===3&&(lt&62914560)===lt&&300>rt()-Bd?(vt&2)===0&&Qo(l,0):Y0|=h,So===lt&&(So=0)),Ms(l)}function kT(l,c){c===0&&(c=ti()),l=Ia(l,c),l!==null&&(Jn(l,c),Ms(l))}function C8(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),kT(l,h)}function E8(l,c){var h=0;switch(l.tag){case 31:case 13:var O=l.stateNode,b=l.memoizedState;b!==null&&(h=b.retryLane);break;case 19:O=l.stateNode;break;case 22:O=l.stateNode._retryCache;break;default:throw Error(r(314))}O!==null&&O.delete(c),kT(l,h)}function R8(l,c){return on(l,c)}var Kd=null,$o=null,H0=!1,Jd=!1,F0=!1,ua=0;function Ms(l){l!==$o&&l.next===null&&($o===null?Kd=$o=l:$o=$o.next=l),Jd=!0,H0||(H0=!0,q8())}function hu(l,c){if(!F0&&Jd){F0=!0;do for(var h=!1,O=Kd;O!==null;){if(l!==0){var b=O.pendingLanes;if(b===0)var S=0;else{var P=O.suspendedLanes,M=O.pingedLanes;S=(1<<31-at(42|l)+1)-1,S&=b&~(P&~M),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,PT(O,S))}else S=lt,S=Kn(O,O===Rt?S:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(S&3)===0||hn(O,S)||(h=!0,PT(O,S));O=O.next}while(h);F0=!1}}function A8(){$T()}function $T(){Jd=H0=!1;var l=0;ua!==0&&U8()&&(l=ua);for(var c=rt(),h=null,O=Kd;O!==null;){var b=O.next,S=TT(O,c);S===0?(O.next=null,h===null?Kd=b:h.next=b,b===null&&($o=h)):(h=O,(l!==0||(S&3)!==0)&&(Jd=!0)),O=b}vn!==0&&vn!==5||hu(l),ua!==0&&(ua=0)}function TT(l,c){for(var h=l.suspendedLanes,O=l.pingedLanes,b=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var P=31-at(S),M=1<<P,H=b[P];H===-1?((M&h)===0||(M&O)!==0)&&(b[P]=jn(M,c)):H<=c&&(l.expiredLanes|=M),S&=~M}if(c=Rt,h=lt,h=Kn(l,l===c?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),O=l.callbackNode,h===0||l===c&&(Qt===2||Qt===9)||l.cancelPendingCommit!==null)return O!==null&&O!==null&&Gt(O),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||hn(l,h)){if(c=h&-h,c===l.callbackPriority)return c;switch(O!==null&&Gt(O),Rr(h)){case 2:case 8:h=ye;break;case 32:h=Ze;break;case 268435456:h=Xt;break;default:h=Ze}return O=_T.bind(null,l),h=on(h,O),l.callbackPriority=c,l.callbackNode=h,c}return O!==null&&O!==null&&Gt(O),l.callbackPriority=2,l.callbackNode=null,2}function _T(l,c){if(vn!==0&&vn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(Fd()&&l.callbackNode!==h)return null;var O=lt;return O=Kn(l,l===Rt?O:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),O===0?null:(cT(l,O,c),TT(l,rt()),l.callbackNode!=null&&l.callbackNode===h?_T.bind(null,l):null)}function PT(l,c){if(Fd())return null;cT(l,c,!0)}function q8(){W8(function(){(vt&6)!==0?on(me,A8):$T()})}function K0(){if(ua===0){var l=uo;l===0&&(l=Pn,Pn<<=1,(Pn&261888)===0&&(Pn=256)),ua=l}return ua}function jT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:ld(""+l)}function NT(l,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,l.id&&h.setAttribute("form",l.id),c.parentNode.insertBefore(h,c),l=new FormData(l),h.parentNode.removeChild(h),l}function X8(l,c,h,O,b){if(c==="submit"&&h&&h.stateNode===b){var S=jT((b[tt]||null).action),P=O.submitter;P&&(c=(c=P[tt]||null)?jT(c.formAction):P.getAttribute("formAction"),c!==null&&(S=c,P=null));var M=new fd("action","action",null,O,b);l.push({event:M,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(ua!==0){var H=P?NT(b,P):new FormData(b);x0(h,{pending:!0,data:H,method:b.method,action:S},null,H)}}else typeof S=="function"&&(M.preventDefault(),H=P?NT(b,P):new FormData(b),x0(h,{pending:!0,data:H,method:b.method,action:S},S,H))},currentTarget:b}]})}}for(var J0=0;J0<AO.length;J0++){var eg=AO[J0],M8=eg.toLowerCase(),z8=eg[0].toUpperCase()+eg.slice(1);ps(M8,"on"+z8)}ps(o5,"onAnimationEnd"),ps(c5,"onAnimationIteration"),ps(u5,"onAnimationStart"),ps("dblclick","onDoubleClick"),ps("focusin","onFocus"),ps("focusout","onBlur"),ps(t8,"onTransitionRun"),ps(n8,"onTransitionStart"),ps(r8,"onTransitionCancel"),ps(f5,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function CT(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var O=l[h],b=O.event;O=O.listeners;e:{var S=void 0;if(c)for(var P=O.length-1;0<=P;P--){var M=O[P],H=M.instance,ie=M.currentTarget;if(M=M.listener,H!==S&&b.isPropagationStopped())break e;S=M,b.currentTarget=ie;try{S(b)}catch(ce){pd(ce)}b.currentTarget=null,S=H}else for(P=0;P<O.length;P++){if(M=O[P],H=M.instance,ie=M.currentTarget,M=M.listener,H!==S&&b.isPropagationStopped())break e;S=M,b.currentTarget=ie;try{S(b)}catch(ce){pd(ce)}b.currentTarget=null,S=H}}}}function it(l,c){var h=c[Cs];h===void 0&&(h=c[Cs]=new Set);var O=l+"__bubble";h.has(O)||(ET(c,l,2,!1),h.add(O))}function tg(l,c,h){var O=0;c&&(O|=4),ET(h,l,O,c)}var eh="_reactListening"+Math.random().toString(36).slice(2);function ng(l){if(!l[eh]){l[eh]=!0,Bl.forEach(function(h){h!=="selectionchange"&&(Z8.has(h)||tg(h,!1,l),tg(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[eh]||(c[eh]=!0,tg("selectionchange",!1,c))}}function ET(l,c,h,O){switch(o_(c)){case 2:var b=pY;break;case 8:b=mY;break;default:b=gg}h=b.bind(null,c,h,l),b=void 0,!SO||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),O?b!==void 0?l.addEventListener(c,h,{capture:!0,passive:b}):l.addEventListener(c,h,!0):b!==void 0?l.addEventListener(c,h,{passive:b}):l.addEventListener(c,h,!1)}function rg(l,c,h,O,b){var S=O;if((c&1)===0&&(c&2)===0&&O!==null)e:for(;;){if(O===null)return;var P=O.tag;if(P===3||P===4){var M=O.stateNode.containerInfo;if(M===b)break;if(P===4)for(P=O.return;P!==null;){var H=P.tag;if((H===3||H===4)&&P.stateNode.containerInfo===b)return;P=P.return}for(;M!==null;){if(P=Es(M),P===null)return;if(H=P.tag,H===5||H===6||H===26||H===27){O=S=P;continue e}M=M.parentNode}}O=O.return}Mk(function(){var ie=S,ce=yO(h),he=[];e:{var ae=d5.get(l);if(ae!==void 0){var le=fd,Pe=l;switch(l){case"keypress":if(cd(h)===0)break e;case"keydown":case"keyup":le=E6;break;case"focusin":Pe="focus",le=$O;break;case"focusout":Pe="blur",le=$O;break;case"beforeblur":case"afterblur":le=$O;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Lk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=v6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=q6;break;case o5:case c5:case u5:le=Q6;break;case f5:le=M6;break;case"scroll":case"scrollend":le=b6;break;case"wheel":le=Z6;break;case"copy":case"cut":case"paste":le=$6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Vk;break;case"toggle":case"beforetoggle":le=Y6}var Ve=(c&4)!==0,Pt=!Ve&&(l==="scroll"||l==="scrollend"),ne=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var K=ie,se;K!==null;){var de=K;if(se=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||se===null||ne===null||(de=qc(K,ne),de!=null&&Ve.push(mu(K,de,se))),Pt)break;K=K.return}0<Ve.length&&(ae=new le(ae,Pe,null,h,ce),he.push({event:ae,listeners:Ve}))}}if((c&7)===0){e:{if(ae=l==="mouseover"||l==="pointerover",le=l==="mouseout"||l==="pointerout",ae&&h!==bO&&(Pe=h.relatedTarget||h.fromElement)&&(Es(Pe)||Pe[cs]))break e;if((le||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Pe=h.relatedTarget||h.toElement,le=ie,Pe=Pe?Es(Pe):null,Pe!==null&&(Pt=i(Pe),Ve=Pe.tag,Pe!==Pt||Ve!==5&&Ve!==27&&Ve!==6)&&(Pe=null)):(le=null,Pe=ie),le!==Pe)){if(Ve=Lk,de="onMouseLeave",ne="onMouseEnter",K="mouse",(l==="pointerout"||l==="pointerover")&&(Ve=Vk,de="onPointerLeave",ne="onPointerEnter",K="pointer"),Pt=le==null?ae:si(le),se=Pe==null?ae:si(Pe),ae=new Ve(de,K+"leave",le,h,ce),ae.target=Pt,ae.relatedTarget=se,de=null,Es(ce)===ie&&(Ve=new Ve(ne,K+"enter",Pe,h,ce),Ve.target=se,Ve.relatedTarget=Pt,de=Ve),Pt=de,le&&Pe)t:{for(Ve=L8,ne=le,K=Pe,se=0,de=ne;de;de=Ve(de))se++;de=0;for(var ze=K;ze;ze=Ve(ze))de++;for(;0<se-de;)ne=Ve(ne),se--;for(;0<de-se;)K=Ve(K),de--;for(;se--;){if(ne===K||K!==null&&ne===K.alternate){Ve=ne;break t}ne=Ve(ne),K=Ve(K)}Ve=null}else Ve=null;le!==null&&RT(he,ae,le,Ve,!1),Pe!==null&&Pt!==null&&RT(he,Pt,Pe,Ve,!0)}}e:{if(ae=ie?si(ie):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var gt=Fk;else if(Ik(ae))if(Kk)gt=K6;else{gt=H6;var Ce=I6}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&xO(ie.elementType)&&(gt=Fk):gt=F6;if(gt&&(gt=gt(l,ie))){Hk(he,gt,h,ce);break e}Ce&&Ce(l,ae,ie),l==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&gO(ae,"number",ae.value)}switch(Ce=ie?si(ie):window,l){case"focusin":(Ik(Ce)||Ce.contentEditable==="true")&&(no=Ce,CO=ie,Dc=null);break;case"focusout":Dc=CO=no=null;break;case"mousedown":EO=!0;break;case"contextmenu":case"mouseup":case"dragend":EO=!1,a5(he,h,ce);break;case"selectionchange":if(e8)break;case"keydown":case"keyup":a5(he,h,ce)}var Ke;if(_O)e:{switch(l){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else to?Gk(l,h)&&(ot="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(ot="onCompositionStart");ot&&(Dk&&h.locale!=="ko"&&(to||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&to&&(Ke=zk()):(Wi=ce,wO="value"in Wi?Wi.value:Wi.textContent,to=!0)),Ce=th(ie,ot),0<Ce.length&&(ot=new Yk(ot,l,null,h,ce),he.push({event:ot,listeners:Ce}),Ke?ot.data=Ke:(Ke=Wk(h),Ke!==null&&(ot.data=Ke)))),(Ke=D6?B6(l,h):U6(l,h))&&(ot=th(ie,"onBeforeInput"),0<ot.length&&(Ce=new Yk("onBeforeInput","beforeinput",null,h,ce),he.push({event:Ce,listeners:ot}),Ce.data=Ke)),X8(he,l,ie,h,ce)}CT(he,c)})}function mu(l,c,h){return{instance:l,listener:c,currentTarget:h}}function th(l,c){for(var h=c+"Capture",O=[];l!==null;){var b=l,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=qc(l,h),b!=null&&O.unshift(mu(l,b,S)),b=qc(l,c),b!=null&&O.push(mu(l,b,S))),l.tag===3)return O;l=l.return}return[]}function L8(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function RT(l,c,h,O,b){for(var S=c._reactName,P=[];h!==null&&h!==O;){var M=h,H=M.alternate,ie=M.stateNode;if(M=M.tag,H!==null&&H===O)break;M!==5&&M!==26&&M!==27||ie===null||(H=ie,b?(ie=qc(h,S),ie!=null&&P.unshift(mu(h,ie,H))):b||(ie=qc(h,S),ie!=null&&P.push(mu(h,ie,H)))),h=h.return}P.length!==0&&l.push({event:c,listeners:P})}var Y8=/\r\n?/g,V8=/\u0000|\uFFFD/g;function AT(l){return(typeof l=="string"?l:""+l).replace(Y8,`
`).replace(V8,"")}function qT(l,c){return c=AT(c),AT(l)===c}function _t(l,c,h,O,b,S){switch(h){case"children":typeof O=="string"?c==="body"||c==="textarea"&&O===""||Kl(l,O):(typeof O=="number"||typeof O=="bigint")&&c!=="body"&&Kl(l,""+O);break;case"className":Gi(l,"class",O);break;case"tabIndex":Gi(l,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(l,h,O);break;case"style":qk(l,O,S);break;case"data":if(c!=="object"){Gi(l,"data",O);break}case"src":case"href":if(O===""&&(c!=="a"||h!=="href")){l.removeAttribute(h);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){l.removeAttribute(h);break}O=ld(""+O),l.setAttribute(h,O);break;case"action":case"formAction":if(typeof O=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&_t(l,c,"name",b.name,b,null),_t(l,c,"formEncType",b.formEncType,b,null),_t(l,c,"formMethod",b.formMethod,b,null),_t(l,c,"formTarget",b.formTarget,b,null)):(_t(l,c,"encType",b.encType,b,null),_t(l,c,"method",b.method,b,null),_t(l,c,"target",b.target,b,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){l.removeAttribute(h);break}O=ld(""+O),l.setAttribute(h,O);break;case"onClick":O!=null&&(l.onclick=ii);break;case"onScroll":O!=null&&it("scroll",l);break;case"onScrollEnd":O!=null&&it("scrollend",l);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(r(61));if(h=O.__html,h!=null){if(b.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":l.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){l.removeAttribute("xlink:href");break}h=ld(""+O),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?l.setAttribute(h,""+O):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":O===!0?l.setAttribute(h,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?l.setAttribute(h,O):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?l.setAttribute(h,O):l.removeAttribute(h);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?l.removeAttribute(h):l.setAttribute(h,O);break;case"popover":it("beforetoggle",l),it("toggle",l),Hl(l,"popover",O);break;case"xlinkActuate":Or(l,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":Or(l,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":Or(l,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":Or(l,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":Or(l,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":Or(l,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":Or(l,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":Or(l,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":Or(l,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":Hl(l,"is",O);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=g6.get(h)||h,Hl(l,h,O))}}function sg(l,c,h,O,b,S){switch(h){case"style":qk(l,O,S);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(r(61));if(h=O.__html,h!=null){if(b.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof O=="string"?Kl(l,O):(typeof O=="number"||typeof O=="bigint")&&Kl(l,""+O);break;case"onScroll":O!=null&&it("scroll",l);break;case"onScrollEnd":O!=null&&it("scrollend",l);break;case"onClick":O!=null&&(l.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ul.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),c=h.slice(2,b?h.length-7:void 0),S=l[tt]||null,S=S!=null?S[h]:null,typeof S=="function"&&l.removeEventListener(c,S,b),typeof O=="function")){typeof S!="function"&&S!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(c,O,b);break e}h in l?l[h]=O:O===!0?l.setAttribute(h,""):Hl(l,h,O)}}}function Rn(l,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",l),it("load",l);var O=!1,b=!1,S;for(S in h)if(h.hasOwnProperty(S)){var P=h[S];if(P!=null)switch(S){case"src":O=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:_t(l,c,S,P,h,null)}}b&&_t(l,c,"srcSet",h.srcSet,h,null),O&&_t(l,c,"src",h.src,h,null);return;case"input":it("invalid",l);var M=S=P=b=null,H=null,ie=null;for(O in h)if(h.hasOwnProperty(O)){var ce=h[O];if(ce!=null)switch(O){case"name":b=ce;break;case"type":P=ce;break;case"checked":H=ce;break;case"defaultChecked":ie=ce;break;case"value":S=ce;break;case"defaultValue":M=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:_t(l,c,O,ce,h,null)}}Ck(l,S,M,H,ie,P,b,!1);return;case"select":it("invalid",l),O=P=S=null;for(b in h)if(h.hasOwnProperty(b)&&(M=h[b],M!=null))switch(b){case"value":S=M;break;case"defaultValue":P=M;break;case"multiple":O=M;default:_t(l,c,b,M,h,null)}c=S,h=P,l.multiple=!!O,c!=null?Fl(l,!!O,c,!1):h!=null&&Fl(l,!!O,h,!0);return;case"textarea":it("invalid",l),S=b=O=null;for(P in h)if(h.hasOwnProperty(P)&&(M=h[P],M!=null))switch(P){case"value":O=M;break;case"defaultValue":b=M;break;case"children":S=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:_t(l,c,P,M,h,null)}Rk(l,O,b,S);return;case"option":for(H in h)if(h.hasOwnProperty(H)&&(O=h[H],O!=null))switch(H){case"selected":l.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:_t(l,c,H,O,h,null)}return;case"dialog":it("beforetoggle",l),it("toggle",l),it("cancel",l),it("close",l);break;case"iframe":case"object":it("load",l);break;case"video":case"audio":for(O=0;O<pu.length;O++)it(pu[O],l);break;case"image":it("error",l),it("load",l);break;case"details":it("toggle",l);break;case"embed":case"source":case"link":it("error",l),it("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in h)if(h.hasOwnProperty(ie)&&(O=h[ie],O!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:_t(l,c,ie,O,h,null)}return;default:if(xO(c)){for(ce in h)h.hasOwnProperty(ce)&&(O=h[ce],O!==void 0&&sg(l,c,ce,O,h,void 0));return}}for(M in h)h.hasOwnProperty(M)&&(O=h[M],O!=null&&_t(l,c,M,O,h,null))}function D8(l,c,h,O){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,P=null,M=null,H=null,ie=null,ce=null;for(le in h){var he=h[le];if(h.hasOwnProperty(le)&&he!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=he;default:O.hasOwnProperty(le)||_t(l,c,le,null,O,he)}}for(var ae in O){var le=O[ae];if(he=h[ae],O.hasOwnProperty(ae)&&(le!=null||he!=null))switch(ae){case"type":S=le;break;case"name":b=le;break;case"checked":ie=le;break;case"defaultChecked":ce=le;break;case"value":P=le;break;case"defaultValue":M=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,c));break;default:le!==he&&_t(l,c,ae,le,O,he)}}OO(l,P,M,H,ie,ce,S,b);return;case"select":le=P=M=ae=null;for(S in h)if(H=h[S],h.hasOwnProperty(S)&&H!=null)switch(S){case"value":break;case"multiple":le=H;default:O.hasOwnProperty(S)||_t(l,c,S,null,O,H)}for(b in O)if(S=O[b],H=h[b],O.hasOwnProperty(b)&&(S!=null||H!=null))switch(b){case"value":ae=S;break;case"defaultValue":M=S;break;case"multiple":P=S;default:S!==H&&_t(l,c,b,S,O,H)}c=M,h=P,O=le,ae!=null?Fl(l,!!h,ae,!1):!!O!=!!h&&(c!=null?Fl(l,!!h,c,!0):Fl(l,!!h,h?[]:"",!1));return;case"textarea":le=ae=null;for(M in h)if(b=h[M],h.hasOwnProperty(M)&&b!=null&&!O.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:_t(l,c,M,null,O,b)}for(P in O)if(b=O[P],S=h[P],O.hasOwnProperty(P)&&(b!=null||S!=null))switch(P){case"value":ae=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&_t(l,c,P,b,O,S)}Ek(l,ae,le);return;case"option":for(var Pe in h)if(ae=h[Pe],h.hasOwnProperty(Pe)&&ae!=null&&!O.hasOwnProperty(Pe))switch(Pe){case"selected":l.selected=!1;break;default:_t(l,c,Pe,null,O,ae)}for(H in O)if(ae=O[H],le=h[H],O.hasOwnProperty(H)&&ae!==le&&(ae!=null||le!=null))switch(H){case"selected":l.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:_t(l,c,H,ae,O,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in h)ae=h[Ve],h.hasOwnProperty(Ve)&&ae!=null&&!O.hasOwnProperty(Ve)&&_t(l,c,Ve,null,O,ae);for(ie in O)if(ae=O[ie],le=h[ie],O.hasOwnProperty(ie)&&ae!==le&&(ae!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,c));break;default:_t(l,c,ie,ae,O,le)}return;default:if(xO(c)){for(var Pt in h)ae=h[Pt],h.hasOwnProperty(Pt)&&ae!==void 0&&!O.hasOwnProperty(Pt)&&sg(l,c,Pt,void 0,O,ae);for(ce in O)ae=O[ce],le=h[ce],!O.hasOwnProperty(ce)||ae===le||ae===void 0&&le===void 0||sg(l,c,ce,ae,O,le);return}}for(var ne in h)ae=h[ne],h.hasOwnProperty(ne)&&ae!=null&&!O.hasOwnProperty(ne)&&_t(l,c,ne,null,O,ae);for(he in O)ae=O[he],le=h[he],!O.hasOwnProperty(he)||ae===le||ae==null&&le==null||_t(l,c,he,ae,O,le)}function XT(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B8(){if(typeof performance.getEntriesByType=="function"){for(var l=0,c=0,h=performance.getEntriesByType("resource"),O=0;O<h.length;O++){var b=h[O],S=b.transferSize,P=b.initiatorType,M=b.duration;if(S&&M&&XT(P)){for(P=0,M=b.responseEnd,O+=1;O<h.length;O++){var H=h[O],ie=H.startTime;if(ie>M)break;var ce=H.transferSize,he=H.initiatorType;ce&&XT(he)&&(H=H.responseEnd,P+=ce*(H<M?1:(M-ie)/(H-ie)))}if(--O,c+=8*(S+P)/(b.duration/1e3),l++,10<l)break}}if(0<l)return c/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var ig=null,ag=null;function nh(l){return l.nodeType===9?l:l.ownerDocument}function MT(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zT(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function lg(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var og=null;function U8(){var l=window.event;return l&&l.type==="popstate"?l===og?!1:(og=l,!0):(og=null,!1)}var ZT=typeof setTimeout=="function"?setTimeout:void 0,G8=typeof clearTimeout=="function"?clearTimeout:void 0,LT=typeof Promise=="function"?Promise:void 0,W8=typeof queueMicrotask=="function"?queueMicrotask:typeof LT<"u"?function(l){return LT.resolve(null).then(l).catch(I8)}:ZT;function I8(l){setTimeout(function(){throw l})}function fa(l){return l==="head"}function YT(l,c){var h=c,O=0;do{var b=h.nextSibling;if(l.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"||h==="/&"){if(O===0){l.removeChild(b),jo(c);return}O--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")O++;else if(h==="html")Ou(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,Ou(h);for(var S=h.firstChild;S;){var P=S.nextSibling,M=S.nodeName;S[ri]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=P}}else h==="body"&&Ou(l.ownerDocument.body);h=b}while(h);jo(c)}function VT(l,c){var h=l;l=0;do{var O=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),O&&O.nodeType===8)if(h=O.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=O}while(h)}function cg(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":cg(h),Ui(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function H8(l,c,h,O){for(;l.nodeType===1;){var b=h;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!O&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(O){if(!l[ri])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==b.rel||l.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||l.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||l.getAttribute("title")!==(b.title==null?null:b.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(b.src==null?null:b.src)||l.getAttribute("type")!==(b.type==null?null:b.type)||l.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=Yr(l.nextSibling),l===null)break}return null}function F8(l,c,h){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=Yr(l.nextSibling),l===null))return null;return l}function DT(l,c){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=Yr(l.nextSibling),l===null))return null;return l}function ug(l){return l.data==="$?"||l.data==="$~"}function fg(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function K8(l,c){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=c;else if(l.data!=="$?"||h.readyState!=="loading")c();else{var O=function(){c(),h.removeEventListener("DOMContentLoaded",O)};h.addEventListener("DOMContentLoaded",O),l._reactRetry=O}}function Yr(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return l}var dg=null;function BT(l){l=l.nextSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(c===0)return Yr(l.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}l=l.nextSibling}return null}function UT(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return l;c--}else h!=="/$"&&h!=="/&"||c++}l=l.previousSibling}return null}function GT(l,c,h){switch(c=nh(h),l){case"html":if(l=c.documentElement,!l)throw Error(r(452));return l;case"head":if(l=c.head,!l)throw Error(r(453));return l;case"body":if(l=c.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Ou(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);Ui(l)}var Vr=new Map,WT=new Set;function rh(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var vi=I.d;I.d={f:J8,r:eY,D:tY,C:nY,L:rY,m:sY,X:aY,S:iY,M:lY};function J8(){var l=vi.f(),c=Wd();return l||c}function eY(l){var c=us(l);c!==null&&c.tag===5&&c.type==="form"?f$(c):vi.r(l)}var To=typeof document>"u"?null:document;function IT(l,c,h){var O=To;if(O&&typeof c=="string"&&c){var b=Ar(c);b='link[rel="'+l+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),WT.has(b)||(WT.add(b),l={rel:l,crossOrigin:h,href:c},O.querySelector(b)===null&&(c=O.createElement("link"),Rn(c,"link",l),nn(c),O.head.appendChild(c)))}}function tY(l){vi.D(l),IT("dns-prefetch",l,null)}function nY(l,c){vi.C(l,c),IT("preconnect",l,c)}function rY(l,c,h){vi.L(l,c,h);var O=To;if(O&&l&&c){var b='link[rel="preload"][as="'+Ar(c)+'"]';c==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+Ar(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+Ar(h.imageSizes)+'"]')):b+='[href="'+Ar(l)+'"]';var S=b;switch(c){case"style":S=_o(l);break;case"script":S=Po(l)}Vr.has(S)||(l=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:l,as:c},h),Vr.set(S,l),O.querySelector(b)!==null||c==="style"&&O.querySelector(gu(S))||c==="script"&&O.querySelector(xu(S))||(c=O.createElement("link"),Rn(c,"link",l),nn(c),O.head.appendChild(c)))}}function sY(l,c){vi.m(l,c);var h=To;if(h&&l){var O=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+Ar(O)+'"][href="'+Ar(l)+'"]',S=b;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Po(l)}if(!Vr.has(S)&&(l=m({rel:"modulepreload",href:l},c),Vr.set(S,l),h.querySelector(b)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(xu(S)))return}O=h.createElement("link"),Rn(O,"link",l),nn(O),h.head.appendChild(O)}}}function iY(l,c,h){vi.S(l,c,h);var O=To;if(O&&l){var b=Rs(O).hoistableStyles,S=_o(l);c=c||"default";var P=b.get(S);if(!P){var M={loading:0,preload:null};if(P=O.querySelector(gu(S)))M.loading=5;else{l=m({rel:"stylesheet",href:l,"data-precedence":c},h),(h=Vr.get(S))&&hg(l,h);var H=P=O.createElement("link");nn(H),Rn(H,"link",l),H._p=new Promise(function(ie,ce){H.onload=ie,H.onerror=ce}),H.addEventListener("load",function(){M.loading|=1}),H.addEventListener("error",function(){M.loading|=2}),M.loading|=4,sh(P,c,O)}P={type:"stylesheet",instance:P,count:1,state:M},b.set(S,P)}}}function aY(l,c){vi.X(l,c);var h=To;if(h&&l){var O=Rs(h).hoistableScripts,b=Po(l),S=O.get(b);S||(S=h.querySelector(xu(b)),S||(l=m({src:l,async:!0},c),(c=Vr.get(b))&&pg(l,c),S=h.createElement("script"),nn(S),Rn(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},O.set(b,S))}}function lY(l,c){vi.M(l,c);var h=To;if(h&&l){var O=Rs(h).hoistableScripts,b=Po(l),S=O.get(b);S||(S=h.querySelector(xu(b)),S||(l=m({src:l,async:!0,type:"module"},c),(c=Vr.get(b))&&pg(l,c),S=h.createElement("script"),nn(S),Rn(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},O.set(b,S))}}function HT(l,c,h,O){var b=(b=ee.current)?rh(b):null;if(!b)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=_o(h.href),h=Rs(b).hoistableStyles,O=h.get(c),O||(O={type:"style",instance:null,count:0,state:null},h.set(c,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=_o(h.href);var S=Rs(b).hoistableStyles,P=S.get(l);if(P||(b=b.ownerDocument||b,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,P),(S=b.querySelector(gu(l)))&&!S._p&&(P.instance=S,P.state.loading=5),Vr.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Vr.set(l,h),S||oY(b,l,h,P.state))),c&&O===null)throw Error(r(528,""));return P}if(c&&O!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Po(h),h=Rs(b).hoistableScripts,O=h.get(c),O||(O={type:"script",instance:null,count:0,state:null},h.set(c,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function _o(l){return'href="'+Ar(l)+'"'}function gu(l){return'link[rel="stylesheet"]['+l+"]"}function FT(l){return m({},l,{"data-precedence":l.precedence,precedence:null})}function oY(l,c,h,O){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?O.loading=1:(c=l.createElement("link"),O.preload=c,c.addEventListener("load",function(){return O.loading|=1}),c.addEventListener("error",function(){return O.loading|=2}),Rn(c,"link",h),nn(c),l.head.appendChild(c))}function Po(l){return'[src="'+Ar(l)+'"]'}function xu(l){return"script[async]"+l}function KT(l,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var O=l.querySelector('style[data-href~="'+Ar(h.href)+'"]');if(O)return c.instance=O,nn(O),O;var b=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return O=(l.ownerDocument||l).createElement("style"),nn(O),Rn(O,"style",b),sh(O,h.precedence,l),c.instance=O;case"stylesheet":b=_o(h.href);var S=l.querySelector(gu(b));if(S)return c.state.loading|=4,c.instance=S,nn(S),S;O=FT(h),(b=Vr.get(b))&&hg(O,b),S=(l.ownerDocument||l).createElement("link"),nn(S);var P=S;return P._p=new Promise(function(M,H){P.onload=M,P.onerror=H}),Rn(S,"link",O),c.state.loading|=4,sh(S,h.precedence,l),c.instance=S;case"script":return S=Po(h.src),(b=l.querySelector(xu(S)))?(c.instance=b,nn(b),b):(O=h,(b=Vr.get(S))&&(O=m({},h),pg(O,b)),l=l.ownerDocument||l,b=l.createElement("script"),nn(b),Rn(b,"link",O),l.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(O=c.instance,c.state.loading|=4,sh(O,h.precedence,l));return c.instance}function sh(l,c,h){for(var O=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=O.length?O[O.length-1]:null,S=b,P=0;P<O.length;P++){var M=O[P];if(M.dataset.precedence===c)S=M;else if(S!==b)break}S?S.parentNode.insertBefore(l,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(l,c.firstChild))}function hg(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function pg(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var ih=null;function JT(l,c,h){if(ih===null){var O=new Map,b=ih=new Map;b.set(h,O)}else b=ih,O=b.get(h),O||(O=new Map,b.set(h,O));if(O.has(l))return O;for(O.set(l,null),h=h.getElementsByTagName(l),b=0;b<h.length;b++){var S=h[b];if(!(S[ri]||S[et]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var P=S.getAttribute(c)||"";P=l+P;var M=O.get(P);M?M.push(S):O.set(P,[S])}}return O}function e_(l,c,h){l=l.ownerDocument||l,l.head.insertBefore(h,c==="title"?l.querySelector("head > title"):null)}function cY(l,c,h){if(h===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function t_(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function uY(l,c,h,O){if(h.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var b=_o(O.href),S=c.querySelector(gu(b));if(S){c=S._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(l.count++,l=ah.bind(l),c.then(l,l)),h.state.loading|=4,h.instance=S,nn(S);return}S=c.ownerDocument||c,O=FT(O),(b=Vr.get(b))&&hg(O,b),S=S.createElement("link"),nn(S);var P=S;P._p=new Promise(function(M,H){P.onload=M,P.onerror=H}),Rn(S,"link",O),h.instance=S}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=ah.bind(l),c.addEventListener("load",h),c.addEventListener("error",h))}}var mg=0;function fY(l,c){return l.stylesheets&&l.count===0&&oh(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var O=setTimeout(function(){if(l.stylesheets&&oh(l,l.stylesheets),l.unsuspend){var S=l.unsuspend;l.unsuspend=null,S()}},6e4+c);0<l.imgBytes&&mg===0&&(mg=62500*B8());var b=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&oh(l,l.stylesheets),l.unsuspend)){var S=l.unsuspend;l.unsuspend=null,S()}},(l.imgBytes>mg?50:800)+c);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(O),clearTimeout(b)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var lh=null;function oh(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,lh=new Map,c.forEach(dY,l),lh=null,ah.call(l))}function dY(l,c){if(!(c.state.loading&4)){var h=lh.get(l);if(h)var O=h.get(null);else{h=new Map,lh.set(l,h);for(var b=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var P=b[S];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(h.set(P.dataset.precedence,P),O=P)}O&&h.set(null,O)}b=c.instance,P=b.getAttribute("data-precedence"),S=h.get(P)||O,S===O&&h.set(null,b),h.set(P,b),this.count++,O=ah.bind(this),b.addEventListener("load",O),b.addEventListener("error",O),S?S.parentNode.insertBefore(b,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(b,l.firstChild)),c.state.loading|=4}}var bu={$$typeof:$,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function hY(l,c,h,O,b,S,P,M,H){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ls(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ls(0),this.hiddenUpdates=ls(null),this.identifierPrefix=O,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function n_(l,c,h,O,b,S,P,M,H,ie,ce,he){return l=new hY(l,c,h,P,H,ie,ce,he,M),c=1,S===!0&&(c|=24),S=xr(3,null,null,c),l.current=S,S.stateNode=l,c=WO(),c.refCount++,l.pooledCache=c,c.refCount++,S.memoizedState={element:O,isDehydrated:h,cache:c},KO(S),l}function r_(l){return l?(l=io,l):io}function s_(l,c,h,O,b,S){b=r_(b),O.context===null?O.context=b:O.pendingContext=b,O=ea(c),O.payload={element:h},S=S===void 0?null:S,S!==null&&(O.callback=S),h=ta(l,O,c),h!==null&&(ir(h,l,c),Fc(h,l,c))}function i_(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function Og(l,c){i_(l,c),(l=l.alternate)&&i_(l,c)}function a_(l){if(l.tag===13||l.tag===31){var c=Ia(l,67108864);c!==null&&ir(c,l,67108864),Og(l,67108864)}}function l_(l){if(l.tag===13||l.tag===31){var c=wr();c=Er(c);var h=Ia(l,c);h!==null&&ir(h,l,c),Og(l,c)}}var ch=!0;function pY(l,c,h,O){var b=A.T;A.T=null;var S=I.p;try{I.p=2,gg(l,c,h,O)}finally{I.p=S,A.T=b}}function mY(l,c,h,O){var b=A.T;A.T=null;var S=I.p;try{I.p=8,gg(l,c,h,O)}finally{I.p=S,A.T=b}}function gg(l,c,h,O){if(ch){var b=xg(O);if(b===null)rg(l,c,O,uh,h),c_(l,O);else if(gY(b,l,c,h,O))O.stopPropagation();else if(c_(l,O),c&4&&-1<OY.indexOf(l)){for(;b!==null;){var S=us(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var P=dn(S.pendingLanes);if(P!==0){var M=S;for(M.pendingLanes|=2,M.entangledLanes|=2;P;){var H=1<<31-at(P);M.entanglements[1]|=H,P&=~H}Ms(S),(vt&6)===0&&(Ud=rt()+500,hu(0))}}break;case 31:case 13:M=Ia(S,2),M!==null&&ir(M,S,2),Wd(),Og(S,2)}if(S=xg(O),S===null&&rg(l,c,O,uh,h),S===b)break;b=S}b!==null&&O.stopPropagation()}else rg(l,c,O,null,h)}}function xg(l){return l=yO(l),bg(l)}var uh=null;function bg(l){if(uh=null,l=Es(l),l!==null){var c=i(l);if(c===null)l=null;else{var h=c.tag;if(h===13){if(l=a(c),l!==null)return l;l=null}else if(h===31){if(l=o(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return uh=l,null}function o_(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case me:return 2;case ye:return 8;case Ze:case Fe:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var yg=!1,da=null,ha=null,pa=null,yu=new Map,vu=new Map,ma=[],OY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(l,c){switch(l){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":yu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(c.pointerId)}}function Su(l,c,h,O,b,S){return l===null||l.nativeEvent!==S?(l={blockedOn:c,domEventName:h,eventSystemFlags:O,nativeEvent:S,targetContainers:[b]},c!==null&&(c=us(c),c!==null&&a_(c)),l):(l.eventSystemFlags|=O,c=l.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),l)}function gY(l,c,h,O,b){switch(c){case"focusin":return da=Su(da,l,c,h,O,b),!0;case"dragenter":return ha=Su(ha,l,c,h,O,b),!0;case"mouseover":return pa=Su(pa,l,c,h,O,b),!0;case"pointerover":var S=b.pointerId;return yu.set(S,Su(yu.get(S)||null,l,c,h,O,b)),!0;case"gotpointercapture":return S=b.pointerId,vu.set(S,Su(vu.get(S)||null,l,c,h,O,b)),!0}return!1}function u_(l){var c=Es(l.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=a(h),c!==null){l.blockedOn=c,Ne(l.priority,function(){l_(h)});return}}else if(c===31){if(c=o(h),c!==null){l.blockedOn=c,Ne(l.priority,function(){l_(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fh(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=xg(l.nativeEvent);if(h===null){h=l.nativeEvent;var O=new h.constructor(h.type,h);bO=O,h.target.dispatchEvent(O),bO=null}else return c=us(h),c!==null&&a_(c),l.blockedOn=h,!1;c.shift()}return!0}function f_(l,c,h){fh(l)&&h.delete(c)}function xY(){yg=!1,da!==null&&fh(da)&&(da=null),ha!==null&&fh(ha)&&(ha=null),pa!==null&&fh(pa)&&(pa=null),yu.forEach(f_),vu.forEach(f_)}function dh(l,c){l.blockedOn===c&&(l.blockedOn=null,yg||(yg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xY)))}var hh=null;function d_(l){hh!==l&&(hh=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){hh===l&&(hh=null);for(var c=0;c<l.length;c+=3){var h=l[c],O=l[c+1],b=l[c+2];if(typeof O!="function"){if(bg(O||h)===null)continue;break}var S=us(h);S!==null&&(l.splice(c,3),c-=3,x0(S,{pending:!0,data:b,method:h.method,action:O},O,b))}}))}function jo(l){function c(H){return dh(H,l)}da!==null&&dh(da,l),ha!==null&&dh(ha,l),pa!==null&&dh(pa,l),yu.forEach(c),vu.forEach(c);for(var h=0;h<ma.length;h++){var O=ma[h];O.blockedOn===l&&(O.blockedOn=null)}for(;0<ma.length&&(h=ma[0],h.blockedOn===null);)u_(h),h.blockedOn===null&&ma.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(O=0;O<h.length;O+=3){var b=h[O],S=h[O+1],P=b[tt]||null;if(typeof S=="function")P||d_(h);else if(P){var M=null;if(S&&S.hasAttribute("formAction")){if(b=S,P=S[tt]||null)M=P.formAction;else if(bg(b)!==null)continue}else M=P.action;typeof M=="function"?h[O+1]=M:(h.splice(O,3),O-=3),d_(h)}}}function h_(){function l(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(P){return b=P})},focusReset:"manual",scroll:"manual"})}function c(){b!==null&&(b(),b=null),O||setTimeout(h,20)}function h(){if(!O&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var O=!1,b=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){O=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),b!==null&&(b(),b=null)}}}function vg(l){this._internalRoot=l}ph.prototype.render=vg.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,O=wr();s_(h,O,l,c,null,null)},ph.prototype.unmount=vg.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;s_(l.current,2,null,l,null,null),Wd(),c[cs]=null}};function ph(l){this._internalRoot=l}ph.prototype.unstable_scheduleHydration=function(l){if(l){var c=Oe();l={blockedOn:null,target:l,priority:c};for(var h=0;h<ma.length&&c!==0&&c<ma[h].priority;h++);ma.splice(h,0,l),h===0&&u_(l)}};var p_=e.version;if(p_!=="19.2.3")throw Error(r(527,p_,"19.2.3"));I.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(c),l=l!==null?p(l):null,l=l===null?null:l.stateNode,l};var bY={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{ke=mh.inject(bY),Ie=mh}catch{}}return Qu.createRoot=function(l,c){if(!s(l))throw Error(r(299));var h=!1,O="",b=v$,S=S$,P=w$;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(O=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=n_(l,1,!1,null,null,h,O,null,b,S,P,h_),l[cs]=c.current,ng(l),new vg(c)},Qu.hydrateRoot=function(l,c,h){if(!s(l))throw Error(r(299));var O=!1,b="",S=v$,P=S$,M=w$,H=null;return h!=null&&(h.unstable_strictMode===!0&&(O=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(P=h.onCaughtError),h.onRecoverableError!==void 0&&(M=h.onRecoverableError),h.formState!==void 0&&(H=h.formState)),c=n_(l,1,!0,c,h??null,O,b,H,S,P,M,h_),c.context=r_(null),h=c.current,O=wr(),O=Er(O),b=ea(O),b.callback=null,ta(h,b,O),h=O,c.current.lanes=h,Jn(c,h),Ms(c),l[cs]=c.current,ng(l),new ph(c)},Qu.version="19.2.3",Qu}var Q_;function jY(){if(Q_)return Qg.exports;Q_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qg.exports=PY(),Qg.exports}var NY=jY();const CY=mm(NY);var Te=(t=>(t.SYNC="sync",t.UPDATE="update",t.GENERATE="generate",t.TEST="test",t.EXAMPLE="example",t.FIX="fix",t.BUG="bug",t.CRASH="crash",t.VERIFY="verify",t.SUBMIT_EXAMPLE="submit-example",t.SPLIT="split",t.CHANGE="change",t.DETECT="detect",t.AUTO_DEPS="auto-deps",t.CONFLICTS="conflicts",t.PREPROCESS="preprocess",t))(Te||{});const an={strength:1,temperature:0,time:.25,verbose:!1,quiet:!1,force:!1,local:!1,reviewExamples:!1},or=[{name:"strength",cliFlag:"--strength",type:"range",placeholder:"1",description:"Model strength: <0.5 = cheaper models, 0.5 = base, >0.5 = stronger models",defaultValue:an.strength,min:0,max:1,step:.05},{name:"temperature",cliFlag:"--temperature",type:"range",placeholder:"0.0",description:"LLM creativity level (0 = deterministic, higher = more creative)",defaultValue:an.temperature,min:0,max:2,step:.1},{name:"time",cliFlag:"--time",type:"range",placeholder:"0.25",description:"Reasoning allocation for compatible models (0 = minimal, 1 = maximum)",defaultValue:an.time,min:0,max:1,step:.05},{name:"verbose",cliFlag:"--verbose",type:"checkbox",placeholder:"",description:"Increase output verbosity for debugging",defaultValue:an.verbose},{name:"quiet",cliFlag:"--quiet",type:"checkbox",placeholder:"",description:"Decrease output verbosity",defaultValue:an.quiet},{name:"force",cliFlag:"--force",type:"checkbox",placeholder:"",description:"Skip interactive prompts (useful for automation)",defaultValue:an.force},{name:"local",cliFlag:"--local",type:"checkbox",placeholder:"",description:"Run commands locally instead of in the cloud",defaultValue:an.local},{name:"review-examples",cliFlag:"--review-examples",type:"checkbox",placeholder:"",description:"Review and optionally exclude few-shot examples before execution",defaultValue:an.reviewExamples}],Ta={[Te.SYNC]:{name:Te.SYNC,backendName:"sync",description:"Synchronize a prompt with its code, tests, and examples. Generates missing files and fixes failing tests.",shortDescription:"Sync",icon:"",requiresPrompt:!0,group:"sync-update",options:[{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum fix attempts",defaultValue:"3"},{name:"budget",type:"number",placeholder:"20",description:"Maximum cost in dollars",defaultValue:"20"},{name:"skip-tests",type:"checkbox",placeholder:"",description:"Skip test generation"}]},[Te.UPDATE]:{name:Te.UPDATE,backendName:"update",description:"Update prompts based on code changes. Syncs prompt content with modified code.",shortDescription:"Update",icon:"",requiresPrompt:!0,requiresCode:!0,group:"sync-update",options:[{name:"git",type:"checkbox",placeholder:"",description:"Use git history to find original code"},{name:"simple",type:"checkbox",placeholder:"",description:"Use legacy 2-stage LLM update"}]},[Te.GENERATE]:{name:Te.GENERATE,backendName:"generate",description:"Generate code from a prompt file. Creates new implementation based on the prompt specification.",shortDescription:"Generate code",icon:"",requiresPrompt:!0,options:[{name:"output",type:"file",placeholder:"e.g., src/calculator.py",description:"Where to save generated code"},{name:"incremental",type:"checkbox",placeholder:"",description:"Use incremental patching"}]},[Te.TEST]:{name:Te.TEST,backendName:"test",description:"Generate unit tests for existing code based on its prompt specification.",shortDescription:"Generate tests",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"output",type:"file",placeholder:"e.g., tests/test_calculator.py",description:"Where to save generated tests"},{name:"target-coverage",type:"number",placeholder:"80",description:"Target code coverage %"}]},[Te.EXAMPLE]:{name:Te.EXAMPLE,backendName:"example",description:"Generate example code that demonstrates how to use the implementation.",shortDescription:"Generate example",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"output",type:"file",placeholder:"e.g., examples/calculator_example.py",description:"Where to save generated example"}]},[Te.FIX]:{name:Te.FIX,backendName:"fix",description:"Fix code based on failing tests. Requires an error file with test output.",shortDescription:"Fix failing tests",icon:"",requiresPrompt:!0,requiresCode:!0,requiresTest:!0,options:[{name:"error-file",type:"file",placeholder:"e.g., error.log or test_output.txt",description:"File containing test errors (required)",required:!0},{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum fix attempts",defaultValue:"3"},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:"5"},{name:"loop",type:"checkbox",placeholder:"",description:"Enable iterative fixing (requires verification-program)"},{name:"verification-program",type:"file",placeholder:"verify.py",description:"Python program that verifies the fix (required for --loop)"},{name:"agentic-fallback",type:"checkbox",placeholder:"",description:"Enable agentic fallback if primary fix fails"},{name:"auto-submit",type:"checkbox",placeholder:"",description:"Auto-submit if all tests pass"}]},[Te.BUG]:{name:Te.BUG,backendName:"bug",description:"Investigate a bug from a GitHub issue URL (agentic mode) or generate a reproducing test case.",shortDescription:"Investigate bug",icon:"",requiresPrompt:!1,options:[{name:"issue-url",type:"text",placeholder:"https://github.com/org/repo/issues/123",description:"GitHub issue URL to investigate",required:!0},{name:"output",type:"file",placeholder:"e.g., tests/test_bug_123.py",description:"Where to save generated test"}]},[Te.CRASH]:{name:Te.CRASH,backendName:"crash",description:"Fix code based on crash errors. Analyzes error file and proposes fixes.",shortDescription:"Crash Fix",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"program-file",type:"file",placeholder:"program.py",description:"Program file that crashed",required:!0},{name:"error-file",type:"file",placeholder:"error.log",description:"File containing error messages",required:!0},{name:"output",type:"file",placeholder:"src/fixed_code.py",description:"Where to save fixed code"},{name:"output-program",type:"file",placeholder:"program_fixed.py",description:"Where to save fixed program"},{name:"loop",type:"checkbox",placeholder:"",description:"Enable iterative fixing process"},{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum fix attempts",defaultValue:3},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:5}]},[Te.VERIFY]:{name:Te.VERIFY,backendName:"verify",description:"Verify code against prompt requirements using a verification program.",shortDescription:"Verify",icon:"",requiresPrompt:!0,requiresCode:!0,options:[{name:"verification-program",type:"file",placeholder:"verify.py",description:"Verification program to run",required:!0},{name:"output-code",type:"file",placeholder:"src/verified_code.py",description:"Where to save verified code"},{name:"output-program",type:"file",placeholder:"verify_fixed.py",description:"Where to save fixed verification program"},{name:"output-results",type:"file",placeholder:"results.log",description:"Where to save verification results"},{name:"max-attempts",type:"number",placeholder:"3",description:"Maximum verification attempts",defaultValue:3},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:5},{name:"agentic-fallback",type:"checkbox",placeholder:"",description:"Enable agentic fallback if primary fix fails",defaultValue:!0}]},[Te.SUBMIT_EXAMPLE]:{name:Te.SUBMIT_EXAMPLE,backendName:"fix",description:"Submit a successful fix as a few-shot example to PDD Cloud. Runs fix --loop --auto-submit with verification to iteratively fix and submit the example.",shortDescription:"Submit Example",icon:"",requiresPrompt:!0,requiresCode:!0,requiresTest:!0,options:[{name:"verification-program",type:"file",placeholder:"examples/calculator_example.py",description:"Verification program to check the fix (required). The example file typically serves as the verification program.",required:!0},{name:"max-attempts",type:"number",placeholder:"5",description:"Maximum fix attempts before giving up",defaultValue:5},{name:"budget",type:"number",placeholder:"10",description:"Maximum cost in dollars",defaultValue:10}]},[Te.SPLIT]:{name:Te.SPLIT,backendName:"split",description:"Split a large prompt file into smaller, manageable sub-prompts for better organization and modularity.",shortDescription:"Split Prompt",icon:"",requiresPrompt:!0,requiresCode:!0,isAdvanced:!0,options:[{name:"example-code",type:"file",placeholder:"examples/interface.py",description:"Example code as interface to sub-module",required:!0},{name:"output-sub",type:"file",placeholder:"prompts/sub_module.prompt",description:"Output path for the sub-prompt file"},{name:"output-modified",type:"file",placeholder:"prompts/modified.prompt",description:"Output path for the modified prompt file"}]},[Te.CHANGE]:{name:Te.CHANGE,backendName:"change",description:"Modify a prompt based on change instructions from a change prompt file.",shortDescription:"Change Prompt",icon:"",requiresPrompt:!0,requiresCode:!0,isAdvanced:!0,options:[{name:"change-prompt",type:"file",placeholder:"changes.prompt",description:"File containing change instructions",required:!0},{name:"budget",type:"number",placeholder:"5",description:"Maximum cost in dollars",defaultValue:"5"},{name:"output",type:"file",placeholder:"prompts/modified.prompt",description:"Output path for modified prompt"}]},[Te.DETECT]:{name:Te.DETECT,backendName:"detect",description:"Analyze prompts to determine which ones need changes based on a change description file.",shortDescription:"Detect Changes",icon:"",requiresPrompt:!1,isAdvanced:!0,options:[{name:"prompt-files",type:"text",placeholder:"file1.prompt, file2.prompt",description:"Comma-separated list of prompt files to analyze",required:!0},{name:"change-file",type:"file",placeholder:"changes.prompt",description:"File describing the changes to detect",required:!0},{name:"output",type:"file",placeholder:"detect_results.csv",description:"Output CSV file for analysis results"}]},[Te.AUTO_DEPS]:{name:Te.AUTO_DEPS,backendName:"auto-deps",description:"Analyze project dependencies and update the prompt file with discovered dependencies.",shortDescription:"Auto Dependencies",icon:"",requiresPrompt:!0,isAdvanced:!0,options:[{name:"directory-path",type:"text",placeholder:"src/",description:"Directory to scan for dependencies",required:!0},{name:"output",type:"file",placeholder:"prompts/updated.prompt",description:"Where to save modified prompt"},{name:"csv",type:"file",placeholder:"deps.csv",description:"CSV file for dependency info"},{name:"force-scan",type:"checkbox",placeholder:"",description:"Force rescan all files"}]},[Te.CONFLICTS]:{name:Te.CONFLICTS,backendName:"conflicts",description:"Check for conflicts between two prompt files.",shortDescription:"Check Conflicts",icon:"",requiresPrompt:!0,isAdvanced:!0,options:[{name:"prompt2",type:"file",placeholder:"prompts/other.prompt",description:"Second prompt file to compare",required:!0},{name:"output",type:"file",placeholder:"conflicts.csv",description:"Where to save conflict analysis"}]},[Te.PREPROCESS]:{name:Te.PREPROCESS,backendName:"preprocess",description:"Preprocess a prompt file to prepare it for LLM use.",shortDescription:"Preprocess",icon:"",requiresPrompt:!0,isAdvanced:!0,options:[{name:"output",type:"file",placeholder:"prompts/preprocessed.prompt",description:"Where to save preprocessed prompt"},{name:"xml",type:"checkbox",placeholder:"",description:"Insert XML delimiters for structure"},{name:"recursive",type:"checkbox",placeholder:"",description:"Recursively preprocess includes"},{name:"double",type:"checkbox",placeholder:"",description:"Double curly brackets"}]}},EY=[{value:"python",label:"Python"},{value:"typescript",label:"TypeScript"},{value:"javascript",label:"JavaScript"},{value:"java",label:"Java"},{value:"go",label:"Go"},{value:"rust",label:"Rust"}];function RY(t,e,n){const r=(n==null?void 0:n.trim())||`[describe what ${t} should do]`;return`Write a ${e} module "${t}" that ${r}.

## Requirements

- [Add your requirements here]

## Inputs

- [Define input parameters]

## Outputs

- [Define expected outputs]
`}var AY=WA();const E2=Symbol.for("yaml.alias"),uw=Symbol.for("yaml.document"),_a=Symbol.for("yaml.map"),IA=Symbol.for("yaml.pair"),Fs=Symbol.for("yaml.scalar"),yc=Symbol.for("yaml.seq"),es=Symbol.for("yaml.node.type"),za=t=>!!t&&typeof t=="object"&&t[es]===E2,Al=t=>!!t&&typeof t=="object"&&t[es]===uw,vc=t=>!!t&&typeof t=="object"&&t[es]===_a,Bt=t=>!!t&&typeof t=="object"&&t[es]===IA,qt=t=>!!t&&typeof t=="object"&&t[es]===Fs,Sc=t=>!!t&&typeof t=="object"&&t[es]===yc;function Ht(t){if(t&&typeof t=="object")switch(t[es]){case _a:case yc:return!0}return!1}function Kt(t){if(t&&typeof t=="object")switch(t[es]){case E2:case _a:case Fs:case yc:return!0}return!1}const HA=t=>(qt(t)||Ht(t))&&!!t.anchor,ar=Symbol("break visit"),FA=Symbol("skip children"),Gs=Symbol("remove node");function ql(t,e){const n=KA(e);Al(t)?Mo(null,t.contents,n,Object.freeze([t]))===Gs&&(t.contents=null):Mo(null,t,n,Object.freeze([]))}ql.BREAK=ar;ql.SKIP=FA;ql.REMOVE=Gs;function Mo(t,e,n,r){const s=JA(t,e,n,r);if(Kt(s)||Bt(s))return eq(t,r,s),Mo(t,s,n,r);if(typeof s!="symbol"){if(Ht(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const a=Mo(i,e.items[i],n,r);if(typeof a=="number")i=a-1;else{if(a===ar)return ar;a===Gs&&(e.items.splice(i,1),i-=1)}}}else if(Bt(e)){r=Object.freeze(r.concat(e));const i=Mo("key",e.key,n,r);if(i===ar)return ar;i===Gs&&(e.key=null);const a=Mo("value",e.value,n,r);if(a===ar)return ar;a===Gs&&(e.value=null)}}return s}async function Om(t,e){const n=KA(e);Al(t)?await zo(null,t.contents,n,Object.freeze([t]))===Gs&&(t.contents=null):await zo(null,t,n,Object.freeze([]))}Om.BREAK=ar;Om.SKIP=FA;Om.REMOVE=Gs;async function zo(t,e,n,r){const s=await JA(t,e,n,r);if(Kt(s)||Bt(s))return eq(t,r,s),zo(t,s,n,r);if(typeof s!="symbol"){if(Ht(e)){r=Object.freeze(r.concat(e));for(let i=0;i<e.items.length;++i){const a=await zo(i,e.items[i],n,r);if(typeof a=="number")i=a-1;else{if(a===ar)return ar;a===Gs&&(e.items.splice(i,1),i-=1)}}}else if(Bt(e)){r=Object.freeze(r.concat(e));const i=await zo("key",e.key,n,r);if(i===ar)return ar;i===Gs&&(e.key=null);const a=await zo("value",e.value,n,r);if(a===ar)return ar;a===Gs&&(e.value=null)}}return s}function KA(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function JA(t,e,n,r){var s,i,a,o,u;if(typeof n=="function")return n(t,e,r);if(vc(e))return(s=n.Map)==null?void 0:s.call(n,t,e,r);if(Sc(e))return(i=n.Seq)==null?void 0:i.call(n,t,e,r);if(Bt(e))return(a=n.Pair)==null?void 0:a.call(n,t,e,r);if(qt(e))return(o=n.Scalar)==null?void 0:o.call(n,t,e,r);if(za(e))return(u=n.Alias)==null?void 0:u.call(n,t,e,r)}function eq(t,e,n){const r=e[e.length-1];if(Ht(r))r.items[t]=n;else if(Bt(r))t==="key"?r.key=n:r.value=n;else if(Al(r))r.contents=n;else{const s=za(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}}const qY={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},XY=t=>t.replace(/[!,[\]{}]/g,e=>qY[e]);class Un{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Un.defaultYaml,e),this.tags=Object.assign({},Un.defaultTags,n)}clone(){const e=new Un(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Un(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Un.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Un.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:Un.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Un.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),s=r.shift();switch(s){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[i,a]=r;return this.tags[i]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[i]=r;if(i==="1.1"||i==="1.2")return this.yaml.version=i,!0;{const a=/^\d+\.\d+$/.test(i);return n(6,`Unsupported YAML version ${i}`,a),!1}}default:return n(0,`Unknown directive ${s}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const a=e.slice(2,-1);return a==="!"||a==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),a)}const[,r,s]=e.match(/^(.*!)([^!]*)$/s);s||n(`The ${e} tag has no suffix`);const i=this.tags[r];if(i)try{return i+decodeURIComponent(s)}catch(a){return n(String(a)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+XY(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let s;if(e&&r.length>0&&Kt(e.contents)){const i={};ql(e.contents,(a,o)=>{Kt(o)&&o.tag&&(i[o.tag]=!0)}),s=Object.keys(i)}else s=[];for(const[i,a]of r)i==="!!"&&a==="tag:yaml.org,2002:"||(!e||s.some(o=>o.startsWith(a)))&&n.push(`%TAG ${i} ${a}`);return n.join(`
`)}}Un.defaultYaml={explicit:!1,version:"1.2"};Un.defaultTags={"!!":"tag:yaml.org,2002:"};function tq(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function nq(t){const e=new Set;return ql(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function rq(t,e){for(let n=1;;++n){const r=`${t}${n}`;if(!e.has(r))return r}}function MY(t,e){const n=[],r=new Map;let s=null;return{onAnchor:i=>{n.push(i),s??(s=nq(t));const a=rq(e,s);return s.add(a),a},setAnchors:()=>{for(const i of n){const a=r.get(i);if(typeof a=="object"&&a.anchor&&(qt(a.node)||Ht(a.node)))a.node.anchor=a.anchor;else{const o=new Error("Failed to resolve repeated object (this should not happen)");throw o.source=i,o}}},sourceObjects:r}}function Zo(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let s=0,i=r.length;s<i;++s){const a=r[s],o=Zo(t,r,String(s),a);o===void 0?delete r[s]:o!==a&&(r[s]=o)}else if(r instanceof Map)for(const s of Array.from(r.keys())){const i=r.get(s),a=Zo(t,r,s,i);a===void 0?r.delete(s):a!==i&&r.set(s,a)}else if(r instanceof Set)for(const s of Array.from(r)){const i=Zo(t,r,s,s);i===void 0?r.delete(s):i!==s&&(r.delete(s),r.add(i))}else for(const[s,i]of Object.entries(r)){const a=Zo(t,r,s,i);a===void 0?delete r[s]:a!==i&&(r[s]=a)}return t.call(e,n,r)}function Kr(t,e,n){if(Array.isArray(t))return t.map((r,s)=>Kr(r,String(s),n));if(t&&typeof t.toJSON=="function"){if(!n||!HA(t))return t.toJSON(e,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=i=>{r.res=i,delete n.onCreate};const s=t.toJSON(e,n);return n.onCreate&&n.onCreate(s),s}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}class R2{constructor(e){Object.defineProperty(this,es,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:s,reviver:i}={}){if(!Al(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},o=Kr(this,"",a);if(typeof s=="function")for(const{count:u,res:f}of a.anchors.values())s(f,u);return typeof i=="function"?Zo(i,{"":o},"",o):o}}class gm extends R2{constructor(e){super(E2),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n!=null&&n.aliasResolveCache?r=n.aliasResolveCache:(r=[],ql(e,{Node:(i,a)=>{(za(a)||HA(a))&&r.push(a)}}),n&&(n.aliasResolveCache=r));let s;for(const i of r){if(i===this)break;i.anchor===this.source&&(s=i)}return s}toJSON(e,n){if(!n)return{source:this.source};const{anchors:r,doc:s,maxAliasCount:i}=n,a=this.resolve(s,n);if(!a){const u=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(u)}let o=r.get(a);if(o||(Kr(a,null,n),o=r.get(a)),(o==null?void 0:o.res)===void 0){const u="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(u)}if(i>=0&&(o.count+=1,o.aliasCount===0&&(o.aliasCount=np(s,a,r)),o.count*o.aliasCount>i)){const u="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(u)}return o.res}toString(e,n,r){const s=`*${this.source}`;if(e){if(tq(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${s} `}return s}}function np(t,e,n){if(za(e)){const r=e.resolve(t),s=n&&r&&n.get(r);return s?s.count*s.aliasCount:0}else if(Ht(e)){let r=0;for(const s of e.items){const i=np(t,s,n);i>r&&(r=i)}return r}else if(Bt(e)){const r=np(t,e.key,n),s=np(t,e.value,n);return Math.max(r,s)}return 1}const sq=t=>!t||typeof t!="function"&&typeof t!="object";class Ge extends R2{constructor(e){super(Fs),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:Kr(this.value,e,n)}toString(){return String(this.value)}}Ge.BLOCK_FOLDED="BLOCK_FOLDED";Ge.BLOCK_LITERAL="BLOCK_LITERAL";Ge.PLAIN="PLAIN";Ge.QUOTE_DOUBLE="QUOTE_DOUBLE";Ge.QUOTE_SINGLE="QUOTE_SINGLE";const zY="tag:yaml.org,2002:";function ZY(t,e,n){if(e){const r=n.filter(i=>i.tag===e),s=r.find(i=>!i.format)??r[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find(r=>{var s;return((s=r.identify)==null?void 0:s.call(r,t))&&!r.format})}function uf(t,e,n){var m,g,x;if(Al(t)&&(t=t.contents),Kt(t))return t;if(Bt(t)){const v=(g=(m=n.schema[_a]).createNode)==null?void 0:g.call(m,n.schema,null,n);return v.items.push(t),v}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:r,onAnchor:s,onTagObj:i,schema:a,sourceObjects:o}=n;let u;if(r&&t&&typeof t=="object"){if(u=o.get(t),u)return u.anchor??(u.anchor=s(t)),new gm(u.anchor);u={anchor:null,node:null},o.set(t,u)}e!=null&&e.startsWith("!!")&&(e=zY+e.slice(2));let f=ZY(t,e,a.tags);if(!f){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const v=new Ge(t);return u&&(u.node=v),v}f=t instanceof Map?a[_a]:Symbol.iterator in Object(t)?a[yc]:a[_a]}i&&(i(f),delete n.onTagObj);const p=f!=null&&f.createNode?f.createNode(n.schema,t,n):typeof((x=f==null?void 0:f.nodeClass)==null?void 0:x.from)=="function"?f.nodeClass.from(n.schema,t,n):new Ge(t);return e?p.tag=e:f.default||(p.tag=f.tag),u&&(u.node=p),p}function Qp(t,e,n){let r=n;for(let s=e.length-1;s>=0;--s){const i=e[s];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const a=[];a[i]=r,r=a}else r=new Map([[i,r]])}return uf(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Lu=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class iq extends R2{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Kt(r)||Bt(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Lu(e))this.add(n);else{const[r,...s]=e,i=this.get(r,!0);if(Ht(i))i.addIn(s,n);else if(i===void 0&&this.schema)this.set(r,Qp(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}deleteIn(e){const[n,...r]=e;if(r.length===0)return this.delete(n);const s=this.get(n,!0);if(Ht(s))return s.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){const[r,...s]=e,i=this.get(r,!0);return s.length===0?!n&&qt(i)?i.value:i:Ht(i)?i.getIn(s,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Bt(n))return!1;const r=n.value;return r==null||e&&qt(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[n,...r]=e;if(r.length===0)return this.has(n);const s=this.get(n,!0);return Ht(s)?s.hasIn(r):!1}setIn(e,n){const[r,...s]=e;if(s.length===0)this.set(r,n);else{const i=this.get(r,!0);if(Ht(i))i.setIn(s,n);else if(i===void 0&&this.schema)this.set(r,Qp(this.schema,s,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${s}`)}}}const LY=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ni(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const pl=(t,e,n)=>t.endsWith(`
`)?Ni(n,e):n.includes(`
`)?`
`+Ni(n,e):(t.endsWith(" ")?"":" ")+n,aq="flow",fw="block",rp="quoted";function xm(t,e,n="flow",{indentAtStart:r,lineWidth:s=80,minContentWidth:i=20,onFold:a,onOverflow:o}={}){if(!s||s<0)return t;s<i&&(i=0);const u=Math.max(1+i,1+s-e.length);if(t.length<=u)return t;const f=[],p={};let m=s-e.length;typeof r=="number"&&(r>s-Math.max(2,i)?f.push(0):m=s-r);let g,x,v=!1,y=-1,w=-1,Q=-1;n===fw&&(y=k_(t,y,e.length),y!==-1&&(m=y+u));for(let $;$=t[y+=1];){if(n===rp&&$==="\\"){switch(w=y,t[y+1]){case"x":y+=3;break;case"u":y+=5;break;case"U":y+=9;break;default:y+=1}Q=y}if($===`
`)n===fw&&(y=k_(t,y,e.length)),m=y+e.length+u,g=void 0;else{if($===" "&&x&&x!==" "&&x!==`
`&&x!=="	"){const _=t[y+1];_&&_!==" "&&_!==`
`&&_!=="	"&&(g=y)}if(y>=m)if(g)f.push(g),m=g+u,g=void 0;else if(n===rp){for(;x===" "||x==="	";)x=$,$=t[y+=1],v=!0;const _=y>Q+1?y-2:w-1;if(p[_])return t;f.push(_),p[_]=!0,m=_+u,g=void 0}else v=!0}x=$}if(v&&o&&o(),f.length===0)return t;a&&a();let k=t.slice(0,f[0]);for(let $=0;$<f.length;++$){const _=f[$],T=f[$+1]||t.length;_===0?k=`
${e}${t.slice(0,T)}`:(n===rp&&p[_]&&(k+=`${t[_]}\\`),k+=`
${e}${t.slice(_+1,T)}`)}return k}function k_(t,e,n){let r=e,s=e+1,i=t[s];for(;i===" "||i==="	";)if(e<s+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);r=e,s=e+1,i=t[s]}return r}const bm=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),ym=t=>/^(%|---|\.\.\.)/m.test(t);function YY(t,e,n){if(!e||e<0)return!1;const r=e-n,s=t.length;if(s<=r)return!1;for(let i=0,a=0;i<s;++i)if(t[i]===`
`){if(i-a>r)return!0;if(a=i+1,s-a<=r)return!1}return!0}function Ju(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=e,s=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(ym(t)?"  ":"");let a="",o=0;for(let u=0,f=n[u];f;f=n[++u])if(f===" "&&n[u+1]==="\\"&&n[u+2]==="n"&&(a+=n.slice(o,u)+"\\ ",u+=1,o=u,f="\\"),f==="\\")switch(n[u+1]){case"u":{a+=n.slice(o,u);const p=n.substr(u+2,4);switch(p){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:p.substr(0,2)==="00"?a+="\\x"+p.substr(2):a+=n.substr(u,6)}u+=5,o=u+1}break;case"n":if(r||n[u+2]==='"'||n.length<s)u+=1;else{for(a+=n.slice(o,u)+`

`;n[u+2]==="\\"&&n[u+3]==="n"&&n[u+4]!=='"';)a+=`
`,u+=2;a+=i,n[u+2]===" "&&(a+="\\"),u+=1,o=u+1}break;default:u+=1}return a=o?a+n.slice(o):n,r?a:xm(a,i,rp,bm(e,!1))}function dw(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Ju(t,e);const n=e.indent||(ym(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:xm(r,n,aq,bm(e,!1))}function Lo(t,e){const{singleQuote:n}=e.options;let r;if(n===!1)r=Ju;else{const s=t.includes('"'),i=t.includes("'");s&&!i?r=dw:i&&!s?r=Ju:r=n?dw:Ju}return r(t,e)}let hw;try{hw=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{hw=/\n+(?!\n|$)/g}function sp({comment:t,type:e,value:n},r,s,i){const{blockQuote:a,commentString:o,lineWidth:u}=r.options;if(!a||/\n[\t ]+$/.test(n))return Lo(n,r);const f=r.indent||(r.forceBlockIndent||ym(n)?"  ":""),p=a==="literal"?!0:a==="folded"||e===Ge.BLOCK_FOLDED?!1:e===Ge.BLOCK_LITERAL?!0:!YY(n,u,f.length);if(!n)return p?`|
`:`>
`;let m,g;for(g=n.length;g>0;--g){const T=n[g-1];if(T!==`
`&&T!=="	"&&T!==" ")break}let x=n.substring(g);const v=x.indexOf(`
`);v===-1?m="-":n===x||v!==x.length-1?(m="+",i&&i()):m="",x&&(n=n.slice(0,-x.length),x[x.length-1]===`
`&&(x=x.slice(0,-1)),x=x.replace(hw,`$&${f}`));let y=!1,w,Q=-1;for(w=0;w<n.length;++w){const T=n[w];if(T===" ")y=!0;else if(T===`
`)Q=w;else break}let k=n.substring(0,Q<w?Q+1:w);k&&(n=n.substring(k.length),k=k.replace(/\n+/g,`$&${f}`));let _=(y?f?"2":"1":"")+m;if(t&&(_+=" "+o(t.replace(/ ?[\r\n]+/g," ")),s&&s()),!p){const T=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);let N=!1;const C=bm(r,!0);a!=="folded"&&e!==Ge.BLOCK_FOLDED&&(C.onOverflow=()=>{N=!0});const q=xm(`${k}${T}${x}`,f,fw,C);if(!N)return`>${_}
${f}${q}`}return n=n.replace(/\n+/g,`$&${f}`),`|${_}
${f}${k}${n}${x}`}function VY(t,e,n,r){const{type:s,value:i}=t,{actualString:a,implicitKey:o,indent:u,indentStep:f,inFlow:p}=e;if(o&&i.includes(`
`)||p&&/[[\]{},]/.test(i))return Lo(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return o||p||!i.includes(`
`)?Lo(i,e):sp(t,e,n,r);if(!o&&!p&&s!==Ge.PLAIN&&i.includes(`
`))return sp(t,e,n,r);if(ym(i)){if(u==="")return e.forceBlockIndent=!0,sp(t,e,n,r);if(o&&u===f)return Lo(i,e)}const m=i.replace(/\n+/g,`$&
${u}`);if(a){const g=y=>{var w;return y.default&&y.tag!=="tag:yaml.org,2002:str"&&((w=y.test)==null?void 0:w.test(m))},{compat:x,tags:v}=e.doc.schema;if(v.some(g)||x!=null&&x.some(g))return Lo(i,e)}return o?m:xm(m,u,aq,bm(e,!1))}function zf(t,e,n,r){const{implicitKey:s,inFlow:i}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:o}=t;o!==Ge.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(o=Ge.QUOTE_DOUBLE);const u=p=>{switch(p){case Ge.BLOCK_FOLDED:case Ge.BLOCK_LITERAL:return s||i?Lo(a.value,e):sp(a,e,n,r);case Ge.QUOTE_DOUBLE:return Ju(a.value,e);case Ge.QUOTE_SINGLE:return dw(a.value,e);case Ge.PLAIN:return VY(a,e,n,r);default:return null}};let f=u(o);if(f===null){const{defaultKeyType:p,defaultStringType:m}=e.options,g=s&&p||m;if(f=u(g),f===null)throw new Error(`Unsupported default string type ${g}`)}return f}function lq(t,e){const n=Object.assign({blockQuote:!0,commentString:LY,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function DY(t,e){var s;if(e.tag){const i=t.filter(a=>a.tag===e.tag);if(i.length>0)return i.find(a=>a.format===e.format)??i[0]}let n,r;if(qt(e)){r=e.value;let i=t.filter(a=>{var o;return(o=a.identify)==null?void 0:o.call(a,r)});if(i.length>1){const a=i.filter(o=>o.test);a.length>0&&(i=a)}n=i.find(a=>a.format===e.format)??i.find(a=>!a.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){const i=((s=r==null?void 0:r.constructor)==null?void 0:s.name)??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function BY(t,e,{anchors:n,doc:r}){if(!r.directives)return"";const s=[],i=(qt(t)||Ht(t))&&t.anchor;i&&tq(i)&&(n.add(i),s.push(`&${i}`));const a=t.tag??(e.default?null:e.tag);return a&&s.push(r.directives.tagString(a)),s.join(" ")}function ic(t,e,n,r){var u;if(Bt(t))return t.toString(e,n,r);if(za(t)){if(e.doc.directives)return t.toString(e);if((u=e.resolvedAliases)!=null&&u.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let s;const i=Kt(t)?t:e.doc.createNode(t,{onTagObj:f=>s=f});s??(s=DY(e.doc.schema.tags,i));const a=BY(i,s,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const o=typeof s.stringify=="function"?s.stringify(i,e,n,r):qt(i)?zf(i,e,n,r):i.toString(e,n,r);return a?qt(i)||o[0]==="{"||o[0]==="["?`${a} ${o}`:`${a}
${e.indent}${o}`:o}function UY({key:t,value:e},n,r,s){const{allNullValues:i,doc:a,indent:o,indentStep:u,options:{commentString:f,indentSeq:p,simpleKeys:m}}=n;let g=Kt(t)&&t.comment||null;if(m){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(Ht(t)||!Kt(t)&&typeof t=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let x=!m&&(!t||g&&e==null&&!n.inFlow||Ht(t)||(qt(t)?t.type===Ge.BLOCK_FOLDED||t.type===Ge.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!x&&(m||!i),indent:o+u});let v=!1,y=!1,w=ic(t,n,()=>v=!0,()=>y=!0);if(!x&&!n.inFlow&&w.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");x=!0}if(n.inFlow){if(i||e==null)return v&&r&&r(),w===""?"?":x?`? ${w}`:w}else if(i&&!m||e==null&&x)return w=`? ${w}`,g&&!v?w+=pl(w,n.indent,f(g)):y&&s&&s(),w;v&&(g=null),x?(g&&(w+=pl(w,n.indent,f(g))),w=`? ${w}
${o}:`):(w=`${w}:`,g&&(w+=pl(w,n.indent,f(g))));let Q,k,$;Kt(e)?(Q=!!e.spaceBefore,k=e.commentBefore,$=e.comment):(Q=!1,k=null,$=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!x&&!g&&qt(e)&&(n.indentAtStart=w.length+1),y=!1,!p&&u.length>=2&&!n.inFlow&&!x&&Sc(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let _=!1;const T=ic(e,n,()=>_=!0,()=>y=!0);let N=" ";if(g||Q||k){if(N=Q?`
`:"",k){const C=f(k);N+=`
${Ni(C,n.indent)}`}T===""&&!n.inFlow?N===`
`&&$&&(N=`

`):N+=`
${n.indent}`}else if(!x&&Ht(e)){const C=T[0],q=T.indexOf(`
`),z=q!==-1,Z=n.inFlow??e.flow??e.items.length===0;if(z||!Z){let R=!1;if(z&&(C==="&"||C==="!")){let Y=T.indexOf(" ");C==="&"&&Y!==-1&&Y<q&&T[Y+1]==="!"&&(Y=T.indexOf(" ",Y+1)),(Y===-1||q<Y)&&(R=!0)}R||(N=`
${n.indent}`)}}else(T===""||T[0]===`
`)&&(N="");return w+=N+T,n.inFlow?_&&r&&r():$&&!_?w+=pl(w,n.indent,f($)):y&&s&&s(),w}function oq(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const gh="<<",Ai={identify:t=>t===gh||typeof t=="symbol"&&t.description===gh,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new Ge(Symbol(gh)),{addToJSMap:cq}),stringify:()=>gh},GY=(t,e)=>(Ai.identify(e)||qt(e)&&(!e.type||e.type===Ge.PLAIN)&&Ai.identify(e.value))&&(t==null?void 0:t.doc.schema.tags.some(n=>n.tag===Ai.tag&&n.default));function cq(t,e,n){if(n=t&&za(n)?n.resolve(t.doc):n,Sc(n))for(const r of n.items)_g(t,e,r);else if(Array.isArray(n))for(const r of n)_g(t,e,r);else _g(t,e,n)}function _g(t,e,n){const r=t&&za(n)?n.resolve(t.doc):n;if(!vc(r))throw new Error("Merge sources must be maps or map aliases");const s=r.toJSON(null,t,Map);for(const[i,a]of s)e instanceof Map?e.has(i)||e.set(i,a):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function uq(t,e,{key:n,value:r}){if(Kt(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(GY(t,n))cq(t,e,r);else{const s=Kr(n,"",t);if(e instanceof Map)e.set(s,Kr(r,s,t));else if(e instanceof Set)e.add(s);else{const i=WY(n,s,t),a=Kr(r,i,t);i in e?Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[i]=a}}return e}function WY(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Kt(t)&&(n!=null&&n.doc)){const r=lq(n.doc,{});r.anchors=new Set;for(const i of n.anchors.keys())r.anchors.add(i.anchor);r.inFlow=!0,r.inStringifyKey=!0;const s=t.toString(r);if(!n.mapKeyWarned){let i=JSON.stringify(s);i.length>40&&(i=i.substring(0,36)+'..."'),oq(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}function A2(t,e,n){const r=uf(t,void 0,n),s=uf(e,void 0,n);return new Yn(r,s)}class Yn{constructor(e,n=null){Object.defineProperty(this,es,{value:IA}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Kt(n)&&(n=n.clone(e)),Kt(r)&&(r=r.clone(e)),new Yn(n,r)}toJSON(e,n){const r=n!=null&&n.mapAsMap?new Map:{};return uq(n,r,this)}toString(e,n,r){return e!=null&&e.doc?UY(this,e,n,r):JSON.stringify(this)}}function fq(t,e,n){return(e.inFlow??t.flow?HY:IY)(t,e,n)}function IY({comment:t,items:e},n,{blockItemPrefix:r,flowChars:s,itemIndent:i,onChompKeep:a,onComment:o}){const{indent:u,options:{commentString:f}}=n,p=Object.assign({},n,{indent:i,type:null});let m=!1;const g=[];for(let v=0;v<e.length;++v){const y=e[v];let w=null;if(Kt(y))!m&&y.spaceBefore&&g.push(""),kp(n,g,y.commentBefore,m),y.comment&&(w=y.comment);else if(Bt(y)){const k=Kt(y.key)?y.key:null;k&&(!m&&k.spaceBefore&&g.push(""),kp(n,g,k.commentBefore,m))}m=!1;let Q=ic(y,p,()=>w=null,()=>m=!0);w&&(Q+=pl(Q,i,f(w))),m&&w&&(m=!1),g.push(r+Q)}let x;if(g.length===0)x=s.start+s.end;else{x=g[0];for(let v=1;v<g.length;++v){const y=g[v];x+=y?`
${u}${y}`:`
`}}return t?(x+=`
`+Ni(f(t),u),o&&o()):m&&a&&a(),x}function HY({items:t},e,{flowChars:n,itemIndent:r}){const{indent:s,indentStep:i,flowCollectionPadding:a,options:{commentString:o}}=e;r+=i;const u=Object.assign({},e,{indent:r,inFlow:!0,type:null});let f=!1,p=0;const m=[];for(let v=0;v<t.length;++v){const y=t[v];let w=null;if(Kt(y))y.spaceBefore&&m.push(""),kp(e,m,y.commentBefore,!1),y.comment&&(w=y.comment);else if(Bt(y)){const k=Kt(y.key)?y.key:null;k&&(k.spaceBefore&&m.push(""),kp(e,m,k.commentBefore,!1),k.comment&&(f=!0));const $=Kt(y.value)?y.value:null;$?($.comment&&(w=$.comment),$.commentBefore&&(f=!0)):y.value==null&&(k!=null&&k.comment)&&(w=k.comment)}w&&(f=!0);let Q=ic(y,u,()=>w=null);v<t.length-1&&(Q+=","),w&&(Q+=pl(Q,r,o(w))),!f&&(m.length>p||Q.includes(`
`))&&(f=!0),m.push(Q),p=m.length}const{start:g,end:x}=n;if(m.length===0)return g+x;if(!f){const v=m.reduce((y,w)=>y+w.length+2,2);f=e.options.lineWidth>0&&v>e.options.lineWidth}if(f){let v=g;for(const y of m)v+=y?`
${i}${s}${y}`:`
`;return`${v}
${s}${x}`}else return`${g}${a}${m.join(" ")}${a}${x}`}function kp({indent:t,options:{commentString:e}},n,r,s){if(r&&s&&(r=r.replace(/^\n+/,"")),r){const i=Ni(e(r),t);n.push(i.trimStart())}}function ml(t,e){const n=qt(e)?e.value:e;for(const r of t)if(Bt(r)&&(r.key===e||r.key===n||qt(r.key)&&r.key.value===n))return r}class Pr extends iq{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(_a,e),this.items=[]}static from(e,n,r){const{keepUndefined:s,replacer:i}=r,a=new this(e),o=(u,f)=>{if(typeof i=="function")f=i.call(n,u,f);else if(Array.isArray(i)&&!i.includes(u))return;(f!==void 0||s)&&a.items.push(A2(u,f,r))};if(n instanceof Map)for(const[u,f]of n)o(u,f);else if(n&&typeof n=="object")for(const u of Object.keys(n))o(u,n[u]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){var a;let r;Bt(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Yn(e,e==null?void 0:e.value):r=new Yn(e.key,e.value);const s=ml(this.items,r.key),i=(a=this.schema)==null?void 0:a.sortMapEntries;if(s){if(!n)throw new Error(`Key ${r.key} already set`);qt(s.value)&&sq(r.value)?s.value.value=r.value:s.value=r.value}else if(i){const o=this.items.findIndex(u=>i(r,u)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){const n=ml(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const r=ml(this.items,e),s=r==null?void 0:r.value;return(!n&&qt(s)?s.value:s)??void 0}has(e){return!!ml(this.items,e)}set(e,n){this.add(new Yn(e,n),!0)}toJSON(e,n,r){const s=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items)uq(n,s,i);return s}toString(e,n,r){if(!e)return JSON.stringify(this);for(const s of this.items)if(!Bt(s))throw new Error(`Map items must all be pairs; found ${JSON.stringify(s)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),fq(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}}const wc={collection:"map",default:!0,nodeClass:Pr,tag:"tag:yaml.org,2002:map",resolve(t,e){return vc(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>Pr.from(t,e,n)};class Na extends iq{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(yc,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=xh(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const r=xh(e);if(typeof r!="number")return;const s=this.items[r];return!n&&qt(s)?s.value:s}has(e){const n=xh(e);return typeof n=="number"&&n<this.items.length}set(e,n){const r=xh(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[r];qt(s)&&sq(n)?s.value=n:this.items[r]=n}toJSON(e,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let s=0;for(const i of this.items)r.push(Kr(i,String(s++),n));return r}toString(e,n,r){return e?fq(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let o of n){if(typeof s=="function"){const u=n instanceof Set?o:String(a++);o=s.call(n,u,o)}i.items.push(uf(o,void 0,r))}}return i}}function xh(t){let e=qt(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}const Qc={collection:"seq",default:!0,nodeClass:Na,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Sc(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>Na.from(t,e,n)},vm={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),zf(t,e,n,r)}},Sm={identify:t=>t==null,createNode:()=>new Ge(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Ge(null),stringify:({source:t},e)=>typeof t=="string"&&Sm.test.test(t)?t:e.options.nullStr},q2={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new Ge(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&q2.test.test(t)){const r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};function Ts({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);const s=typeof r=="number"?r:Number(r);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";let i=Object.is(r,-0)?"-0":JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(i)){let a=i.indexOf(".");a<0&&(a=i.length,i+=".");let o=e-(i.length-a-1);for(;o-- >0;)i+="0"}return i}const dq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ts},hq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ts(t)}},pq={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new Ge(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Ts},wm=t=>typeof t=="bigint"||Number.isInteger(t),X2=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function mq(t,e,n){const{value:r}=t;return wm(r)&&r>=0?n+r.toString(e):Ts(t)}const Oq={identify:t=>wm(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>X2(t,2,8,n),stringify:t=>mq(t,8,"0o")},gq={identify:wm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>X2(t,0,10,n),stringify:Ts},xq={identify:t=>wm(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>X2(t,2,16,n),stringify:t=>mq(t,16,"0x")},FY=[wc,Qc,vm,Sm,q2,Oq,gq,xq,dq,hq,pq];function $_(t){return typeof t=="bigint"||Number.isInteger(t)}const bh=({value:t})=>JSON.stringify(t),KY=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:bh},{identify:t=>t==null,createNode:()=>new Ge(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:bh},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:bh},{identify:$_,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>$_(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:bh}],JY={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},eV=[wc,Qc].concat(KY,JY),M2={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let s=0;s<n.length;++s)r[s]=n.charCodeAt(s);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,s,i){if(!n)return"";const a=n;let o;if(typeof btoa=="function"){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);o=btoa(u)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Ge.BLOCK_LITERAL),e!==Ge.QUOTE_DOUBLE){const u=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),f=Math.ceil(o.length/u),p=new Array(f);for(let m=0,g=0;m<f;++m,g+=u)p[m]=o.substr(g,u);o=p.join(e===Ge.BLOCK_LITERAL?`
`:" ")}return zf({comment:t,type:e,value:o},r,s,i)}};function bq(t,e){if(Sc(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Bt(r)){if(vc(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");const s=r.items[0]||new Yn(new Ge(null));if(r.commentBefore&&(s.key.commentBefore=s.key.commentBefore?`${r.commentBefore}
${s.key.commentBefore}`:r.commentBefore),r.comment){const i=s.value??s.key;i.comment=i.comment?`${r.comment}
${i.comment}`:r.comment}r=s}t.items[n]=Bt(r)?r:new Yn(r)}}else e("Expected a sequence for this tag");return t}function yq(t,e,n){const{replacer:r}=n,s=new Na(t);s.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof r=="function"&&(a=r.call(e,String(i++),a));let o,u;if(Array.isArray(a))if(a.length===2)o=a[0],u=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const f=Object.keys(a);if(f.length===1)o=f[0],u=a[o];else throw new TypeError(`Expected tuple with one key, not ${f.length} keys`)}else o=a;s.items.push(A2(o,u,n))}return s}const z2={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:bq,createNode:yq};class Go extends Na{constructor(){super(),this.add=Pr.prototype.add.bind(this),this.delete=Pr.prototype.delete.bind(this),this.get=Pr.prototype.get.bind(this),this.has=Pr.prototype.has.bind(this),this.set=Pr.prototype.set.bind(this),this.tag=Go.tag}toJSON(e,n){if(!n)return super.toJSON(e);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const s of this.items){let i,a;if(Bt(s)?(i=Kr(s.key,"",n),a=Kr(s.value,i,n)):i=Kr(s,"",n),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,a)}return r}static from(e,n,r){const s=yq(e,n,r),i=new this;return i.items=s.items,i}}Go.tag="tag:yaml.org,2002:omap";const Z2={collection:"seq",identify:t=>t instanceof Map,nodeClass:Go,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=bq(t,e),r=[];for(const{key:s}of n.items)qt(s)&&(r.includes(s.value)?e(`Ordered maps must not include duplicate keys: ${s.value}`):r.push(s.value));return Object.assign(new Go,n)},createNode:(t,e,n)=>Go.from(t,e,n)};function vq({value:t,source:e},n){return e&&(t?Sq:wq).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Sq={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Ge(!0),stringify:vq},wq={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new Ge(!1),stringify:vq},tV={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ts},nV={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():Ts(t)}},rV={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new Ge(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:Ts},Zf=t=>typeof t=="bigint"||Number.isInteger(t);function Qm(t,e,n,{intAsBigInt:r}){const s=t[0];if((s==="-"||s==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const a=BigInt(t);return s==="-"?BigInt(-1)*a:a}const i=parseInt(t,n);return s==="-"?-1*i:i}function L2(t,e,n){const{value:r}=t;if(Zf(r)){const s=r.toString(e);return r<0?"-"+n+s.substr(1):n+s}return Ts(t)}const sV={identify:Zf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Qm(t,2,2,n),stringify:t=>L2(t,2,"0b")},iV={identify:Zf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Qm(t,1,8,n),stringify:t=>L2(t,8,"0")},aV={identify:Zf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Qm(t,0,10,n),stringify:Ts},lV={identify:Zf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Qm(t,2,16,n),stringify:t=>L2(t,16,"0x")};class Wo extends Pr{constructor(e){super(e),this.tag=Wo.tag}add(e){let n;Bt(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Yn(e.key,null):n=new Yn(e,null),ml(this.items,n.key)||this.items.push(n)}get(e,n){const r=ml(this.items,e);return!n&&Bt(r)?qt(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=ml(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Yn(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){const{replacer:s}=r,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof s=="function"&&(a=s.call(n,a,a)),i.items.push(A2(a,null,r));return i}}Wo.tag="tag:yaml.org,2002:set";const Y2={collection:"map",identify:t=>t instanceof Set,nodeClass:Wo,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>Wo.from(t,e,n),resolve(t,e){if(vc(t)){if(t.hasAllNullValues(!0))return Object.assign(new Wo,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};function V2(t,e){const n=t[0],r=n==="-"||n==="+"?t.substring(1):t,s=a=>e?BigInt(a):Number(a),i=r.replace(/_/g,"").split(":").reduce((a,o)=>a*s(60)+s(o),s(0));return n==="-"?s(-1)*i:i}function Qq(t){let{value:e}=t,n=a=>a;if(typeof e=="bigint")n=a=>BigInt(a);else if(isNaN(e)||!isFinite(e))return Ts(t);let r="";e<0&&(r="-",e*=n(-1));const s=n(60),i=[e%s];return e<60?i.unshift(0):(e=(e-i[0])/s,i.unshift(e%s),e>=60&&(e=(e-i[0])/s,i.unshift(e))),r+i.map(a=>String(a).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const kq={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>V2(t,n),stringify:Qq},$q={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>V2(t,!1),stringify:Qq},km={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(km.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,s,i,a,o]=e.map(Number),u=e[7]?Number((e[7]+"00").substr(1,3)):0;let f=Date.UTC(n,r-1,s,i||0,a||0,o||0,u);const p=e[8];if(p&&p!=="Z"){let m=V2(p,!1);Math.abs(m)<30&&(m*=60),f-=6e4*m}return new Date(f)},stringify:({value:t})=>(t==null?void 0:t.toISOString().replace(/(T00:00:00)?\.000Z$/,""))??""},T_=[wc,Qc,vm,Sm,Sq,wq,sV,iV,aV,lV,tV,nV,rV,M2,Ai,Z2,z2,Y2,kq,$q,km],__=new Map([["core",FY],["failsafe",[wc,Qc,vm]],["json",eV],["yaml11",T_],["yaml-1.1",T_]]),P_={binary:M2,bool:q2,float:pq,floatExp:hq,floatNaN:dq,floatTime:$q,int:gq,intHex:xq,intOct:Oq,intTime:kq,map:wc,merge:Ai,null:Sm,omap:Z2,pairs:z2,seq:Qc,set:Y2,timestamp:km},oV={"tag:yaml.org,2002:binary":M2,"tag:yaml.org,2002:merge":Ai,"tag:yaml.org,2002:omap":Z2,"tag:yaml.org,2002:pairs":z2,"tag:yaml.org,2002:set":Y2,"tag:yaml.org,2002:timestamp":km};function Pg(t,e,n){const r=__.get(e);if(r&&!t)return n&&!r.includes(Ai)?r.concat(Ai):r.slice();let s=r;if(!s)if(Array.isArray(t))s=[];else{const i=Array.from(__.keys()).filter(a=>a!=="yaml11").map(a=>JSON.stringify(a)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(const i of t)s=s.concat(i);else typeof t=="function"&&(s=t(s.slice()));return n&&(s=s.concat(Ai)),s.reduce((i,a)=>{const o=typeof a=="string"?P_[a]:a;if(!o){const u=JSON.stringify(a),f=Object.keys(P_).map(p=>JSON.stringify(p)).join(", ");throw new Error(`Unknown custom tag ${u}; use one of ${f}`)}return i.includes(o)||i.push(o),i},[])}const cV=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;let Tq=class _q{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:s,schema:i,sortMapEntries:a,toStringDefaults:o}){this.compat=Array.isArray(e)?Pg(e,"compat"):e?Pg(null,e):null,this.name=typeof i=="string"&&i||"core",this.knownTags=s?oV:{},this.tags=Pg(n,this.name,r),this.toStringOptions=o??null,Object.defineProperty(this,_a,{value:wc}),Object.defineProperty(this,Fs,{value:vm}),Object.defineProperty(this,yc,{value:Qc}),this.sortMapEntries=typeof a=="function"?a:a===!0?cV:null}clone(){const e=Object.create(_q.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};function uV(t,e){var u;const n=[];let r=e.directives===!0;if(e.directives!==!1&&t.directives){const f=t.directives.toString(t);f?(n.push(f),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");const s=lq(t,e),{commentString:i}=s.options;if(t.commentBefore){n.length!==1&&n.unshift("");const f=i(t.commentBefore);n.unshift(Ni(f,""))}let a=!1,o=null;if(t.contents){if(Kt(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){const m=i(t.contents.commentBefore);n.push(Ni(m,""))}s.forceBlockIndent=!!t.comment,o=t.contents.comment}const f=o?void 0:()=>a=!0;let p=ic(t.contents,s,()=>o=null,f);o&&(p+=pl(p,"",i(o))),(p[0]==="|"||p[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${p}`:n.push(p)}else n.push(ic(t.contents,s));if((u=t.directives)!=null&&u.docEnd)if(t.comment){const f=i(t.comment);f.includes(`
`)?(n.push("..."),n.push(Ni(f,""))):n.push(`... ${f}`)}else n.push("...");else{let f=t.comment;f&&a&&(f=f.replace(/^\n+/,"")),f&&((!a||o)&&n[n.length-1]!==""&&n.push(""),n.push(Ni(i(f),"")))}return n.join(`
`)+`
`}class kc{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,es,{value:uw});let s=null;typeof n=="function"||Array.isArray(n)?s=n:r===void 0&&n&&(r=n,n=void 0);const i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:a}=i;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new Un({version:a}),this.setSchema(a,r),this.contents=e===void 0?null:this.createNode(e,s,r)}clone(){const e=Object.create(kc.prototype,{[es]:{value:uw}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Kt(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){No(this.contents)&&this.contents.add(e)}addIn(e,n){No(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const r=nq(this);e.anchor=!n||r.has(n)?rq(n||"a",r):n}return new gm(e.anchor)}createNode(e,n,r){let s;if(typeof n=="function")e=n.call({"":e},"",e),s=n;else if(Array.isArray(n)){const w=k=>typeof k=="number"||k instanceof String||k instanceof Number,Q=n.filter(w).map(String);Q.length>0&&(n=n.concat(Q)),s=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:i,anchorPrefix:a,flow:o,keepUndefined:u,onTagObj:f,tag:p}=r??{},{onAnchor:m,setAnchors:g,sourceObjects:x}=MY(this,a||"a"),v={aliasDuplicateObjects:i??!0,keepUndefined:u??!1,onAnchor:m,onTagObj:f,replacer:s,schema:this.schema,sourceObjects:x},y=uf(e,p,v);return o&&Ht(y)&&(y.flow=!0),g(),y}createPair(e,n,r={}){const s=this.createNode(e,null,r),i=this.createNode(n,null,r);return new Yn(s,i)}delete(e){return No(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Lu(e)?this.contents==null?!1:(this.contents=null,!0):No(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Ht(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Lu(e)?!n&&qt(this.contents)?this.contents.value:this.contents:Ht(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Ht(this.contents)?this.contents.has(e):!1}hasIn(e){return Lu(e)?this.contents!==void 0:Ht(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Qp(this.schema,[e],n):No(this.contents)&&this.contents.set(e,n)}setIn(e,n){Lu(e)?this.contents=n:this.contents==null?this.contents=Qp(this.schema,Array.from(e),n):No(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Un({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Un({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const s=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${s}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new Tq(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:s,onAnchor:i,reviver:a}={}){const o={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},u=Kr(this.contents,n??"",o);if(typeof i=="function")for(const{count:f,res:p}of o.anchors.values())i(p,f);return typeof a=="function"?Zo(a,{"":u},"",u):u}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return uV(this,e)}}function No(t){if(Ht(t))return!0;throw new Error("Expected a YAML collection as document contents")}class D2 extends Error{constructor(e,n,r,s){super(),this.name=e,this.code=r,this.message=s,this.pos=n}}class Ol extends D2{constructor(e,n,r){super("YAMLParseError",e,n,r)}}class Pq extends D2{constructor(e,n,r){super("YAMLWarning",e,n,r)}}const $p=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(o=>e.linePos(o));const{line:r,col:s}=n.linePos[0];n.message+=` at line ${r}, column ${s}`;let i=s-1,a=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(i>=60&&a.length>80){const o=Math.min(i-39,a.length-79);a=""+a.substring(o),i-=o-1}if(a.length>80&&(a=a.substring(0,79)+""),r>1&&/^ *$/.test(a.substring(0,i))){let o=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);o.length>80&&(o=o.substring(0,79)+`
`),a=o+a}if(/[^ ]/.test(a)){let o=1;const u=n.linePos[1];(u==null?void 0:u.line)===r&&u.col>s&&(o=Math.max(1,Math.min(u.col-s,80-i)));const f=" ".repeat(i)+"^".repeat(o);n.message+=`:

${a}
${f}
`}};function ac(t,{flow:e,indicator:n,next:r,offset:s,onError:i,parentIndent:a,startOnNewline:o}){let u=!1,f=o,p=o,m="",g="",x=!1,v=!1,y=null,w=null,Q=null,k=null,$=null,_=null,T=null;for(const q of t)switch(v&&(q.type!=="space"&&q.type!=="newline"&&q.type!=="comma"&&i(q.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),y&&(f&&q.type!=="comment"&&q.type!=="newline"&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),y=null),q.type){case"space":!e&&(n!=="doc-start"||(r==null?void 0:r.type)!=="flow-collection")&&q.source.includes("	")&&(y=q),p=!0;break;case"comment":{p||i(q,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const z=q.source.substring(1)||" ";m?m+=g+z:m=z,g="",f=!1;break}case"newline":f?m?m+=q.source:(!_||n!=="seq-item-ind")&&(u=!0):g+=q.source,f=!0,x=!0,(w||Q)&&(k=q),p=!0;break;case"anchor":w&&i(q,"MULTIPLE_ANCHORS","A node can have at most one anchor"),q.source.endsWith(":")&&i(q.offset+q.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),w=q,T??(T=q.offset),f=!1,p=!1,v=!0;break;case"tag":{Q&&i(q,"MULTIPLE_TAGS","A node can have at most one tag"),Q=q,T??(T=q.offset),f=!1,p=!1,v=!0;break}case n:(w||Q)&&i(q,"BAD_PROP_ORDER",`Anchors and tags must be after the ${q.source} indicator`),_&&i(q,"UNEXPECTED_TOKEN",`Unexpected ${q.source} in ${e??"collection"}`),_=q,f=n==="seq-item-ind"||n==="explicit-key-ind",p=!1;break;case"comma":if(e){$&&i(q,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),$=q,f=!1,p=!1;break}default:i(q,"UNEXPECTED_TOKEN",`Unexpected ${q.type} token`),f=!1,p=!1}const N=t[t.length-1],C=N?N.offset+N.source.length:s;return v&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&i(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y&&(f&&y.indent<=a||(r==null?void 0:r.type)==="block-map"||(r==null?void 0:r.type)==="block-seq")&&i(y,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:$,found:_,spaceBefore:u,comment:m,hasNewline:x,anchor:w,tag:Q,newlineAfterProp:k,end:C,start:T??C}}function ff(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(const e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(const e of t.items){for(const n of e.start)if(n.type==="newline")return!0;if(e.sep){for(const n of e.sep)if(n.type==="newline")return!0}if(ff(e.key)||ff(e.value))return!0}return!1;default:return!0}}function pw(t,e,n){if((e==null?void 0:e.type)==="flow-collection"){const r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&ff(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function jq(t,e,n){const{uniqueKeys:r}=t.options;if(r===!1)return!1;const s=typeof r=="function"?r:(i,a)=>i===a||qt(i)&&qt(a)&&i.value===a.value;return e.some(i=>s(i.key,n))}const j_="All mapping items must start at the same column";function fV({composeNode:t,composeEmptyNode:e},n,r,s,i){var p;const a=(i==null?void 0:i.nodeClass)??Pr,o=new a(n.schema);n.atRoot&&(n.atRoot=!1);let u=r.offset,f=null;for(const m of r.items){const{start:g,key:x,sep:v,value:y}=m,w=ac(g,{indicator:"explicit-key-ind",next:x??(v==null?void 0:v[0]),offset:u,onError:s,parentIndent:r.indent,startOnNewline:!0}),Q=!w.found;if(Q){if(x&&(x.type==="block-seq"?s(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in x&&x.indent!==r.indent&&s(u,"BAD_INDENT",j_)),!w.anchor&&!w.tag&&!v){f=w.end,w.comment&&(o.comment?o.comment+=`
`+w.comment:o.comment=w.comment);continue}(w.newlineAfterProp||ff(x))&&s(x??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((p=w.found)==null?void 0:p.indent)!==r.indent&&s(u,"BAD_INDENT",j_);n.atKey=!0;const k=w.end,$=x?t(n,x,w,s):e(n,k,g,null,w,s);n.schema.compat&&pw(r.indent,x,s),n.atKey=!1,jq(n,o.items,$)&&s(k,"DUPLICATE_KEY","Map keys must be unique");const _=ac(v??[],{indicator:"map-value-ind",next:y,offset:$.range[2],onError:s,parentIndent:r.indent,startOnNewline:!x||x.type==="block-scalar"});if(u=_.end,_.found){Q&&((y==null?void 0:y.type)==="block-map"&&!_.hasNewline&&s(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&w.start<_.found.offset-1024&&s($.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const T=y?t(n,y,_,s):e(n,u,v,null,_,s);n.schema.compat&&pw(r.indent,y,s),u=T.range[2];const N=new Yn($,T);n.options.keepSourceTokens&&(N.srcToken=m),o.items.push(N)}else{Q&&s($.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),_.comment&&($.comment?$.comment+=`
`+_.comment:$.comment=_.comment);const T=new Yn($);n.options.keepSourceTokens&&(T.srcToken=m),o.items.push(T)}}return f&&f<u&&s(f,"IMPOSSIBLE","Map comment with trailing content"),o.range=[r.offset,u,f??u],o}function dV({composeNode:t,composeEmptyNode:e},n,r,s,i){const a=(i==null?void 0:i.nodeClass)??Na,o=new a(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let u=r.offset,f=null;for(const{start:p,value:m}of r.items){const g=ac(p,{indicator:"seq-item-ind",next:m,offset:u,onError:s,parentIndent:r.indent,startOnNewline:!0});if(!g.found)if(g.anchor||g.tag||m)(m==null?void 0:m.type)==="block-seq"?s(g.end,"BAD_INDENT","All sequence items must start at the same column"):s(u,"MISSING_CHAR","Sequence item without - indicator");else{f=g.end,g.comment&&(o.comment=g.comment);continue}const x=m?t(n,m,g,s):e(n,g.end,p,null,g,s);n.schema.compat&&pw(r.indent,m,s),u=x.range[2],o.items.push(x)}return o.range=[r.offset,u,f??u],o}function Lf(t,e,n,r){let s="";if(t){let i=!1,a="";for(const o of t){const{source:u,type:f}=o;switch(f){case"space":i=!0;break;case"comment":{n&&!i&&r(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const p=u.substring(1)||" ";s?s+=a+p:s=p,a="";break}case"newline":s&&(a+=u),i=!0;break;default:r(o,"UNEXPECTED_TOKEN",`Unexpected ${f} at node end`)}e+=u.length}}return{comment:s,offset:e}}const jg="Block collections are not allowed within flow collections",Ng=t=>t&&(t.type==="block-map"||t.type==="block-seq");function hV({composeNode:t,composeEmptyNode:e},n,r,s,i){var w;const a=r.start.source==="{",o=a?"flow map":"flow sequence",u=(i==null?void 0:i.nodeClass)??(a?Pr:Na),f=new u(n.schema);f.flow=!0;const p=n.atRoot;p&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let m=r.offset+r.start.source.length;for(let Q=0;Q<r.items.length;++Q){const k=r.items[Q],{start:$,key:_,sep:T,value:N}=k,C=ac($,{flow:o,indicator:"explicit-key-ind",next:_??(T==null?void 0:T[0]),offset:m,onError:s,parentIndent:r.indent,startOnNewline:!1});if(!C.found){if(!C.anchor&&!C.tag&&!T&&!N){Q===0&&C.comma?s(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):Q<r.items.length-1&&s(C.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),C.comment&&(f.comment?f.comment+=`
`+C.comment:f.comment=C.comment),m=C.end;continue}!a&&n.options.strict&&ff(_)&&s(_,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(Q===0)C.comma&&s(C.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(C.comma||s(C.start,"MISSING_CHAR",`Missing , between ${o} items`),C.comment){let q="";e:for(const z of $)switch(z.type){case"comma":case"space":break;case"comment":q=z.source.substring(1);break e;default:break e}if(q){let z=f.items[f.items.length-1];Bt(z)&&(z=z.value??z.key),z.comment?z.comment+=`
`+q:z.comment=q,C.comment=C.comment.substring(q.length+1)}}if(!a&&!T&&!C.found){const q=N?t(n,N,C,s):e(n,C.end,T,null,C,s);f.items.push(q),m=q.range[2],Ng(N)&&s(q.range,"BLOCK_IN_FLOW",jg)}else{n.atKey=!0;const q=C.end,z=_?t(n,_,C,s):e(n,q,$,null,C,s);Ng(_)&&s(z.range,"BLOCK_IN_FLOW",jg),n.atKey=!1;const Z=ac(T??[],{flow:o,indicator:"map-value-ind",next:N,offset:z.range[2],onError:s,parentIndent:r.indent,startOnNewline:!1});if(Z.found){if(!a&&!C.found&&n.options.strict){if(T)for(const L of T){if(L===Z.found)break;if(L.type==="newline"){s(L,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}C.start<Z.found.offset-1024&&s(Z.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else N&&("source"in N&&((w=N.source)==null?void 0:w[0])===":"?s(N,"MISSING_CHAR",`Missing space after : in ${o}`):s(Z.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const R=N?t(n,N,Z,s):Z.found?e(n,Z.end,T,null,Z,s):null;R?Ng(N)&&s(R.range,"BLOCK_IN_FLOW",jg):Z.comment&&(z.comment?z.comment+=`
`+Z.comment:z.comment=Z.comment);const Y=new Yn(z,R);if(n.options.keepSourceTokens&&(Y.srcToken=k),a){const L=f;jq(n,L.items,z)&&s(q,"DUPLICATE_KEY","Map keys must be unique"),L.items.push(Y)}else{const L=new Pr(n.schema);L.flow=!0,L.items.push(Y);const E=(R??z).range;L.range=[z.range[0],E[1],E[2]],f.items.push(L)}m=R?R.range[2]:Z.end}}const g=a?"}":"]",[x,...v]=r.end;let y=m;if((x==null?void 0:x.source)===g)y=x.offset+x.source.length;else{const Q=o[0].toUpperCase()+o.substring(1),k=p?`${Q} must end with a ${g}`:`${Q} in block collection must be sufficiently indented and end with a ${g}`;s(m,p?"MISSING_CHAR":"BAD_INDENT",k),x&&x.source.length!==1&&v.unshift(x)}if(v.length>0){const Q=Lf(v,y,n.options.strict,s);Q.comment&&(f.comment?f.comment+=`
`+Q.comment:f.comment=Q.comment),f.range=[r.offset,y,Q.offset]}else f.range=[r.offset,y,y];return f}function Cg(t,e,n,r,s,i){const a=n.type==="block-map"?fV(t,e,n,r,i):n.type==="block-seq"?dV(t,e,n,r,i):hV(t,e,n,r,i),o=a.constructor;return s==="!"||s===o.tagName?(a.tag=o.tagName,a):(s&&(a.tag=s),a)}function pV(t,e,n,r,s){var g;const i=r.tag,a=i?e.directives.tagName(i.source,x=>s(i,"TAG_RESOLVE_FAILED",x)):null;if(n.type==="block-seq"){const{anchor:x,newlineAfterProp:v}=r,y=x&&i?x.offset>i.offset?x:i:x??i;y&&(!v||v.offset<y.offset)&&s(y,"MISSING_CHAR","Missing newline after block sequence props")}const o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!a||a==="!"||a===Pr.tagName&&o==="map"||a===Na.tagName&&o==="seq")return Cg(t,e,n,s,a);let u=e.schema.tags.find(x=>x.tag===a&&x.collection===o);if(!u){const x=e.schema.knownTags[a];if((x==null?void 0:x.collection)===o)e.schema.tags.push(Object.assign({},x,{default:!1})),u=x;else return x?s(i,"BAD_COLLECTION_TYPE",`${x.tag} used for ${o} collection, but expects ${x.collection??"scalar"}`,!0):s(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${a}`,!0),Cg(t,e,n,s,a)}const f=Cg(t,e,n,s,a,u),p=((g=u.resolve)==null?void 0:g.call(u,f,x=>s(i,"TAG_RESOLVE_FAILED",x),e.options))??f,m=Kt(p)?p:new Ge(p);return m.range=f.range,m.tag=a,u!=null&&u.format&&(m.format=u.format),m}function Nq(t,e,n){const r=e.offset,s=mV(e,t.options.strict,n);if(!s)return{value:"",type:null,comment:"",range:[r,r,r]};const i=s.mode===">"?Ge.BLOCK_FOLDED:Ge.BLOCK_LITERAL,a=e.source?OV(e.source):[];let o=a.length;for(let y=a.length-1;y>=0;--y){const w=a[y][1];if(w===""||w==="\r")o=y;else break}if(o===0){const y=s.chomp==="+"&&a.length>0?`
`.repeat(Math.max(1,a.length-1)):"";let w=r+s.length;return e.source&&(w+=e.source.length),{value:y,type:i,comment:s.comment,range:[r,w,w]}}let u=e.indent+s.indent,f=e.offset+s.length,p=0;for(let y=0;y<o;++y){const[w,Q]=a[y];if(Q===""||Q==="\r")s.indent===0&&w.length>u&&(u=w.length);else{w.length<u&&n(f+w.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),s.indent===0&&(u=w.length),p=y,u===0&&!t.atRoot&&n(f,"BAD_INDENT","Block scalar values in collections must be indented");break}f+=w.length+Q.length+1}for(let y=a.length-1;y>=o;--y)a[y][0].length>u&&(o=y+1);let m="",g="",x=!1;for(let y=0;y<p;++y)m+=a[y][0].slice(u)+`
`;for(let y=p;y<o;++y){let[w,Q]=a[y];f+=w.length+Q.length+1;const k=Q[Q.length-1]==="\r";if(k&&(Q=Q.slice(0,-1)),Q&&w.length<u){const _=`Block scalar lines must not be less indented than their ${s.indent?"explicit indentation indicator":"first line"}`;n(f-Q.length-(k?2:1),"BAD_INDENT",_),w=""}i===Ge.BLOCK_LITERAL?(m+=g+w.slice(u)+Q,g=`
`):w.length>u||Q[0]==="	"?(g===" "?g=`
`:!x&&g===`
`&&(g=`

`),m+=g+w.slice(u)+Q,g=`
`,x=!0):Q===""?g===`
`?m+=`
`:g=`
`:(m+=g+Q,g=" ",x=!1)}switch(s.chomp){case"-":break;case"+":for(let y=o;y<a.length;++y)m+=`
`+a[y][0].slice(u);m[m.length-1]!==`
`&&(m+=`
`);break;default:m+=`
`}const v=r+s.length+e.source.length;return{value:m,type:i,comment:s.comment,range:[r,v,v]}}function mV({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:s}=e[0],i=s[0];let a=0,o="",u=-1;for(let g=1;g<s.length;++g){const x=s[g];if(!o&&(x==="-"||x==="+"))o=x;else{const v=Number(x);!a&&v?a=v:u===-1&&(u=t+g)}}u!==-1&&r(u,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${s}`);let f=!1,p="",m=s.length;for(let g=1;g<e.length;++g){const x=e[g];switch(x.type){case"space":f=!0;case"newline":m+=x.source.length;break;case"comment":n&&!f&&r(x,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),m+=x.source.length,p=x.source.substring(1);break;case"error":r(x,"UNEXPECTED_TOKEN",x.message),m+=x.source.length;break;default:{const v=`Unexpected token in block scalar header: ${x.type}`;r(x,"UNEXPECTED_TOKEN",v);const y=x.source;y&&typeof y=="string"&&(m+=y.length)}}}return{mode:i,indent:a,chomp:o,comment:p,length:m}}function OV(t){const e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),i=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let a=1;a<e.length;a+=2)i.push([e[a],e[a+1]]);return i}function Cq(t,e,n){const{offset:r,type:s,source:i,end:a}=t;let o,u;const f=(g,x,v)=>n(r+g,x,v);switch(s){case"scalar":o=Ge.PLAIN,u=gV(i,f);break;case"single-quoted-scalar":o=Ge.QUOTE_SINGLE,u=xV(i,f);break;case"double-quoted-scalar":o=Ge.QUOTE_DOUBLE,u=bV(i,f);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${s}`),{value:"",type:null,comment:"",range:[r,r+i.length,r+i.length]}}const p=r+i.length,m=Lf(a,p,e,n);return{value:u,type:o,comment:m.comment,range:[r,p,m.offset]}}function gV(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Eq(t)}function xV(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Eq(t.slice(1,-1)).replace(/''/g,"'")}function Eq(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let s=r[1],i=" ",a=e.lastIndex;for(n.lastIndex=a;r=n.exec(t);)r[1]===""?i===`
`?s+=i:i=`
`:(s+=i+r[1],i=" "),a=n.lastIndex;const o=/[ \t]*(.*)/sy;return o.lastIndex=a,r=o.exec(t),s+i+((r==null?void 0:r[1])??"")}function bV(t,e){let n="";for(let r=1;r<t.length-1;++r){const s=t[r];if(!(s==="\r"&&t[r+1]===`
`))if(s===`
`){const{fold:i,offset:a}=yV(t,r);n+=i,r=a}else if(s==="\\"){let i=t[++r];const a=vV[i];if(a)n+=a;else if(i===`
`)for(i=t[r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="\r"&&t[r+1]===`
`)for(i=t[++r+1];i===" "||i==="	";)i=t[++r+1];else if(i==="x"||i==="u"||i==="U"){const o={x:2,u:4,U:8}[i];n+=SV(t,r+1,o,e),r+=o}else{const o=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(s===" "||s==="	"){const i=r;let a=t[r+1];for(;a===" "||a==="	";)a=t[++r+1];a!==`
`&&!(a==="\r"&&t[r+2]===`
`)&&(n+=r>i?t.slice(i,r+1):s)}else n+=s}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function yV(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}const vV={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function SV(t,e,n,r){const s=t.substr(e,n),a=s.length===n&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;if(isNaN(a)){const o=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(a)}function Rq(t,e,n,r){const{value:s,type:i,comment:a,range:o}=e.type==="block-scalar"?Nq(t,e,r):Cq(e,t.options.strict,r),u=n?t.directives.tagName(n.source,m=>r(n,"TAG_RESOLVE_FAILED",m)):null;let f;t.options.stringKeys&&t.atKey?f=t.schema[Fs]:u?f=wV(t.schema,s,u,n,r):e.type==="scalar"?f=QV(t,s,e,r):f=t.schema[Fs];let p;try{const m=f.resolve(s,g=>r(n??e,"TAG_RESOLVE_FAILED",g),t.options);p=qt(m)?m:new Ge(m)}catch(m){const g=m instanceof Error?m.message:String(m);r(n??e,"TAG_RESOLVE_FAILED",g),p=new Ge(s)}return p.range=o,p.source=s,i&&(p.type=i),u&&(p.tag=u),f.format&&(p.format=f.format),a&&(p.comment=a),p}function wV(t,e,n,r,s){var o;if(n==="!")return t[Fs];const i=[];for(const u of t.tags)if(!u.collection&&u.tag===n)if(u.default&&u.test)i.push(u);else return u;for(const u of i)if((o=u.test)!=null&&o.test(e))return u;const a=t.knownTags[n];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(s(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[Fs])}function QV({atKey:t,directives:e,schema:n},r,s,i){const a=n.tags.find(o=>{var u;return(o.default===!0||t&&o.default==="key")&&((u=o.test)==null?void 0:u.test(r))})||n[Fs];if(n.compat){const o=n.compat.find(u=>{var f;return u.default&&((f=u.test)==null?void 0:f.test(r))})??n[Fs];if(a.tag!==o.tag){const u=e.tagString(a.tag),f=e.tagString(o.tag),p=`Value may be parsed as either ${u} or ${f}`;i(s,"TAG_RESOLVE_FAILED",p,!0)}}return a}function kV(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let s=e[r];switch(s.type){case"space":case"comment":case"newline":t-=s.source.length;continue}for(s=e[++r];(s==null?void 0:s.type)==="space";)t+=s.source.length,s=e[++r];break}}return t}const $V={composeNode:Aq,composeEmptyNode:B2};function Aq(t,e,n,r){const s=t.atKey,{spaceBefore:i,comment:a,anchor:o,tag:u}=n;let f,p=!0;switch(e.type){case"alias":f=TV(t,e,r),(o||u)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":f=Rq(t,e,u,r),o&&(f.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":f=pV($V,t,e,n,r),o&&(f.anchor=o.source.substring(1));break;default:{const m=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",m),f=B2(t,e.offset,void 0,null,n,r),p=!1}}return o&&f.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),s&&t.options.stringKeys&&(!qt(f)||typeof f.value!="string"||f.tag&&f.tag!=="tag:yaml.org,2002:str")&&r(u??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),i&&(f.spaceBefore=!0),a&&(e.type==="scalar"&&e.source===""?f.comment=a:f.commentBefore=a),t.options.keepSourceTokens&&p&&(f.srcToken=e),f}function B2(t,e,n,r,{spaceBefore:s,comment:i,anchor:a,tag:o,end:u},f){const p={type:"scalar",offset:kV(e,n,r),indent:-1,source:""},m=Rq(t,p,o,f);return a&&(m.anchor=a.source.substring(1),m.anchor===""&&f(a,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(m.spaceBefore=!0),i&&(m.comment=i,m.range[2]=u),m}function TV({options:t},{offset:e,source:n,end:r},s){const i=new gm(n.substring(1));i.source===""&&s(e,"BAD_ALIAS","Alias cannot be an empty string"),i.source.endsWith(":")&&s(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const a=e+n.length,o=Lf(r,a,t.strict,s);return i.range=[e,a,o.offset],o.comment&&(i.comment=o.comment),i}function _V(t,e,{offset:n,start:r,value:s,end:i},a){const o=Object.assign({_directives:e},t),u=new kc(void 0,o),f={atKey:!1,atRoot:!0,directives:u.directives,options:u.options,schema:u.schema},p=ac(r,{indicator:"doc-start",next:s??(i==null?void 0:i[0]),offset:n,onError:a,parentIndent:0,startOnNewline:!0});p.found&&(u.directives.docStart=!0,s&&(s.type==="block-map"||s.type==="block-seq")&&!p.hasNewline&&a(p.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),u.contents=s?Aq(f,s,p,a):B2(f,p.end,r,null,p,a);const m=u.contents.range[2],g=Lf(i,m,!1,a);return g.comment&&(u.comment=g.comment),u.range=[n,m,g.offset],u}function ku(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function N_(t){var s;let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){const a=t[i];switch(a[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(a.substring(1)||" "),n=!0,r=!1;break;case"%":((s=t[i+1])==null?void 0:s[0])!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}class U2{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,s,i)=>{const a=ku(n);i?this.warnings.push(new Pq(a,r,s)):this.errors.push(new Ol(a,r,s))},this.directives=new Un({version:e.version||"1.2"}),this.options=e}decorate(e,n){const{comment:r,afterEmptyLine:s}=N_(this.prelude);if(r){const i=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(s||e.directives.docStart||!i)e.commentBefore=r;else if(Ht(i)&&!i.flow&&i.items.length>0){let a=i.items[0];Bt(a)&&(a=a.key);const o=a.commentBefore;a.commentBefore=o?`${r}
${o}`:r}else{const a=i.commentBefore;i.commentBefore=a?`${r}
${a}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:N_(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(const s of e)yield*this.next(s);yield*this.end(n,r)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,(n,r,s)=>{const i=ku(e);i[0]+=n,this.onError(i,"BAD_DIRECTIVE",r,s)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const n=_V(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Ol(ku(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new Ol(ku(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=Lf(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Ol(ku(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const r=Object.assign({_directives:this.directives},this.options),s=new kc(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),s.range=[0,n,n],this.decorate(s,!1),yield s}}}function PV(t,e=!0,n){if(t){const r=(s,i,a)=>{const o=typeof s=="number"?s:Array.isArray(s)?s[0]:s.offset;if(n)n(o,i,a);else throw new Ol([o,o+1],i,a)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Cq(t,e,r);case"block-scalar":return Nq({options:{strict:e}},t,r)}}return null}function jV(t,e){const{implicitKey:n=!1,indent:r,inFlow:s=!1,offset:i=-1,type:a="PLAIN"}=e,o=zf({type:a,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}}),u=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(o[0]){case"|":case">":{const f=o.indexOf(`
`),p=o.substring(0,f),m=o.substring(f+1)+`
`,g=[{type:"block-scalar-header",offset:i,indent:r,source:p}];return qq(g,u)||g.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:i,indent:r,props:g,source:m}}case'"':return{type:"double-quoted-scalar",offset:i,indent:r,source:o,end:u};case"'":return{type:"single-quoted-scalar",offset:i,indent:r,source:o,end:u};default:return{type:"scalar",offset:i,indent:r,source:o,end:u}}}function NV(t,e,n={}){let{afterKey:r=!1,implicitKey:s=!1,inFlow:i=!1,type:a}=n,o="indent"in t?t.indent:null;if(r&&typeof o=="number"&&(o+=2),!a)switch(t.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{const f=t.props[0];if(f.type!=="block-scalar-header")throw new Error("Invalid block scalar header");a=f.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}const u=zf({type:a,value:e},{implicitKey:s||o===null,indent:o!==null&&o>0?" ".repeat(o):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}});switch(u[0]){case"|":case">":CV(t,u);break;case'"':Eg(t,u,"double-quoted-scalar");break;case"'":Eg(t,u,"single-quoted-scalar");break;default:Eg(t,u,"scalar")}}function CV(t,e){const n=e.indexOf(`
`),r=e.substring(0,n),s=e.substring(n+1)+`
`;if(t.type==="block-scalar"){const i=t.props[0];if(i.type!=="block-scalar-header")throw new Error("Invalid block scalar header");i.source=r,t.source=s}else{const{offset:i}=t,a="indent"in t?t.indent:-1,o=[{type:"block-scalar-header",offset:i,indent:a,source:r}];qq(o,"end"in t?t.end:void 0)||o.push({type:"newline",offset:-1,indent:a,source:`
`});for(const u of Object.keys(t))u!=="type"&&u!=="offset"&&delete t[u];Object.assign(t,{type:"block-scalar",indent:a,props:o,source:s})}}function qq(t,e){if(e)for(const n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function Eg(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{const r=t.props.slice(1);let s=e.length;t.props[0].type==="block-scalar-header"&&(s-=t.props[0].source.length);for(const i of r)i.offset+=s;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{const s={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[s]});break}default:{const r="indent"in t?t.indent:-1,s="end"in t&&Array.isArray(t.end)?t.end.filter(i=>i.type==="space"||i.type==="comment"||i.type==="newline"):[];for(const i of Object.keys(t))i!=="type"&&i!=="offset"&&delete t[i];Object.assign(t,{type:n,indent:r,source:e,end:s})}}}const EV=t=>"type"in t?Tp(t):ip(t);function Tp(t){switch(t.type){case"block-scalar":{let e="";for(const n of t.props)e+=Tp(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(const n of t.items)e+=ip(n);return e}case"flow-collection":{let e=t.start.source;for(const n of t.items)e+=ip(n);for(const n of t.end)e+=n.source;return e}case"document":{let e=ip(t);if(t.end)for(const n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(const n of t.end)e+=n.source;return e}}}function ip({start:t,key:e,sep:n,value:r}){let s="";for(const i of t)s+=i.source;if(e&&(s+=Tp(e)),n)for(const i of n)s+=i.source;return r&&(s+=Tp(r)),s}const mw=Symbol("break visit"),RV=Symbol("skip children"),Xq=Symbol("remove item");function $l(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Mq(Object.freeze([]),t,e)}$l.BREAK=mw;$l.SKIP=RV;$l.REMOVE=Xq;$l.itemAtPath=(t,e)=>{let n=t;for(const[r,s]of e){const i=n==null?void 0:n[r];if(i&&"items"in i)n=i.items[s];else return}return n};$l.parentCollection=(t,e)=>{const n=$l.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],s=n==null?void 0:n[r];if(s&&"items"in s)return s;throw new Error("Parent collection not found")};function Mq(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(const s of["key","value"]){const i=e[s];if(i&&"items"in i){for(let a=0;a<i.items.length;++a){const o=Mq(Object.freeze(t.concat([[s,a]])),i.items[a],n);if(typeof o=="number")a=o-1;else{if(o===mw)return mw;o===Xq&&(i.items.splice(a,1),a-=1)}}typeof r=="function"&&s==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}const $m="\uFEFF",Tm="",_m="",df="",AV=t=>!!t&&"items"in t,qV=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function XV(t){switch(t){case $m:return"<BOM>";case Tm:return"<DOC>";case _m:return"<FLOW_END>";case df:return"<SCALAR>";default:return JSON.stringify(t)}}function zq(t){switch(t){case $m:return"byte-order-mark";case Tm:return"doc-mode";case _m:return"flow-error-end";case df:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const MV=Object.freeze(Object.defineProperty({__proto__:null,BOM:$m,DOCUMENT:Tm,FLOW_END:_m,SCALAR:df,createScalarToken:jV,isCollection:AV,isScalar:qV,prettyToken:XV,resolveAsScalar:PV,setScalarValue:NV,stringify:EV,tokenType:zq,visit:$l},Symbol.toStringTag,{value:"Module"}));function gs(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const C_=new Set("0123456789ABCDEFabcdef"),zV=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),yh=new Set(",[]{}"),ZV=new Set(` ,[]{}
\r	`),Rg=t=>!t||ZV.has(t);class Zq{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){const s=this.buffer[r+e+1];if(s===`
`||!s&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&gs(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===$m&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){const i=e[r-1];if(i===" "||i==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){const i=e[n-1];if(i===" "||i==="	")n-=1;else break}const s=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Tm,yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if((n==="---"||n==="...")&&gs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!gs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&gs(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Rg),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);const s=this.getLine();if(s===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&s[0]!=="#"||r===0&&(s.startsWith("---")||s.startsWith("..."))&&gs(s[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(s[0]==="]"||s[0]==="}")))return this.flowLevel=0,yield _m,yield*this.parseLineStart();let i=0;for(;s[i]===",";)i+=yield*this.pushCount(1),i+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(i+=yield*this.pushIndicators(),s[i]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-i),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Rg),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const a=this.charAt(1);if(this.flowKey||gs(a)||a===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let i=0;for(;this.buffer[n-1-i]==="\\";)i+=1;if(i%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let s=r.indexOf(`
`,this.pos);if(s!==-1){for(;s!==-1;){const i=this.continueScalar(s+1);if(i===-1)break;s=r.indexOf(`
`,i)}s!==-1&&(n=s-(r[s-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>gs(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:e=i,n=0;break;case"\r":{const a=this.buffer[i+1];if(!a&&!this.atEnd)return this.setNext("block-scalar");if(a===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{const i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let s=e+1;for(r=this.buffer[s];r===" ";)r=this.buffer[++s];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++s];e=s-1}else if(!this.blockScalarKeep)do{let i=e-1,a=this.buffer[i];a==="\r"&&(a=this.buffer[--i]);const o=i;for(;a===" ";)a=this.buffer[--i];if(a===`
`&&i>=this.pos&&i+1+n>o)e=i;else break}while(!0);return yield df,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,s;for(;s=this.buffer[++r];)if(s===":"){const i=this.buffer[r+1];if(gs(i)||e&&yh.has(i))break;n=r}else if(gs(s)){let i=this.buffer[r+1];if(s==="\r"&&(i===`
`?(r+=1,s=`
`,i=this.buffer[r+1]):n=r),i==="#"||e&&yh.has(i))break;if(s===`
`){const a=this.continueScalar(r+1);if(a===-1)break;r=Math.max(r,a-2)}}else{if(e&&yh.has(s))break;n=r}return!s&&!this.atEnd?this.setNext("plain-scalar"):(yield df,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){const r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Rg))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,n=this.charAt(1);if(gs(n)||e&&yh.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!gs(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(zV.has(n))n=this.buffer[++e];else if(n==="%"&&C_.has(this.buffer[e+1])&&C_.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Lq{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){const i=n+r>>1;this.lineStarts[i]<e?n=i+1:r=i}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};const s=this.lineStarts[n-1];return{line:n,col:e-s+1}}}}function ba(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function E_(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Yq(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function vh(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Co(t){var n;if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=t[++e])==null?void 0:n.type)==="space";);return t.splice(e,t.length)}function R_(t){if(t.start.type==="flow-seq-start")for(const e of t.items)e.sep&&!e.value&&!ba(e.start,"explicit-key-ind")&&!ba(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Yq(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}let G2=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Zq,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}const n=zq(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if(this.type==="doc-end"&&(e==null?void 0:e.type)!=="doc-end"){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){const n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&R_(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const s=r.items[r.items.length-1];if(s.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(s.sep)s.value=n;else{Object.assign(s,{key:n,sep:[]}),this.onKeyLine=!s.explicitKey;return}break}case"block-seq":{const s=r.items[r.items.length-1];s.value?r.items.push({start:[],value:n}):s.value=n;break}case"flow-collection":{const s=r.items[r.items.length-1];!s||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const s=n.items[n.items.length-1];s&&!s.sep&&!s.value&&s.start.length>0&&E_(s.start)===-1&&(n.indent===0||s.start.every(i=>i.type!=="comment"||i.indent<n.indent))&&(r.type==="document"?r.end=s.start:r.items.push({start:s.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{E_(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}const n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){const n=vh(this.peek(2)),r=Co(n);let s;e.end?(s=e.end,s.push(this.sourceToken),delete e.end):s=[this.sourceToken];const i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const s=!this.onKeyLine&&this.indent===e.indent,i=s&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind";let a=[];if(i&&n.sep&&!n.value){const o=[];for(let u=0;u<n.sep.length;++u){const f=n.sep[u];switch(f.type){case"newline":o.push(u);break;case"space":break;case"comment":f.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(a=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(a.push(this.sourceToken),e.items.push({start:a}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(a.push(this.sourceToken),e.items.push({start:a,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ba(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:a,key:null,sep:[this.sourceToken]}]});else if(Yq(n.key)&&!ba(n.sep,"newline")){const o=Co(n.start),u=n.key,f=n.sep;f.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:u,sep:f}]})}else a.length>0?n.sep=n.sep.concat(a,this.sourceToken):n.sep.push(this.sourceToken);else if(ba(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=Co(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:a,key:null,sep:[this.sourceToken]}):ba(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(e.items.push({start:a,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!ba(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else s&&e.items.push({start:a});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;const n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){const s="end"in n.value?n.value.end:void 0,i=Array.isArray(s)?s[s.length-1]:void 0;(i==null?void 0:i.type)==="comment"?s==null||s.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){const s=e.items[e.items.length-2],i=(r=s==null?void 0:s.value)==null?void 0:r.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||ba(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){const s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){const n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while((r==null?void 0:r.type)==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const s=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:s,sep:[]}):n.sep?this.stack.push(s):Object.assign(n,{key:s,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}const r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const s=vh(r),i=Co(s);R_(e);const a=e.end.splice(1,e.end.length);a.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:a}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=vh(e),r=Co(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;const n=vh(e),r=Co(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};function Vq(t){const e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Lq||null,prettyErrors:e}}function LV(t,e={}){const{lineCounter:n,prettyErrors:r}=Vq(e),s=new G2(n==null?void 0:n.addNewLine),i=new U2(e),a=Array.from(i.compose(s.parse(t)));if(r&&n)for(const o of a)o.errors.forEach($p(t,n)),o.warnings.forEach($p(t,n));return a.length>0?a:Object.assign([],{empty:!0},i.streamInfo())}function Dq(t,e={}){const{lineCounter:n,prettyErrors:r}=Vq(e),s=new G2(n==null?void 0:n.addNewLine),i=new U2(e);let a=null;for(const o of i.compose(s.parse(t),!0,t.length))if(!a)a=o;else if(a.options.logLevel!=="silent"){a.errors.push(new Ol(o.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(a.errors.forEach($p(t,n)),a.warnings.forEach($p(t,n))),a}function YV(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);const s=Dq(t,n);if(!s)return null;if(s.warnings.forEach(i=>oq(s.options.logLevel,i)),s.errors.length>0){if(s.options.logLevel!=="silent")throw s.errors[0];s.errors=[]}return s.toJS(Object.assign({reviver:r},n))}function VV(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){const s=Math.round(n);n=s<1?void 0:s>8?{indent:8}:{indent:s}}if(t===void 0){const{keepUndefined:s}=n??e??{};if(!s)return}return Al(t)&&!r?t.toString(n):new kc(t,r,n).toString(n)}const A_=Object.freeze(Object.defineProperty({__proto__:null,Alias:gm,CST:MV,Composer:U2,Document:kc,Lexer:Zq,LineCounter:Lq,Pair:Yn,Parser:G2,Scalar:Ge,Schema:Tq,YAMLError:D2,YAMLMap:Pr,YAMLParseError:Ol,YAMLSeq:Na,YAMLWarning:Pq,isAlias:za,isCollection:Ht,isDocument:Al,isMap:vc,isNode:Kt,isPair:Bt,isScalar:qt,isSeq:Sc,parse:YV,parseAllDocuments:LV,parseDocument:Dq,stringify:VV,visit:ql,visitAsync:Om},Symbol.toStringTag,{value:"Module"})),DV="";class BV{constructor(e=DV){this.cachedCloudUrl=null,this.baseUrl=e,this.wsBaseUrl=e.replace("http","ws")}async request(e,n){const r=await fetch(`${this.baseUrl}${e}`,{...n,headers:{"Content-Type":"application/json",...n==null?void 0:n.headers}});if(!r.ok){const s=await r.json().catch(()=>({detail:r.statusText}));throw new Error(s.detail||`API Error: ${r.status}`)}return r.json()}async getStatus(){return this.request("/api/v1/status")}async getAuthStatus(){return this.request("/api/v1/auth/status")}async logout(){return this.request("/api/v1/auth/logout",{method:"POST"})}async startLogin(e){return this.request("/api/v1/auth/login",{method:"POST",body:JSON.stringify(e||{})})}async pollLoginStatus(e){return this.request(`/api/v1/auth/login/poll/${encodeURIComponent(e)}`)}async getAvailableCommands(){return this.request("/api/v1/commands/available")}async executeCommand(e){return this.request("/api/v1/commands/execute",{method:"POST",body:JSON.stringify(e)})}async runCommand(e){return this.request("/api/v1/commands/run",{method:"POST",body:JSON.stringify(e)})}async cancelCommand(){return this.request("/api/v1/commands/cancel",{method:"POST"})}async getCommandStatus(){return this.request("/api/v1/commands/status")}async getJobStatus(e){return this.request(`/api/v1/commands/jobs/${e}`)}async cancelJob(e){return this.request(`/api/v1/commands/jobs/${e}/cancel`,{method:"POST"})}async getJobHistory(e=50,n=0){return this.request(`/api/v1/commands/history?limit=${e}&offset=${n}`)}async spawnTerminal(e){return this.request("/api/v1/commands/spawn-terminal",{method:"POST",body:JSON.stringify(e)})}async getSpawnedJobStatus(e){return this.request(`/api/v1/commands/spawned-jobs/${e}/status`)}async getFileTree(e="",n=3){const r=new URLSearchParams;return e&&r.set("path",e),r.set("depth",n.toString()),this.request(`/api/v1/files/tree?${r}`)}async getFileContent(e){return this.request(`/api/v1/files/content?path=${encodeURIComponent(e)}`)}async writeFile(e,n,r="utf-8"){return this.request("/api/v1/files/write",{method:"POST",body:JSON.stringify({path:e,content:n,encoding:r})})}async getPddrc(){try{const e=await this.getFileContent(".pddrc");return A_.parse(e.content)}catch{return null}}async savePddrc(e){const n=A_.stringify(e);return this.writeFile(".pddrc",n)}async listPrompts(){return this.request("/api/v1/files/prompts")}async analyzePrompt(e){return this.request("/api/v1/prompts/analyze",{method:"POST",body:JSON.stringify(e)})}async analyzeFile(e,n){return(await this.analyzePrompt({path:e,model:n||"claude-sonnet-4-20250514",preprocess:!1})).raw_metrics}async getSyncStatus(e,n){return this.request(`/api/v1/prompts/sync-status?basename=${encodeURIComponent(e)}&language=${encodeURIComponent(n)}`)}async getModels(){return this.request("/api/v1/prompts/models")}async checkMatch(e){return this.request("/api/v1/prompts/check-match",{method:"POST",body:JSON.stringify(e)})}async analyzeDiff(e){return this.request("/api/v1/prompts/diff-analysis",{method:"POST",body:JSON.stringify(e)})}async checkArchitectureExists(){try{return await this.getFileContent("architecture.json"),{exists:!0,path:"architecture.json"}}catch{return{exists:!1}}}async getArchitecture(){const e=await this.getFileContent("architecture.json");return JSON.parse(e.content)}async saveArchitecture(e){const n=JSON.stringify(e,null,2);return this.writeFile("architecture.json",n)}async validateArchitecture(e){return this.request("/api/v1/architecture/validate",{method:"POST",body:JSON.stringify({modules:e})})}async syncArchitectureFromPrompts(e={}){return this.request("/api/v1/architecture/sync-from-prompts",{method:"POST",body:JSON.stringify(e)})}async generateTagsForPrompt(e){return this.request("/api/v1/architecture/generate-tags-for-prompt",{method:"POST",body:JSON.stringify({prompt_filename:e})})}async listMarkdownFiles(){const e=[];try{const n=await this.getFileTree("",4),r=(s,i="")=>{const a=i?`${i}/${s.name}`:s.name;if(s.type==="file"&&s.name.endsWith(".md")&&e.push(a),s.children)for(const o of s.children)r(o,a)};r(n)}catch(n){console.error("Failed to list markdown files:",n)}return e}async generateArchitecture(e){const n={};if(e.prdPath)n.PRD_FILE=e.prdPath;else if(e.prdContent){const a=".pdd/temp_prd.md";await this.writeFile(a,e.prdContent),n.PRD_FILE=a}if(e.techStackPath)n.TECH_STACK_FILE=e.techStackPath;else if(e.techStackContent){const a=".pdd/temp_tech_stack.md";await this.writeFile(a,e.techStackContent),n.TECH_STACK_FILE=a}e.appName&&(n.APP_NAME=e.appName);const r=e.outputPath||"architecture.json",s=[];for(const[a,o]of Object.entries(n))s.push(`${a}=${o}`);const i={output:r,template:"architecture/architecture_json",env:s};if(e.globalOptions){const{strength:a,temperature:o,time:u,verbose:f,quiet:p,force:m}=e.globalOptions;a!==void 0&&(i.strength=a),o!==void 0&&(i.temperature=o),u!==void 0&&(i.time=u),f&&(i.verbose=!0),p&&(i.quiet=!0),m&&(i.force=!0)}return this.runCommand({command:"generate",args:{},options:i})}async generatePromptFromArchitecture(e){const{module:n,langOrFramework:r,architectureFile:s,prdFile:i,techStackFile:a,outputPath:o,globalOptions:u}=e,f=[`MODULE=${n}`,`LANG_OR_FRAMEWORK=${r}`,`ARCHITECTURE_FILE=${s||"architecture.json"}`];i&&f.push(`PRD_FILE=${i}`),a&&f.push(`TECH_STACK_FILE=${a}`);const p={template:"generic/generate_prompt",env:f,output:o||`prompts/${n}_${r}.prompt`};if(u){const{strength:m,temperature:g,time:x,verbose:v,quiet:y,force:w}=u;m!==void 0&&(p.strength=m),g!==void 0&&(p.temperature=g),x!==void 0&&(p.time=x),v&&(p.verbose=!0),y&&(p.quiet=!0),w&&(p.force=!0)}return this.runCommand({command:"generate",args:{},options:p})}async batchGeneratePrompts(e,n,r){const s=[],{modules:i,architectureFile:a,prdFile:o,techStackFile:u,globalOptions:f}=e;for(let p=0;p<i.length&&!(r!=null&&r());p++){const{module:m,langOrFramework:g}=i[p];n==null||n(p+1,i.length,m);try{const x=await this.generatePromptFromArchitecture({module:m,langOrFramework:g,architectureFile:a,prdFile:o,techStackFile:u,globalOptions:f});s.push({module:`${m}_${g}`,success:x.success,error:x.success?void 0:x.message})}catch(x){s.push({module:`${m}_${g}`,success:!1,error:x instanceof Error?x.message:String(x)})}}return s}async getJWTToken(){try{return(await this.request("/api/v1/auth/jwt-token")).jwt}catch{return null}}async fetchCloudUrl(){try{return(await this.request("/api/v1/config/cloud-url")).cloud_url}catch(e){return console.warn("Failed to fetch cloud URL from server, using default:",e),"https://us-central1-prompt-driven-development.cloudfunctions.net"}}async getCloudUrl(){return this.cachedCloudUrl||(this.cachedCloudUrl=await this.fetchCloudUrl()),this.cachedCloudUrl}async listRemoteSessions(){const e=await this.getJWTToken();if(!e)throw new Error("Not authenticated. Please run: pdd auth login");const n=await this.getCloudUrl(),r=await fetch(`${n}/listSessions`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const i=await r.json().catch(()=>({error:r.statusText}));throw new Error(i.error||`Failed to list sessions: ${r.status}`)}return(await r.json()).sessions||[]}async submitRemoteCommand(e){const n=await this.getJWTToken();if(!n)throw new Error("Not authenticated. Please run: pdd auth login");const r=await this.getCloudUrl(),s=await fetch(`${r}/submitCommand`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const i=await s.json().catch(()=>({error:s.statusText}));throw new Error(i.error||`Failed to submit command: ${s.status}`)}return await s.json()}async getRemoteCommandStatus(e,n){const r=await this.getJWTToken();if(!r)throw new Error("Not authenticated. Please run: pdd auth login");const s=await this.getCloudUrl(),i=await fetch(`${s}/getCommandStatus?sessionId=${encodeURIComponent(e)}&commandId=${encodeURIComponent(n)}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!i.ok){if(i.status===404)return null;const u=await i.json().catch(()=>({error:i.statusText}));throw new Error(u.error||`Failed to get command status: ${i.status}`)}const o=(await i.json()).command;return o?{commandId:o.commandId,type:o.type,status:o.status,createdAt:o.createdAt,updatedAt:o.updatedAt,response:o.response}:null}async cancelRemoteCommand(e){const n=await this.getJWTToken();if(!n)throw new Error("Not authenticated. Please run: pdd auth login");const r=await this.getCloudUrl(),s=await fetch(`${r}/cancelCommand`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){const i=await s.json().catch(()=>({error:s.statusText}));throw new Error(i.error||`Failed to cancel command: ${s.status}`)}return s.json()}connectToJobStream(e,n){const r=new WebSocket(`${this.wsBaseUrl}/ws/jobs/${e}/stream`);return r.onmessage=s=>{var i,a,o,u,f,p,m,g;try{const x=JSON.parse(s.data);switch((i=n.onMessage)==null||i.call(n,x.type,x.data),x.type){case"stdout":(a=n.onStdout)==null||a.call(n,x.data);break;case"stderr":(o=n.onStderr)==null||o.call(n,x.data);break;case"progress":(u=n.onProgress)==null||u.call(n,x.current,x.total,x.message);break;case"complete":(g=n.onComplete)==null||g.call(n,(f=x.data)==null?void 0:f.success,(p=x.data)==null?void 0:p.result,((m=x.data)==null?void 0:m.cost)||0);break}}catch(x){console.error("Failed to parse WebSocket message:",x)}},r.onerror=s=>{var i;(i=n.onError)==null||i.call(n,new Error("WebSocket error"))},r.onclose=()=>{var s;(s=n.onClose)==null||s.call(n)},r}sendCancelRequest(e){e.readyState===WebSocket.OPEN&&e.send(JSON.stringify({type:"cancel"}))}}const qe=new BV,UV=t=>t.trim()?t.length<2?"Name must be at least 2 characters":t.length>50?"Name must be 50 characters or less":/^[a-z][a-z0-9_]*$/.test(t)?null:"Name must start with a letter and contain only lowercase letters, numbers, and underscores":"Name is required",q_=({onClose:t,onCreate:e,isCreating:n,existingPrompts:r})=>{const[s,i]=j.useState(""),[a,o]=j.useState("python"),[u,f]=j.useState(""),[p,m]=j.useState(null),g=j.useMemo(()=>s.trim()?`prompts/${s.trim()}_${a}.prompt`:"",[s,a]),x=j.useMemo(()=>g?r.some(y=>y.prompt===g):!1,[g,r]),v=async y=>{y.preventDefault(),m(null);const w=UV(s.trim());if(w){m(w);return}if(x){m("A prompt with this name and language already exists");return}const Q=RY(s.trim(),a,u),k={prompt:g,sync_basename:s.trim(),language:a};try{await e({path:g,content:Q,info:k})}catch($){m($.message||"Failed to create prompt")}};return d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-fade-in",onClick:n?void 0:t,role:"dialog","aria-modal":"true","aria-labelledby":"create-prompt-title",children:d.jsxs("div",{className:"bg-gray-800 rounded-none sm:rounded-lg shadow-xl w-full h-full sm:h-auto sm:max-w-lg sm:max-h-[90vh] flex flex-col ring-1 ring-white/10 overflow-y-auto",onClick:y=>y.stopPropagation(),children:[d.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[d.jsx("h2",{id:"create-prompt-title",className:"text-lg font-semibold text-white",children:"Create New Prompt"}),d.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50","aria-label":"Close modal",disabled:n,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("form",{onSubmit:v,children:[d.jsxs("main",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"prompt-name",className:"block text-sm font-medium text-gray-300 mb-1.5",children:["Prompt Name ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("input",{id:"prompt-name",type:"text",value:s,onChange:y=>i(y.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),placeholder:"calculator",className:"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm transition-shadow duration-200",disabled:n,autoFocus:!0}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and underscores only"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"prompt-language",className:"block text-sm font-medium text-gray-300 mb-1.5",children:["Language ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("select",{id:"prompt-language",value:a,onChange:y=>o(y.target.value),className:"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm transition-shadow duration-200",disabled:n,children:EY.map(y=>d.jsx("option",{value:y.value,className:"bg-gray-800",children:y.label},y.value))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"prompt-description",className:"block text-sm font-medium text-gray-300 mb-1.5",children:["Description ",d.jsx("span",{className:"text-gray-500",children:"(optional)"})]}),d.jsx("textarea",{id:"prompt-description",value:u,onChange:y=>f(y.target.value),placeholder:"handles basic arithmetic operations",rows:2,className:"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-blue-500 sm:text-sm transition-shadow duration-200 resize-none",disabled:n}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Brief description - will be included in the prompt template"})]}),g&&d.jsxs("div",{className:`rounded-md p-3 ${x?"bg-red-900/30 ring-1 ring-red-500/30":"bg-gray-900/50"}`,children:[d.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"File will be created at:"}),d.jsx("p",{className:`font-mono text-sm ${x?"text-red-400":"text-blue-400"}`,children:g}),x&&d.jsx("p",{className:"text-xs text-red-400 mt-1",children:"A prompt with this name already exists"})]}),p&&d.jsx("div",{className:"bg-red-900/30 rounded-md p-3 ring-1 ring-red-500/30",children:d.jsx("p",{className:"text-sm text-red-400",children:p})})]}),d.jsxs("footer",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3 rounded-b-lg",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium bg-gray-600 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-gray-500 transition-colors disabled:opacity-50",disabled:n,children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 transition-colors disabled:opacity-50 flex items-center gap-2",disabled:n||!s.trim()||x,children:n?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{children:"Creating..."})]}):d.jsx("span",{children:"Create & Edit"})})]})]})]})})},GV=({command:t,prompt:e,onRun:n,onCancel:r})=>{const[s,i]=j.useState(()=>{const u={};return t.options.forEach(f=>{f.defaultValue!==void 0&&(f.type==="checkbox"?u[f.name]=f.defaultValue==="true"||f.defaultValue===!0:(f.type,u[f.name]=f.defaultValue))}),u}),a=(u,f)=>{i(p=>({...p,[u]:f}))},o=u=>{u.preventDefault();const f={};Object.entries(s).forEach(([p,m])=>{m!==""&&m!==void 0&&m!==null&&(f[p]=m)}),n(f)};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:r,children:d.jsxs("div",{className:"glass rounded-2xl border border-surface-600/50 shadow-2xl w-full max-w-md animate-scale-in",onClick:u=>u.stopPropagation(),children:[d.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-surface-700/50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center",children:d.jsx("span",{className:"text-xl",children:t.icon})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:t.shortDescription}),d.jsx("p",{className:"text-xs sm:text-sm text-surface-400 line-clamp-1",children:t.description})]})]})}),d.jsxs("form",{onSubmit:o,children:[d.jsxs("div",{className:"px-4 sm:px-6 py-4 space-y-4 max-h-[50vh] sm:max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-surface-800/50 rounded-xl px-3 py-2.5 border border-surface-700/50",children:[d.jsx("div",{className:"text-xs text-surface-400 mb-0.5",children:"Target"}),d.jsx("div",{className:"text-sm text-white font-mono truncate",children:e.sync_basename})]}),t.options.length>0?t.options.map(u=>d.jsx(WV,{option:u,value:s[u.name],onChange:f=>a(u.name,f)},u.name)):d.jsx("p",{className:"text-surface-400 text-sm",children:"No additional options for this command."})]}),d.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-surface-700/50 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3",children:[d.jsx("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-surface-700/50 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25 transition-all flex items-center justify-center gap-2",children:[d.jsx("span",{children:t.icon}),d.jsxs("span",{children:["Run ",t.shortDescription]})]})]})]})]})})},WV=({option:t,value:e,onChange:n})=>{const r=`option-${t.name}`;return t.type==="checkbox"?d.jsxs("label",{htmlFor:r,className:"flex items-start gap-3 p-3 rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group",children:[d.jsx("input",{type:"checkbox",id:r,checked:!!e,onChange:s=>n(s.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-white group-hover:text-accent-300 transition-colors",children:X_(t.name)}),d.jsx("div",{className:"text-xs text-surface-400 mt-0.5",children:t.description})]})]}):d.jsxs("div",{children:[d.jsxs("label",{htmlFor:r,className:"block text-sm font-medium text-white mb-1.5",children:[X_(t.name),t.required&&d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsx("p",{className:"text-xs text-surface-400 mb-2",children:t.description}),t.type==="textarea"?d.jsx("textarea",{id:r,value:e||"",onChange:s=>n(s.target.value),placeholder:t.placeholder,required:t.required,rows:3,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all resize-none"}):d.jsx("input",{type:t.type==="number"?"number":"text",id:r,value:e||"",onChange:s=>n(t.type==="number"?s.target.value?Number(s.target.value):"":s.target.value),placeholder:t.placeholder,required:t.required,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})};function X_(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const IV=({config:t,prompt:e,onClick:n,disabled:r})=>{const i=r||!!(t.requiresCode&&!e.code||t.requiresTest&&!e.test),a=t.requiresCode&&!e.code?"code":t.requiresTest&&!e.test?"test":null;return d.jsxs("button",{onClick:o=>{o.stopPropagation(),n()},disabled:i,className:`
        flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium transition-all duration-200
        ${i?"bg-surface-700/50 text-surface-500 cursor-not-allowed":"bg-accent-600/90 hover:bg-accent-500 text-white shadow-md hover:shadow-lg hover:shadow-accent-500/20"}
      `,title:a?`Missing ${a} file`:t.description,children:[d.jsx("span",{className:"text-sm",children:t.icon}),d.jsx("span",{children:t.shortDescription})]})},HV=({commands:t,prompt:e,onRunCommand:n,disabled:r})=>{const[s,i]=j.useState(!1),[a,o]=j.useState(t[0]),[u,f]=j.useState({top:0,left:0,openUpward:!1}),p=j.useRef(null),m=j.useRef(null),g=j.useCallback(()=>{if(!p.current)return;const Q=p.current.getBoundingClientRect(),k=280,$=220,_=8,T=window.innerHeight-Q.bottom,N=Q.top,C=T<k+_&&N>T;let q=Q.left;q+$>window.innerWidth-_&&(q=window.innerWidth-$-_),q<_&&(q=_),f({top:C?Q.top-_:Q.bottom+_,left:q,openUpward:C})},[]);j.useEffect(()=>{if(!s)return;const Q=_=>{const T=_.target;p.current&&!p.current.contains(T)&&m.current&&!m.current.contains(T)&&i(!1)},k=()=>{g()},$=()=>{i(!1)};return document.addEventListener("mousedown",Q),window.addEventListener("scroll",k,!0),window.addEventListener("resize",$),()=>{document.removeEventListener("mousedown",Q),window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",$)}},[s,g]),j.useEffect(()=>{s&&g()},[s,g]);const x=Q=>!(Q.requiresCode&&!e.code||Q.requiresTest&&!e.test),v=r||!x(a),y=Q=>{Q.stopPropagation(),i(!s)},w=s?d.jsx("div",{ref:m,className:"fixed bg-surface-800 rounded-xl border border-surface-600 shadow-2xl min-w-[220px] max-h-[280px] overflow-y-auto animate-fade-in",style:{top:u.openUpward?"auto":u.top,bottom:u.openUpward?window.innerHeight-u.top:"auto",left:u.left,zIndex:9999,boxShadow:"0 10px 50px rgba(0, 0, 0, 0.6)"},onClick:Q=>Q.stopPropagation(),children:t.map((Q,k)=>{const $=!x(Q);return d.jsxs("button",{onClick:_=>{_.stopPropagation(),o(Q),i(!1),$||n(Q.name)},disabled:$,className:`
              w-full flex items-center gap-2.5 px-4 py-3 text-sm text-left transition-colors
              ${$?"text-surface-500 cursor-not-allowed":"text-white hover:bg-surface-700"}
              ${a.name===Q.name?"bg-accent-600/20":""}
              ${k!==t.length-1?"border-b border-surface-700":""}
            `,children:[d.jsx("span",{className:"text-base",children:Q.icon}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm",children:Q.shortDescription}),d.jsxs("div",{className:"text-xs text-surface-400",children:[Q.description.slice(0,50),"..."]})]}),a.name===Q.name&&d.jsx("svg",{className:"w-4 h-4 text-accent-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},Q.name)})}):null;return d.jsxs("div",{className:"relative inline-flex",ref:p,onClick:Q=>Q.stopPropagation(),children:[d.jsxs("button",{onClick:Q=>{Q.stopPropagation(),v||n(a.name)},disabled:v,className:`
          flex items-center gap-1.5 sm:gap-2 px-2.5 sm:px-4 py-1.5 sm:py-2 rounded-l-lg sm:rounded-l-xl text-xs sm:text-sm font-medium transition-all duration-200
          ${v?"bg-surface-700/50 text-surface-500 cursor-not-allowed":"bg-accent-600/90 hover:bg-accent-500 text-white shadow-md"}
        `,title:a.description,children:[d.jsx("span",{className:"text-sm",children:a.icon}),d.jsx("span",{children:a.shortDescription})]}),d.jsx("button",{onClick:y,disabled:r,className:`
          px-1.5 sm:px-2 py-1.5 sm:py-2 rounded-r-lg sm:rounded-r-xl text-sm font-medium transition-all duration-200 border-l border-accent-700/50
          ${r?"bg-surface-700/50 text-surface-500 cursor-not-allowed":"bg-accent-600/90 hover:bg-accent-500 text-white"}
        `,children:d.jsx("svg",{className:`w-3.5 h-3.5 sm:w-4 sm:h-4 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),w&&AY.createPortal(w,document.body)]})},FV={python:"bg-blue-500/15 text-blue-300 border-blue-500/30",typescript:"bg-cyan-500/15 text-cyan-300 border-cyan-500/30",javascript:"bg-yellow-500/15 text-yellow-300 border-yellow-500/30",java:"bg-orange-500/15 text-orange-300 border-orange-500/30",go:"bg-teal-500/15 text-teal-300 border-teal-500/30",rust:"bg-red-500/15 text-red-300 border-red-500/30"},KV=({prompt:t,isSelected:e,onSelect:n,onRunCommand:r,onEditPrompt:s,onAddToQueue:i,isExecuting:a})=>{const[o,u]=j.useState(null),f=t.language&&FV[t.language]||"bg-surface-700/50 text-surface-300 border-surface-600",p=y=>{const w=Ta[y];w.options&&w.options.length>0?u(w):r(y)},m=y=>{o&&(r(o.name,y),u(null))},g=y=>{y.stopPropagation(),n()},x=y=>{y.stopPropagation(),s()},v=y=>{y.stopPropagation(),i==null||i()};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`
          glass rounded-xl sm:rounded-2xl border transition-all duration-200 card-hover
          ${e?"border-accent-500/50 shadow-lg shadow-accent-500/10 ring-1 ring-accent-500/20":"border-surface-700/50 hover:border-surface-600"}
        `,children:[d.jsxs("div",{className:"p-3 sm:p-4 cursor-pointer",onClick:g,children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 sm:mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-wrap min-w-0",children:[d.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white truncate",children:t.sync_basename}),t.language&&d.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] sm:text-xs border font-medium ${f}`,children:t.language})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i&&d.jsxs("button",{onClick:v,className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-1.5 transition-all duration-200 bg-emerald-600/20 text-emerald-300 hover:bg-emerald-600 hover:text-white border border-emerald-600/30 hover:border-emerald-500/50",title:"Add to task queue",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),d.jsx("span",{className:"hidden sm:inline",children:"Queue"})]}),d.jsxs("button",{onClick:x,className:"px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-1.5 transition-all duration-200 bg-surface-700/50 text-surface-300 hover:bg-accent-600 hover:text-white border border-surface-600/50 hover:border-accent-500/50",title:"Open in Prompt Space",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Open"})]}),e&&d.jsx("span",{className:"px-2 py-1 rounded-full bg-accent-500/20 text-accent-300 text-[10px] sm:text-xs font-medium border border-accent-500/30",children:"Selected"})]})]}),d.jsx("p",{className:"text-[10px] sm:text-xs text-surface-400 font-mono mb-2 sm:mb-3 truncate",children:t.prompt}),d.jsxs("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap",children:[d.jsx(Sh,{label:"Prompt",path:t.prompt,exists:!0,color:"purple"}),d.jsx(Sh,{label:"Code",path:t.code,exists:!!t.code,color:"green"}),d.jsx(Sh,{label:"Test",path:t.test,exists:!!t.test,color:"yellow"}),d.jsx(Sh,{label:"Example",path:t.example,exists:!!t.example,color:"blue"})]})]}),e&&d.jsx("div",{className:"flex gap-1.5 sm:gap-2 flex-wrap px-3 sm:px-4 pb-3 sm:pb-4 pt-2 sm:pt-3 border-t border-surface-700/50 bg-surface-800/30 animate-fade-in overflow-visible relative",children:(()=>{const y=Object.values(Ta).filter(k=>k.requiresPrompt),w={},Q=[];return y.forEach(k=>{k.group?(w[k.group]||(w[k.group]=[]),w[k.group].push(k)):Q.push(k)}),d.jsxs(d.Fragment,{children:[Object.entries(w).map(([k,$])=>d.jsx(HV,{commands:$,prompt:t,onRunCommand:p,disabled:a},k)),Q.map(k=>d.jsx(IV,{config:k,prompt:t,onClick:()=>p(k.name),disabled:a},k.name))]})})()})]}),o&&d.jsx(GV,{command:o,prompt:t,onRun:m,onCancel:()=>u(null)})]})},Sh=({label:t,path:e,exists:n,color:r})=>{const s={purple:n?"bg-purple-500/15 text-purple-300 border-purple-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50",green:n?"bg-green-500/15 text-green-300 border-green-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50",yellow:n?"bg-yellow-500/15 text-yellow-300 border-yellow-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50",blue:n?"bg-blue-500/15 text-blue-300 border-blue-500/30":"bg-surface-800/50 text-surface-500 border-surface-700/50"};return d.jsxs("span",{className:`inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 rounded-md text-[10px] sm:text-xs border font-medium ${s[r]}`,title:e||`No ${t.toLowerCase()} file`,children:[d.jsx("span",{className:n?"text-green-400":"text-surface-500",children:n?"":""}),d.jsx("span",{children:t})]})},JV=({onSelectPrompt:t,onRunCommand:e,onEditPrompt:n,onCreatePrompt:r,onAddToQueue:s,selectedPrompt:i,isExecuting:a})=>{const[o,u]=j.useState([]),[f,p]=j.useState(!0),[m,g]=j.useState(null),[x,v]=j.useState(""),[y,w]=j.useState(!1),[Q,k]=j.useState(!1),$=j.useMemo(()=>{if(!x.trim())return o;const N=x.toLowerCase();return o.filter(C=>C.sync_basename.toLowerCase().includes(N)||C.prompt.toLowerCase().includes(N)||C.language&&C.language.toLowerCase().includes(N))},[o,x]);j.useEffect(()=>{_()},[]);const _=async()=>{p(!0),g(null);try{const N=await qe.listPrompts();u(N)}catch(N){g(N.message||"Failed to load prompts")}finally{p(!1)}},T=async N=>{k(!0);try{await qe.writeFile(N.path,N.content),await _(),w(!1),r&&r(N.info)}catch(C){throw new Error(C.message||"Failed to create prompt")}finally{k(!1)}};return f?d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-20",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center mb-4",children:d.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),d.jsx("div",{className:"text-surface-400 text-sm",children:"Loading prompts..."})]}):m?d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-20",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center mb-4",children:d.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("div",{className:"text-red-400 mb-2 text-center",children:m}),d.jsx("button",{onClick:_,className:"px-4 py-2 bg-surface-700/50 hover:bg-surface-600 rounded-xl text-sm text-white transition-colors border border-surface-600",children:"Try Again"})]}):o.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 sm:py-20",children:[d.jsx("div",{className:"w-14 h-14 rounded-2xl bg-surface-700/50 flex items-center justify-center mb-5",children:d.jsx("svg",{className:"w-7 h-7 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),d.jsx("div",{className:"text-surface-200 mb-2 font-semibold text-lg",children:"No prompts found"}),d.jsxs("p",{className:"text-surface-500 text-sm text-center mb-6 max-w-sm",children:["Get started by creating your first prompt, or add ",d.jsx("code",{className:"bg-surface-800/80 px-1.5 py-0.5 rounded text-accent-300",children:".prompt"})," files to the ",d.jsx("code",{className:"bg-surface-800/80 px-1.5 py-0.5 rounded text-accent-300",children:"prompts/"})," directory."]}),d.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white rounded-xl font-medium shadow-lg shadow-accent-500/25 transition-all",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Prompt"]}),y&&d.jsx(q_,{onClose:()=>w(!1),onCreate:T,isCreating:Q,existingPrompts:o})]}):d.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx("span",{className:"hidden sm:inline",children:"Your Prompts"}),d.jsx("span",{className:"sm:hidden",children:"Prompts"}),d.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-accent-500/20 text-accent-300 text-xs font-medium",children:[$.length,x?`/${o.length}`:""]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 text-xs sm:text-sm bg-accent-600 hover:bg-accent-500 text-white rounded-lg transition-colors",title:"Create new prompt",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),d.jsx("span",{className:"hidden sm:inline",children:"New"})]}),d.jsxs("button",{onClick:_,className:"flex items-center gap-1.5 px-2.5 sm:px-3 py-1.5 text-xs sm:text-sm text-surface-400 hover:text-white bg-surface-800/50 hover:bg-surface-700 rounded-lg transition-colors border border-surface-700/50",title:"Refresh",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),d.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search prompts...",value:x,onChange:N=>v(N.target.value),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 pl-9 sm:pl-11 bg-surface-800/50 border border-surface-600/50 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm sm:text-base transition-all"}),d.jsx("span",{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-surface-400",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x&&d.jsx("button",{onClick:()=>v(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-400 hover:text-white p-1 rounded-lg hover:bg-surface-700/50 transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),$.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-700/50 flex items-center justify-center mb-3",children:d.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),d.jsxs("div",{className:"text-surface-400 text-sm text-center",children:['No prompts matching "',d.jsx("span",{className:"text-white",children:x}),'"']})]}):d.jsx("div",{className:"grid gap-3 sm:gap-4",children:$.map(N=>d.jsx(KV,{prompt:N,isSelected:(i==null?void 0:i.prompt)===N.prompt,onSelect:()=>t(N),onRunCommand:(C,q)=>e(C,N,q),onEditPrompt:()=>n(N),onAddToQueue:s?()=>s(N):void 0,isExecuting:a},N.prompt))}),y&&d.jsx(q_,{onClose:()=>w(!1),onCreate:T,isCreating:Q,existingPrompts:o})]})};let Ow=[],Bq=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?Bq:Ow).push(n=n+t[e])})();function e9(t){if(t<768)return!1;for(let e=0,n=Ow.length;;){let r=e+n>>1;if(t<Ow[r])n=r;else if(t>=Bq[r])e=r+1;else return!0;if(e==n)return!1}}function M_(t){return t>=127462&&t<=127487}const z_=8205;function t9(t,e,n=!0,r=!0){return(n?Uq:n9)(t,e,r)}function Uq(t,e,n){if(e==t.length)return e;e&&Gq(t.charCodeAt(e))&&Wq(t.charCodeAt(e-1))&&e--;let r=Ag(t,e);for(e+=Z_(r);e<t.length;){let s=Ag(t,e);if(r==z_||s==z_||n&&e9(s))e+=Z_(s),r=s;else if(M_(s)){let i=0,a=e-2;for(;a>=0&&M_(Ag(t,a));)i++,a-=2;if(i%2==0)break;e+=2}else break}return e}function n9(t,e,n){for(;e>0;){let r=Uq(t,e-2,n);if(r<e)return r;e--}return 0}function Ag(t,e){let n=t.charCodeAt(e);if(!Wq(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Gq(r)?(n-55296<<10)+(r-56320)+65536:n}function Gq(t){return t>=56320&&t<57344}function Wq(t){return t>=55296&&t<56320}function Z_(t){return t<65536?1:2}class Ot{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=lc(this,e,n);let s=[];return this.decompose(0,e,s,2),r.length&&r.decompose(0,r.length,s,3),this.decompose(n,this.length,s,1),Vs.from(s,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=lc(this,e,n);let r=[];return this.decompose(e,n,r,0),Vs.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),s=new ef(this),i=new ef(e);for(let a=n,o=n;;){if(s.next(a),i.next(a),a=0,s.lineBreak!=i.lineBreak||s.done!=i.done||s.value!=i.value)return!1;if(o+=s.value.length,s.done||o>=r)return!0}}iter(e=1){return new ef(this,e)}iterRange(e,n=this.length){return new Iq(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let s=this.line(e).from;r=this.iterRange(s,Math.max(s,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Hq(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Ot.empty:e.length<=32?new fn(e):Vs.from(fn.split(e,[]))}}class fn extends Ot{constructor(e,n=r9(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,s){for(let i=0;;i++){let a=this.text[i],o=s+a.length;if((n?r:o)>=e)return new s9(s,o,r,a);s=o+1,r++}}decompose(e,n,r,s){let i=e<=0&&n>=this.length?this:new fn(L_(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(s&1){let a=r.pop(),o=ap(i.text,a.text.slice(),0,i.length);if(o.length<=32)r.push(new fn(o,a.length+i.length));else{let u=o.length>>1;r.push(new fn(o.slice(0,u)),new fn(o.slice(u)))}}else r.push(i)}replace(e,n,r){if(!(r instanceof fn))return super.replace(e,n,r);[e,n]=lc(this,e,n);let s=ap(this.text,ap(r.text,L_(this.text,0,e)),n),i=this.length+r.length-(n-e);return s.length<=32?new fn(s,i):Vs.from(fn.split(s,[]),i)}sliceString(e,n=this.length,r=`
`){[e,n]=lc(this,e,n);let s="";for(let i=0,a=0;i<=n&&a<this.text.length;a++){let o=this.text[a],u=i+o.length;i>e&&a&&(s+=r),e<u&&n>i&&(s+=o.slice(Math.max(0,e-i),n-i)),i=u+1}return s}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],s=-1;for(let i of e)r.push(i),s+=i.length+1,r.length==32&&(n.push(new fn(r,s)),r=[],s=-1);return s>-1&&n.push(new fn(r,s)),n}}class Vs extends Ot{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,s){for(let i=0;;i++){let a=this.children[i],o=s+a.length,u=r+a.lines-1;if((n?u:o)>=e)return a.lineInner(e,n,r,s);s=o+1,r=u+1}}decompose(e,n,r,s){for(let i=0,a=0;a<=n&&i<this.children.length;i++){let o=this.children[i],u=a+o.length;if(e<=u&&n>=a){let f=s&((a<=e?1:0)|(u>=n?2:0));a>=e&&u<=n&&!f?r.push(o):o.decompose(e-a,n-a,r,f)}a=u+1}}replace(e,n,r){if([e,n]=lc(this,e,n),r.lines<this.lines)for(let s=0,i=0;s<this.children.length;s++){let a=this.children[s],o=i+a.length;if(e>=i&&n<=o){let u=a.replace(e-i,n-i,r),f=this.lines-a.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let p=this.children.slice();return p[s]=u,new Vs(p,this.length-(n-e)+r.length)}return super.replace(i,o,u)}i=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=lc(this,e,n);let s="";for(let i=0,a=0;i<this.children.length&&a<=n;i++){let o=this.children[i],u=a+o.length;a>e&&i&&(s+=r),e<u&&n>a&&(s+=o.sliceString(e-a,n-a,r)),a=u+1}return s}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Vs))return 0;let r=0,[s,i,a,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;s+=n,i+=n){if(s==a||i==o)return r;let u=this.children[s],f=e.children[i];if(u!=f)return r+u.scanIdentical(f,n);r+=u.length+1}}static from(e,n=e.reduce((r,s)=>r+s.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let v of e)v.flatten(x);return new fn(x,n)}let s=Math.max(32,r>>5),i=s<<1,a=s>>1,o=[],u=0,f=-1,p=[];function m(x){let v;if(x.lines>i&&x instanceof Vs)for(let y of x.children)m(y);else x.lines>a&&(u>a||!u)?(g(),o.push(x)):x instanceof fn&&u&&(v=p[p.length-1])instanceof fn&&x.lines+v.lines<=32?(u+=x.lines,f+=x.length+1,p[p.length-1]=new fn(v.text.concat(x.text),v.length+1+x.length)):(u+x.lines>s&&g(),u+=x.lines,f+=x.length+1,p.push(x))}function g(){u!=0&&(o.push(p.length==1?p[0]:Vs.from(p,f)),f=-1,u=p.length=0)}for(let x of e)m(x);return g(),o.length==1?o[0]:new Vs(o,n)}}Ot.empty=new fn([""],0);function r9(t){let e=-1;for(let n of t)e+=n.length+1;return e}function ap(t,e,n=0,r=1e9){for(let s=0,i=0,a=!0;i<t.length&&s<=r;i++){let o=t[i],u=s+o.length;u>=n&&(u>r&&(o=o.slice(0,r-s)),s<n&&(o=o.slice(n-s)),a?(e[e.length-1]+=o,a=!1):e.push(o)),s=u+1}return e}function L_(t,e,n){return ap(t,[""],e,n)}class ef{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof fn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,s=this.nodes[r],i=this.offsets[r],a=i>>1,o=s instanceof fn?s.text.length:s.children.length;if(a==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((i&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(s instanceof fn){let u=s.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=s.children[a+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof fn?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Iq{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new ef(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:s}=this.cursor.next(e);return this.pos+=(s.length+e)*n,this.value=s.length<=r?s:n<0?s.slice(s.length-r):s.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Hq{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:s}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Ot.prototype[Symbol.iterator]=function(){return this.iter()},ef.prototype[Symbol.iterator]=Iq.prototype[Symbol.iterator]=Hq.prototype[Symbol.iterator]=function(){return this});let s9=class{constructor(e,n,r,s){this.from=e,this.to=n,this.number=r,this.text=s}get length(){return this.to-this.from}};function lc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Xn(t,e,n=!0,r=!0){return t9(t,e,n,r)}function i9(t){return t>=56320&&t<57344}function a9(t){return t>=55296&&t<56320}function cl(t,e){let n=t.charCodeAt(e);if(!a9(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return i9(r)?(n-55296<<10)+(r-56320)+65536:n}function l9(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Xo(t){return t<65536?1:2}const gw=/\r\n?|\n/;var Wn=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Wn||(Wn={}));class Ws{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,s=0;n<this.sections.length;){let i=this.sections[n++],a=this.sections[n++];a<0?(e(r,s,i),s+=i):s+=a,r+=i}}iterChangedRanges(e,n=!1){xw(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],s=this.sections[n++];s<0?e.push(r,s):e.push(s,r)}return new Ws(e)}composeDesc(e){return this.empty?e:e.empty?this:Fq(this,e)}mapDesc(e,n=!1){return e.empty?this:bw(this,e,n)}mapPos(e,n=-1,r=Wn.Simple){let s=0,i=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],u=this.sections[a++],f=s+o;if(u<0){if(f>e)return i+(e-s);i+=o}else{if(r!=Wn.Simple&&f>=e&&(r==Wn.TrackDel&&s<e&&f>e||r==Wn.TrackBefore&&s<e||r==Wn.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!o)return e==s||n<0?i:i+u;i+=u}s=f}if(e>s)throw new RangeError(`Position ${e} is out of range for changeset of length ${s}`);return i}touchesRange(e,n=e){for(let r=0,s=0;r<this.sections.length&&s<=n;){let i=this.sections[r++],a=this.sections[r++],o=s+i;if(a>=0&&s<=n&&o>=e)return s<e&&o>n?"cover":!0;s=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],s=this.sections[n++];e+=(e?" ":"")+r+(s>=0?":"+s:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Ws(e)}static create(e){return new Ws(e)}}class Sn extends Ws{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return xw(this,(n,r,s,i,a)=>e=e.replace(s,s+(r-n),a),!1),e}mapDesc(e,n=!1){return bw(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let s=0,i=0;s<n.length;s+=2){let a=n[s],o=n[s+1];if(o>=0){n[s]=o,n[s+1]=a;let u=s>>1;for(;r.length<u;)r.push(Ot.empty);r.push(a?e.slice(i,i+a):Ot.empty)}i+=a}return new Sn(n,r)}compose(e){return this.empty?e:e.empty?this:Fq(this,e,!0)}map(e,n=!1){return e.empty?this:bw(this,e,n,!0)}iterChanges(e,n=!1){xw(this,e,n)}get desc(){return Ws.create(this.sections)}filter(e){let n=[],r=[],s=[],i=new hf(this);e:for(let a=0,o=0;;){let u=a==e.length?1e9:e[a++];for(;o<u||o==u&&i.len==0;){if(i.done)break e;let p=Math.min(i.len,u-o);Ln(s,p,-1);let m=i.ins==-1?-1:i.off==0?i.ins:0;Ln(n,p,m),m>0&&$a(r,n,i.text),i.forward(p),o+=p}let f=e[a++];for(;o<f;){if(i.done)break e;let p=Math.min(i.len,f-o);Ln(n,p,-1),Ln(s,p,i.ins==-1?-1:i.off==0?i.ins:0),i.forward(p),o+=p}}return{changes:new Sn(n,r),filtered:Ws.create(s)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],s=this.sections[n+1];s<0?e.push(r):s==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let s=[],i=[],a=0,o=null;function u(p=!1){if(!p&&!s.length)return;a<n&&Ln(s,n-a,-1);let m=new Sn(s,i);o=o?o.compose(m.map(o)):m,s=[],i=[],a=0}function f(p){if(Array.isArray(p))for(let m of p)f(m);else if(p instanceof Sn){if(p.length!=n)throw new RangeError(`Mismatched change set length (got ${p.length}, expected ${n})`);u(),o=o?o.compose(p.map(o)):p}else{let{from:m,to:g=m,insert:x}=p;if(m>g||m<0||g>n)throw new RangeError(`Invalid change range ${m} to ${g} (in doc of length ${n})`);let v=x?typeof x=="string"?Ot.of(x.split(r||gw)):x:Ot.empty,y=v.length;if(m==g&&y==0)return;m<a&&u(),m>a&&Ln(s,m-a,-1),Ln(s,g-m,y),$a(i,s,v),a=g}}return f(e),u(!o),o}static empty(e){return new Sn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let s=0;s<e.length;s++){let i=e[s];if(typeof i=="number")n.push(i,-1);else{if(!Array.isArray(i)||typeof i[0]!="number"||i.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(i.length==1)n.push(i[0],0);else{for(;r.length<s;)r.push(Ot.empty);r[s]=Ot.of(i.slice(1)),n.push(i[0],r[s].length)}}}return new Sn(n,r)}static createSet(e,n){return new Sn(e,n)}}function Ln(t,e,n,r=!1){if(e==0&&n<=0)return;let s=t.length-2;s>=0&&n<=0&&n==t[s+1]?t[s]+=e:s>=0&&e==0&&t[s]==0?t[s+1]+=n:r?(t[s]+=e,t[s+1]+=n):t.push(e,n)}function $a(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Ot.empty);t.push(n)}}function xw(t,e,n){let r=t.inserted;for(let s=0,i=0,a=0;a<t.sections.length;){let o=t.sections[a++],u=t.sections[a++];if(u<0)s+=o,i+=o;else{let f=s,p=i,m=Ot.empty;for(;f+=o,p+=u,u&&r&&(m=m.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)o=t.sections[a++],u=t.sections[a++];e(s,f,i,p,m),s=f,i=p}}}function bw(t,e,n,r=!1){let s=[],i=r?[]:null,a=new hf(t),o=new hf(e);for(let u=-1;;){if(a.done&&o.len||o.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&o.ins==-1){let f=Math.min(a.len,o.len);Ln(s,f,-1),a.forward(f),o.forward(f)}else if(o.ins>=0&&(a.ins<0||u==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!n))){let f=o.len;for(Ln(s,o.ins,-1);f;){let p=Math.min(a.len,f);a.ins>=0&&u<a.i&&a.len<=p&&(Ln(s,0,a.ins),i&&$a(i,s,a.text),u=a.i),a.forward(p),f-=p}o.next()}else if(a.ins>=0){let f=0,p=a.len;for(;p;)if(o.ins==-1){let m=Math.min(p,o.len);f+=m,p-=m,o.forward(m)}else if(o.ins==0&&o.len<p)p-=o.len,o.next();else break;Ln(s,f,u<a.i?a.ins:0),i&&u<a.i&&$a(i,s,a.text),u=a.i,a.forward(a.len-p)}else{if(a.done&&o.done)return i?Sn.createSet(s,i):Ws.create(s);throw new Error("Mismatched change set lengths")}}}function Fq(t,e,n=!1){let r=[],s=n?[]:null,i=new hf(t),a=new hf(e);for(let o=!1;;){if(i.done&&a.done)return s?Sn.createSet(r,s):Ws.create(r);if(i.ins==0)Ln(r,i.len,0,o),i.next();else if(a.len==0&&!a.done)Ln(r,0,a.ins,o),s&&$a(s,r,a.text),a.next();else{if(i.done||a.done)throw new Error("Mismatched change set lengths");{let u=Math.min(i.len2,a.len),f=r.length;if(i.ins==-1){let p=a.ins==-1?-1:a.off?0:a.ins;Ln(r,u,p,o),s&&p&&$a(s,r,a.text)}else a.ins==-1?(Ln(r,i.off?0:i.len,u,o),s&&$a(s,r,i.textBit(u))):(Ln(r,i.off?0:i.len,a.off?0:a.ins,o),s&&!a.off&&$a(s,r,a.text));o=(i.ins>u||a.ins>=0&&a.len>u)&&(o||r.length>f),i.forward2(u),a.forward(u)}}}}class hf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Ot.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Ot.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class gl{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,s;return this.empty?r=s=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),s=e.mapPos(this.to,-1)),r==this.from&&s==this.to?this:new gl(r,s,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return ge.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return ge.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ge.range(e.anchor,e.head)}static create(e,n,r){return new gl(e,n,r)}}class ge{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:ge.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ge([this.main],0)}addRange(e,n=!0){return ge.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,ge.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ge(e.ranges.map(n=>gl.fromJSON(n)),e.main)}static single(e,n=e){return new ge([ge.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,s=0;s<e.length;s++){let i=e[s];if(i.empty?i.from<=r:i.from<r)return ge.normalized(e.slice(),n);r=i.to}return new ge(e,n)}static cursor(e,n=0,r,s){return gl.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(s??16777215)<<6)}static range(e,n,r,s){let i=(r??16777215)<<6|(s==null?7:Math.min(6,s));return n<e?gl.create(n,e,48|i):gl.create(e,n,(n>e?8:0)|i)}static normalized(e,n=0){let r=e[n];e.sort((s,i)=>s.from-i.from),n=e.indexOf(r);for(let s=1;s<e.length;s++){let i=e[s],a=e[s-1];if(i.empty?i.from<=a.to:i.from<a.to){let o=a.from,u=Math.max(i.to,a.to);s<=n&&n--,e.splice(--s,2,i.anchor>i.head?ge.range(u,o):ge.range(o,u))}}return new ge(e,n)}}function Kq(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let W2=0;class Re{constructor(e,n,r,s,i){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=s,this.id=W2++,this.default=e([]),this.extensions=typeof i=="function"?i(this):i}get reader(){return this}static define(e={}){return new Re(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:I2),!!e.static,e.enables)}of(e){return new lp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new lp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new lp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function I2(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class lp{constructor(e,n,r,s){this.dependencies=e,this.facet=n,this.type=r,this.value=s,this.id=W2++}dynamicSlot(e){var n;let r=this.value,s=this.facet.compareInput,i=this.id,a=e[i]>>1,o=this.type==2,u=!1,f=!1,p=[];for(let m of this.dependencies)m=="doc"?u=!0:m=="selection"?f=!0:(((n=e[m.id])!==null&&n!==void 0?n:1)&1)==0&&p.push(e[m.id]);return{create(m){return m.values[a]=r(m),1},update(m,g){if(u&&g.docChanged||f&&(g.docChanged||g.selection)||yw(m,p)){let x=r(m);if(o?!Y_(x,m.values[a],s):!s(x,m.values[a]))return m.values[a]=x,1}return 0},reconfigure:(m,g)=>{let x,v=g.config.address[i];if(v!=null){let y=Pp(g,v);if(this.dependencies.every(w=>w instanceof Re?g.facet(w)===m.facet(w):w instanceof Ks?g.field(w,!1)==m.field(w,!1):!0)||(o?Y_(x=r(m),y,s):s(x=r(m),y)))return m.values[a]=y,0}else x=r(m);return m.values[a]=x,1}}}}function Y_(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function yw(t,e){let n=!1;for(let r of e)tf(t,r)&1&&(n=!0);return n}function o9(t,e,n){let r=n.map(u=>t[u.id]),s=n.map(u=>u.type),i=r.filter(u=>!(u&1)),a=t[e.id]>>1;function o(u){let f=[];for(let p=0;p<r.length;p++){let m=Pp(u,r[p]);if(s[p]==2)for(let g of m)f.push(g);else f.push(m)}return e.combine(f)}return{create(u){for(let f of r)tf(u,f);return u.values[a]=o(u),1},update(u,f){if(!yw(u,i))return 0;let p=o(u);return e.compare(p,u.values[a])?0:(u.values[a]=p,1)},reconfigure(u,f){let p=yw(u,r),m=f.config.facets[e.id],g=f.facet(e);if(m&&!p&&I2(n,m))return u.values[a]=g,0;let x=o(u);return e.compare(x,g)?(u.values[a]=g,0):(u.values[a]=x,1)}}}const wh=Re.define({static:!0});class Ks{constructor(e,n,r,s,i){this.id=e,this.createF=n,this.updateF=r,this.compareF=s,this.spec=i,this.provides=void 0}static define(e){let n=new Ks(W2++,e.create,e.update,e.compare||((r,s)=>r===s),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(wh).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,s)=>{let i=r.values[n],a=this.updateF(i,s);return this.compareF(i,a)?0:(r.values[n]=a,1)},reconfigure:(r,s)=>{let i=r.facet(wh),a=s.facet(wh),o;return(o=i.find(u=>u.field==this))&&o!=a.find(u=>u.field==this)?(r.values[n]=o.create(r),1):s.config.address[this.id]!=null?(r.values[n]=s.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,wh.of({field:this,create:e})]}get extension(){return this}}const dl={lowest:4,low:3,default:2,high:1,highest:0};function $u(t){return e=>new Jq(e,t)}const Xl={highest:$u(dl.highest),high:$u(dl.high),default:$u(dl.default),low:$u(dl.low),lowest:$u(dl.lowest)};class Jq{constructor(e,n){this.inner=e,this.prec=n}}class Yf{of(e){return new vw(this,e)}reconfigure(e){return Yf.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class vw{constructor(e,n){this.compartment=e,this.inner=n}}class _p{constructor(e,n,r,s,i,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=s,this.staticValues=i,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let s=[],i=Object.create(null),a=new Map;for(let g of c9(e,n,a))g instanceof Ks?s.push(g):(i[g.facet.id]||(i[g.facet.id]=[])).push(g);let o=Object.create(null),u=[],f=[];for(let g of s)o[g.id]=f.length<<1,f.push(x=>g.slot(x));let p=r==null?void 0:r.config.facets;for(let g in i){let x=i[g],v=x[0].facet,y=p&&p[g]||[];if(x.every(w=>w.type==0))if(o[v.id]=u.length<<1|1,I2(y,x))u.push(r.facet(v));else{let w=v.combine(x.map(Q=>Q.value));u.push(r&&v.compare(w,r.facet(v))?r.facet(v):w)}else{for(let w of x)w.type==0?(o[w.id]=u.length<<1|1,u.push(w.value)):(o[w.id]=f.length<<1,f.push(Q=>w.dynamicSlot(Q)));o[v.id]=f.length<<1,f.push(w=>o9(w,v,x))}}let m=f.map(g=>g(o));return new _p(e,a,m,o,u,i)}}function c9(t,e,n){let r=[[],[],[],[],[]],s=new Map;function i(a,o){let u=s.get(a);if(u!=null){if(u<=o)return;let f=r[u].indexOf(a);f>-1&&r[u].splice(f,1),a instanceof vw&&n.delete(a.compartment)}if(s.set(a,o),Array.isArray(a))for(let f of a)i(f,o);else if(a instanceof vw){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(a.compartment)||a.inner;n.set(a.compartment,f),i(f,o)}else if(a instanceof Jq)i(a.inner,a.prec);else if(a instanceof Ks)r[o].push(a),a.provides&&i(a.provides,o);else if(a instanceof lp)r[o].push(a),a.facet.extensions&&i(a.facet.extensions,dl.default);else{let f=a.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);i(f,o)}}return i(t,dl.default),r.reduce((a,o)=>a.concat(o))}function tf(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let s=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|s}function Pp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const eX=Re.define(),Sw=Re.define({combine:t=>t.some(e=>e),static:!0}),tX=Re.define({combine:t=>t.length?t[0]:void 0,static:!0}),nX=Re.define(),rX=Re.define(),sX=Re.define(),iX=Re.define({combine:t=>t.length?t[0]:!1});class Vi{constructor(e,n){this.type=e,this.value=n}static define(){return new u9}}class u9{of(e){return new Vi(this,e)}}class f9{constructor(e){this.map=e}of(e){return new Ct(this,e)}}class Ct{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Ct(this.type,n)}is(e){return this.type==e}static define(e={}){return new f9(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let s of e){let i=s.map(n);i&&r.push(i)}return r}}Ct.reconfigure=Ct.define();Ct.appendConfig=Ct.define();class xn{constructor(e,n,r,s,i,a){this.startState=e,this.changes=n,this.selection=r,this.effects=s,this.annotations=i,this.scrollIntoView=a,this._doc=null,this._state=null,r&&Kq(r,n.newLength),i.some(o=>o.type==xn.time)||(this.annotations=i.concat(xn.time.of(Date.now())))}static create(e,n,r,s,i,a){return new xn(e,n,r,s,i,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(xn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}xn.time=Vi.define();xn.userEvent=Vi.define();xn.addToHistory=Vi.define();xn.remote=Vi.define();function d9(t,e){let n=[];for(let r=0,s=0;;){let i,a;if(r<t.length&&(s==e.length||e[s]>=t[r]))i=t[r++],a=t[r++];else if(s<e.length)i=e[s++],a=e[s++];else return n;!n.length||n[n.length-1]<i?n.push(i,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function aX(t,e,n){var r;let s,i,a;return n?(s=e.changes,i=Sn.empty(e.changes.length),a=t.changes.compose(e.changes)):(s=e.changes.map(t.changes),i=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(s)),{changes:a,selection:e.selection?e.selection.map(i):(r=t.selection)===null||r===void 0?void 0:r.map(s),effects:Ct.mapEffects(t.effects,s).concat(Ct.mapEffects(e.effects,i)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function ww(t,e,n){let r=e.selection,s=Io(e.annotations);return e.userEvent&&(s=s.concat(xn.userEvent.of(e.userEvent))),{changes:e.changes instanceof Sn?e.changes:Sn.of(e.changes||[],n,t.facet(tX)),selection:r&&(r instanceof ge?r:ge.single(r.anchor,r.head)),effects:Io(e.effects),annotations:s,scrollIntoView:!!e.scrollIntoView}}function lX(t,e,n){let r=ww(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let i=1;i<e.length;i++){e[i].filter===!1&&(n=!1);let a=!!e[i].sequential;r=aX(r,ww(t,e[i],a?r.changes.newLength:t.doc.length),a)}let s=xn.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return p9(n?h9(s):s)}function h9(t){let e=t.startState,n=!0;for(let s of e.facet(nX)){let i=s(t);if(i===!1){n=!1;break}Array.isArray(i)&&(n=n===!0?i:d9(n,i))}if(n!==!0){let s,i;if(n===!1)i=t.changes.invertedDesc,s=Sn.empty(e.doc.length);else{let a=t.changes.filter(n);s=a.changes,i=a.filtered.mapDesc(a.changes).invertedDesc}t=xn.create(e,s,t.selection&&t.selection.map(i),Ct.mapEffects(t.effects,i),t.annotations,t.scrollIntoView)}let r=e.facet(rX);for(let s=r.length-1;s>=0;s--){let i=r[s](t);i instanceof xn?t=i:Array.isArray(i)&&i.length==1&&i[0]instanceof xn?t=i[0]:t=lX(e,Io(i),!1)}return t}function p9(t){let e=t.startState,n=e.facet(sX),r=t;for(let s=n.length-1;s>=0;s--){let i=n[s](t);i&&Object.keys(i).length&&(r=aX(r,ww(e,i,t.changes.newLength),!0))}return r==t?t:xn.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const m9=[];function Io(t){return t==null?m9:Array.isArray(t)?t:[t]}var Ci=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(Ci||(Ci={}));const O9=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Qw;try{Qw=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function g9(t){if(Qw)return Qw.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||O9.test(n)))return!0}return!1}function x9(t){return e=>{if(!/\S/.test(e))return Ci.Space;if(g9(e))return Ci.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ci.Word;return Ci.Other}}class bt{constructor(e,n,r,s,i,a){this.config=e,this.doc=n,this.selection=r,this.values=s,this.status=e.statusTemplate.slice(),this.computeSlot=i,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)tf(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return tf(this,r),Pp(this,r)}update(...e){return lX(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:s}=n;for(let o of e.effects)o.is(Yf.reconfigure)?(n&&(s=new Map,n.compartments.forEach((u,f)=>s.set(f,u)),n=null),s.set(o.value.compartment,o.value.extension)):o.is(Ct.reconfigure)?(n=null,r=o.value):o.is(Ct.appendConfig)&&(n=null,r=Io(r).concat(o.value));let i;n?i=e.startState.values.slice():(n=_p.resolve(r,s,this),i=new bt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let a=e.startState.facet(Sw)?e.newSelection:e.newSelection.asSingle();new bt(n,e.newDoc,a,i,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:ge.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),s=this.changes(r.changes),i=[r.range],a=Io(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),f=this.changes(u.changes),p=f.map(s);for(let g=0;g<o;g++)i[g]=i[g].map(p);let m=s.mapDesc(f,!0);i.push(u.range.map(m)),s=s.compose(p),a=Ct.mapEffects(a,p).concat(Ct.mapEffects(Io(u.effects),m))}return{changes:s,selection:ge.create(i,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Sn?e:Sn.of(e,this.doc.length,this.facet(bt.lineSeparator))}toText(e){return Ot.of(e.split(this.facet(bt.lineSeparator)||gw))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(tf(this,n),Pp(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let s=e[r];s instanceof Ks&&this.config.address[s.id]!=null&&(n[r]=s.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s=[];if(r){for(let i in r)if(Object.prototype.hasOwnProperty.call(e,i)){let a=r[i],o=e[i];s.push(a.init(u=>a.spec.fromJSON(o,u)))}}return bt.create({doc:e.doc,selection:ge.fromJSON(e.selection),extensions:n.extensions?s.concat([n.extensions]):s})}static create(e={}){let n=_p.resolve(e.extensions||[],new Map),r=e.doc instanceof Ot?e.doc:Ot.of((e.doc||"").split(n.staticFacet(bt.lineSeparator)||gw)),s=e.selection?e.selection instanceof ge?e.selection:ge.single(e.selection.anchor,e.selection.head):ge.single(0);return Kq(s,r.length),n.staticFacet(Sw)||(s=s.asSingle()),new bt(n,r,s,n.dynamicSlots.map(()=>null),(i,a)=>a.create(i),null)}get tabSize(){return this.facet(bt.tabSize)}get lineBreak(){return this.facet(bt.lineSeparator)||`
`}get readOnly(){return this.facet(iX)}phrase(e,...n){for(let r of this.facet(bt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,s)=>{if(s=="$")return"$";let i=+(s||1);return!i||i>n.length?r:n[i-1]})),e}languageDataAt(e,n,r=-1){let s=[];for(let i of this.facet(eX))for(let a of i(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&s.push(a[e]);return s}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return x9(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:s}=this.doc.lineAt(e),i=this.charCategorizer(e),a=e-r,o=e-r;for(;a>0;){let u=Xn(n,a,!1);if(i(n.slice(u,a))!=Ci.Word)break;a=u}for(;o<s;){let u=Xn(n,o);if(i(n.slice(o,u))!=Ci.Word)break;o=u}return a==o?null:ge.range(a+r,o+r)}}bt.allowMultipleSelections=Sw;bt.tabSize=Re.define({combine:t=>t.length?t[0]:4});bt.lineSeparator=tX;bt.readOnly=iX;bt.phrases=Re.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(s=>t[s]==e[s])}});bt.languageData=eX;bt.changeFilter=nX;bt.transactionFilter=rX;bt.transactionExtender=sX;Yf.reconfigure=Ct.define();function H2(t,e,n={}){let r={};for(let s of t)for(let i of Object.keys(s)){let a=s[i],o=r[i];if(o===void 0)r[i]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(n,i))r[i]=n[i](o,a);else throw new Error("Config merge conflict for field "+i)}for(let s in e)r[s]===void 0&&(r[s]=e[s]);return r}class Ca{eq(e){return this==e}range(e,n=e){return kw.create(e,n,this)}}Ca.prototype.startSide=Ca.prototype.endSide=0;Ca.prototype.point=!1;Ca.prototype.mapMode=Wn.TrackDel;function F2(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let kw=class oX{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new oX(e,n,r)}};function $w(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class K2{constructor(e,n,r,s){this.from=e,this.to=n,this.value=r,this.maxPoint=s}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,s=0){let i=r?this.to:this.from;for(let a=s,o=i.length;;){if(a==o)return a;let u=a+o>>1,f=i[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==a)return f>=0?a:o;f>=0?o=u:a=u+1}}between(e,n,r,s){for(let i=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,i);i<a;i++)if(s(this.from[i]+e,this.to[i]+e,this.value[i])===!1)return!1}map(e,n){let r=[],s=[],i=[],a=-1,o=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],p=this.from[u]+e,m=this.to[u]+e,g,x;if(p==m){let v=n.mapPos(p,f.startSide,f.mapMode);if(v==null||(g=x=v,f.startSide!=f.endSide&&(x=n.mapPos(p,f.endSide),x<g)))continue}else if(g=n.mapPos(p,f.startSide),x=n.mapPos(m,f.endSide),g>x||g==x&&f.startSide>0&&f.endSide<=0)continue;(x-g||f.endSide-f.startSide)<0||(a<0&&(a=g),f.point&&(o=Math.max(o,x-g)),r.push(f),s.push(g-a),i.push(x-a))}return{mapped:r.length?new K2(s,i,r,o):null,pos:a}}}class mt{constructor(e,n,r,s){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=s}static create(e,n,r,s){return new mt(e,n,r,s)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:s=0,filterTo:i=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort($w)),this.isEmpty)return n.length?mt.of(n):this;let o=new cX(this,null,-1).goto(0),u=0,f=[],p=new pf;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let m=n[u++];p.addInner(m.from,m.to,m.value)||f.push(m)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!a||s>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&p.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||s>o.to||i<o.from||a(o.from,o.to,o.value))&&(p.addInner(o.from,o.to,o.value)||f.push(kw.create(o.from,o.to,o.value))),o.next());return p.finishInner(this.nextLayer.isEmpty&&!f.length?mt.empty:this.nextLayer.update({add:f,filter:a,filterFrom:s,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],s=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],u=this.chunk[a],f=e.touchesRange(o,o+u.length);if(f===!1)s=Math.max(s,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(f===!0){let{mapped:p,pos:m}=u.map(o,e);p&&(s=Math.max(s,p.maxPoint),n.push(p),r.push(m))}}let i=this.nextLayer.map(e);return n.length==0?i:new mt(r,n,i||mt.empty,s)}between(e,n,r){if(!this.isEmpty){for(let s=0;s<this.chunk.length;s++){let i=this.chunkPos[s],a=this.chunk[s];if(n>=i&&e<=i+a.length&&a.between(i,e-i,n-i,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return mf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return mf.from(e).goto(n)}static compare(e,n,r,s,i=-1){let a=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=i),o=n.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=i),u=V_(a,o,r),f=new Tu(a,u,i),p=new Tu(o,u,i);r.iterGaps((m,g,x)=>D_(f,m,p,g,x,s)),r.empty&&r.length==0&&D_(f,0,p,0,0,s)}static eq(e,n,r=0,s){s==null&&(s=999999999);let i=e.filter(p=>!p.isEmpty&&n.indexOf(p)<0),a=n.filter(p=>!p.isEmpty&&e.indexOf(p)<0);if(i.length!=a.length)return!1;if(!i.length)return!0;let o=V_(i,a),u=new Tu(i,o,0).goto(r),f=new Tu(a,o,0).goto(r);for(;;){if(u.to!=f.to||!Tw(u.active,f.active)||u.point&&(!f.point||!F2(u.point,f.point)))return!1;if(u.to>s)return!0;u.next(),f.next()}}static spans(e,n,r,s,i=-1){let a=new Tu(e,null,i).goto(n),o=n,u=a.openStart;for(;;){let f=Math.min(a.to,r);if(a.point){let p=a.activeForPoint(a.to),m=a.pointFrom<n?p.length+1:a.point.startSide<0?p.length:Math.min(p.length,u);s.point(o,f,a.point,p,m,a.pointRank),u=Math.min(a.openEnd(f),p.length)}else f>o&&(s.span(o,f,a.active,u),u=a.openEnd(f));if(a.to>r)return u+(a.point&&a.to>r?1:0);o=a.to,a.next()}}static of(e,n=!1){let r=new pf;for(let s of e instanceof kw?[e]:n?b9(e):e)r.add(s.from,s.to,s.value);return r.finish()}static join(e){if(!e.length)return mt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let s=e[r];s!=mt.empty;s=s.nextLayer)n=new mt(s.chunkPos,s.chunk,n,Math.max(s.maxPoint,n.maxPoint));return n}}mt.empty=new mt([],[],null,-1);function b9(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if($w(e,r)>0)return t.slice().sort($w);e=r}return t}mt.empty.nextLayer=mt.empty;class pf{finishChunk(e){this.chunks.push(new K2(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new pf)).add(e,n,r)}addInner(e,n,r){let s=e-this.lastTo||r.startSide-this.last.endSide;if(s<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return s<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(mt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=mt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function V_(t,e,n){let r=new Map;for(let i of t)for(let a=0;a<i.chunk.length;a++)i.chunk[a].maxPoint<=0&&r.set(i.chunk[a],i.chunkPos[a]);let s=new Set;for(let i of e)for(let a=0;a<i.chunk.length;a++){let o=r.get(i.chunk[a]);o!=null&&(n?n.mapPos(o):o)==i.chunkPos[a]&&!(n!=null&&n.touchesRange(o,o+i.chunk[a].length))&&s.add(i.chunk[a])}return s}class cX{constructor(e,n,r,s=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=s}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let s=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(s)||this.layer.chunkEnd(this.chunkIndex)<e||s.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let s=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<s)&&this.setRangeIndex(s)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class mf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let s=[];for(let i=0;i<e.length;i++)for(let a=e[i];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&s.push(new cX(a,n,r,i));return s.length==1?s[0]:new mf(s)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)qg(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)qg(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),qg(this.heap,0)}}}function qg(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let s=t[r];if(r+1<t.length&&s.compare(t[r+1])>=0&&(s=t[r+1],r++),n.compare(s)<0)break;t[r]=n,t[e]=s,e=r}}class Tu{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=mf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Qh(this.active,e),Qh(this.activeTo,e),Qh(this.activeRank,e),this.minActive=B_(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:s,rank:i}=this.cursor;for(;n<this.activeRank.length&&(i-this.activeRank[n]||s-this.activeTo[n])>0;)n++;kh(this.active,n,r),kh(this.activeTo,n,s),kh(this.activeRank,n,i),e&&kh(e,n,this.cursor.from),this.minActive=B_(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),r&&Qh(r,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let i=this.cursor.value;if(!i.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let s=r.length-1;s>=0&&r[s]<e;s--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function D_(t,e,n,r,s,i){t.goto(e),n.goto(r);let a=r+s,o=r,u=r-e,f=!!i.boundChange;for(let p=!1;;){let m=t.to+u-n.to,g=m||t.endSide-n.endSide,x=g<0?t.to+u:n.to,v=Math.min(x,a);if(t.point||n.point?(t.point&&n.point&&F2(t.point,n.point)&&Tw(t.activeForPoint(t.to),n.activeForPoint(n.to))||i.comparePoint(o,v,t.point,n.point),p=!1):(p&&i.boundChange(o),v>o&&!Tw(t.active,n.active)&&i.compareRange(o,v,t.active,n.active),f&&v<a&&(m||t.openEnd(x)!=n.openEnd(x))&&(p=!0)),x>a)break;o=x,g<=0&&t.next(),g>=0&&n.next()}}function Tw(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!F2(t[n],e[n]))return!1;return!0}function Qh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function kh(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function B_(t,e){let n=-1,r=1e9;for(let s=0;s<e.length;s++)(e[s]-r||t[s].endSide-t[n].endSide)<0&&(n=s,r=e[s]);return n}function Mi(t,e,n=t.length){let r=0;for(let s=0;s<n&&s<t.length;)t.charCodeAt(s)==9?(r+=e-r%e,s++):(r++,s=Xn(t,s));return r}function y9(t,e,n,r){for(let s=0,i=0;;){if(i>=e)return s;if(s==t.length)break;i+=t.charCodeAt(s)==9?n-i%n:1,s=Xn(t,s)}return t.length}const _w="",U_=typeof Symbol>"u"?"__"+_w:Symbol.for(_w),Pw=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Ea{constructor(e,n){this.rules=[];let{finish:r}=n||{};function s(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function i(a,o,u,f){let p=[],m=/^@(\w+)\b/.exec(a[0]),g=m&&m[1]=="keyframes";if(m&&o==null)return u.push(a[0]+";");for(let x in o){let v=o[x];if(/&/.test(x))i(x.split(/,\s*/).map(y=>a.map(w=>y.replace(/&/,w))).reduce((y,w)=>y.concat(w)),v,u);else if(v&&typeof v=="object"){if(!m)throw new RangeError("The value of a property ("+x+") should be a primitive value.");i(s(x),v,p,g)}else v!=null&&p.push(x.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+v+";")}(p.length||g)&&u.push((r&&!m&&!f?a.map(r):a).join(", ")+" {"+p.join(" ")+"}")}for(let a in e)i(s(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=G_[U_]||1;return G_[U_]=e+1,_w+e.toString(36)}static mount(e,n,r){let s=e[Pw],i=r&&r.nonce;s?i&&s.setNonce(i):s=new v9(e,i),s.mount(Array.isArray(n)?n:[n],e)}}let W_=new Map;class v9{constructor(e,n){let r=e.ownerDocument||e,s=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&s.CSSStyleSheet){let i=W_.get(r);if(i)return e[Pw]=i;this.sheet=new s.CSSStyleSheet,W_.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[Pw]=this}mount(e,n){let r=this.sheet,s=0,i=0;for(let a=0;a<e.length;a++){let o=e[a],u=this.modules.indexOf(o);if(u<i&&u>-1&&(this.modules.splice(u,1),i--,u=-1),u==-1){if(this.modules.splice(i++,0,o),r)for(let f=0;f<o.rules.length;f++)r.insertRule(o.rules[f],s++)}else{for(;i<u;)s+=this.modules[i++].rules.length;s+=o.rules.length,i++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let u=0;u<this.modules.length;u++)a+=this.modules[u].getRules()+`
`;this.styleTag.textContent=a;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Ra={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Of={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},S9=typeof navigator<"u"&&/Mac/.test(navigator.platform),w9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qn=0;qn<10;qn++)Ra[48+qn]=Ra[96+qn]=String(qn);for(var qn=1;qn<=24;qn++)Ra[qn+111]="F"+qn;for(var qn=65;qn<=90;qn++)Ra[qn]=String.fromCharCode(qn+32),Of[qn]=String.fromCharCode(qn);for(var Xg in Ra)Of.hasOwnProperty(Xg)||(Of[Xg]=Ra[Xg]);function Q9(t){var e=S9&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||w9&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Of:Ra)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}let Gn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},jw=typeof document<"u"?document:{documentElement:{style:{}}};const Nw=/Edge\/(\d+)/.exec(Gn.userAgent),uX=/MSIE \d/.test(Gn.userAgent),Cw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Gn.userAgent),Pm=!!(uX||Cw||Nw),I_=!Pm&&/gecko\/(\d+)/i.test(Gn.userAgent),Mg=!Pm&&/Chrome\/(\d+)/.exec(Gn.userAgent),k9="webkitFontSmoothing"in jw.documentElement.style,Ew=!Pm&&/Apple Computer/.test(Gn.vendor),H_=Ew&&(/Mobile\/\w+/.test(Gn.userAgent)||Gn.maxTouchPoints>2);var _e={mac:H_||/Mac/.test(Gn.platform),windows:/Win/.test(Gn.platform),linux:/Linux|X11/.test(Gn.platform),ie:Pm,ie_version:uX?jw.documentMode||6:Cw?+Cw[1]:Nw?+Nw[1]:0,gecko:I_,gecko_version:I_?+(/Firefox\/(\d+)/.exec(Gn.userAgent)||[0,0])[1]:0,chrome:!!Mg,chrome_version:Mg?+Mg[1]:0,ios:H_,android:/Android\b/.test(Gn.userAgent),webkit_version:k9?+(/\bAppleWebKit\/(\d+)/.exec(Gn.userAgent)||[0,0])[1]:0,safari:Ew,safari_version:Ew?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Gn.userAgent)||[0,0])[1]:0,tabSize:jw.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function J2(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const jp=Object.create(null);function eQ(t,e,n){if(t==e)return!0;t||(t=jp),e||(e=jp);let r=Object.keys(t),s=Object.keys(e);if(r.length-0!=s.length-0)return!1;for(let i of r)if(i!=n&&(s.indexOf(i)==-1||t[i]!==e[i]))return!1;return!0}function $9(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function F_(t,e,n){let r=!1;if(e)for(let s in e)n&&s in n||(r=!0,s=="style"?t.style.cssText="":t.removeAttribute(s));if(n)for(let s in n)e&&e[s]==n[s]||(r=!0,s=="style"?t.style.cssText=n[s]:t.setAttribute(s,n[s]));return r}function T9(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Vf{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var dr=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(dr||(dr={}));class Dt extends Ca{constructor(e,n,r,s){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=s}get heightRelevant(){return!1}static mark(e){return new Df(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Tl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,s;if(e.isBlockGap)r=-5e8,s=4e8;else{let{start:i,end:a}=fX(e,n);r=(i?n?-3e8:-1:5e8)-1,s=(a?n?2e8:1:-6e8)+1}return new Tl(e,r,s,n,e.widget||null,!0)}static line(e){return new Bf(e)}static set(e,n=!1){return mt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Dt.none=mt.empty;class Df extends Dt{constructor(e){let{start:n,end:r}=fX(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?J2(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||jp}eq(e){return this==e||e instanceof Df&&this.tagName==e.tagName&&eQ(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Df.prototype.point=!1;class Bf extends Dt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Bf&&this.spec.class==e.spec.class&&eQ(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Bf.prototype.mapMode=Wn.TrackBefore;Bf.prototype.point=!0;class Tl extends Dt{constructor(e,n,r,s,i,a){super(n,r,i,e),this.block=s,this.isReplace=a,this.mapMode=s?n<=0?Wn.TrackBefore:Wn.TrackAfter:Wn.TrackDel}get type(){return this.startSide!=this.endSide?dr.WidgetRange:this.startSide<=0?dr.WidgetBefore:dr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Tl&&_9(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Tl.prototype.point=!0;function fX(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function _9(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ho(t,e,n,r=0){let s=n.length-1;s>=0&&n[s]+r>=t?n[s]=Math.max(n[s],e):n.push(t,e)}class gf extends Ca{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof gf&&this.tagName==e.tagName&&eQ(this.attributes,e.attributes)}static create(e){return new gf(e.tagName,e.attributes||jp)}static set(e,n=!1){return mt.of(e,n)}}gf.prototype.startSide=gf.prototype.endSide=-1;function xf(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Rw(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function op(t,e){if(!e.anchorNode)return!1;try{return Rw(t,e.anchorNode)}catch{return!1}}function cp(t){return t.nodeType==3?bf(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function nf(t,e,n,r){return n?K_(t,e,n,r,-1)||K_(t,e,n,r,1):!1}function Aa(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Np(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function K_(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:zi(t))){if(t.nodeName=="DIV")return!1;let i=t.parentNode;if(!i||i.nodeType!=1)return!1;e=Aa(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=s<0?zi(t):0}else return!1}}function zi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Cp(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function P9(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function dX(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function j9(t,e,n,r,s,i,a,o){let u=t.ownerDocument,f=u.defaultView||window;for(let p=t,m=!1;p&&!m;)if(p.nodeType==1){let g,x=p==u.body,v=1,y=1;if(x)g=P9(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(p).position)&&(m=!0),p.scrollHeight<=p.clientHeight&&p.scrollWidth<=p.clientWidth){p=p.assignedSlot||p.parentNode;continue}let k=p.getBoundingClientRect();({scaleX:v,scaleY:y}=dX(p,k)),g={left:k.left,right:k.left+p.clientWidth*v,top:k.top,bottom:k.top+p.clientHeight*y}}let w=0,Q=0;if(s=="nearest")e.top<g.top?(Q=e.top-(g.top+a),n>0&&e.bottom>g.bottom+Q&&(Q=e.bottom-g.bottom+a)):e.bottom>g.bottom&&(Q=e.bottom-g.bottom+a,n<0&&e.top-Q<g.top&&(Q=e.top-(g.top+a)));else{let k=e.bottom-e.top,$=g.bottom-g.top;Q=(s=="center"&&k<=$?e.top+k/2-$/2:s=="start"||s=="center"&&n<0?e.top-a:e.bottom-$+a)-g.top}if(r=="nearest"?e.left<g.left?(w=e.left-(g.left+i),n>0&&e.right>g.right+w&&(w=e.right-g.right+i)):e.right>g.right&&(w=e.right-g.right+i,n<0&&e.left<g.left+w&&(w=e.left-(g.left+i))):w=(r=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:r=="start"==o?e.left-i:e.right-(g.right-g.left)+i)-g.left,w||Q)if(x)f.scrollBy(w,Q);else{let k=0,$=0;if(Q){let _=p.scrollTop;p.scrollTop+=Q/y,$=(p.scrollTop-_)*y}if(w){let _=p.scrollLeft;p.scrollLeft+=w/v,k=(p.scrollLeft-_)*v}e={left:e.left-k,top:e.top-$,right:e.right-k,bottom:e.bottom-$},k&&Math.abs(k-w)<1&&(r="nearest"),$&&Math.abs($-Q)<1&&(s="nearest")}if(x)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),p=p.assignedSlot||p.parentNode}else if(p.nodeType==11)p=p.host;else break}function N9(t){let e=t.ownerDocument,n,r;for(let s=t.parentNode;s&&!(s==e.body||n&&r);)if(s.nodeType==1)!r&&s.scrollHeight>s.clientHeight&&(r=s),!n&&s.scrollWidth>s.clientWidth&&(n=s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;return{x:n,y:r}}class C9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?zi(n):0),r,Math.min(e.focusOffset,r?zi(r):0))}set(e,n,r,s){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=s}}let ul=null;_e.safari&&_e.safari_version>=26&&(ul=!1);function hX(t){if(t.setActive)return t.setActive();if(ul)return t.focus(ul);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(ul==null?{get preventScroll(){return ul={preventScroll:!0},!0}}:void 0),!ul){ul=!1;for(let n=0;n<e.length;){let r=e[n++],s=e[n++],i=e[n++];r.scrollTop!=s&&(r.scrollTop=s),r.scrollLeft!=i&&(r.scrollLeft=i)}}}let J_;function bf(t,e,n=e){let r=J_||(J_=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Fo(t,e,n,r){let s={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,metaKey:s.metaKey}=r);let i=new KeyboardEvent("keydown",s);i.synthetic=!0,t.dispatchEvent(i);let a=new KeyboardEvent("keyup",s);return a.synthetic=!0,t.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function E9(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function R9(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,zi(n));;)if(r){if(n.nodeType!=1)return!1;let s=n.childNodes[r-1];s.contentEditable=="false"?r--:(n=s,r=zi(n))}else{if(n==t)return!0;r=Aa(n),n=n.parentNode}}function pX(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function mX(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=zi(n)}else if(n.parentNode&&!Np(n))r=Aa(n),n=n.parentNode;else return null}}function OX(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Np(n))r=Aa(n)+1,n=n.parentNode;else return null}}class ws{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new ws(e.parentNode,Aa(e),n)}static after(e,n){return new ws(e.parentNode,Aa(e)+1,n)}}var Ft=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(Ft||(Ft={}));const _l=Ft.LTR,tQ=Ft.RTL;function gX(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const A9=gX("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),q9=gX("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Aw=Object.create(null),zs=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Aw[e]=n,Aw[n]=-e}function xX(t){return t<=247?A9[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?q9[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const X9=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Ei{get dir(){return this.level%2?tQ:_l}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,s){let i=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=n&&o.to>=n){if(o.level==r)return a;(i<0||(s!=0?s<0?o.from<n:o.to>n:e[i].level>o.level))&&(i=a)}}if(i<0)throw new RangeError("Index out of range");return i}}function bX(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(r.from!=s.from||r.to!=s.to||r.direction!=s.direction||!bX(r.inner,s.inner))return!1}return!0}const At=[];function M9(t,e,n,r,s){for(let i=0;i<=r.length;i++){let a=i?r[i-1].to:e,o=i<r.length?r[i].from:n,u=i?256:s;for(let f=a,p=u,m=u;f<o;f++){let g=xX(t.charCodeAt(f));g==512?g=p:g==8&&m==4&&(g=16),At[f]=g==4?2:g,g&7&&(m=g),p=g}for(let f=a,p=u,m=u;f<o;f++){let g=At[f];if(g==128)f<o-1&&p==At[f+1]&&p&24?g=At[f]=p:At[f]=256;else if(g==64){let x=f+1;for(;x<o&&At[x]==64;)x++;let v=f&&p==8||x<n&&At[x]==8?m==1?1:8:256;for(let y=f;y<x;y++)At[y]=v;f=x-1}else g==8&&m==1&&(At[f]=1);p=g,g&7&&(m=g)}}}function z9(t,e,n,r,s){let i=s==1?2:1;for(let a=0,o=0,u=0;a<=r.length;a++){let f=a?r[a-1].to:e,p=a<r.length?r[a].from:n;for(let m=f,g,x,v;m<p;m++)if(x=Aw[g=t.charCodeAt(m)])if(x<0){for(let y=o-3;y>=0;y-=3)if(zs[y+1]==-x){let w=zs[y+2],Q=w&2?s:w&4?w&1?i:s:0;Q&&(At[m]=At[zs[y]]=Q),o=y;break}}else{if(zs.length==189)break;zs[o++]=m,zs[o++]=g,zs[o++]=u}else if((v=At[m])==2||v==1){let y=v==s;u=y?0:1;for(let w=o-3;w>=0;w-=3){let Q=zs[w+2];if(Q&2)break;if(y)zs[w+2]|=2;else{if(Q&4)break;zs[w+2]|=4}}}}}function Z9(t,e,n,r){for(let s=0,i=r;s<=n.length;s++){let a=s?n[s-1].to:t,o=s<n.length?n[s].from:e;for(let u=a;u<o;){let f=At[u];if(f==256){let p=u+1;for(;;)if(p==o){if(s==n.length)break;p=n[s++].to,o=s<n.length?n[s].from:e}else if(At[p]==256)p++;else break;let m=i==1,g=(p<e?At[p]:r)==1,x=m==g?m?1:2:r;for(let v=p,y=s,w=y?n[y-1].to:t;v>u;)v==w&&(v=n[--y].from,w=y?n[y-1].to:t),At[--v]=x;u=p}else i=f,u++}}}function qw(t,e,n,r,s,i,a){let o=r%2?2:1;if(r%2==s%2)for(let u=e,f=0;u<n;){let p=!0,m=!1;if(f==i.length||u<i[f].from){let y=At[u];y!=o&&(p=!1,m=y==16)}let g=!p&&o==1?[]:null,x=p?r:r+1,v=u;e:for(;;)if(f<i.length&&v==i[f].from){if(m)break e;let y=i[f];if(!p)for(let w=y.to,Q=f+1;;){if(w==n)break e;if(Q<i.length&&i[Q].from==w)w=i[Q++].to;else{if(At[w]==o)break e;break}}if(f++,g)g.push(y);else{y.from>u&&a.push(new Ei(u,y.from,x));let w=y.direction==_l!=!(x%2);Xw(t,w?r+1:r,s,y.inner,y.from,y.to,a),u=y.to}v=y.to}else{if(v==n||(p?At[v]!=o:At[v]==o))break;v++}g?qw(t,u,v,r+1,s,g,a):u<v&&a.push(new Ei(u,v,x)),u=v}else for(let u=n,f=i.length;u>e;){let p=!0,m=!1;if(!f||u>i[f-1].to){let y=At[u-1];y!=o&&(p=!1,m=y==16)}let g=!p&&o==1?[]:null,x=p?r:r+1,v=u;e:for(;;)if(f&&v==i[f-1].to){if(m)break e;let y=i[--f];if(!p)for(let w=y.from,Q=f;;){if(w==e)break e;if(Q&&i[Q-1].to==w)w=i[--Q].from;else{if(At[w-1]==o)break e;break}}if(g)g.push(y);else{y.to<u&&a.push(new Ei(y.to,u,x));let w=y.direction==_l!=!(x%2);Xw(t,w?r+1:r,s,y.inner,y.from,y.to,a),u=y.from}v=y.from}else{if(v==e||(p?At[v-1]!=o:At[v-1]==o))break;v--}g?qw(t,v,u,r+1,s,g,a):v<u&&a.push(new Ei(v,u,x)),u=v}}function Xw(t,e,n,r,s,i,a){let o=e%2?2:1;M9(t,s,i,r,o),z9(t,s,i,r,o),Z9(s,i,r,o),qw(t,s,i,e,n,r,a)}function L9(t,e,n){if(!t)return[new Ei(0,0,e==tQ?1:0)];if(e==_l&&!n.length&&!X9.test(t))return yX(t.length);if(n.length)for(;t.length>At.length;)At[At.length]=256;let r=[],s=e==_l?0:1;return Xw(t,s,s,n,0,t.length,r),r}function yX(t){return[new Ei(0,t,0)]}let vX="";function Y9(t,e,n,r,s){var i;let a=r.head-t.from,o=Ei.find(e,a,(i=r.bidiLevel)!==null&&i!==void 0?i:-1,r.assoc),u=e[o],f=u.side(s,n);if(a==f){let g=o+=s?1:-1;if(g<0||g>=e.length)return null;u=e[o=g],a=u.side(!s,n),f=u.side(s,n)}let p=Xn(t.text,a,u.forward(s,n));(p<u.from||p>u.to)&&(p=f),vX=t.text.slice(Math.min(a,p),Math.max(a,p));let m=o==(s?e.length-1:0)?null:e[o+(s?1:-1)];return m&&p==f&&m.level+(s?0:1)<u.level?ge.cursor(m.side(!s,n)+t.from,m.forward(s,n)?1:-1,m.level):ge.cursor(p+t.from,u.forward(s,n)?-1:1,u.level)}function V9(t,e,n){for(let r=e;r<n;r++){let s=xX(t.charCodeAt(r));if(s==1)return _l;if(s==2||s==4)return tQ}return _l}const SX=Re.define(),wX=Re.define(),QX=Re.define(),kX=Re.define(),Mw=Re.define(),$X=Re.define(),TX=Re.define(),nQ=Re.define(),rQ=Re.define(),_X=Re.define({combine:t=>t.some(e=>e)}),D9=Re.define({combine:t=>t.some(e=>e)}),PX=Re.define();class Ko{constructor(e,n="nearest",r="nearest",s=5,i=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=s,this.xMargin=i,this.isSnapshot=a}map(e){return e.empty?this:new Ko(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Ko(ge.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const $h=Ct.define({map:(t,e)=>t.map(e)}),jX=Ct.define();function jr(t,e,n){let r=t.facet(kX);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const ji=Re.define({combine:t=>t.length?t[0]:!0});let B9=0;const Yo=Re.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Qs{constructor(e,n,r,s,i){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=s,this.baseExtensions=i(this),this.extension=this.baseExtensions.concat(Yo.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Yo.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:s,provide:i,decorations:a}=n||{};return new Qs(B9++,e,r,s,o=>{let u=[];return a&&u.push(jm.of(f=>{let p=f.plugin(o);return p?a(p):Dt.none})),i&&u.push(i(o)),u})}static fromClass(e,n){return Qs.define((r,s)=>new e(r,s),n)}}class zg{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(jr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){jr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){jr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const NX=Re.define(),sQ=Re.define(),jm=Re.define(),CX=Re.define(),iQ=Re.define(),Uf=Re.define(),EX=Re.define();function eP(t,e){let n=t.state.facet(EX);if(!n.length)return n;let r=n.map(i=>i instanceof Function?i(t):i),s=[];return mt.spans(r,e.from,e.to,{point(){},span(i,a,o,u){let f=i-e.from,p=a-e.from,m=s;for(let g=o.length-1;g>=0;g--,u--){let x=o[g].spec.bidiIsolate,v;if(x==null&&(x=V9(e.text,f,p)),u>0&&m.length&&(v=m[m.length-1]).to==f&&v.direction==x)v.to=p,m=v.inner;else{let y={from:f,to:p,direction:x,inner:[]};m.push(y),m=y.inner}}}}),s}const RX=Re.define();function aQ(t){let e=0,n=0,r=0,s=0;for(let i of t.state.facet(RX)){let a=i(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(s=Math.max(s,a.bottom)))}return{left:e,right:n,top:r,bottom:s}}const Yu=Re.define();class Ur{constructor(e,n,r,s){this.fromA=e,this.toA=n,this.fromB=r,this.toB=s}join(e){return new Ur(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let s=e[n-1];if(!(s.fromA>r.toA)){if(s.toA<r.fromA)break;r=r.join(s),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let s=0,i=0,a=0;;){let o=s<e.length?e[s].fromB:1e9,u=i<n.length?n[i]:1e9,f=Math.min(o,u);if(f==1e9)break;let p=f+a,m=f,g=p;for(;;)if(i<n.length&&n[i]<=m){let x=n[i+1];i+=2,m=Math.max(m,x);for(let v=s;v<e.length&&e[v].fromB<=m;v++)a=e[v].toA-e[v].toB;g=Math.max(g,x+a)}else if(s<e.length&&e[s].fromB<=m){let x=e[s++];m=Math.max(m,x.toB),g=Math.max(g,x.toA),a=x.toA-x.toB}else break;r.push(new Ur(p,g,f,m))}return r}}class Ep{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Sn.empty(this.startState.doc.length);for(let i of r)this.changes=this.changes.compose(i.changes);let s=[];this.changes.iterChangedRanges((i,a,o,u)=>s.push(new Ur(i,a,o,u))),this.changedRanges=s}static create(e,n,r){return new Ep(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const U9=[];class bn{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return U9}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&$9(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let s of this.children){if(s==e)return r;r+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=Aa(this.dom),s=this.length?e>0:n>0;return new ws(this.parent.dom,r+(s?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof Cm)return e;return null}static get(e){return e.cmTile}}class Nm extends bn{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,s,i=(e==null?void 0:e.node)==n?e:null,a=0;for(let o of this.children){if(o.sync(e),a+=o.length+o.breakAfter,s=r?r.nextSibling:n.firstChild,i&&s!=o.dom&&(i.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=tP(s);else n.insertBefore(o.dom,s);r=o.dom}for(s=r?r.nextSibling:n.firstChild,i&&s&&(i.written=!0);s;)s=tP(s);this.length=a}}function tP(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Cm extends Nm{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=bn.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,s=0,i=0;;)if(s==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&i++,s=n.pop()}else{let a=r.children[s++];if(a instanceof Pa)n.push(s),r=a,s=0;else{let o=i+a.length,u=e(a,i);if(u!==void 0)return u;i=o+a.breakAfter}}}resolveBlock(e,n){let r,s=-1,i,a=-1;if(this.blockTiles((o,u)=>{let f=u+o.length;if(e>=u&&e<=f){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==f&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,s=e-u),(f>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!i||!o.isWidget()&&i.isWidget())&&(i=o,a=e-u)}}),!r&&!i)throw new Error("No tile at position "+e);return r&&n<0||!i?{tile:r,offset:s}:{tile:i,offset:a}}}class Pa extends Nm{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new Pa(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class oc extends Nm{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let s=new oc(n||document.createElement("div"),e);return(!n||!r)&&(s.flags|=4),s}get domAttrs(){return this.attrs}resolveInline(e,n,r){let s=null,i=-1,a=null,o=-1;function u(p,m){for(let g=0,x=0;g<p.children.length&&x<=m;g++){let v=p.children[g],y=x+v.length;y>=m&&(v.isComposite()?u(v,m-x):(!a||a.isHidden&&(n>0||r&&W9(a,v)))&&(y>m||v.flags&32)?(a=v,o=m-x):(x<m||v.flags&16&&!v.isHidden)&&(s=v,i=m-x)),x=y}}u(this,e);let f=(n<0?s:a)||s||a;return f?{tile:f,offset:f==s?i:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):G9(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:s,offset:i}=r;if(this.dom.contains(s.dom))return s.isText()?new ws(s.dom,Math.min(s.dom.nodeValue.length,i)):s.domPosFor(i,s.flags&16?1:s.flags&32?-1:n);let a=r.tile.parent,o=!1;for(let u of a.children){if(o)return new ws(u.dom,0);u==r.tile&&(o=!0)}}return new ws(this.dom,0)}}function G9(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=cp(e);return n[n.length-1]||null}function W9(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class cr extends Nm{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new cr(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class xl extends bn{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let s=e,i=e,a=0;e==0&&n<0||e==r&&n>=0?_e.chrome||_e.gecko||(e?(s--,a=1):i<r&&(i++,a=-1)):n<0?s--:i<r&&i++;let o=bf(this.dom,s,i).getClientRects();if(!o.length)return null;let u=o[(a?a<0:n>=0)?0:o.length-1];return _e.safari&&!a&&u.width==0&&(u=Array.prototype.find.call(o,f=>f.width)||u),a?Cp(u,a<0):u||null}static of(e,n){let r=new xl(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Pl extends bn{constructor(e,n,r,s){super(e,n,s),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let s=this.widget.coordsAt(this.dom,e,n);if(s)return s;if(r)return Cp(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let i=this.dom.getClientRects(),a=null;if(!i.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?i.length-1:0;a=i[u],!(e>0?u==0:u==i.length-1||a.top<a.bottom);u+=o?-1:1);return Cp(a,!o)}}get overrideDOMText(){if(!this.length)return Ot.empty;let{root:e}=this;if(!e)return Ot.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,s,i){return i||(i=e.toDOM(n),e.editable||(i.contentEditable="false")),new Pl(i,r,e,s)}}class Rp extends bn{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Ot.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class I9{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:s,index:i,beforeBreak:a,parents:o}=this;for(;e||n>0;)if(s.isComposite())if(a){if(!e)break;r&&r.break(),e--,a=!1}else if(i==s.children.length){if(!e&&!o.length)break;r&&r.leave(s),a=!!s.breakAfter,{tile:s,index:i}=o.pop(),i++}else{let u=s.children[i],f=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(a=!!f,i++,e-=u.length):(o.push({tile:s,index:i}),s=u,i=0,r&&u.isComposite()&&r.enter(u))}else if(i==s.length)a=!!s.breakAfter,{tile:s,index:i}=o.pop(),i++;else if(e){let u=Math.min(e,s.length-i);r&&r.skip(s,i,i+u),e-=u,i+=u}else break;return this.tile=s,this.index=i,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class H9{constructor(e,n,r,s){this.from=e,this.to=n,this.wrapper=r,this.rank=s}}class F9{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,s){var i;this.flushBuffer();let a=this.ensureMarks(n,r),o=a.lastChild;if(o&&o.isText()&&!(o.flags&8)){this.cache.reused.set(o,2);let u=a.children[a.children.length-1]=new xl(o.dom,o.text+e);u.parent=a}else a.append(s||xl.of(e,(i=this.cache.find(xl))===null||i===void 0?void 0:i.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?Zg(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let s=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],f=s.lastChild;if(f instanceof cr&&f.mark.eq(u.mark))f.dom!=u.dom&&f.setDOM(Zg(u.dom)),s=f;else{if(this.cache.reused.get(u)){let m=bn.get(u.dom);m&&m.setDOM(Zg(u.dom))}let p=cr.of(u.mark,u.dom);s.append(p),s=p}this.cache.reused.set(u,2)}let i=bn.get(e.text);i&&this.cache.reused.set(i,2);let a=new xl(e.text,e.text.nodeValue);a.flags|=8,s.append(a)}addInlineWidget(e,n,r){let s=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);s||this.flushBuffer();let i=this.ensureMarks(n,r);!s&&!(e.flags&16)&&i.append(this.getBuffer(1)),i.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=AX);let s=oc.start(e,n||((r=this.cache.find(oc))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=s)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let s=this.curLine;for(let i=e.length-1;i>=0;i--){let a=e[i],o;if(n>0&&(o=s.lastChild)&&o instanceof cr&&o.mark.eq(a))s=o,n--;else{let u=cr.of(a,(r=this.cache.find(cr,f=>f.mark.eq(a)))===null||r===void 0?void 0:r.dom);s.append(u),s=u,n=0}}return s}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!nP(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(_e.ios&&nP(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(Lg,0,32)||new Pl(Lg.toDOM(),0,Lg,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new H9(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let s=n.lastChild;if(r.from<this.pos&&s instanceof Pa&&s.wrapper.eq(r.wrapper))n=s;else{let i=Pa.of(r.wrapper,(e=this.cache.find(Pa,a=>a.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(i),n=i}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(Rp,void 0,1);return r&&(r.flags=n),r||new Rp(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class K9{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:s,lineBreak:i,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=s;let o=this.textOff=Math.min(e,s.length);return i?null:s.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const Ap=[Pl,oc,xl,cr,Rp,Pa,Cm];for(let t=0;t<Ap.length;t++)Ap[t].bucket=t;class J9{constructor(e){this.view=e,this.buckets=Ap.map(()=>[]),this.index=Ap.map(()=>0),this.reused=new Map}add(e){e.demo&&console.log("Add widget to cache");let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let s=e.bucket,i=this.buckets[s],a=this.index[s];for(let o=i.length-1;o>=0;o--){let u=(o+a)%i.length,f=i[u];if((!n||n(f))&&!this.reused.has(f))return i.splice(u,1),u<a&&this.index[s]--,this.reused.set(f,r),f}return null}findWidget(e,n,r){let s=this.buckets[0];if(e.demo&&console.log("looking for widget",e,"in cache",s.slice()),s.length)for(let i=0,a=0;;i++){if(i==s.length){if(a)return null;a=1,i=0}let o=s[i];if(!this.reused.has(o)&&(a==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return s.splice(i,1),i<this.index[0]&&this.index[0]--,o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new Pl(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class eD{constructor(e,n,r,s,i){this.view=e,this.decorations=s,this.disallowBlockEffectsFor=i,this.openWidget=!1,this.openMarks=0,this.cache=new J9(e),this.text=new K9(e.state.doc),this.builder=new F9(this.cache,new Cm(e,e.contentDOM),mt.iter(r)),this.cache.reused.set(n,2),this.old=new I9(n),this.reuseWalker={skip:(a,o,u)=>{if(this.cache.add(a),a.isComposite())return!1},enter:a=>this.cache.add(a),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let s=0,i=0,a=0;;){let o=a<e.length?e[a++]:null,u=o?o.fromA:this.old.root.length;if(u>s){let f=u-s;this.preserve(f,!a,!o),s=u,i+=f}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA),this.emit(i,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(i,o.toB)),i=o.toB,s=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let s=rD(this.old),i=this.openMarks;this.old.advance(e,r?1:-1,{skip:(a,o,u)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let f=u>0||o<a.length?Pl.of(a.widget,this.view,u-o,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,s,i),i=s.length)}else if(a.isText())this.builder.ensureLine(null),!o&&u==a.length?this.builder.addText(a.text,s,i,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(o,u),s,i)),i=s.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof Rp)this.cache.add(a);else if(a instanceof cr)this.builder.ensureLine(null),this.builder.addMark(a,s,i),this.cache.reused.set(a,1),i=s.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof cr&&s.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?s.length&&(s.length=i=0):a instanceof cr&&(s.shift(),i=Math.min(i,s.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,s=this.builder,i=0,a=mt.spans(this.decorations,e,n,{point:(o,u,f,p,m,g)=>{if(f instanceof Tl){if(this.disallowBlockEffectsFor[g]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(i=p.length,m>p.length)s.continueWidget(u-o);else{let x=f.widget||(f.block?cc.block:cc.inline),v=tD(f),y=this.cache.findWidget(x,u-o,v)||Pl.of(x,this.view,u-o,v);f.block?(f.startSide>0&&s.addLineStartIfNotCovered(r),s.addBlockWidget(y)):(s.ensureLine(r),s.addInlineWidget(y,p,m))}r=null}else r=nD(r,f);u>o&&this.text.skip(u-o)},span:(o,u,f,p)=>{for(let m=o;m<u;){let g=this.text.next(Math.min(512,u-m));g==null?(s.addLineStartIfNotCovered(r),s.addBreak(),m++):(s.ensureLine(r),s.addText(g,f,p),m+=g.length),r=null}}});s.addLineStartIfNotCovered(r),this.openWidget=a>i,this.openMarks=a}forward(e,n){n-e<=10?this.old.advance(n-e,1,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,1,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let s=e.parentNode;;s=s.parentNode){let i=bn.get(s);if(s==this.view.contentDOM)break;i instanceof cr?n.push(i):i!=null&&i.isLine()?r=i:s.nodeName=="DIV"&&!r&&s!=this.view.contentDOM?r=new oc(s,AX):n.push(cr.of(new Df({tagName:s.nodeName.toLowerCase(),attributes:T9(s)}),s))}return{line:r,marks:n}}}function nP(t,e){let n=r=>{for(let s of r.children)if((e?s.isText():s.length)||n(s))return!0;return!1};return n(t)}function tD(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const AX={class:"cm-line"};function nD(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&J2(n,t),r&&(t.class+=" "+r)),t}function rD(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof cr&&e.push(r.mark)}return e}function Zg(t){let e=bn.get(t);return e&&e.setDOM(t.cloneNode()),t}class cc extends Vf{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}cc.inline=new cc("span");cc.block=new cc("div");const Lg=new class extends Vf{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class rP{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Dt.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Cm(e,e.contentDOM),this.updateInner([new Ur(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:p,toA:m})=>m<this.minWidthFrom||p>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let s=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?s=this.domChanged.newSel.head:!dD(e.changes,this.hasComposition)&&!e.selectionSet&&(s=e.state.selection.main.head));let i=s>-1?iD(this.view,e.changes,s):null;if(this.domChanged=null,this.hasComposition){let{from:p,to:m}=this.hasComposition;r=new Ur(p,m,e.changes.mapPos(p,-1),e.changes.mapPos(m,1)).addToSet(r.slice())}this.hasComposition=i?{from:i.range.fromB,to:i.range.toB}:null,(_e.ie||_e.chrome)&&!i&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,o=this.blockWrappers;this.updateDeco();let u=oD(a,this.decorations,e.changes);u.length&&(r=Ur.extendWithRanges(r,u));let f=uD(o,this.blockWrappers,e.changes);return f.length&&(r=Ur.extendWithRanges(r,f)),i&&!r.some(p=>p.fromA<=i.range.fromA&&p.toA>=i.range.toA)&&(r=i.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,i),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let a=this.tile,o=new eD(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),zw(a,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let i=_e.chrome||_e.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(i),i&&(i.written||r.selectionRange.focusNode!=i.node||!this.tile.dom.contains(i.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let i of this.tile.children)i.isWidget()&&i.widget instanceof Yg&&s.push(i.dom);r.updateGaps(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(jX)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,s=this.view.root.activeElement,i=s==r,a=!i&&!(this.view.state.facet(ji)||r.tabIndex>-1)&&op(r,this.view.observer.selectionRange)&&!(s&&r.contains(s));if(!(i||n||a))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f,p;if(u.empty?p=f=this.inlineDOMNearPos(u.anchor,u.assoc||1):(p=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),f=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),_e.gecko&&u.empty&&!this.hasComposition&&sD(f)){let g=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(g,f.node.childNodes[f.offset]||null)),f=p=new ws(g,0),o=!0}let m=this.view.observer.selectionRange;(o||!m.focusNode||(!nf(f.node,f.offset,m.anchorNode,m.anchorOffset)||!nf(p.node,p.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,u))&&(this.view.observer.ignore(()=>{_e.android&&_e.chrome&&r.contains(m.focusNode)&&fD(m.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let g=xf(this.view.root);if(g)if(u.empty){if(_e.gecko){let x=aD(f.node,f.offset);if(x&&x!=3){let v=(x==1?mX:OX)(f.node,f.offset);v&&(f=new ws(v.node,v.offset))}}g.collapse(f.node,f.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(f.node,f.offset);try{g.extend(p.node,p.offset)}catch{}}else{let x=document.createRange();u.anchor>u.head&&([f,p]=[p,f]),x.setEnd(p.node,p.offset),x.setStart(f.node,f.offset),g.removeAllRanges(),g.addRange(x)}a&&this.view.root.activeElement==r&&(r.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(f,p)),this.impreciseAnchor=f.precise?null:new ws(m.anchorNode,m.anchorOffset),this.impreciseHead=p.precise?null:new ws(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&nf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=xf(e.root),{anchorNode:s,anchorOffset:i}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let o=a.posAtStart;if(n.head==o||n.head==o+a.length)return;let u=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!u||!f||u.bottom>f.top)return;let p=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(p.node,p.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let m=e.observer.selectionRange;e.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=n.from&&r.collapse(s,i)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let s=r.posAtStart;if(r.isComposite()){let i;if(e==r.dom)i=r.dom.childNodes[n];else{let a=zi(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;a==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?a=-1:a=1),e=o}a<0?i=e:i=e.nextSibling}if(i==r.dom.firstChild)return s;for(;i&&!bn.get(i);)i=i.nextSibling;if(!i)return s+r.length;for(let a=0,o=s;;a++){let u=r.children[a];if(u.dom==i)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?s+n:s+(n?r.length:0):s}domAtPos(e,n){let{tile:r,offset:s}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(s,n)}inlineDOMNearPos(e,n){let r,s=-1,i=!1,a,o=-1,u=!1;return this.tile.blockTiles((f,p)=>{if(f.isWidget()){if(f.flags&32&&p>=e)return!0;f.flags&16&&(i=!0)}else{let m=p+f.length;if(p<=e&&(r=f,s=e-p,i=m<e),m>=e&&!a&&(a=f,o=e-p,u=p>e),p>e&&a)return!0}}),!r&&!a?this.domAtPos(e,n):(i&&a?r=null:u&&r&&(a=null),r&&n<0||!a?r.domIn(s,n):a.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:s}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof Yg?null:r.coordsInWidget(s,n,!0):r.coordsIn(s,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function s(i,a){if(i.isComposite())for(let o of i.children){if(o.length>=a){let u=s(o,a);if(u)return u}if(a-=o.length,a<0)break}else if(i.isText()&&a<i.length){let o=Xn(i.text,a);if(o==a)return null;let u=bf(i.dom,a,o).getClientRects();for(let f=0;f<u.length;f++){let p=u[f];if(f==u.length-1||p.top<p.bottom&&p.left<p.right)return p}}return null}return s(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:s}=e,i=this.view.contentDOM.clientWidth,a=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==Ft.LTR,f=0,p=(m,g,x)=>{for(let v=0;v<m.children.length&&!(g>s);v++){let y=m.children[v],w=g+y.length,Q=y.dom.getBoundingClientRect(),{height:k}=Q;if(x&&!v&&(f+=Q.top-x.top),y instanceof Pa)w>r&&p(y,g,Q);else if(g>=r&&(f>0&&n.push(-f),n.push(k+f),f=0,a)){let $=y.dom.lastChild,_=$?cp($):[];if(_.length){let T=_[_.length-1],N=u?T.right-Q.left:Q.right-T.left;N>o&&(o=N,this.minWidth=i,this.minWidthFrom=g,this.minWidthTo=w)}}x&&v==m.children.length-1&&(f+=x.bottom-Q.bottom),g=w+y.breakAfter}};return p(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?Ft.RTL:Ft.LTR}measureTextSize(){let e=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let o=0,u;for(let f of a.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let p=cp(f.dom);if(p.length!=1)return;o+=p[0].width,u=p[0].height}if(o)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:o/a.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,s,i;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=cp(n.firstChild)[0];r=n.getBoundingClientRect().height,s=a&&a.width?a.width/27:7,i=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:s,textHeight:i}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,s=0;;s++){let i=s==n.viewports.length?null:n.viewports[s],a=i?i.from-1:this.view.state.doc.length;if(a>r){let o=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Dt.replace({widget:new Yg(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!i)break;r=i.to+1}return Dt.set(e)}updateDeco(){let e=1,n=this.view.state.facet(jm).map(i=>(this.dynamicDecorationMap[e++]=typeof i=="function")?i(this.view):i),r=!1,s=this.view.state.facet(iQ).map((i,a)=>{let o=typeof i=="function";return o&&(r=!0),o?i(this.view):i});for(s.length&&(this.dynamicDecorationMap[e++]=r,n.push(mt.join(s))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(CX).map(i=>typeof i=="function"?i(this.view):i)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(PX))try{if(f(this.view,e.range,e))return!0}catch(p){jr(this.view.state,p,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),s;if(!r)return;!n.empty&&(s=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,s.left),top:Math.min(r.top,s.top),right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)});let i=aQ(this.view),a={left:r.left-i.left,top:r.top-i.top,right:r.right+i.right,bottom:r.bottom+i.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;j9(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==Ft.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){zw(this.tile)}}function zw(t,e){let n=e==null?void 0:e.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)zw(r,e)}}function sD(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function qX(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=mX(n.focusNode,n.focusOffset),s=OX(n.focusNode,n.focusOffset),i=r||s;if(s&&r&&s.node!=r.node){let o=bn.get(s.node);if(!o||o.isText()&&o.text!=s.node.nodeValue)i=s;else if(t.docView.lastCompositionAfterCursor){let u=bn.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(i=s)}}if(t.docView.lastCompositionAfterCursor=i!=r,!i)return null;let a=e-i.offset;return{from:a,to:a+i.node.nodeValue.length,node:i.node}}function iD(t,e,n){let r=qX(t,n);if(!r)return null;let{node:s,from:i,to:a}=r,o=s.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new Ur(u.mapPos(i),u.mapPos(a),i,a),text:s}}function aD(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let lD=class{constructor(){this.changes=[]}compareRange(e,n){Ho(e,n,this.changes)}comparePoint(e,n){Ho(e,n,this.changes)}boundChange(e){Ho(e,e,this.changes)}};function oD(t,e,n){let r=new lD;return mt.compare(t,e,n,r),r.changes}class cD{constructor(){this.changes=[]}compareRange(e,n){Ho(e,n,this.changes)}comparePoint(){}boundChange(e){Ho(e,e,this.changes)}}function uD(t,e,n){let r=new cD;return mt.compare(t,e,n,r),r.changes}function fD(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function dD(t,e){let n=!1;return e&&t.iterChangedRanges((r,s)=>{r<e.to&&s>e.from&&(n=!0)}),n}class Yg extends Vf{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function hD(t,e,n=1){let r=t.charCategorizer(e),s=t.doc.lineAt(e),i=e-s.from;if(s.length==0)return ge.cursor(e);i==0?n=1:i==s.length&&(n=-1);let a=i,o=i;n<0?a=Xn(s.text,i,!1):o=Xn(s.text,i);let u=r(s.text.slice(a,o));for(;a>0;){let f=Xn(s.text,a,!1);if(r(s.text.slice(f,a))!=u)break;a=f}for(;o<s.length;){let f=Xn(s.text,o);if(r(s.text.slice(o,f))!=u)break;o=f}return ge.range(a+s.from,o+s.from)}function pD(t,e,n,r,s){let i=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((s-n.top-(t.defaultLineHeight-o)*.5)/o);i+=u*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+y9(a,i,t.state.tabSize)}function mD(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let s;for(let i of r.type){if(i.from>e)break;if(!(i.to<e)){if(i.from<e&&i.to>e)return i;(!s||i.type==dr.Text&&(s.type!=i.type||(n<0?i.from<e:i.to>e)))&&(s=i)}}return s||r}return r}function OD(t,e,n,r){let s=mD(t,e.head,e.assoc||-1),i=!r||s.type!=dr.Text||!(t.lineWrapping||s.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>s.from?e.head-1:e.head);if(i){let a=t.dom.getBoundingClientRect(),o=t.textDirectionAt(s.from),u=t.posAtCoords({x:n==(o==Ft.LTR)?a.right-1:a.left+1,y:(i.top+i.bottom)/2});if(u!=null)return ge.cursor(u,n?-1:1)}return ge.cursor(n?s.to:s.from,n?-1:1)}function sP(t,e,n,r){let s=t.state.doc.lineAt(e.head),i=t.bidiSpans(s),a=t.textDirectionAt(s.from);for(let o=e,u=null;;){let f=Y9(s,i,a,o,n),p=vX;if(!f){if(s.number==(n?t.state.doc.lines:1))return o;p=`
`,s=t.state.doc.line(s.number+(n?1:-1)),i=t.bidiSpans(s),f=t.visualLineSide(s,!n)}if(u){if(!u(p))return o}else{if(!r)return f;u=r(p)}o=f}}function gD(t,e,n){let r=t.state.charCategorizer(e),s=r(n);return i=>{let a=r(i);return s==Ci.Space&&(s=a),s==a}}function xD(t,e,n,r){let s=e.head,i=n?1:-1;if(s==(n?t.state.doc.length:0))return ge.cursor(s,e.assoc);let a=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(s,e.assoc||-1),p=t.documentTop;if(f)a==null&&(a=f.left-u.left),o=i<0?f.top:f.bottom;else{let x=t.viewState.lineBlockAt(s);a==null&&(a=Math.min(u.right-u.left,t.defaultCharacterWidth*(s-x.from))),o=(i<0?x.top:x.bottom)+p}let m=u.left+a,g=r??t.viewState.heightOracle.textHeight>>1;for(let x=0;;x+=10){let v=o+(g+x)*i,y=Zw(t,{x:m,y:v},!1,i);return ge.cursor(y.pos,y.assoc,void 0,a)}}function rf(t,e,n){for(;;){let r=0;for(let s of t)s.between(e-1,e+1,(i,a,o)=>{if(e>i&&e<a){let u=r||n||(e-i<a-e?-1:1);e=u<0?i:a,r=u}});if(!r)return e}}function XX(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let s=e.ranges[r],i=null;if(s.empty){let a=rf(t,s.from,0);a!=s.from&&(i=ge.cursor(a,-1))}else{let a=rf(t,s.from,-1),o=rf(t,s.to,1);(a!=s.from||o!=s.to)&&(i=ge.range(s.from==s.anchor?a:o,s.from==s.head?a:o))}i&&(n||(n=e.ranges.slice()),n[r]=i)}return n?ge.create(n,e.mainIndex):e}function Vg(t,e,n){let r=rf(t.state.facet(Uf).map(s=>s(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:ge.cursor(r,r<n.from?1:-1)}class Ds{constructor(e,n){this.pos=e,this.assoc=n}}function Zw(t,e,n,r){let s=t.contentDOM.getBoundingClientRect(),i=s.top+t.viewState.paddingTop,{x:a,y:o}=e,u=o-i,f;for(;;){if(u<0)return new Ds(0,1);if(u>t.viewState.docHeight)return new Ds(t.state.doc.length,-1);if(f=t.elementAtHeight(u),r==null)break;if(f.type==dr.Text){let g=t.docView.coordsAt(r<0?f.from:f.to,r);if(g&&(r<0?g.top<=u+i:g.bottom>=u+i))break}let m=t.viewState.heightOracle.textHeight/2;u=r>0?f.bottom+m:f.top-m}if(t.viewport.from>=f.to||t.viewport.to<=f.from){if(n)return null;if(f.type==dr.Text){let m=pD(t,s,f,a,o);return new Ds(m,m==f.from?1:-1)}}if(f.type!=dr.Text)return u<(f.top+f.bottom)/2?new Ds(f.from,1):new Ds(f.to,-1);let p=t.docView.lineAt(f.from,2);return(!p||p.length!=f.length)&&(p=t.docView.lineAt(f.from,-2)),MX(t,p,f.from,a,o)}function MX(t,e,n,r,s){let i=-1,a=null,o=1e9,u=1e9,f=s,p=s,m=(g,x)=>{for(let v=0;v<g.length;v++){let y=g[v];if(y.top==y.bottom)continue;let w=y.left>r?y.left-r:y.right<r?r-y.right:0,Q=y.top>s?y.top-s:y.bottom<s?s-y.bottom:0;y.top<=p&&y.bottom>=f&&(f=Math.min(y.top,f),p=Math.max(y.bottom,p),Q=0),(i<0||(Q-u||w-o)<0)&&(i>=0&&u&&o<w&&a.top<=p-2&&a.bottom>=f+2?u=0:(i=x,o=w,u=Q,a=y))}};if(e.isText()){for(let x=0;x<e.length;){let v=Xn(e.text,x);if(m(bf(e.dom,x,v).getClientRects(),x),!o&&!u)break;x=v}return r>(a.left+a.right)/2==(iP(t,i+n)==Ft.LTR)?new Ds(n+Xn(e.text,i),-1):new Ds(n+i,1)}else{if(!e.length)return new Ds(n,1);for(let y=0;y<e.children.length;y++){let w=e.children[y];if(w.flags&48)continue;let Q=(w.dom.nodeType==1?w.dom:bf(w.dom,0,w.length)).getClientRects();if(m(Q,y),!o&&!u)break}let g=e.children[i],x=e.posBefore(g,n);return g.isComposite()||g.isText()?MX(t,g,x,Math.max(a.left,Math.min(a.right,r)),s):r>(a.left+a.right)/2==(iP(t,i+n)==Ft.LTR)?new Ds(x+g.length,-1):new Ds(x,1)}}function iP(t,e){let n=t.state.doc.lineAt(e);return t.bidiSpans(n)[Ei.find(t.bidiSpans(n),e-n.from,-1,1)].dir}const Vu="";class bD{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(bt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vu}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let s=e;;){this.findPointBefore(r,s);let i=this.text.length;this.readNode(s);let a=bn.get(s),o=s.nextSibling;if(o==n){a!=null&&a.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=bn.get(o);(a&&u?a.breakAfter:(a?a.breakAfter:Np(s))||Np(o)&&(s.nodeName!="BR"||a!=null&&a.isWidget())&&this.text.length>i)&&!vD(o,n)&&this.lineBreak(),s=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){let i=-1,a=1,o;if(this.lineSeparator?(i=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(o=s.exec(n))&&(i=o.index,a=o[0].length),this.append(n.slice(r,i<0?n.length:i)),i<0)break;if(this.lineBreak(),a>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=a-1);r=i+a}}readNode(e){let n=bn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let s=r.iter();!s.next().done;)s.lineBreak?this.lineBreak():this.append(s.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(yD(e,r.node,r.offset)?n:0))}}function yD(t,e,n){for(;;){if(!e||n<zi(e))return!1;if(e==t)return!0;n=Aa(e)+1,e=e.parentNode}}function vD(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=bn.get(t);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let s=r.overrideDOMText;if(s!=null&&s.length)return!1}return!0}class aP{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class SD{constructor(e,n,r,s){this.typeOver=s,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:i,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=zX(e.docView.tile,n,r,0))){let o=i||a?[]:QD(e),u=new bD(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=kD(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=i&&i.node==o.focusNode&&i.offset==o.focusOffset||!Rw(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!Rw(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),p=e.viewport;if((_e.ios||_e.chrome)&&e.state.selection.main.empty&&u!=f&&(p.from>0||p.to<e.state.doc.length)){let m=Math.min(u,f),g=Math.max(u,f),x=p.from-m,v=p.to-g;(x==0||x==1||m==0)&&(v==0||v==-1||g==e.state.doc.length)&&(u=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(ge.range(f,u)):this.newSel=ge.single(f,u)}}}function zX(t,e,n,r){if(t.isComposite()){let s=-1,i=-1,a=-1,o=-1;for(let u=0,f=r,p=r;u<t.children.length;u++){let m=t.children[u],g=f+m.length;if(f<e&&g>n)return zX(m,e,n,f);if(g>=e&&s==-1&&(s=u,i=f),f>n&&m.dom.parentNode==t.dom){a=u,o=p;break}p=g,f=g+m.breakAfter}return{from:i,to:o<0?r+t.length:o,startDOM:(s?t.children[s-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:a<t.children.length&&a>=0?t.children[a].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function ZX(t,e){let n,{newSel:r}=e,s=t.state.selection.main,i=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,u=s.from,f=null;(i===8||_e.android&&e.text.length<o-a)&&(u=s.to,f="end");let p=LX(t.state.doc.sliceString(a,o,Vu),e.text,u-a,f);p&&(_e.chrome&&i==13&&p.toB==p.from+2&&e.text.slice(p.from,p.toB)==Vu+Vu&&p.toB--,n={from:a+p.from,to:a+p.toA,insert:Ot.of(e.text.slice(p.from,p.toB).split(Vu))})}else r&&(!t.hasFocus&&t.state.facet(ji)||r.main.eq(s))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!s.empty&&r&&r.main.empty?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,s.to)}:(_e.mac||_e.android)&&n&&n.from==n.to&&n.from==s.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=ge.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Ot.of([n.insert.toString().replace("."," ")])}):n&&n.from>=s.from&&n.to<=s.to&&(n.from!=s.from||n.to!=s.to)&&s.to-s.from-(n.to-n.from)<=4?n={from:s.from,to:s.to,insert:t.state.doc.slice(s.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,s.to))}:t.state.doc.lineAt(s.from).to<s.to&&t.docView.lineHasWidget(s.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:s.from,to:s.to,insert:t.state.toText(t.inputState.insertingText)}:_e.chrome&&n&&n.from==n.to&&n.from==s.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=ge.single(r.main.anchor-1,r.main.head-1)),n={from:s.from,to:s.to,insert:Ot.of([" "])}),n)return lQ(t,n,r,i);if(r&&!r.main.eq(s)){let a=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=XX(t.state.facet(Uf).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:a,userEvent:o}),!0}else return!1}function lQ(t,e,n,r=-1){if(_e.ios&&t.inputState.flushIOSKey(e))return!0;let s=t.state.selection.main;if(_e.android&&(e.to==s.to&&(e.from==s.from||e.from==s.from-1&&t.state.sliceDoc(e.from,s.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Fo(t.contentDOM,"Enter",13)||(e.from==s.from-1&&e.to==s.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>s.head)&&Fo(t.contentDOM,"Backspace",8)||e.from==s.from&&e.to==s.to+1&&e.insert.length==0&&Fo(t.contentDOM,"Delete",46)))return!0;let i=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let a,o=()=>a||(a=wD(t,e,n));return t.state.facet($X).some(u=>u(t,e.from,e.to,i,o))||t.dispatch(o()),!0}function wD(t,e,n){let r,s=t.state,i=s.selection.main,a=-1;if(e.from==e.to&&e.from<i.from||e.from>i.to){let u=e.from<i.from?-1:1,f=u<0?i.from:i.to,p=rf(s.facet(Uf).map(m=>m(t)),f,u);e.from==p&&(a=p)}if(a>-1)r={changes:e,selection:ge.cursor(e.from+e.insert.length,-1)};else if(e.from>=i.from&&e.to<=i.to&&e.to-e.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=i.from<e.from?s.sliceDoc(i.from,e.from):"",f=i.to>e.to?s.sliceDoc(e.to,i.to):"";r=s.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let u=s.changes(e),f=n&&n.main.to<=u.newLength?n.main:void 0;if(s.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=i.to+10&&e.to>=i.to-10){let p=t.state.sliceDoc(e.from,e.to),m,g=n&&qX(t,n.main.head);if(g){let v=e.insert.length-(e.to-e.from);m={from:g.from,to:g.to-v}}else m=t.state.doc.lineAt(i.head);let x=i.to-e.to;r=s.changeByRange(v=>{if(v.from==i.from&&v.to==i.to)return{changes:u,range:f||v.map(u)};let y=v.to-x,w=y-p.length;if(t.state.sliceDoc(w,y)!=p||y>=m.from&&w<=m.to)return{range:v};let Q=s.changes({from:w,to:y,insert:e.insert}),k=v.to-i.to;return{changes:Q,range:f?ge.range(Math.max(0,f.anchor+k),Math.max(0,f.head+k)):v.map(Q)}})}else r={changes:u,selection:f&&s.selection.replaceRange(f)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),s.update(r,{userEvent:o,scrollIntoView:!0})}function LX(t,e,n,r){let s=Math.min(t.length,e.length),i=0;for(;i<s&&t.charCodeAt(i)==e.charCodeAt(i);)i++;if(i==s&&t.length==e.length)return null;let a=t.length,o=e.length;for(;a>0&&o>0&&t.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(r=="end"){let u=Math.max(0,i-Math.min(a,o));n-=a+u-i}if(a<i&&t.length<e.length){let u=n<=i&&n>=a?i-n:0;i-=u,o=i+(o-a),a=i}else if(o<i){let u=n<=i&&n>=o?i-n:0;i-=u,a=i+(a-o),o=i}return{from:i,toA:a,toB:o}}function QD(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}=t.observer.selectionRange;return n&&(e.push(new aP(n,r)),(s!=n||i!=r)&&e.push(new aP(s,i))),e}function kD(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?ge.single(n+e,r+e):null}class $D{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,_e.safari&&e.contentDOM.addEventListener("input",()=>null),_e.gecko&&LD(e.contentDOM.ownerDocument)}handleEvent(e){!RD(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let s of r.observers)s(this.view,n);for(let s of r.handlers){if(n.defaultPrevented)break;if(s(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=TD(e),r=this.handlers,s=this.view.contentDOM;for(let i in n)if(i!="scroll"){let a=!n[i].handlers.length,o=r[i];o&&a!=!o.handlers.length&&(s.removeEventListener(i,this.handleEvent),o=null),o||s.addEventListener(i,this.handleEvent,{passive:a})}for(let i in r)i!="scroll"&&!n[i]&&s.removeEventListener(i,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&VX.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),_e.android&&_e.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return _e.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=YX.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||_D.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Fo(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:_e.safari&&!_e.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function lP(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(s){jr(n.state,s)}}}function TD(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let s=r.spec,i=s&&s.plugin.domEventHandlers,a=s&&s.plugin.domEventObservers;if(i)for(let o in i){let u=i[o];u&&n(o).handlers.push(lP(r.value,u))}if(a)for(let o in a){let u=a[o];u&&n(o).observers.push(lP(r.value,u))}}for(let r in ks)n(r).handlers.push(ks[r]);for(let r in ts)n(r).observers.push(ts[r]);return e}const YX=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],_D="dthko",VX=[16,17,18,20,91,92,224,225],Th=6;function _h(t){return Math.max(0,t)*.7+8}function PD(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class jD{constructor(e,n,r,s){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=s,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=N9(e.contentDOM),this.atoms=e.state.facet(Uf).map(a=>a(e));let i=e.contentDOM.ownerDocument;i.addEventListener("mousemove",this.move=this.move.bind(this)),i.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(bt.allowMultipleSelections)&&ND(e,n),this.dragging=ED(e,n)&&UX(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&PD(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,s=0,i=0,a=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:i,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=aQ(this.view);e.clientX-u.left<=s+Th?n=-_h(s-e.clientX):e.clientX+u.right>=a-Th&&(n=_h(e.clientX-a)),e.clientY-u.top<=i+Th?r=-_h(i-e.clientY):e.clientY+u.bottom>=o-Th&&(r=_h(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=XX(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ND(t,e){let n=t.state.facet(SX);return n.length?n[0](e):_e.mac?e.metaKey:e.ctrlKey}function CD(t,e){let n=t.state.facet(wX);return n.length?n[0](e):_e.mac?!e.altKey:!e.ctrlKey}function ED(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=xf(t.root);if(!r||r.rangeCount==0)return!0;let s=r.getRangeAt(0).getClientRects();for(let i=0;i<s.length;i++){let a=s[i];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function RD(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=bn.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const ks=Object.create(null),ts=Object.create(null),DX=_e.ie&&_e.ie_version<15||_e.ios&&_e.webkit_version<604;function AD(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),BX(t,n.value)},50)}function Em(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function BX(t,e){e=Em(t.state,nQ,e);let{state:n}=t,r,s=1,i=n.toText(e),a=i.lines==n.selection.ranges.length;if(Lw!=null&&n.selection.ranges.every(u=>u.empty)&&Lw==i.toString()){let u=-1;r=n.changeByRange(f=>{let p=n.doc.lineAt(f.from);if(p.from==u)return{range:f};u=p.from;let m=n.toText((a?i.line(s++).text:e)+n.lineBreak);return{changes:{from:p.from,insert:m},range:ge.cursor(f.from+m.length)}})}else a?r=n.changeByRange(u=>{let f=i.line(s++);return{changes:{from:u.from,to:u.to,insert:f.text},range:ge.cursor(u.from+f.length)}}):r=n.replaceSelection(i);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}ts.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};ks.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);ts.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};ts.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};ks.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(QX))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=XD(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new jD(t,e,n,r)),r&&t.observer.ignore(()=>{hX(t.contentDOM);let i=t.root.activeElement;i&&!i.contains(t.contentDOM)&&i.blur()});let s=t.inputState.mouseSelection;if(s)return s.start(e),s.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function oP(t,e,n,r){if(r==1)return ge.cursor(e,n);if(r==2)return hD(t.state,e,n);{let s=t.docView.lineAt(e,n),i=t.state.doc.lineAt(s?s.posAtEnd:e),a=s?s.posAtStart:i.from,o=s?s.posAtEnd:i.to;return o<t.state.doc.length&&o==i.to&&o++,ge.range(a,o)}}const qD=_e.ie&&_e.ie_version<=11;let cP=null,uP=0,fP=0;function UX(t){if(!qD)return t.detail;let e=cP,n=fP;return cP=t,fP=Date.now(),uP=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(uP+1)%3:1}function XD(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=UX(e),s=t.state.selection;return{update(i){i.docChanged&&(n.pos=i.changes.mapPos(n.pos),s=s.map(i.changes))},get(i,a,o){let u=t.posAndSideAtCoords({x:i.clientX,y:i.clientY},!1),f,p=oP(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!a){let m=oP(t,n.pos,n.assoc,r),g=Math.min(m.from,p.from),x=Math.max(m.to,p.to);p=g<p.from?ge.range(g,x):ge.range(x,g)}return a?s.replaceRange(s.main.extend(p.from,p.to)):o&&r==1&&s.ranges.length>1&&(f=MD(s,u.pos))?f:o?s.addRange(p):ge.create([p])}}}function MD(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:s}=t.ranges[n];if(r<=e&&s>=e)return ge.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}ks.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let s=t.docView.tile.nearest(e.target);if(s&&s.isWidget()){let i=s.posAtStart,a=i+s.length;(i>=n.to||a<=n.from)&&(n=ge.range(i,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",Em(t.state,rQ,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};ks.dragend=t=>(t.inputState.draggedContent=null,!1);function dP(t,e,n,r){if(n=Em(t.state,nQ,n),!n)return;let s=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:i}=t.inputState,a=r&&i&&CD(t,e)?{from:i.from,to:i.to}:null,o={from:s,insert:n},u=t.state.changes(a?[a,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(s,-1),head:u.mapPos(s,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}ks.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),s=0,i=()=>{++s==n.length&&dP(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let o=new FileReader;o.onerror=i,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[a]=o.result),i()},o.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return dP(t,e,r,!0),!0}return!1};ks.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=DX?null:e.clipboardData;return n?(BX(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(AD(t),!1)};function zD(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function ZD(t){let e=[],n=[],r=!1;for(let s of t.selection.ranges)s.empty||(e.push(t.sliceDoc(s.from,s.to)),n.push(s));if(!e.length){let s=-1;for(let{from:i}of t.selection.ranges){let a=t.doc.lineAt(i);a.number>s&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),s=a.number}r=!0}return{text:Em(t,rQ,e.join(t.lineBreak)),ranges:n,linewise:r}}let Lw=null;ks.copy=ks.cut=(t,e)=>{let{text:n,ranges:r,linewise:s}=ZD(t.state);if(!n&&!s)return!1;Lw=s?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let i=DX?null:e.clipboardData;return i?(i.clearData(),i.setData("text/plain",n),!0):(zD(t,n),!1)};const GX=Vi.define();function WX(t,e){let n=[];for(let r of t.facet(TX)){let s=r(t,e);s&&n.push(s)}return n.length?t.update({effects:n,annotations:GX.of(!0)}):null}function IX(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=WX(t.state,e);n?t.dispatch(n):t.update([])}},10)}ts.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),IX(t)};ts.blur=t=>{t.observer.clearSelectionRange(),IX(t)};ts.compositionstart=ts.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};ts.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,_e.chrome&&_e.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};ts.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};ks.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let i=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=e.getTargetRanges();if(i&&a.length){let o=a[0],u=t.posAtDOM(o.startContainer,o.startOffset),f=t.posAtDOM(o.endContainer,o.endOffset);return lQ(t,{from:u,to:f,insert:t.state.toText(i)},null),!0}}let s;if(_e.chrome&&_e.android&&(s=YX.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(s.key,s.keyCode),s.key=="Backspace"||s.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return _e.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),_e.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>ts.compositionend(t,e),20),!1};const hP=new Set;function LD(t){hP.has(t)||(hP.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const pP=["pre-wrap","normal","pre-line","break-spaces"];let uc=!1;function mP(){uc=!1}class YD{constructor(e){this.lineWrapping=e,this.doc=Ot.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return pP.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let s=e[r];s<0?r++:this.heightSamples[Math.floor(s*10)]||(n=!0,this.heightSamples[Math.floor(s*10)]=!0)}return n}refresh(e,n,r,s,i,a){let o=pP.indexOf(e)>-1,u=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=s,this.lineLength=i,u){this.heightSamples={};for(let f=0;f<a.length;f++){let p=a[f];p<0?f++:this.heightSamples[Math.floor(p*10)]=!0}}return u}}class VD{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class vs{constructor(e,n,r,s,i){this.from=e,this.length=n,this.top=r,this.height=s,this._content=i}get type(){return typeof this._content=="number"?dr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Tl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new vs(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Mt=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(Mt||(Mt={}));const up=.001;class Hn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>up&&(uc=!0),this.height=e)}replace(e,n,r){return Hn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,s){let i=this,a=r.doc;for(let o=s.length-1;o>=0;o--){let{fromA:u,toA:f,fromB:p,toB:m}=s[o],g=i.lineAt(u,Mt.ByPosNoHeight,r.setDoc(n),0,0),x=g.to>=f?g:i.lineAt(f,Mt.ByPosNoHeight,r,0,0);for(m+=x.to-f,f=x.to;o>0&&g.from<=s[o-1].toA;)u=s[o-1].fromA,p=s[o-1].fromB,o--,u<g.from&&(g=i.lineAt(u,Mt.ByPosNoHeight,r,0,0));p+=g.from-u,u=g.from;let v=oQ.build(r.setDoc(a),e,p,m);i=qp(i,i.replace(u,f,v))}return i.updateHeight(r,0)}static empty(){return new $r(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,s=0,i=0;for(;;)if(n==r)if(s>i*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,s-=o.size}else if(i>s*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,i-=o.size}else break;else if(s<i){let o=e[n++];o&&(s+=o.size)}else{let o=e[--r];o&&(i+=o.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new BD(Hn.of(e.slice(0,n)),a,Hn.of(e.slice(r)))}}function qp(t,e){return t==e?t:(t.constructor!=e.constructor&&(uc=!0),e)}Hn.prototype.size=1;const DD=Dt.replace({});class HX extends Hn{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new vs(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,s){return this.spaceAbove&&e<r+this.spaceAbove?new vs(s,0,r,this.spaceAbove,DD):this.mainBlock(r,s)}lineAt(e,n,r,s,i){let a=this.mainBlock(s,i);return this.spaceAbove?this.blockAt(0,r,s,i).join(a):a}forEachLine(e,n,r,s,i,a){e<=i+this.length&&n>=i&&a(this.lineAt(0,Mt.ByPos,r,s,i))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,s){return s&&s.from<=n&&s.more&&this.setMeasuredHeight(s),this.outdated=!1,this}toString(){return`block(${this.length})`}}class $r extends HX{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new vs(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let s=r[0];return r.length==1&&(s instanceof $r||s instanceof An&&s.flags&4)&&Math.abs(this.length-s.length)<10?(s instanceof An?s=new $r(s.length,this.height,this.spaceAbove):s.height=this.height,this.outdated||(s.outdated=!1),s):Hn.of(r)}updateHeight(e,n=0,r=!1,s){return s&&s.from<=n&&s.more?this.setMeasuredHeight(s):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class An extends Hn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,s=e.doc.lineAt(n+this.length).number,i=s-r+1,a,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*i);a=u/i,this.length>i+1&&(o=(this.height-u)/(this.length-i-1))}else a=this.height/i;return{firstLine:r,lastLine:s,perLine:a,perChar:o}}blockAt(e,n,r,s){let{firstLine:i,lastLine:a,perLine:o,perChar:u}=this.heightMetrics(n,s);if(n.lineWrapping){let f=s+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),p=n.doc.lineAt(f),m=o+p.length*u,g=Math.max(r,e-m/2);return new vs(p.from,p.length,g,m,0)}else{let f=Math.max(0,Math.min(a-i,Math.floor((e-r)/o))),{from:p,length:m}=n.doc.line(i+f);return new vs(p,m,r+o*f,o,0)}}lineAt(e,n,r,s,i){if(n==Mt.ByHeight)return this.blockAt(e,r,s,i);if(n==Mt.ByPosNoHeight){let{from:x,to:v}=r.doc.lineAt(e);return new vs(x,v-x,0,0,0)}let{firstLine:a,perLine:o,perChar:u}=this.heightMetrics(r,i),f=r.doc.lineAt(e),p=o+f.length*u,m=f.number-a,g=s+o*m+u*(f.from-i-m);return new vs(f.from,f.length,Math.max(s,Math.min(g,s+this.height-p)),p,0)}forEachLine(e,n,r,s,i,a){e=Math.max(e,i),n=Math.min(n,i+this.length);let{firstLine:o,perLine:u,perChar:f}=this.heightMetrics(r,i);for(let p=e,m=s;p<=n;){let g=r.doc.lineAt(p);if(p==e){let v=g.number-o;m+=u*v+f*(e-i-v)}let x=u+f*g.length;a(new vs(g.from,g.length,m,x,0)),m+=x,p=g.to+1}}replace(e,n,r){let s=this.length-n;if(s>0){let i=r[r.length-1];i instanceof An?r[r.length-1]=new An(i.length+s):r.push(null,new An(s-1))}if(e>0){let i=r[0];i instanceof An?r[0]=new An(e+i.length):r.unshift(new An(e-1),null)}return Hn.of(r)}decomposeLeft(e,n){n.push(new An(e-1),null)}decomposeRight(e,n){n.push(null,new An(this.length-e-1))}updateHeight(e,n=0,r=!1,s){let i=n+this.length;if(s&&s.from<=n+this.length&&s.more){let a=[],o=Math.max(n,s.from),u=-1;for(s.from>n&&a.push(new An(s.from-n-1).updateHeight(e,n));o<=i&&s.more;){let p=e.doc.lineAt(o).length;a.length&&a.push(null);let m=s.heights[s.index++],g=0;m<0&&(g=-m,m=s.heights[s.index++]),u==-1?u=m:Math.abs(m-u)>=up&&(u=-2);let x=new $r(p,m,g);x.outdated=!1,a.push(x),o+=p+1}o<=i&&a.push(null,new An(i-o).updateHeight(e,o));let f=Hn.of(a);return(u<0||Math.abs(f.height-this.height)>=up||Math.abs(u-this.heightMetrics(e,n).perLine)>=up)&&(uc=!0),qp(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class BD extends Hn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,s){let i=r+this.left.height;return e<i?this.left.blockAt(e,n,r,s):this.right.blockAt(e,n,i,s+this.left.length+this.break)}lineAt(e,n,r,s,i){let a=s+this.left.height,o=i+this.left.length+this.break,u=n==Mt.ByHeight?e<a:e<o,f=u?this.left.lineAt(e,n,r,s,i):this.right.lineAt(e,n,r,a,o);if(this.break||(u?f.to<o:f.from>o))return f;let p=n==Mt.ByPosNoHeight?Mt.ByPosNoHeight:Mt.ByPos;return u?f.join(this.right.lineAt(o,p,r,a,o)):this.left.lineAt(o,p,r,s,i).join(f)}forEachLine(e,n,r,s,i,a){let o=s+this.left.height,u=i+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,s,i,a),n>=u&&this.right.forEachLine(e,n,r,o,u,a);else{let f=this.lineAt(u,Mt.ByPos,r,s,i);e<f.from&&this.left.forEachLine(e,f.from-1,r,s,i,a),f.to>=e&&f.from<=n&&a(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,o,u,a)}}replace(e,n,r){let s=this.left.length+this.break;if(n<s)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-s,n-s,r));let i=[];e>0&&this.decomposeLeft(e,i);let a=i.length;for(let o of r)i.push(o);if(e>0&&OP(i,a-1),n<this.length){let o=i.length;this.decomposeRight(n,i),OP(i,o)}return Hn.of(i)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,s=r+this.break;if(e>=s)return this.right.decomposeRight(e-s,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<s&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Hn.of(this.break?[e,null,n]:[e,n]):(this.left=qp(this.left,e),this.right=qp(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,s){let{left:i,right:a}=this,o=n+i.length+this.break,u=null;return s&&s.from<=n+i.length&&s.more?u=i=i.updateHeight(e,n,r,s):i.updateHeight(e,n,r),s&&s.from<=o+a.length&&s.more?u=a=a.updateHeight(e,o,r,s):a.updateHeight(e,o,r),u?this.balanced(i,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function OP(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof An&&(r=t[e+1])instanceof An&&t.splice(e-1,3,new An(n.length+1+r.length))}const UD=5;class oQ{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof $r?s.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new $r(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let s=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;s<0&&(s=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new HX(a,s,r)):(a||i||s>=UD)&&this.addLineDeco(s,i,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new $r(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new An(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof $r)return e;let n=new $r(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let s=this.ensureLine();s.length+=r,s.collapsed+=r,s.widgetHeight=Math.max(s.widgetHeight,e),s.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof $r)&&!this.isCovered?this.nodes.push(new $r(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let s of this.nodes)s instanceof $r&&s.updateHeight(this.oracle,r),r+=s?s.length:1;return this.nodes}static build(e,n,r,s){let i=new oQ(r,e);return mt.spans(n,r,s,i,0),i.finish(r)}}function GD(t,e,n){let r=new WD;return mt.compare(t,e,n,r,0),r.changes}class WD{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,s){(e<n||r&&r.heightRelevant||s&&s.heightRelevant)&&Ho(e,n,this.changes,5)}}function ID(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,s=r.defaultView||window,i=Math.max(0,n.left),a=Math.min(s.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(s.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let p=f,m=window.getComputedStyle(p);if((p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth)&&m.overflow!="visible"){let g=p.getBoundingClientRect();i=Math.max(i,g.left),a=Math.min(a,g.right),o=Math.max(o,g.top),u=Math.min(f==t.parentNode?s.innerHeight:u,g.bottom)}f=m.position=="absolute"||m.position=="fixed"?p.offsetParent:p.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:i-n.left,right:Math.max(i,a)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function HD(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function FD(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Dg{constructor(e,n,r,s){this.from=e,this.to=n,this.size=r,this.displaySize=s}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=n[r];if(s.from!=i.from||s.to!=i.to||s.size!=i.size)return!1}return!0}draw(e,n){return Dt.replace({widget:new KD(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class KD extends Vf{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class gP{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=xP,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ft.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(sQ).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new YD(n),this.stateDeco=bP(e),this.heightMap=Hn.empty().applyChanges(this.stateDeco,Ot.empty,this.heightOracle.setDoc(e.doc),[new Ur(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Dt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let s=r?n.head:n.anchor;if(!e.some(({from:i,to:a})=>s>=i&&s<=a)){let{from:i,to:a}=this.lineBlockAt(s);e.push(new Ph(i,a))}}return this.viewports=e.sort((r,s)=>r.from-s.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?xP:new cQ(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Du(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=bP(this.state);let s=e.changedRanges,i=Ur.extendWithRanges(s,GD(r,this.stateDeco,e?e.changes:Sn.empty(this.state.doc.length))),a=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);mP(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),(this.heightMap.height!=a||uc)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let u=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(D9)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),s=this.heightOracle,i=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Ft.RTL:Ft.LTR;let a=this.heightOracle.mustRefreshForWrapping(i),o=n.getBoundingClientRect(),u=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,p=0;if(o.width&&o.height){let{scaleX:_,scaleY:T}=dX(n,o);(_>.005&&Math.abs(this.scaleX-_)>.005||T>.005&&Math.abs(this.scaleY-T)>.005)&&(this.scaleX=_,this.scaleY=T,f|=16,a=u=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,g=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=m||this.paddingBottom!=g)&&(this.paddingTop=m,this.paddingBottom=g,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(s.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=pX(e.scrollDOM);let v=(this.printing?FD:ID)(n,this.paddingTop),y=v.top-this.pixelViewport.top,w=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let Q=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Q!=this.inView&&(this.inView=Q,Q&&(u=!0)),!this.inView&&!this.scrollTarget&&!HD(e.dom))return 0;let k=o.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let _=e.docView.measureVisibleLineHeights(this.viewport);if(s.mustRefreshForHeights(_)&&(a=!0),a||s.lineWrapping&&Math.abs(k-this.contentDOMWidth)>s.charWidth){let{lineHeight:T,charWidth:N,textHeight:C}=e.docView.measureTextSize();a=T>0&&s.refresh(i,T,N,C,Math.max(5,k/N),_),a&&(e.docView.minWidth=0,f|=16)}y>0&&w>0?p=Math.max(y,w):y<0&&w<0&&(p=Math.min(y,w)),mP();for(let T of this.viewports){let N=T.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(T);this.heightMap=(a?Hn.empty().applyChanges(this.stateDeco,Ot.empty,this.heightOracle,[new Ur(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(s,0,a,new VD(T.from,N))}uc&&(f|=2)}let $=!this.viewportIsAppropriate(this.viewport,p)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(p,this.scrollTarget),f|=this.updateForViewport()),(f&2||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),s=this.heightMap,i=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,u=new Ph(s.lineAt(a-r*1e3,Mt.ByHeight,i,0,0).from,s.lineAt(o+(1-r)*1e3,Mt.ByHeight,i,0,0).to);if(n){let{head:f}=n.range;if(f<u.from||f>u.to){let p=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),m=s.lineAt(f,Mt.ByPos,i,0,0),g;n.y=="center"?g=(m.top+m.bottom)/2-p/2:n.y=="start"||n.y=="nearest"&&f<u.from?g=m.top:g=m.bottom-p,u=new Ph(s.lineAt(g-1e3/2,Mt.ByHeight,i,0,0).from,s.lineAt(g+p+1e3/2,Mt.ByHeight,i,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),s=n.mapPos(e.to,1);return new Ph(this.heightMap.lineAt(r,Mt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s,Mt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:s}=this.heightMap.lineAt(e,Mt.ByPos,this.heightOracle,0,0),{bottom:i}=this.heightMap.lineAt(n,Mt.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||s<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||i>=o+Math.max(10,Math.min(r,250)))&&s>a-2*1e3&&i<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let s of e)n.touchesRange(s.from,s.to)||r.push(new Dg(n.mapPos(s.from),n.mapPos(s.to),s.size,s.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,s=r?1e4:2e3,i=s>>1,a=s<<1;if(this.defaultTextDirection!=Ft.LTR&&!r)return[];let o=[],u=(p,m,g,x)=>{if(m-p<i)return;let v=this.state.selection.main,y=[v.from];v.empty||y.push(v.to);for(let Q of y)if(Q>p&&Q<m){u(p,Q-10,g,x),u(Q+10,m,g,x);return}let w=eB(e,Q=>Q.from>=g.from&&Q.to<=g.to&&Math.abs(Q.from-p)<i&&Math.abs(Q.to-m)<i&&!y.some(k=>Q.from<k&&Q.to>k));if(!w){if(m<g.to&&n&&r&&n.visibleRanges.some($=>$.from<=m&&$.to>=m)){let $=n.moveToLineBoundary(ge.cursor(m),!1,!0).head;$>p&&(m=$)}let Q=this.gapSize(g,p,m,x),k=r||Q<2e6?Q:2e6;w=new Dg(p,m,Q,k)}o.push(w)},f=p=>{if(p.length<a||p.type!=dr.Text)return;let m=JD(p.from,p.to,this.stateDeco);if(m.total<a)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,x,v;if(r){let y=s/this.heightOracle.lineLength*this.heightOracle.lineHeight,w,Q;if(g!=null){let k=Nh(m,g),$=((this.visibleBottom-this.visibleTop)/2+y)/p.height;w=k-$,Q=k+$}else w=(this.visibleTop-p.top-y)/p.height,Q=(this.visibleBottom-p.top+y)/p.height;x=jh(m,w),v=jh(m,Q)}else{let y=m.total*this.heightOracle.charWidth,w=s*this.heightOracle.charWidth,Q=0;if(y>2e6)for(let N of e)N.from>=p.from&&N.from<p.to&&N.size!=N.displaySize&&N.from*this.heightOracle.charWidth+Q<this.pixelViewport.left&&(Q=N.size-N.displaySize);let k=this.pixelViewport.left+Q,$=this.pixelViewport.right+Q,_,T;if(g!=null){let N=Nh(m,g),C=(($-k)/2+w)/y;_=N-C,T=N+C}else _=(k-w)/y,T=($+w)/y;x=jh(m,_),v=jh(m,T)}x>p.from&&u(p.from,x,p,m),v<p.to&&u(v,p.to,p,m)};for(let p of this.viewportLines)Array.isArray(p.type)?p.type.forEach(f):f(p);return o}gapSize(e,n,r,s){let i=Nh(s,r)-Nh(s,n);return this.heightOracle.lineWrapping?e.height*i:s.total*this.heightOracle.charWidth*i}updateLineGaps(e){Dg.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Dt.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];mt.spans(n,this.viewport.from,this.viewport.to,{span(i,a){r.push({from:i,to:a})},point(){}},20);let s=0;if(r.length!=this.visibleRanges.length)s=12;else for(let i=0;i<r.length&&!(s&8);i++){let a=this.visibleRanges[i],o=r[i];(a.from!=o.from||a.to!=o.to)&&(s|=4,e&&e.mapPos(a.from,-1)==o.from&&e.mapPos(a.to,1)==o.to||(s|=8))}return this.visibleRanges=r,s}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Du(this.heightMap.lineAt(e,Mt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Du(this.heightMap.lineAt(this.scaler.fromDOM(e),Mt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Du(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Ph=class{constructor(e,n){this.from=e,this.to=n}};function JD(t,e,n){let r=[],s=t,i=0;return mt.spans(n,t,e,{span(){},point(a,o){a>s&&(r.push({from:s,to:a}),i+=a-s),s=o}},20),s<e&&(r.push({from:s,to:e}),i+=e-s),{total:i,ranges:r}}function jh({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let s=0;;s++){let{from:i,to:a}=e[s],o=a-i;if(r<=o)return i+r;r-=o}}function Nh(t,e){let n=0;for(let{from:r,to:s}of t.ranges){if(e<=s){n+=e-r;break}n+=s-r}return n/t.total}function eB(t,e){for(let n of t)if(e(n))return n}const xP={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function bP(t){let e=t.facet(jm).filter(r=>typeof r!="function"),n=t.facet(iQ).filter(r=>typeof r!="function");return n.length&&e.push(mt.join(n)),e}class cQ{constructor(e,n,r){let s=0,i=0,a=0;this.viewports=r.map(({from:o,to:u})=>{let f=n.lineAt(o,Mt.ByPos,e,0,0).top,p=n.lineAt(u,Mt.ByPos,e,0,0).bottom;return s+=p-f,{from:o,to:u,top:f,bottom:p,domTop:0,domBottom:0}}),this.scale=(7e6-s)/(n.height-s);for(let o of this.viewports)o.domTop=a+(o.top-i)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),i=o.bottom}toDOM(e){for(let n=0,r=0,s=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.top)return s+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,s=i.domBottom}}fromDOM(e){for(let n=0,r=0,s=0;;n++){let i=n<this.viewports.length?this.viewports[n]:null;if(!i||e<i.domTop)return r+(e-s)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,s=i.domBottom}}eq(e){return e instanceof cQ?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Du(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new vs(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(s=>Du(s,e)):t._content)}const Ch=Re.define({combine:t=>t.join(" ")}),Yw=Re.define({combine:t=>t.indexOf(!0)>-1}),Vw=Ea.newName(),FX=Ea.newName(),KX=Ea.newName(),JX={"&light":"."+FX,"&dark":"."+KX};function Dw(t,e,n){return new Ea(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,s=>{if(s=="&")return t;if(!n||!n[s])throw new RangeError(`Unsupported selector: ${s}`);return n[s]}):t+" "+r}})}const tB=Dw("."+Vw,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},JX),nB={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Bg=_e.ie&&_e.ie_version<=11;class rB{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new C9,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(_e.ie&&_e.ie_version<=11||_e.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&_e.android&&e.constructor.EDIT_CONTEXT!==!1&&!(_e.chrome&&_e.chrome_version<126)&&(this.editContext=new iB(e),e.state.facet(ji)&&(e.contentDOM.editContext=this.editContext.editContext)),Bg&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,s=this.selectionRange;if(r.state.facet(ji)?r.root.activeElement!=this.dom:!op(this.dom,s))return;let i=s.anchorNode&&r.docView.tile.nearest(s.anchorNode);if(i&&i.isWidget()&&i.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(_e.ie&&_e.ie_version<=11||_e.android&&_e.chrome)&&!r.state.selection.main.empty&&s.focusNode&&nf(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=xf(e.root);if(!n)return!1;let r=_e.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&sB(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let s=op(this.dom,r);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&R9(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,nB),Bg&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Bg&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let s=()=>{let i=this.delayedAndroidKey;i&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=i.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&i.force&&Fo(this.dom,i.key,i.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(s)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,s=!1;for(let i of e){let a=this.readMutation(i);a&&(a.typeOver&&(s=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:s}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),s=this.selectionChanged&&op(this.dom,this.selectionRange);if(e<0&&!s)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new SD(this.view,e,n,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,s=ZX(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=yP(n,e.previousSibling||e.target.previousSibling,-1),s=yP(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:s?n.posBefore(s):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ji)!=e.state.facet(ji)&&(e.view.contentDOM.editContext=e.state.facet(ji)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function yP(t,e,n){for(;e;){let r=bn.get(e);if(r&&r.parent==t)return r;let s=e.parentNode;e=s!=t.dom?s:n>0?e.nextSibling:e.previousSibling}return null}function vP(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.docView.domAtPos(t.state.selection.main.anchor,1);return nf(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function sB(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return vP(t,s)}let n=null;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?vP(t,n):null}class iB{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let s=e.state.selection.main,{anchor:i,head:a}=s,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let f=u-o>r.text.length;o==this.from&&i<this.from?o=i:u==this.to&&i>this.to&&(u=i);let p=LX(e.state.sliceDoc(o,u),r.text,(f?s.from:s.to)-o,f?"end":null);if(!p){let g=ge.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));g.main.eq(s)||e.dispatch({selection:g,userEvent:"select"});return}let m={from:p.from+o,to:p.toA+o,insert:Ot.of(r.text.slice(p.from,p.toB).split(`
`))};if((_e.mac||_e.android)&&m.from==a-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(m={from:o,to:u,insert:Ot.of([r.text.replace("."," ")])}),this.pendingContextChange=m,!e.state.readOnly){let g=this.to-this.from+(m.to-m.from+m.insert.length);lQ(e,m,ge.single(this.toEditorPos(r.selectionStart,g),this.toEditorPos(r.selectionEnd,g)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),m.from<m.to&&!m.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let s=[],i=null;for(let a=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);a<o;a++){let u=e.coordsForChar(a);i=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||i||new DOMRect,s.push(i)}n.updateCharacterBounds(r.rangeStart,s)},this.handlers.textformatupdate=r=>{let s=[];for(let i of r.getTextFormats()){let a=i.underlineStyle,o=i.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(o)){let u=this.toEditorPos(i.rangeStart),f=this.toEditorPos(i.rangeEnd);if(u<f){let p=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;s.push(Dt.mark({attributes:{style:p}}).range(u,f))}}}e.dispatch({effects:jX.of(Dt.set(s))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let s=xf(r.root);s&&s.rangeCount&&this.editContext.updateSelectionBounds(s.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,s=this.pendingContextChange;return e.changes.iterChanges((i,a,o,u,f)=>{if(r)return;let p=f.length-(a-i);if(s&&a>=s.to)if(s.from==i&&s.to==a&&s.insert.eq(f)){s=this.pendingContextChange=null,n+=p,this.to+=p;return}else s=null,this.revertPending(e.state);if(i+=n,a+=n,a<=this.from)this.from+=p,this.to+=p;else if(i<this.to){if(i<this.from||a>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(i),this.toContextPos(a),f.toString()),this.to+=p}n+=p}),s&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),s=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=s)&&this.editContext.updateSelection(r,s)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Ee{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(s=>s.forEach(i=>r(i,this)))||(s=>this.update(s)),this.dispatch=this.dispatch.bind(this),this._root=e.root||E9(e.parent)||document,this.viewState=new gP(e.state||bt.create(e)),e.scrollTo&&e.scrollTo.is($h)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Yo).map(s=>new zg(s));for(let s of this.plugins)s.update(this);this.observer=new rB(this),this.inputState=new $D(this),this.inputState.ensureHandlers(this.plugins),this.docView=new rP(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof xn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,s,i=this.state;for(let g of e){if(g.startState!=i)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");i=g.state}if(this.destroyed){this.viewState.state=i;return}let a=this.hasFocus,o=0,u=null;e.some(g=>g.annotation(GX))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,u=WX(i,a),u||(o=1));let f=this.observer.delayedAndroidKey,p=null;if(f?(this.observer.clearDelayedAndroidKey(),p=this.observer.readChange(),(p&&!this.state.doc.eq(i.doc)||!this.state.selection.eq(i.selection))&&(p=null)):this.observer.clear(),i.facet(bt.phrases)!=this.state.facet(bt.phrases))return this.setState(i);s=Ep.create(this,i,e),s.flags|=o;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(m&&(m=m.map(g.changes)),g.scrollIntoView){let{main:x}=g.state.selection;m=new Ko(x.empty?x:ge.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of g.effects)x.is($h)&&(m=x.value.clip(this.state))}this.viewState.update(s,m),this.bidiCache=Xp.update(this.bidiCache,s.changes),s.empty||(this.updatePlugins(s),this.inputState.update(s)),n=this.docView.update(s),this.state.facet(Yu)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(s.startState.facet(Ch)!=s.state.facet(Ch)&&(this.viewState.mustMeasureContent=!0),(n||r||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!s.empty)for(let g of this.state.facet(Mw))try{g(s)}catch(x){jr(this.state,x,"update listener")}(u||p)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),p&&!ZX(this,p)&&f.force&&Fo(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new gP(e),this.plugins=e.facet(Yo).map(r=>new zg(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new rP(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Yo),r=e.state.facet(Yo);if(n!=r){let s=[];for(let i of r){let a=n.indexOf(i);if(a<0)s.push(new zg(i));else{let o=this.plugins[a];o.mustUpdate=e,s.push(o)}}for(let i of this.plugins)i.mustUpdate!=e&&i.destroy(this);this.plugins=s,this.pluginMap.clear()}else for(let s of this.plugins)s.mustUpdate=e;for(let s=0;s<this.plugins.length;s++)this.plugins[s].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){jr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,s=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:a}=this.viewState;Math.abs(s-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(a<0)if(pX(r))i=-1,a=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(s);i=x.from,a=x.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let p=f.map(x=>{try{return x.read(this)}catch(v){return jr(this.state,v),SP}}),m=Ep.create(this,this.state,[]),g=!1;m.flags|=u,n?n.flags|=u:n=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),g=this.docView.update(m),g&&this.docViewUpdate());for(let x=0;x<f.length;x++)if(p[x]!=SP)try{let v=f[x];v.write&&v.write(p[x],this)}catch(v){jr(this.state,v)}if(g&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let v=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-a;if(v>1||v<-1){s=s+v,r.scrollTop=s/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(Mw))o(n)}get themeClasses(){return Vw+" "+(this.state.facet(Yw)?KX:FX)+" "+this.state.facet(Ch)}updateAttrs(){let e=wP(this,NX,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ji)?"true":"false",class:"cm-content",style:`${_e.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),wP(this,sQ,n);let r=this.observer.ignore(()=>{let s=F_(this.contentDOM,this.contentAttrs,n),i=F_(this.dom,this.editorAttrs,e);return s||i});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let s of r.effects)if(s.is(Ee.announce)){n&&(this.announceDOM.textContent=""),n=!1;let i=this.announceDOM.appendChild(document.createElement("div"));i.textContent=s.value}}mountStyles(){this.styleModules=this.state.facet(Yu);let e=this.state.facet(Ee.cspNonce);Ea.mount(this.root,this.styleModules.concat(tB).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Vg(this,e,sP(this,e,n,r))}moveByGroup(e,n){return Vg(this,e,sP(this,e,n,r=>gD(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),s=this.textDirectionAt(e.from),i=r[n?r.length-1:0];return ge.cursor(i.side(n,s)+e.from,i.forward(!n,s)?1:-1)}moveToLineBoundary(e,n,r=!0){return OD(this,e,n,r)}moveVertically(e,n,r){return Vg(this,e,xD(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=Zw(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),Zw(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let s=this.state.doc.lineAt(e),i=this.bidiSpans(s),a=i[Ei.find(i,e-s.from,-1,n)];return Cp(r,a.dir==Ft.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(_X)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>aB)return yX(e.length);let n=this.textDirectionAt(e.from),r;for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n&&(i.fresh||bX(i.isolates,r=eP(this,e))))return i.order;r||(r=eP(this,e));let s=L9(e.text,n,r);return this.bidiCache.push(new Xp(e.from,e.to,n,r,!0,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||_e.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{hX(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return $h.of(new Ko(typeof e=="number"?ge.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return $h.of(new Ko(ge.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Qs.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Qs.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Ea.newName(),s=[Ch.of(r),Yu.of(Dw(`.${r}`,e))];return n&&n.dark&&s.push(Yw.of(!0)),s}static baseTheme(e){return Xl.lowest(Yu.of(Dw("."+Vw,e,JX)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),s=r&&bn.get(r)||bn.get(e);return((n=s==null?void 0:s.root)===null||n===void 0?void 0:n.view)||null}}Ee.styleModule=Yu;Ee.inputHandler=$X;Ee.clipboardInputFilter=nQ;Ee.clipboardOutputFilter=rQ;Ee.scrollHandler=PX;Ee.focusChangeEffect=TX;Ee.perLineTextDirection=_X;Ee.exceptionSink=kX;Ee.updateListener=Mw;Ee.editable=ji;Ee.mouseSelectionStyle=QX;Ee.dragMovesSelection=wX;Ee.clickAddsSelectionRange=SX;Ee.decorations=jm;Ee.blockWrappers=CX;Ee.outerDecorations=iQ;Ee.atomicRanges=Uf;Ee.bidiIsolatedRanges=EX;Ee.scrollMargins=RX;Ee.darkTheme=Yw;Ee.cspNonce=Re.define({combine:t=>t.length?t[0]:""});Ee.contentAttributes=sQ;Ee.editorAttributes=NX;Ee.lineWrapping=Ee.contentAttributes.of({class:"cm-lineWrapping"});Ee.announce=Ct.define();const aB=4096,SP={};class Xp{constructor(e,n,r,s,i,a){this.from=e,this.to=n,this.dir=r,this.isolates=s,this.fresh=i,this.order=a}static update(e,n){if(n.empty&&!e.some(i=>i.fresh))return e;let r=[],s=e.length?e[e.length-1].dir:Ft.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let a=e[i];a.dir==s&&!n.touchesRange(a.from,a.to)&&r.push(new Xp(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function wP(t,e,n){for(let r=t.state.facet(e),s=r.length-1;s>=0;s--){let i=r[s],a=typeof i=="function"?i(t):i;a&&J2(a,n)}return n}const lB=_e.mac?"mac":_e.windows?"win":_e.linux?"linux":"key";function oB(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let s,i,a,o;for(let u=0;u<n.length-1;++u){const f=n[u];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))s=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))a=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return s&&(r="Alt-"+r),i&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function Eh(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const cB=Xl.default(Ee.domEventHandlers({keydown(t,e){return hB(uB(e.state),t,e,"editor")}})),$c=Re.define({enables:cB}),QP=new WeakMap;function uB(t){let e=t.facet($c),n=QP.get(e);return n||QP.set(e,n=dB(e.reduce((r,s)=>r.concat(s),[]))),n}let Qa=null;const fB=4e3;function dB(t,e=lB){let n=Object.create(null),r=Object.create(null),s=(a,o)=>{let u=r[a];if(u==null)r[a]=o;else if(u!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},i=(a,o,u,f,p)=>{var m,g;let x=n[a]||(n[a]=Object.create(null)),v=o.split(/ (?!$)/).map(Q=>oB(Q,e));for(let Q=1;Q<v.length;Q++){let k=v.slice(0,Q).join(" ");s(k,!0),x[k]||(x[k]={preventDefault:!0,stopPropagation:!1,run:[$=>{let _=Qa={view:$,prefix:k,scope:a};return setTimeout(()=>{Qa==_&&(Qa=null)},fB),!0}]})}let y=v.join(" ");s(y,!1);let w=x[y]||(x[y]={preventDefault:!1,stopPropagation:!1,run:((g=(m=x._any)===null||m===void 0?void 0:m.run)===null||g===void 0?void 0:g.slice())||[]});u&&w.run.push(u),f&&(w.preventDefault=!0),p&&(w.stopPropagation=!0)};for(let a of t){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let f of o){let p=n[f]||(n[f]=Object.create(null));p._any||(p._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:m}=a;for(let g in p)p[g].run.push(x=>m(x,Bw))}let u=a[e]||a.key;if(u)for(let f of o)i(f,u,a.run,a.preventDefault,a.stopPropagation),a.shift&&i(f,"Shift-"+u,a.shift,a.preventDefault,a.stopPropagation)}return n}let Bw=null;function hB(t,e,n,r){Bw=e;let s=Q9(e),i=cl(s,0),a=Xo(i)==s.length&&s!=" ",o="",u=!1,f=!1,p=!1;Qa&&Qa.view==n&&Qa.scope==r&&(o=Qa.prefix+" ",VX.indexOf(e.keyCode)<0&&(f=!0,Qa=null));let m=new Set,g=w=>{if(w){for(let Q of w.run)if(!m.has(Q)&&(m.add(Q),Q(n)))return w.stopPropagation&&(p=!0),!0;w.preventDefault&&(w.stopPropagation&&(p=!0),f=!0)}return!1},x=t[r],v,y;return x&&(g(x[o+Eh(s,e,!a)])?u=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(_e.windows&&e.ctrlKey&&e.altKey)&&!(_e.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(v=Ra[e.keyCode])&&v!=s?(g(x[o+Eh(v,e,!0)])||e.shiftKey&&(y=Of[e.keyCode])!=s&&y!=v&&g(x[o+Eh(y,e,!1)]))&&(u=!0):a&&e.shiftKey&&g(x[o+Eh(s,e,!0)])&&(u=!0),!u&&g(x._any)&&(u=!0)),f&&(u=!0),u&&p&&e.stopPropagation(),Bw=null,u}function kP(){return mB}const pB=Dt.line({class:"cm-activeLine"}),mB=Qs.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let s=t.lineBlockAt(r.head);s.from>e&&(n.push(pB.range(s.from)),e=s.from)}return Dt.set(n)}},{decorations:t=>t.decorations}),Rh="-10000px";class OB{constructor(e,n,r,s){this.facet=n,this.createTooltipView=r,this.removeTooltipView=s,this.input=e.state.facet(n),this.tooltips=this.input.filter(a=>a);let i=null;this.tooltipViews=this.tooltips.map(a=>i=r(a,i))}update(e,n){var r;let s=e.state.facet(this.facet),i=s.filter(u=>u);if(s===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let a=[],o=n?[]:null;for(let u=0;u<i.length;u++){let f=i[u],p=-1;if(f){for(let m=0;m<this.tooltips.length;m++){let g=this.tooltips[m];g&&g.create==f.create&&(p=m)}if(p<0)a[u]=this.createTooltipView(f,u?a[u-1]:null),o&&(o[u]=!!f.above);else{let m=a[u]=this.tooltipViews[p];o&&(o[u]=n[p]),m.update&&m.update(e)}}}for(let u of this.tooltipViews)a.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,f)=>n[f]=u),n.length=o.length),this.input=s,this.tooltips=i,this.tooltipViews=a,!0}}function gB(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Ug=Re.define({combine:t=>{var e,n,r;return{position:_e.ios?"absolute":((e=t.find(s=>s.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(s=>s.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(s=>s.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||gB}}}),$P=new WeakMap,eM=Qs.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Ug);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new OB(t,tM,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Ug);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let s of this.manager.tooltipViews)s.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let s of this.manager.tooltipViews)this.container.appendChild(s.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let s=document.createElement("div");s.className="cm-tooltip-arrow",n.dom.appendChild(s)}return n.dom.style.position=this.position,n.dom.style.top=Rh,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(_e.safari){let a=i.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!i.offsetParent&&i.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),s=aQ(this.view);return{visible:{left:r.left+s.left,top:r.top+s.top,right:r.right-s.right,bottom:r.bottom-s.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((i,a)=>{let o=this.manager.tooltipViews[a];return o.getCoords?o.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(Ug).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:s,scaleY:i}=t,a=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],f=this.manager.tooltipViews[o],{dom:p}=f,m=t.pos[o],g=t.size[o];if(!m||u.clip!==!1&&(m.bottom<=Math.max(n.top,r.top)||m.top>=Math.min(n.bottom,r.bottom)||m.right<Math.max(n.left,r.left)-.1||m.left>Math.min(n.right,r.right)+.1)){p.style.top=Rh;continue}let x=u.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,v=x?7:0,y=g.right-g.left,w=(e=$P.get(f))!==null&&e!==void 0?e:g.bottom-g.top,Q=f.offset||bB,k=this.view.textDirection==Ft.LTR,$=g.width>r.right-r.left?k?r.left:r.right-g.width:k?Math.max(r.left,Math.min(m.left-(x?14:0)+Q.x,r.right-y)):Math.min(Math.max(r.left,m.left-y+(x?14:0)-Q.x),r.right-y),_=this.above[o];!u.strictSide&&(_?m.top-w-v-Q.y<r.top:m.bottom+w+v+Q.y>r.bottom)&&_==r.bottom-m.bottom>m.top-r.top&&(_=this.above[o]=!_);let T=(_?m.top-r.top:r.bottom-m.bottom)-v;if(T<w&&f.resize!==!1){if(T<this.view.defaultLineHeight){p.style.top=Rh;continue}$P.set(f,w),p.style.height=(w=T)/i+"px"}else p.style.height&&(p.style.height="");let N=_?m.top-w-v-Q.y:m.bottom+v+Q.y,C=$+y;if(f.overlap!==!0)for(let q of a)q.left<C&&q.right>$&&q.top<N+w&&q.bottom>N&&(N=_?q.top-w-2-v:q.bottom+v+2);if(this.position=="absolute"?(p.style.top=(N-t.parent.top)/i+"px",TP(p,($-t.parent.left)/s)):(p.style.top=N/i+"px",TP(p,$/s)),x){let q=m.left+(k?Q.x:-Q.x)-($+14-7);x.style.left=q/s+"px"}f.overlap!==!0&&a.push({left:$,top:N,right:C,bottom:N+w}),p.classList.toggle("cm-tooltip-above",_),p.classList.toggle("cm-tooltip-below",!_),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Rh}},{eventObservers:{scroll(){this.maybeMeasure()}}});function TP(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const xB=Ee.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),bB={x:0,y:0},tM=Re.define({enables:[eM,xB]});function nM(t,e){let n=t.plugin(eM);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}class jl extends Ca{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}jl.prototype.elementClass="";jl.prototype.toDOM=void 0;jl.prototype.mapMode=Wn.TrackBefore;jl.prototype.startSide=jl.prototype.endSide=-1;jl.prototype.point=!0;const Gg=Re.define(),yB=Re.define(),fp=Re.define(),_P=Re.define({combine:t=>t.some(e=>e)});function vB(t){return[SB]}const SB=Qs.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(fp).map(e=>new jP(t,e)),this.fixed=!t.state.facet(_P);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(_P)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=mt.iter(this.view.state.facet(Gg),this.view.viewport.from),r=[],s=this.gutters.map(i=>new wB(i,this.view.viewport,-this.view.documentPadding.top));for(let i of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(i.type)){let a=!0;for(let o of i.type)if(o.type==dr.Text&&a){Uw(n,r,o.from);for(let u of s)u.line(this.view,o,r);a=!1}else if(o.widget)for(let u of s)u.widget(this.view,o)}else if(i.type==dr.Text){Uw(n,r,i.from);for(let a of s)a.line(this.view,i,r)}else if(i.widget)for(let a of s)a.widget(this.view,i);for(let i of s)i.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(fp),n=t.state.facet(fp),r=t.docChanged||t.heightChanged||t.viewportChanged||!mt.eq(t.startState.facet(Gg),t.state.facet(Gg),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let s of this.gutters)s.update(t)&&(r=!0);else{r=!0;let s=[];for(let i of n){let a=e.indexOf(i);a<0?s.push(new jP(this.view,i)):(this.gutters[a].update(t),s.push(this.gutters[a]))}for(let i of this.gutters)i.dom.remove(),s.indexOf(i)<0&&i.destroy();for(let i of s)i.config.side=="after"?this.getDOMAfter().appendChild(i.dom):this.dom.appendChild(i.dom);this.gutters=s}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>Ee.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,s=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Ft.LTR?{left:r,right:s}:{right:r,left:s}})});function PP(t){return Array.isArray(t)?t:[t]}function Uw(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class wB{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=mt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:s}=this,i=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==s.elements.length){let o=new rM(e,a,i,r);s.elements.push(o),s.dom.appendChild(o.dom)}else s.elements[this.i].update(e,a,i,r);this.height=n.bottom,this.i++}line(e,n,r){let s=[];Uw(this.cursor,s,n.from),r.length&&(s=s.concat(r));let i=this.gutter.config.lineMarker(e,n,s);i&&s.unshift(i);let a=this.gutter;s.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,s)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),s=r?[r]:null;for(let i of e.state.facet(yB)){let a=i(e,n.widget,n);a&&(s||(s=[])).push(a)}s&&this.addElement(e,n,s)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class jP{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,s=>{let i=s.target,a;if(i!=this.dom&&this.dom.contains(i)){for(;i.parentNode!=this.dom;)i=i.parentNode;let u=i.getBoundingClientRect();a=(u.top+u.bottom)/2}else a=s.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,o,s)&&s.preventDefault()});this.markers=PP(n.markers(e)),n.initialSpacer&&(this.spacer=new rM(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=PP(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let s=this.config.updateSpacer(this.spacer.markers[0],e);s!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[s])}let r=e.view.viewport;return!mt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class rM{constructor(e,n,r,s){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,s)}update(e,n,r,s){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),QB(this.markers,s)||this.setMarkers(e,s)}setMarkers(e,n){let r="cm-gutterElement",s=this.dom.firstChild;for(let i=0,a=0;;){let o=a,u=i<n.length?n[i++]:null,f=!1;if(u){let p=u.elementClass;p&&(r+=" "+p);for(let m=a;m<this.markers.length;m++)if(this.markers[m].compare(u)){o=m,f=!0;break}}else o=this.markers.length;for(;a<o;){let p=this.markers[a++];if(p.toDOM){p.destroy(s);let m=s.nextSibling;s.remove(),s=m}}if(!u)break;u.toDOM&&(f?s=s.nextSibling:this.dom.insertBefore(u.toDOM(e),s)),f&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function QB(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const kB=Re.define(),$B=Re.define(),Vo=Re.define({combine(t){return H2(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let s in n){let i=r[s],a=n[s];r[s]=i?(o,u,f)=>i(o,u,f)||a(o,u,f):a}return r}})}});class Wg extends jl{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Ig(t,e){return t.state.facet(Vo).formatNumber(e,t.state)}const TB=fp.compute([Vo],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(kB)},lineMarker(e,n,r){return r.some(s=>s.toDOM)?null:new Wg(Ig(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let s of e.state.facet($B)){let i=s(e,n,r);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(Vo)!=e.state.facet(Vo),initialSpacer(e){return new Wg(Ig(e,CP(e.state.doc.lines)))},updateSpacer(e,n){let r=Ig(n.view,CP(n.view.state.doc.lines));return r==e.number?e:new Wg(r)},domEventHandlers:t.facet(Vo).domEventHandlers,side:"before"}));function NP(t={}){return[Vo.of(t),vB(),TB]}function CP(t){let e=9;for(;e<t;)e=e*10+9;return e}const sM=1024;let _B=0;class Gr{constructor(e,n){this.from=e,this.to=n}}class Be{constructor(e={}){this.id=_B++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=wn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Be.closedBy=new Be({deserialize:t=>t.split(" ")});Be.openedBy=new Be({deserialize:t=>t.split(" ")});Be.group=new Be({deserialize:t=>t.split(" ")});Be.isolate=new Be({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Be.contextHash=new Be({perNode:!0});Be.lookAhead=new Be({perNode:!0});Be.mounted=new Be({perNode:!0});class Jo{constructor(e,n,r,s=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=s}static get(e){return e&&e.props&&e.props[Be.mounted.id]}}const PB=Object.create(null);class wn{constructor(e,n,r,s=0){this.name=e,this.props=n,this.id=r,this.flags=s}static define(e){let n=e.props&&e.props.length?Object.create(null):PB,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),s=new wn(e.name||"",n,e.id,r);if(e.props){for(let i of e.props)if(Array.isArray(i)||(i=i(s)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[i[0].id]=i[1]}}return s}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Be.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let s of r.split(" "))n[s]=e[r];return r=>{for(let s=r.prop(Be.group),i=-1;i<(s?s.length:0);i++){let a=n[i<0?r.name:s[i]];if(a)return a}}}}wn.none=new wn("",Object.create(null),0,8);class Gf{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let s=null;for(let i of e){let a=i(r);if(a){s||(s=Object.assign({},r.props));let o=a[1],u=a[0];u.combine&&u.id in s&&(o=u.combine(s[u.id],o)),s[u.id]=o}}n.push(s?new wn(r.name,s,r.id,r.flags):r)}return new Gf(n)}}const Ah=new WeakMap,EP=new WeakMap;var St;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(St||(St={}));class wt{constructor(e,n,r,s,i){if(this.type=e,this.children=n,this.positions=r,this.length=s,this.props=null,i&&i.length){this.props=Object.create(null);for(let[a,o]of i)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=Jo.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let s=r.toString();s&&(n&&(n+=","),n+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Mp(this.topNode,e)}cursorAt(e,n=0,r=0){let s=Ah.get(this)||this.topNode,i=new Mp(s);return i.moveTo(e,n),Ah.set(this,i._tree),i}get topNode(){return new ns(this,0,0,null)}resolve(e,n=0){let r=yf(Ah.get(this)||this.topNode,e,n,!1);return Ah.set(this,r),r}resolveInner(e,n=0){let r=yf(EP.get(this)||this.topNode,e,n,!0);return EP.set(this,r),r}resolveStack(e,n=0){return CB(this,e,n)}iterate(e){let{enter:n,leave:r,from:s=0,to:i=this.length}=e,a=e.mode||0,o=(a&St.IncludeAnonymous)>0;for(let u=this.cursor(a|St.IncludeAnonymous);;){let f=!1;if(u.from<=i&&u.to>=s&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:dQ(wn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,s)=>new wt(this.type,n,r,s,this.propValues),e.makeTree||((n,r,s)=>new wt(wn.none,n,r,s)))}static build(e){return EB(e)}}wt.empty=new wt(wn.none,[],[],0);class uQ{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new uQ(this.buffer,this.index)}}class qa{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return wn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],s=this.set.types[n],i=s.name;if(/\W/.test(i)&&!s.isError&&(i=JSON.stringify(i)),e+=4,r==e)return i;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return i+"("+a.join(",")+")"}findChild(e,n,r,s,i){let{buffer:a}=this,o=-1;for(let u=e;u!=n&&!(iM(i,s,a[u+1],a[u+2])&&(o=u,r>0));u=a[u+3]);return o}slice(e,n,r){let s=this.buffer,i=new Uint16Array(n-e),a=0;for(let o=e,u=0;o<n;){i[u++]=s[o++],i[u++]=s[o++]-r;let f=i[u++]=s[o++]-r;i[u++]=s[o++]-e,a=Math.max(a,f)}return new qa(i,a,this.set)}}function iM(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function yf(t,e,n,r){for(var s;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof ns&&t.index<0?null:t.parent;if(!a)return t;t=a}let i=r?0:St.IgnoreOverlays;if(r)for(let a=t,o=a.parent;o;a=o,o=a.parent)a instanceof ns&&a.index<0&&((s=o.enter(e,n,i))===null||s===void 0?void 0:s.from)!=a.from&&(t=o);for(;;){let a=t.enter(e,n,i);if(!a)return t;t=a}}class aM{cursor(e=0){return new Mp(this,e)}getChild(e,n=null,r=null){let s=RP(this,e,n,r);return s.length?s[0]:null}getChildren(e,n=null,r=null){return RP(this,e,n,r)}resolve(e,n=0){return yf(this,e,n,!1)}resolveInner(e,n=0){return yf(this,e,n,!0)}matchContext(e){return Gw(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let s=n.lastChild;if(!s||s.to!=n.to)break;s.type.isError&&s.from==s.to?(r=n,n=s.prevSibling):n=s}return r}get node(){return this}get next(){return this.parent}}let ns=class dp extends aM{constructor(e,n,r,s){super(),this._tree=e,this.from=n,this.index=r,this._parent=s}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,s,i=0){var a;for(let o=this;;){for(let{children:u,positions:f}=o._tree,p=n>0?u.length:-1;e!=p;e+=n){let m=u[e],g=f[e]+o.from;if(!(!(i&St.EnterBracketed&&m instanceof wt&&((a=Jo.get(m))===null||a===void 0?void 0:a.overlay)===null&&(g>=r||g+m.length<=r))&&!iM(s,r,g,g+m.length))){if(m instanceof qa){if(i&St.ExcludeBuffers)continue;let x=m.findChild(0,m.buffer.length,n,r-g,s);if(x>-1)return new Bs(new jB(o,m,e,g),null,x)}else if(i&St.IncludeAnonymous||!m.type.isAnonymous||fQ(m)){let x;if(!(i&St.IgnoreMounts)&&(x=Jo.get(m))&&!x.overlay)return new dp(x.tree,g,e,o);let v=new dp(m,g,e,o);return i&St.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?m.children.length-1:0,n,r,s,i)}}}if(i&St.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let s;if(!(r&St.IgnoreOverlays)&&(s=Jo.get(this._tree))&&s.overlay){let i=e-this.from,a=r&St.EnterBracketed&&s.bracketed;for(let{from:o,to:u}of s.overlay)if((n>0||a?o<=i:o<i)&&(n<0||a?u>=i:u>i))return new dp(s.tree,s.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function RP(t,e,n,r){let s=t.cursor(),i=[];if(!s.firstChild())return i;if(n!=null){for(let a=!1;!a;)if(a=s.type.is(n),!s.nextSibling())return i}for(;;){if(r!=null&&s.type.is(r))return i;if(s.type.is(e)&&i.push(s.node),!s.nextSibling())return r==null?i:[]}}function Gw(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class jB{constructor(e,n,r,s){this.parent=e,this.buffer=n,this.index=r,this.start=s}}class Bs extends aM{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],e,n-this.context.start,r);return i<0?null:new Bs(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&St.ExcludeBuffers)return null;let{buffer:s}=this.context,i=s.findChild(this.index+4,s.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return i<0?null:new Bs(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bs(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Bs(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,s=this.index+4,i=r.buffer[this.index+3];if(i>s){let a=r.buffer[this.index+1];e.push(r.slice(s,i,a)),n.push(0)}return new wt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function lM(t){if(!t.length)return null;let e=0,n=t[0];for(let i=1;i<t.length;i++){let a=t[i];(a.from>n.from||a.to<n.to)&&(n=a,e=i)}let r=n instanceof ns&&n.index<0?null:n.parent,s=t.slice();return r?s[e]=r:s.splice(e,1),new NB(s,n)}class NB{constructor(e,n){this.heads=e,this.node=n}get next(){return lM(this.heads)}}function CB(t,e,n){let r=t.resolveInner(e,n),s=null;for(let i=r instanceof ns?r:r.context.parent;i;i=i.parent)if(i.index<0){let a=i.parent;(s||(s=[r])).push(a.resolve(e,n)),i=a}else{let a=Jo.get(i.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let o=new ns(a.tree,a.overlay[0].from+i.from,-1,i);(s||(s=[r])).push(yf(o,e,n,!1))}}return s?lM(s):r}class Mp{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~St.EnterBracketed,e instanceof ns)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:s}=this.buffer;return this.type=n||s.set.types[s.buffer[e]],this.from=r+s.buffer[e+1],this.to=r+s.buffer[e+2],!0}yield(e){return e?e instanceof ns?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:s}=this.buffer,i=s.findChild(this.index+4,s.buffer[this.index+3],e,n-this.buffer.start,r);return i<0?!1:(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&St.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&St.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&St.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let s=r<0?0:this.stack[r]+4;if(this.index!=s)return this.yieldBuf(n.findChild(s,this.index,-1,0,4))}else{let s=n.buffer[this.index+3];if(s<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(s)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:s}=this;if(s){if(e>0){if(this.index<s.buffer.buffer.length)return!1}else for(let i=0;i<this.index;i++)if(s.buffer.buffer[i+3]<this.index)return!1;({index:n,parent:r}=s)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let i=n+e,a=e<0?-1:r._tree.children.length;i!=a;i+=e){let o=r._tree.children[i];if(this.mode&St.IncludeAnonymous||o instanceof qa||!o.type.isAnonymous||fQ(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let s=this.index,i=this.stack.length;i>=0;){for(let a=e;a;a=a._parent)if(a.index==s){if(s==this.index)return a;n=a,r=i+1;break e}s=this.stack[--i]}for(let s=r;s<this.stack.length;s++)n=new Bs(this.buffer,n,this.stack[s]);return this.bufferNode=new Bs(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let s=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(s=!0)}for(;;){if(s&&n&&n(this),s=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,s=!0}}}matchContext(e){if(!this.buffer)return Gw(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let s=e.length-1,i=this.stack.length-1;s>=0;i--){if(i<0)return Gw(this._tree,e,s);let a=r[n.buffer[this.stack[i]]];if(!a.isAnonymous){if(e[s]&&e[s]!=a.name)return!1;s--}}return!0}}function fQ(t){return t.children.some(e=>e instanceof qa||!e.type.isAnonymous||fQ(e))}function EB(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:s=sM,reused:i=[],minRepeatType:a=r.types.length}=t,o=Array.isArray(n)?new uQ(n,n.length):n,u=r.types,f=0,p=0;function m(T,N,C,q,z,Z){let{id:R,start:Y,end:L,size:E}=o,U=p,A=f;if(E<0)if(o.next(),E==-1){let X=i[R];C.push(X),q.push(Y-T);return}else if(E==-3){f=R;return}else if(E==-4){p=R;return}else throw new RangeError(`Unrecognized record size: ${E}`);let I=u[R],F,G,J=Y-T;if(L-Y<=s&&(G=w(o.pos-N,z))){let X=new Uint16Array(G.size-G.skip),B=o.pos-G.size,te=X.length;for(;o.pos>B;)te=Q(G.start,X,te);F=new qa(X,L-G.start,r),J=G.start-T}else{let X=o.pos-E;o.next();let B=[],te=[],V=R>=a?R:-1,W=0,ee=L;for(;o.pos>X;)V>=0&&o.id==V&&o.size>=0?(o.end<=ee-s&&(v(B,te,Y,W,o.end,ee,V,U,A),W=B.length,ee=o.end),o.next()):Z>2500?g(Y,X,B,te):m(Y,X,B,te,V,Z+1);if(V>=0&&W>0&&W<B.length&&v(B,te,Y,W,Y,ee,V,U,A),B.reverse(),te.reverse(),V>-1&&W>0){let re=x(I,A);F=dQ(I,B,te,0,B.length,0,L-Y,re,re)}else F=y(I,B,te,L-Y,U-L,A)}C.push(F),q.push(J)}function g(T,N,C,q){let z=[],Z=0,R=-1;for(;o.pos>N;){let{id:Y,start:L,end:E,size:U}=o;if(U>4)o.next();else{if(R>-1&&L<R)break;R<0&&(R=E-s),z.push(Y,L,E),Z++,o.next()}}if(Z){let Y=new Uint16Array(Z*4),L=z[z.length-2];for(let E=z.length-3,U=0;E>=0;E-=3)Y[U++]=z[E],Y[U++]=z[E+1]-L,Y[U++]=z[E+2]-L,Y[U++]=U;C.push(new qa(Y,z[2]-L,r)),q.push(L-T)}}function x(T,N){return(C,q,z)=>{let Z=0,R=C.length-1,Y,L;if(R>=0&&(Y=C[R])instanceof wt){if(!R&&Y.type==T&&Y.length==z)return Y;(L=Y.prop(Be.lookAhead))&&(Z=q[R]+Y.length+L)}return y(T,C,q,z,Z,N)}}function v(T,N,C,q,z,Z,R,Y,L){let E=[],U=[];for(;T.length>q;)E.push(T.pop()),U.push(N.pop()+C-z);T.push(y(r.types[R],E,U,Z-z,Y-Z,L)),N.push(z-C)}function y(T,N,C,q,z,Z,R){if(Z){let Y=[Be.contextHash,Z];R=R?[Y].concat(R):[Y]}if(z>25){let Y=[Be.lookAhead,z];R=R?[Y].concat(R):[Y]}return new wt(T,N,C,q,R)}function w(T,N){let C=o.fork(),q=0,z=0,Z=0,R=C.end-s,Y={size:0,start:0,skip:0};e:for(let L=C.pos-T;C.pos>L;){let E=C.size;if(C.id==N&&E>=0){Y.size=q,Y.start=z,Y.skip=Z,Z+=4,q+=4,C.next();continue}let U=C.pos-E;if(E<0||U<L||C.start<R)break;let A=C.id>=a?4:0,I=C.start;for(C.next();C.pos>U;){if(C.size<0)if(C.size==-3||C.size==-4)A+=4;else break e;else C.id>=a&&(A+=4);C.next()}z=I,q+=E,Z+=A}return(N<0||q==T)&&(Y.size=q,Y.start=z,Y.skip=Z),Y.size>4?Y:void 0}function Q(T,N,C){let{id:q,start:z,end:Z,size:R}=o;if(o.next(),R>=0&&q<a){let Y=C;if(R>4){let L=o.pos-(R-4);for(;o.pos>L;)C=Q(T,N,C)}N[--C]=Y,N[--C]=Z-T,N[--C]=z-T,N[--C]=q}else R==-3?f=q:R==-4&&(p=q);return C}let k=[],$=[];for(;o.pos>0;)m(t.start||0,t.bufferStart||0,k,$,-1,0);let _=(e=t.length)!==null&&e!==void 0?e:k.length?$[0]+k[0].length:0;return new wt(u[t.topID],k.reverse(),$.reverse(),_)}const AP=new WeakMap;function hp(t,e){if(!t.isAnonymous||e instanceof qa||e.type!=t)return 1;let n=AP.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof wt)){n=1;break}n+=hp(t,r)}AP.set(e,n)}return n}function dQ(t,e,n,r,s,i,a,o,u){let f=0;for(let v=r;v<s;v++)f+=hp(t,e[v]);let p=Math.ceil(f*1.5/8),m=[],g=[];function x(v,y,w,Q,k){for(let $=w;$<Q;){let _=$,T=y[$],N=hp(t,v[$]);for($++;$<Q;$++){let C=hp(t,v[$]);if(N+C>=p)break;N+=C}if($==_+1){if(N>p){let C=v[_];x(C.children,C.positions,0,C.children.length,y[_]+k);continue}m.push(v[_])}else{let C=y[$-1]+v[$-1].length-T;m.push(dQ(t,v,y,_,$,T,C,null,u))}g.push(T+k-i)}}return x(e,n,r,s,0),(o||u)(m,g,a)}class hQ{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let s=this.map.get(e);s||this.map.set(e,s=new Map),s.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof Bs?this.setBuffer(e.context.buffer,e.index,n):e instanceof ns&&this.map.set(e.tree,n)}get(e){return e instanceof Bs?this.getBuffer(e.context.buffer,e.index):e instanceof ns?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class qi{constructor(e,n,r,s,i=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=s,this.open=(i?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let s=[new qi(0,e.length,e,0,!1,r)];for(let i of n)i.to>e.length&&s.push(i);return s}static applyChanges(e,n,r=128){if(!n.length)return e;let s=[],i=1,a=e.length?e[0]:null;for(let o=0,u=0,f=0;;o++){let p=o<n.length?n[o]:null,m=p?p.fromA:1e9;if(m-u>=r)for(;a&&a.from<m;){let g=a;if(u>=g.from||m<=g.to||f){let x=Math.max(g.from,u)-f,v=Math.min(g.to,m)-f;g=x>=v?null:new qi(x,v,g.tree,g.offset+f,o>0,!!p)}if(g&&s.push(g),a.to>m)break;a=i<e.length?e[i++]:null}if(!p)break;u=p.toA,f=p.toA-p.toB}return s}}class pQ{startParse(e,n,r){return typeof e=="string"&&(e=new RB(e)),r=r?r.length?r.map(s=>new Gr(s.from,s.to)):[new Gr(0,0)]:[new Gr(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let s=this.startParse(e,n,r);for(;;){let i=s.advance();if(i)return i}}}class RB{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function oM(t){return(e,n,r,s)=>new qB(e,t,n,r,s)}class qP{constructor(e,n,r,s,i,a){this.parser=e,this.parse=n,this.overlay=r,this.bracketed=s,this.target=i,this.from=a}}function XP(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class AB{constructor(e,n,r,s,i,a,o,u){this.parser=e,this.predicate=n,this.mounts=r,this.index=s,this.start=i,this.bracketed=a,this.target=o,this.prev=u,this.depth=0,this.ranges=[]}}const Ww=new Be({perNode:!0});class qB{constructor(e,n,r,s,i){this.nest=n,this.input=r,this.fragments=s,this.ranges=i,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let s of this.inner)s.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new wt(r.type,r.children,r.positions,r.length,r.propValues.concat([[Ww,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Be.mounted.id]=new Jo(n,e.overlay,e.parser,e.bracketed),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new zB(this.fragments),n=null,r=null,s=new Mp(new ns(this.baseTree,this.ranges[0].from,0,null),St.IncludeAnonymous|St.IgnoreMounts);e:for(let i,a;;){let o=!0,u;if(this.stoppedAt!=null&&s.from>=this.stoppedAt)o=!1;else if(e.hasNode(s)){if(n){let f=n.mounts.find(p=>p.frag.from<=s.from&&p.frag.to>=s.to&&p.mount.overlay);if(f)for(let p of f.mount.overlay){let m=p.from+f.pos,g=p.to+f.pos;m>=s.from&&g<=s.to&&!n.ranges.some(x=>x.from<g&&x.to>m)&&n.ranges.push({from:m,to:g})}}o=!1}else if(r&&(a=XB(r.ranges,s.from,s.to)))o=a!=2;else if(!s.type.isAnonymous&&(i=this.nest(s,this.input))&&(s.from<s.to||!i.overlay)){s.tree||(MB(s),n&&n.depth++,r&&r.depth++);let f=e.findMounts(s.from,i.parser);if(typeof i.overlay=="function")n=new AB(i.parser,i.overlay,f,this.inner.length,s.from,!!i.bracketed,s.tree,n);else{let p=ZP(this.ranges,i.overlay||(s.from<s.to?[new Gr(s.from,s.to)]:[]));p.length&&XP(p),(p.length||!i.overlay)&&this.inner.push(new qP(i.parser,p.length?i.parser.startParse(this.input,LP(f,p),p):i.parser.startParse(""),i.overlay?i.overlay.map(m=>new Gr(m.from-s.from,m.to-s.from)):null,!!i.bracketed,s.tree,p.length?p[0].from:s.from)),i.overlay?p.length&&(r={ranges:p,depth:0,prev:r}):o=!1}}else if(n&&(u=n.predicate(s))&&(u===!0&&(u=new Gr(s.from,s.to)),u.from<u.to)){let f=n.ranges.length-1;f>=0&&n.ranges[f].to==u.from?n.ranges[f]={from:n.ranges[f].from,to:u.to}:n.ranges.push(u)}if(o&&s.firstChild())n&&n.depth++,r&&r.depth++;else for(;!s.nextSibling();){if(!s.parent())break e;if(n&&!--n.depth){let f=ZP(this.ranges,n.ranges);f.length&&(XP(f),this.inner.splice(n.index,0,new qP(n.parser,n.parser.startParse(this.input,LP(n.mounts,f),f),n.ranges.map(p=>new Gr(p.from-n.start,p.to-n.start)),n.bracketed,n.target,f[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function XB(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function MP(t,e,n,r,s,i){if(e<n){let a=t.buffer[e+1];r.push(t.slice(e,n,a)),s.push(a-i)}}function MB(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let s=t.tree,i=s.children.indexOf(r),a=s.children[i],o=a.buffer,u=[i];function f(p,m,g,x,v,y){let w=n[y],Q=[],k=[];MP(a,p,w,Q,k,x);let $=o[w+1],_=o[w+2];u.push(Q.length);let T=y?f(w+4,o[w+3],a.set.types[o[w]],$,_-$,y-1):e.toTree();return Q.push(T),k.push($-x),MP(a,o[w+3],m,Q,k,x),new wt(g,Q,k,v)}s.children[i]=f(0,o.length,wn.none,0,a.length,n.length-1);for(let p of u){let m=t.tree.children[p],g=t.tree.positions[p];t.yield(new ns(m,g+t.from,p,t._tree))}}class zP{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(St.IncludeAnonymous|St.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,St.IgnoreOverlays|St.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof wt)n=n.children[0];else break}return!1}}let zB=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(Ww))!==null&&n!==void 0?n:r.to,this.inner=new zP(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(Ww))!==null&&e!==void 0?e:n.to,this.inner=new zP(n.tree,-n.offset)}}findMounts(e,n){var r;let s=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let i=this.inner.cursor.node;i;i=i.parent){let a=(r=i.tree)===null||r===void 0?void 0:r.prop(Be.mounted);if(a&&a.parser==n)for(let o=this.fragI;o<this.fragments.length;o++){let u=this.fragments[o];if(u.from>=i.to)break;u.tree==this.curFrag.tree&&s.push({frag:u,pos:i.from-u.offset,mount:a})}}}return s}};function ZP(t,e){let n=null,r=e;for(let s=1,i=0;s<t.length;s++){let a=t[s-1].to,o=t[s].from;for(;i<r.length;i++){let u=r[i];if(u.from>=o)break;u.to<=a||(n||(r=n=e.slice()),u.from<a?(n[i]=new Gr(u.from,a),u.to>o&&n.splice(i+1,0,new Gr(o,u.to))):u.to>o?n[i--]=new Gr(o,u.to):n.splice(i--,1))}}return r}function ZB(t,e,n,r){let s=0,i=0,a=!1,o=!1,u=-1e9,f=[];for(;;){let p=s==t.length?1e9:a?t[s].to:t[s].from,m=i==e.length?1e9:o?e[i].to:e[i].from;if(a!=o){let g=Math.max(u,n),x=Math.min(p,m,r);g<x&&f.push(new Gr(g,x))}if(u=Math.min(p,m),u==1e9)break;p==u&&(a?(a=!1,s++):a=!0),m==u&&(o?(o=!1,i++):o=!0)}return f}function LP(t,e){let n=[];for(let{pos:r,mount:s,frag:i}of t){let a=r+(s.overlay?s.overlay[0].from:0),o=a+s.tree.length,u=Math.max(i.from,a),f=Math.min(i.to,o);if(s.overlay){let p=s.overlay.map(g=>new Gr(g.from+r,g.to+r)),m=ZB(e,p,u,f);for(let g=0,x=u;;g++){let v=g==m.length,y=v?f:m[g].from;if(y>x&&n.push(new qi(x,y,s.tree,-a,i.from>=x||i.openStart,i.to<=y||i.openEnd)),v)break;x=m[g].to}}else n.push(new qi(u,f,s.tree,-a,i.from>=a||i.openStart,i.to<=o||i.openEnd))}return n}let LB=0;class _r{constructor(e,n,r,s){this.name=e,this.set=n,this.base=r,this.modified=s,this.id=LB++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof _r&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let s=new _r(r,[],null,[]);if(s.set.push(s),n)for(let i of n.set)s.set.push(i);return s}static defineModifier(e){let n=new zp(e);return r=>r.modified.indexOf(n)>-1?r:zp.get(r.base||r,r.modified.concat(n).sort((s,i)=>s.id-i.id))}}let YB=0;class zp{constructor(e){this.name=e,this.instances=[],this.id=YB++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&VB(n,o.modified));if(r)return r;let s=[],i=new _r(e.name,s,e,n);for(let o of n)o.instances.push(i);let a=DB(n);for(let o of e.set)if(!o.modified.length)for(let u of a)s.push(zp.get(o,u));return i}}function VB(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function DB(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,s=e.length;r<s;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Za(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let s of n.split(" "))if(s){let i=[],a=2,o=s;for(let m=0;;){if(o=="..."&&m>0&&m+3==s.length){a=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!g)throw new RangeError("Invalid path: "+s);if(i.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),m+=g[0].length,m==s.length)break;let x=s[m++];if(m==s.length&&x=="!"){a=0;break}if(x!="/")throw new RangeError("Invalid path: "+s);o=s.slice(m)}let u=i.length-1,f=i[u];if(!f)throw new RangeError("Invalid path: "+s);let p=new vf(r,a,u>0?i.slice(0,u):null);e[f]=p.sort(e[f])}}return cM.add(e)}const cM=new Be({combine(t,e){let n,r,s;for(;t||e;){if(!t||e&&t.depth>=e.depth?(s=e,e=e.next):(s=t,t=t.next),n&&n.mode==s.mode&&!s.context&&!n.context)continue;let i=new vf(s.tags,s.mode,s.context);n?n.next=i:r=i,n=i}return r}});class vf{constructor(e,n,r,s){this.tags=e,this.mode=n,this.context=r,this.next=s}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}vf.empty=new vf([],2,null);function uM(t,e){let n=Object.create(null);for(let i of t)if(!Array.isArray(i.tag))n[i.tag.id]=i.class;else for(let a of i.tag)n[a.id]=i.class;let{scope:r,all:s=null}=e||{};return{style:i=>{let a=s;for(let o of i)for(let u of o.set){let f=n[u.id];if(f){a=a?a+" "+f:f;break}}return a},scope:r}}function BB(t,e){let n=null;for(let r of t){let s=r.style(e);s&&(n=n?n+" "+s:s)}return n}function UB(t,e,n,r=0,s=t.length){let i=new GB(r,Array.isArray(e)?e:[e],n);i.highlightRange(t.cursor(),r,s,"",i.highlighters),i.flush(s)}class GB{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,s,i){let{type:a,from:o,to:u}=e;if(o>=r||u<=n)return;a.isTop&&(i=this.highlighters.filter(x=>!x.scope||x.scope(a)));let f=s,p=WB(e)||vf.empty,m=BB(i,p.tags);if(m&&(f&&(f+=" "),f+=m,p.mode==1&&(s+=(s?" ":"")+m)),this.startSpan(Math.max(n,o),f),p.opaque)return;let g=e.tree&&e.tree.prop(Be.mounted);if(g&&g.overlay){let x=e.node.enter(g.overlay[0].from+o,1),v=this.highlighters.filter(w=>!w.scope||w.scope(g.tree.type)),y=e.firstChild();for(let w=0,Q=o;;w++){let k=w<g.overlay.length?g.overlay[w]:null,$=k?k.from+o:u,_=Math.max(n,Q),T=Math.min(r,$);if(_<T&&y)for(;e.from<T&&(this.highlightRange(e,_,T,s,i),this.startSpan(Math.min(T,e.to),f),!(e.to>=$||!e.nextSibling())););if(!k||$>r)break;Q=k.to+o,Q>n&&(this.highlightRange(x.cursor(),Math.max(n,k.from+o),Math.min(r,Q),"",v),this.startSpan(Math.min(r,Q),f))}y&&e.parent()}else if(e.firstChild()){g&&(s="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,s,i),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function WB(t){let e=t.type.prop(cM);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ve=_r.define,qh=ve(),ya=ve(),YP=ve(ya),VP=ve(ya),va=ve(),Xh=ve(va),Hg=ve(va),Ys=ve(),ol=ve(Ys),Zs=ve(),Ls=ve(),Iw=ve(),_u=ve(Iw),Mh=ve(),D={comment:qh,lineComment:ve(qh),blockComment:ve(qh),docComment:ve(qh),name:ya,variableName:ve(ya),typeName:YP,tagName:ve(YP),propertyName:VP,attributeName:ve(VP),className:ve(ya),labelName:ve(ya),namespace:ve(ya),macroName:ve(ya),literal:va,string:Xh,docString:ve(Xh),character:ve(Xh),attributeValue:ve(Xh),number:Hg,integer:ve(Hg),float:ve(Hg),bool:ve(va),regexp:ve(va),escape:ve(va),color:ve(va),url:ve(va),keyword:Zs,self:ve(Zs),null:ve(Zs),atom:ve(Zs),unit:ve(Zs),modifier:ve(Zs),operatorKeyword:ve(Zs),controlKeyword:ve(Zs),definitionKeyword:ve(Zs),moduleKeyword:ve(Zs),operator:Ls,derefOperator:ve(Ls),arithmeticOperator:ve(Ls),logicOperator:ve(Ls),bitwiseOperator:ve(Ls),compareOperator:ve(Ls),updateOperator:ve(Ls),definitionOperator:ve(Ls),typeOperator:ve(Ls),controlOperator:ve(Ls),punctuation:Iw,separator:ve(Iw),bracket:_u,angleBracket:ve(_u),squareBracket:ve(_u),paren:ve(_u),brace:ve(_u),content:Ys,heading:ol,heading1:ve(ol),heading2:ve(ol),heading3:ve(ol),heading4:ve(ol),heading5:ve(ol),heading6:ve(ol),contentSeparator:ve(Ys),list:ve(Ys),quote:ve(Ys),emphasis:ve(Ys),strong:ve(Ys),link:ve(Ys),monospace:ve(Ys),strikethrough:ve(Ys),inserted:ve(),deleted:ve(),changed:ve(),invalid:ve(),meta:Mh,documentMeta:ve(Mh),annotation:ve(Mh),processingInstruction:ve(Mh),definition:_r.defineModifier("definition"),constant:_r.defineModifier("constant"),function:_r.defineModifier("function"),standard:_r.defineModifier("standard"),local:_r.defineModifier("local"),special:_r.defineModifier("special")};for(let t in D){let e=D[t];e instanceof _r&&(e.name=t)}uM([{tag:D.link,class:"tok-link"},{tag:D.heading,class:"tok-heading"},{tag:D.emphasis,class:"tok-emphasis"},{tag:D.strong,class:"tok-strong"},{tag:D.keyword,class:"tok-keyword"},{tag:D.atom,class:"tok-atom"},{tag:D.bool,class:"tok-bool"},{tag:D.url,class:"tok-url"},{tag:D.labelName,class:"tok-labelName"},{tag:D.inserted,class:"tok-inserted"},{tag:D.deleted,class:"tok-deleted"},{tag:D.literal,class:"tok-literal"},{tag:D.string,class:"tok-string"},{tag:D.number,class:"tok-number"},{tag:[D.regexp,D.escape,D.special(D.string)],class:"tok-string2"},{tag:D.variableName,class:"tok-variableName"},{tag:D.local(D.variableName),class:"tok-variableName tok-local"},{tag:D.definition(D.variableName),class:"tok-variableName tok-definition"},{tag:D.special(D.variableName),class:"tok-variableName2"},{tag:D.definition(D.propertyName),class:"tok-propertyName tok-definition"},{tag:D.typeName,class:"tok-typeName"},{tag:D.namespace,class:"tok-namespace"},{tag:D.className,class:"tok-className"},{tag:D.macroName,class:"tok-macroName"},{tag:D.propertyName,class:"tok-propertyName"},{tag:D.operator,class:"tok-operator"},{tag:D.comment,class:"tok-comment"},{tag:D.meta,class:"tok-meta"},{tag:D.invalid,class:"tok-invalid"},{tag:D.punctuation,class:"tok-punctuation"}]);var Fg;const bl=new Be;function mQ(t){return Re.define({combine:t?e=>e.concat(t):void 0})}const OQ=new Be;class Wr{constructor(e,n,r=[],s=""){this.data=e,this.name=s,bt.prototype.hasOwnProperty("tree")||Object.defineProperty(bt.prototype,"tree",{get(){return Jt(this)}}),this.parser=n,this.extension=[dc.of(this),bt.languageData.of((i,a,o)=>{let u=DP(i,a,o),f=u.type.prop(bl);if(!f)return[];let p=i.facet(f),m=u.type.prop(OQ);if(m){let g=u.resolve(a-u.from,o);for(let x of m)if(x.test(g,i)){let v=i.facet(x.facet);return x.type=="replace"?v:v.concat(p)}}return p})].concat(r)}isActiveAt(e,n,r=-1){return DP(e,n,r).type.prop(bl)==this.data}findRegions(e){let n=e.facet(dc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],s=(i,a)=>{if(i.prop(bl)==this.data){r.push({from:a,to:a+i.length});return}let o=i.prop(Be.mounted);if(o){if(o.tree.prop(bl)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+a,to:u.to+a});else r.push({from:a,to:a+i.length});return}else if(o.overlay){let u=r.length;if(s(o.tree,o.overlay[0].from+a),r.length>u)return}}for(let u=0;u<i.children.length;u++){let f=i.children[u];f instanceof wt&&s(f,i.positions[u]+a)}};return s(Jt(e),0),r}get allowsNesting(){return!0}}Wr.setState=Ct.define();function DP(t,e,n){let r=t.facet(dc),s=Jt(t).topNode;if(!r||r.allowsNesting)for(let i=s;i;i=i.enter(e,n,St.ExcludeBuffers|St.EnterBracketed))i.type.isTop&&(s=i);return s}class Xa extends Wr{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=mQ(e.languageData);return new Xa(n,e.parser.configure({props:[bl.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Xa(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Jt(t){let e=t.field(Wr.state,!1);return e?e.tree:wt.empty}class IB{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Pu=null;class Sf{constructor(e,n,r=[],s,i,a,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=s,this.treeLen=i,this.viewport=a,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Sf(e,n,[],wt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new IB(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=wt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let s=Date.now()+e;e=()=>Date.now()>s}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let s=this.parse.advance();if(s)if(this.fragments=this.withoutTempSkipped(qi.addTree(s,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=s,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(qi.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Pu;Pu=this;try{return e()}finally{Pu=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=BP(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:s,treeLen:i,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,p,m,g)=>u.push({fromA:f,toA:p,fromB:m,toB:g})),r=qi.applyChanges(r,u),s=wt.empty,i=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let p=e.mapPos(f.from,1),m=e.mapPos(f.to,-1);p<m&&o.push({from:p,to:m})}}}return new Sf(this.parser,n,r,s,i,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:s,to:i}=this.skipped[r];s<e.to&&i>e.from&&(this.fragments=BP(this.fragments,s,i),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends pQ{createParse(n,r,s){let i=s[0].from,a=s[s.length-1].to;return{parsedPos:i,advance(){let u=Pu;if(u){for(let f of s)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=a,new wt(wn.none,[],[],a-i)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Pu}}function BP(t,e,n){return qi.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class fc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new fc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Sf.create(e.facet(dc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new fc(r)}}Wr.state=Ks.define({create:fc.init,update(t,e){for(let n of e.effects)if(n.is(Wr.setState))return n.value;return e.startState.facet(dc)!=e.state.facet(dc)?fc.init(e.state):t.apply(e)}});let fM=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(fM=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Kg=typeof navigator<"u"&&(!((Fg=navigator.scheduling)===null||Fg===void 0)&&Fg.isInputPending)?()=>navigator.scheduling.isInputPending():null,HB=Qs.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Wr.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Wr.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=fM(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:s}}=this.view,i=r.field(Wr.state);if(i.tree==i.context.tree&&i.context.isDone(s+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!Kg?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<s&&r.doc.length>s+1e3,u=i.context.work(()=>Kg&&Kg()||Date.now()>a,s+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Wr.setState.of(new fc(i.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>jr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),dc=Re.define({combine(t){return t.length?t[0]:null},enables:t=>[Wr.state,HB,Ee.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Nl{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class Zp{constructor(e,n,r,s,i,a=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=s,this.loadFunc=i,this.support=a,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Zp(e.name,(e.alias||[]).concat(e.name).map(s=>s.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let s of e)if(s.filename&&s.filename.test(n))return s;let r=/\.([^.]+)$/.exec(n);if(r){for(let s of e)if(s.extensions.indexOf(r[1])>-1)return s}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let s of e)if(s.alias.some(i=>i==n))return s;if(r)for(let s of e)for(let i of s.alias){let a=n.indexOf(i);if(a>-1&&(i.length>2||!/\w/.test(n[a-1])&&!/\w/.test(n[a+i.length])))return s}return null}}const FB=Re.define(),Wf=Re.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Lp(t){let e=t.facet(Wf);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Yp(t,e){let n="",r=t.tabSize,s=t.facet(Wf)[0];if(s=="	"){for(;e>=r;)n+="	",e-=r;s=" "}for(let i=0;i<e;i++)n+=s;return n}function dM(t,e){t instanceof bt&&(t=new Rm(t));for(let r of t.state.facet(FB)){let s=r(t,e);if(s!==void 0)return s}let n=Jt(t.state);return n.length>=e?KB(t,n,e):null}class Rm{constructor(e,n={}){this.state=e,this.options=n,this.unit=Lp(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:s,simulateDoubleBreak:i}=this.options;return s!=null&&s>=r.from&&s<=r.to?i&&s==e?{text:"",from:e}:(n<0?s<e:s<=e)?{text:r.text.slice(s-r.from),from:s}:{text:r.text.slice(0,s-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:s}=this.lineAt(e,n);return r.slice(e-s,Math.min(r.length,e+100-s))}column(e,n=1){let{text:r,from:s}=this.lineAt(e,n),i=this.countColumn(r,e-s),a=this.options.overrideIndentation?this.options.overrideIndentation(s):-1;return a>-1&&(i+=a-this.countColumn(r,r.search(/\S|$/))),i}countColumn(e,n=e.length){return Mi(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:s}=this.lineAt(e,n),i=this.options.overrideIndentation;if(i){let a=i(s);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Ml=new Be;function KB(t,e,n){let r=e.resolveStack(n),s=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(s!=r.node){let i=[];for(let a=s;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)i.push(a);for(let a=i.length-1;a>=0;a--)r={node:i[a],next:r}}return hM(r,t,n)}function hM(t,e,n){for(let r=t;r;r=r.next){let s=eU(r.node);if(s)return s(gQ.create(e,n,r))}return 0}function JB(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function eU(t){let e=t.type.prop(Ml);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Be.closedBy))){let s=t.lastChild,i=s&&r.indexOf(s.name)>-1;return a=>pM(a,!0,1,void 0,i&&!JB(a)?s.from:void 0)}return t.parent==null?tU:null}function tU(){return 0}class gQ extends Rm{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new gQ(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(nU(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return hM(this.context.next,this.base,this.pos)}}function nU(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function rU(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let s=t.options.simulateBreak,i=t.state.doc.lineAt(n.from),a=s==null||s<=i.from?i.to:Math.min(i.to,s);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=a)return null;let f=/^ */.exec(i.text.slice(n.to-i.from))[0].length;return{from:n.from,to:n.to+f}}o=u.to}}function sf({closing:t,align:e=!0,units:n=1}){return r=>pM(r,e,n,t)}function pM(t,e,n,r,s){let i=t.textAfter,a=i.match(/^\s*/)[0].length,o=r&&i.slice(a,a+r.length)==r||s==t.pos+a,u=e?rU(t):null;return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}const mM=t=>t.baseIndent;function Sl({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const sU=Re.define(),zl=new Be;function Am(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class qm{constructor(e,n){this.specs=e;let r;function s(o){let u=Ea.newName();return(r||(r=Object.create(null)))["."+u]=o,u}const i=typeof n.all=="string"?n.all:n.all?s(n.all):void 0,a=n.scope;this.scope=a instanceof Wr?o=>o.prop(bl)==a.data:a?o=>o==a:void 0,this.style=uM(e.map(o=>({tag:o.tag,class:o.class||s(Object.assign({},o,{tag:null}))})),{all:i}).style,this.module=r?new Ea(r):null,this.themeType=n.themeType}static define(e,n){return new qm(e,n||{})}}const Hw=Re.define(),iU=Re.define({combine(t){return t.length?[t[0]]:null}});function Jg(t){let e=t.facet(Hw);return e.length?e:t.facet(iU)}function aU(t,e){let n=[oU],r;return t instanceof qm&&(t.module&&n.push(Ee.styleModule.of(t.module)),r=t.themeType),r?n.push(Hw.computeN([Ee.darkTheme],s=>s.facet(Ee.darkTheme)==(r=="dark")?[t]:[])):n.push(Hw.of(t)),n}class lU{constructor(e){this.markCache=Object.create(null),this.tree=Jt(e.state),this.decorations=this.buildDeco(e,Jg(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Jt(e.state),r=Jg(e.state),s=r!=Jg(e.startState),{viewport:i}=e.view,a=e.changes.mapPos(this.decoratedTo,1);n.length<i.to&&!s&&n.type==this.tree.type&&a>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=a):(n!=this.tree||e.viewportChanged||s)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=i.to)}buildDeco(e,n){if(!n||!this.tree.length)return Dt.none;let r=new pf;for(let{from:s,to:i}of e.visibleRanges)UB(this.tree,n,(a,o,u)=>{r.add(a,o,this.markCache[u]||(this.markCache[u]=Dt.mark({class:u})))},s,i);return r.finish()}}const oU=Xl.high(Qs.fromClass(lU,{decorations:t=>t.decorations})),cU=1e4,uU="()[]{}",OM=new Be;function Fw(t,e,n){let r=t.prop(e<0?Be.openedBy:Be.closedBy);if(r)return r;if(t.name.length==1){let s=n.indexOf(t.name);if(s>-1&&s%2==(e<0?1:0))return[n[s+e]]}return null}function Kw(t){let e=t.type.prop(OM);return e?e(t.node):t}function Do(t,e,n,r={}){let s=r.maxScanDistance||cU,i=r.brackets||uU,a=Jt(t),o=a.resolveInner(e,n);for(let u=o;u;u=u.parent){let f=Fw(u.type,n,i);if(f&&u.from<u.to){let p=Kw(u);if(p&&(n>0?e>=p.from&&e<p.to:e>p.from&&e<=p.to))return fU(t,e,n,u,p,f,i)}}return dU(t,e,n,a,o.type,s,i)}function fU(t,e,n,r,s,i,a){let o=r.parent,u={from:s.from,to:s.to},f=0,p=o==null?void 0:o.cursor();if(p&&(n<0?p.childBefore(r.from):p.childAfter(r.to)))do if(n<0?p.to<=r.from:p.from>=r.to){if(f==0&&i.indexOf(p.type.name)>-1&&p.from<p.to){let m=Kw(p);return{start:u,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}else if(Fw(p.type,n,a))f++;else if(Fw(p.type,-n,a)){if(f==0){let m=Kw(p);return{start:u,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}f--}}while(n<0?p.prevSibling():p.nextSibling());return{start:u,matched:!1}}function dU(t,e,n,r,s,i,a){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=a.indexOf(o);if(u<0||u%2==0!=n>0)return null;let f={from:n<0?e-1:e,to:n>0?e+1:e},p=t.doc.iterRange(e,n>0?t.doc.length:0),m=0;for(let g=0;!p.next().done&&g<=i;){let x=p.value;n<0&&(g+=x.length);let v=e+g*n;for(let y=n>0?0:x.length-1,w=n>0?x.length:-1;y!=w;y+=n){let Q=a.indexOf(x[y]);if(!(Q<0||r.resolveInner(v+y,1).type!=s))if(Q%2==0==n>0)m++;else{if(m==1)return{start:f,end:{from:v+y,to:v+y+1},matched:Q>>1==u>>1};m--}}n>0&&(g+=x.length)}return p.done?{start:f,matched:!1}:null}const hU=Object.create(null),UP=[wn.none],GP=[],WP=Object.create(null),pU=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])pU[t]=mU(hU,e);function ex(t,e){GP.indexOf(t)>-1||(GP.push(t),console.warn(e))}function mU(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let f of o.split(".")){let p=t[f]||D[f];p?typeof p=="function"?u.length?u=u.map(p):ex(f,`Modifier ${f} used at start of tag`):u.length?ex(f,`Tag ${f} used as modifier`):u=Array.isArray(p)?p:[p]:ex(f,`Unknown highlighting tag ${f}`)}for(let f of u)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),s=r+" "+n.map(o=>o.id),i=WP[s];if(i)return i.id;let a=WP[s]=wn.define({id:UP.length,name:r,props:[Za({[r]:n})]});return UP.push(a),a.id}Ft.RTL,Ft.LTR;const OU=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=bQ(t.state,n.from);return r.line?gU(t):r.block?bU(t):!1};function xQ(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let s=t(e,n);return s?(r(n.update(s)),!0):!1}}const gU=xQ(SU,0),xU=xQ(gM,0),bU=xQ((t,e)=>gM(t,e,vU(e)),0);function bQ(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const ju=50;function yU(t,{open:e,close:n},r,s){let i=t.sliceDoc(r-ju,r),a=t.sliceDoc(s,s+ju),o=/\s*$/.exec(i)[0].length,u=/^\s*/.exec(a)[0].length,f=i.length-o;if(i.slice(f-e.length,f)==e&&a.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:s+u,margin:u&&1}};let p,m;s-r<=2*ju?p=m=t.sliceDoc(r,s):(p=t.sliceDoc(r,r+ju),m=t.sliceDoc(s-ju,s));let g=/^\s*/.exec(p)[0].length,x=/\s*$/.exec(m)[0].length,v=m.length-x-n.length;return p.slice(g,g+e.length)==e&&m.slice(v,v+n.length)==n?{open:{pos:r+g+e.length,margin:/\s/.test(p.charAt(g+e.length))?1:0},close:{pos:s-x-n.length,margin:/\s/.test(m.charAt(v-1))?1:0}}:null}function vU(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),s=n.to<=r.to?r:t.doc.lineAt(n.to);s.from>r.from&&s.from==n.to&&(s=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let i=e.length-1;i>=0&&e[i].to>r.from?e[i].to=s.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:s.to})}return e}function gM(t,e,n=e.selection.ranges){let r=n.map(i=>bQ(e,i.from).block);if(!r.every(i=>i))return null;let s=n.map((i,a)=>yU(e,r[a],i.from,i.to));if(t!=2&&!s.every(i=>i))return{changes:e.changes(n.map((i,a)=>s[a]?[]:[{from:i.from,insert:r[a].open+" "},{from:i.to,insert:" "+r[a].close}]))};if(t!=1&&s.some(i=>i)){let i=[];for(let a=0,o;a<s.length;a++)if(o=s[a]){let u=r[a],{open:f,close:p}=o;i.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:p.pos-p.margin,to:p.pos+u.close.length})}return{changes:i}}return null}function SU(t,e,n=e.selection.ranges){let r=[],s=-1;for(let{from:i,to:a}of n){let o=r.length,u=1e9,f=bQ(e,i).line;if(f){for(let p=i;p<=a;){let m=e.doc.lineAt(p);if(m.from>s&&(i==a||a>m.from)){s=m.from;let g=/^\s*/.exec(m.text)[0].length,x=g==m.length,v=m.text.slice(g,g+f.length)==f?g:-1;g<m.text.length&&g<u&&(u=g),r.push({line:m,comment:v,token:f,indent:g,empty:x,single:!1})}p=m.to+1}if(u<1e9)for(let p=o;p<r.length;p++)r[p].indent<r[p].line.text.length&&(r[p].indent=u);r.length==o+1&&(r[o].single=!0)}}if(t!=2&&r.some(i=>i.comment<0&&(!i.empty||i.single))){let i=[];for(let{line:o,token:u,indent:f,empty:p,single:m}of r)(m||!p)&&i.push({from:o.from+f,insert:u+" "});let a=e.changes(i);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(i=>i.comment>=0)){let i=[];for(let{line:a,comment:o,token:u}of r)if(o>=0){let f=a.from+o,p=f+u.length;a.text[p-a.from]==" "&&p++,i.push({from:f,to:p})}return{changes:i}}return null}const Jw=Vi.define(),wU=Vi.define(),QU=Re.define(),xM=Re.define({combine(t){return H2(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,s)=>e(r,s)||n(r,s)})}}),bM=Ks.define({create(){return Us.empty},update(t,e){let n=e.state.facet(xM),r=e.annotation(Jw);if(r){let u=ur.fromTransaction(e,r.selection),f=r.side,p=f==0?t.undone:t.done;return u?p=Vp(p,p.length,n.minDepth,u):p=SM(p,e.startState.selection),new Us(f==0?r.rest:p,f==0?p:r.rest)}let s=e.annotation(wU);if((s=="full"||s=="before")&&(t=t.isolate()),e.annotation(xn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let i=ur.fromTransaction(e),a=e.annotation(xn.time),o=e.annotation(xn.userEvent);return i?t=t.addChanges(i,a,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,o,n.newGroupDelay)),(s=="full"||s=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Us(t.done.map(ur.fromJSON),t.undone.map(ur.fromJSON))}});function kU(t={}){return[bM,xM.of(t),Ee.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?yM:e.inputType=="historyRedo"?e2:null;return r?(e.preventDefault(),r(n)):!1}})]}function Xm(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let s=n.field(bM,!1);if(!s)return!1;let i=s.pop(t,n,e);return i?(r(i),!0):!1}}const yM=Xm(0,!1),e2=Xm(1,!1),$U=Xm(0,!0),TU=Xm(1,!0);class ur{constructor(e,n,r,s,i){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=s,this.selectionsAfter=i}setSelAfter(e){return new ur(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(s=>s.toJSON())}}static fromJSON(e){return new ur(e.changes&&Sn.fromJSON(e.changes),[],e.mapped&&Ws.fromJSON(e.mapped),e.startSelection&&ge.fromJSON(e.startSelection),e.selectionsAfter.map(ge.fromJSON))}static fromTransaction(e,n){let r=Ir;for(let s of e.startState.facet(QU)){let i=s(e);i.length&&(r=r.concat(i))}return!r.length&&e.changes.empty?null:new ur(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Ir)}static selection(e){return new ur(void 0,Ir,void 0,void 0,e)}}function Vp(t,e,n,r){let s=e+1>n+20?e-n-1:0,i=t.slice(s,e);return i.push(r),i}function _U(t,e){let n=[],r=!1;return t.iterChangedRanges((s,i)=>n.push(s,i)),e.iterChangedRanges((s,i,a,o)=>{for(let u=0;u<n.length;){let f=n[u++],p=n[u++];o>=f&&a<=p&&(r=!0)}}),r}function PU(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function vM(t,e){return t.length?e.length?t.concat(e):t:e}const Ir=[],jU=200;function SM(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-jU));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Vp(t,t.length-1,1e9,n.setSelAfter(r)))}else return[ur.selection([e])]}function NU(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function tx(t,e){if(!t.length)return t;let n=t.length,r=Ir;for(;n;){let s=CU(t[n-1],e,r);if(s.changes&&!s.changes.empty||s.effects.length){let i=t.slice(0,n);return i[n-1]=s,i}else e=s.mapped,n--,r=s.selectionsAfter}return r.length?[ur.selection(r)]:Ir}function CU(t,e,n){let r=vM(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):Ir,n);if(!t.changes)return ur.selection(r);let s=t.changes.map(e),i=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(i):i;return new ur(s,Ct.mapEffects(t.effects,e),a,t.startSelection.map(i),r)}const EU=/^(input\.type|delete)($|\.)/;class Us{constructor(e,n,r=0,s=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=s}isolate(){return this.prevTime?new Us(this.done,this.undone):this}addChanges(e,n,r,s,i){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||EU.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<s.newGroupDelay&&s.joinToEvent(i,_U(o.changes,e.changes))||r=="input.type.compose")?a=Vp(a,a.length-1,s.minDepth,new ur(e.changes.compose(o.changes),vM(Ct.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Ir)):a=Vp(a,a.length,s.minDepth,e),new Us(a,Ir,n,r)}addSelection(e,n,r,s){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:Ir;return i.length>0&&n-this.prevTime<s&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&PU(i[i.length-1],e)?this:new Us(SM(this.done,e),this.undone,n,r)}addMapping(e){return new Us(tx(this.done,e),tx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let s=e==0?this.done:this.undone;if(s.length==0)return null;let i=s[s.length-1],a=i.selectionsAfter[0]||n.selection;if(r&&i.selectionsAfter.length)return n.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:Jw.of({side:e,rest:NU(s),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let o=s.length==1?Ir:s.slice(0,s.length-1);return i.mapped&&(o=tx(o,i.mapped)),n.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:Jw.of({side:e,rest:o,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Us.empty=new Us(Ir,Ir);const RU=[{key:"Mod-z",run:yM,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:e2,preventDefault:!0},{linux:"Ctrl-Shift-z",run:e2,preventDefault:!0},{key:"Mod-u",run:$U,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:TU,preventDefault:!0}];function Tc(t,e){return ge.create(t.ranges.map(e),t.mainIndex)}function _s(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ps({state:t,dispatch:e},n){let r=Tc(t.selection,n);return r.eq(t.selection,!0)?!1:(e(_s(t,r)),!0)}function Mm(t,e){return ge.cursor(e?t.to:t.from)}function wM(t,e){return Ps(t,n=>n.empty?t.moveByChar(n,e):Mm(n,e))}function Vn(t){return t.textDirectionAt(t.state.selection.main.head)==Ft.LTR}const QM=t=>wM(t,!Vn(t)),kM=t=>wM(t,Vn(t));function $M(t,e){return Ps(t,n=>n.empty?t.moveByGroup(n,e):Mm(n,e))}const AU=t=>$M(t,!Vn(t)),qU=t=>$M(t,Vn(t));function XU(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function zm(t,e,n){let r=Jt(t).resolveInner(e.head),s=n?Be.closedBy:Be.openedBy;for(let u=e.head;;){let f=n?r.childAfter(u):r.childBefore(u);if(!f)break;XU(t,f,s)?r=f:u=n?f.to:f.from}let i=r.type.prop(s),a,o;return i&&(a=n?Do(t,r.from,1):Do(t,r.to,-1))&&a.matched?o=n?a.end.to:a.end.from:o=n?r.to:r.from,ge.cursor(o,n?-1:1)}const MU=t=>Ps(t,e=>zm(t.state,e,!Vn(t))),zU=t=>Ps(t,e=>zm(t.state,e,Vn(t)));function TM(t,e){return Ps(t,n=>{if(!n.empty)return Mm(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const _M=t=>TM(t,!1),PM=t=>TM(t,!0);function jM(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,s;if(e){for(let i of t.state.facet(Ee.scrollMargins)){let a=i(t);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}s=t.scrollDOM.clientHeight-n-r}else s=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,s-5)}}function NM(t,e){let n=jM(t),{state:r}=t,s=Tc(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):Mm(a,e));if(s.eq(r.selection))return!1;let i;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+n.marginTop,f=o.bottom-n.marginBottom;a&&a.top>u&&a.bottom<f&&(i=Ee.scrollIntoView(s.main.head,{y:"start",yMargin:a.top-u}))}return t.dispatch(_s(r,s),{effects:i}),!0}const IP=t=>NM(t,!1),t2=t=>NM(t,!0);function La(t,e,n){let r=t.lineBlockAt(e.head),s=t.moveToLineBoundary(e,n);if(s.head==e.head&&s.head!=(n?r.to:r.from)&&(s=t.moveToLineBoundary(e,n,!1)),!n&&s.head==r.from&&r.length){let i=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;i&&e.head!=r.from+i&&(s=ge.cursor(r.from+i))}return s}const ZU=t=>Ps(t,e=>La(t,e,!0)),LU=t=>Ps(t,e=>La(t,e,!1)),YU=t=>Ps(t,e=>La(t,e,!Vn(t))),VU=t=>Ps(t,e=>La(t,e,Vn(t))),DU=t=>Ps(t,e=>ge.cursor(t.lineBlockAt(e.head).from,1)),BU=t=>Ps(t,e=>ge.cursor(t.lineBlockAt(e.head).to,-1));function UU(t,e,n){let r=!1,s=Tc(t.selection,i=>{let a=Do(t,i.head,-1)||Do(t,i.head,1)||i.head>0&&Do(t,i.head-1,1)||i.head<t.doc.length&&Do(t,i.head+1,-1);if(!a||!a.end)return i;r=!0;let o=a.start.from==i.head?a.end.to:a.end.from;return ge.cursor(o)});return r?(e(_s(t,s)),!0):!1}const GU=({state:t,dispatch:e})=>UU(t,e);function rs(t,e){let n=Tc(t.state.selection,r=>{let s=e(r);return ge.range(r.anchor,s.head,s.goalColumn,s.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(_s(t.state,n)),!0)}function CM(t,e){return rs(t,n=>t.moveByChar(n,e))}const EM=t=>CM(t,!Vn(t)),RM=t=>CM(t,Vn(t));function AM(t,e){return rs(t,n=>t.moveByGroup(n,e))}const WU=t=>AM(t,!Vn(t)),IU=t=>AM(t,Vn(t)),HU=t=>rs(t,e=>zm(t.state,e,!Vn(t))),FU=t=>rs(t,e=>zm(t.state,e,Vn(t)));function qM(t,e){return rs(t,n=>t.moveVertically(n,e))}const XM=t=>qM(t,!1),MM=t=>qM(t,!0);function zM(t,e){return rs(t,n=>t.moveVertically(n,e,jM(t).height))}const HP=t=>zM(t,!1),FP=t=>zM(t,!0),KU=t=>rs(t,e=>La(t,e,!0)),JU=t=>rs(t,e=>La(t,e,!1)),eG=t=>rs(t,e=>La(t,e,!Vn(t))),tG=t=>rs(t,e=>La(t,e,Vn(t))),nG=t=>rs(t,e=>ge.cursor(t.lineBlockAt(e.head).from)),rG=t=>rs(t,e=>ge.cursor(t.lineBlockAt(e.head).to)),KP=({state:t,dispatch:e})=>(e(_s(t,{anchor:0})),!0),JP=({state:t,dispatch:e})=>(e(_s(t,{anchor:t.doc.length})),!0),ej=({state:t,dispatch:e})=>(e(_s(t,{anchor:t.selection.main.anchor,head:0})),!0),tj=({state:t,dispatch:e})=>(e(_s(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),sG=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),iG=({state:t,dispatch:e})=>{let n=Zm(t).map(({from:r,to:s})=>ge.range(r,Math.min(s+1,t.doc.length)));return e(t.update({selection:ge.create(n),userEvent:"select"})),!0},aG=({state:t,dispatch:e})=>{let n=Tc(t.selection,r=>{let s=Jt(t),i=s.resolveStack(r.from,1);if(r.empty){let a=s.resolveStack(r.from,-1);a.node.from>=i.node.from&&a.node.to<=i.node.to&&(i=a)}for(let a=i;a;a=a.next){let{node:o}=a;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&a.next)return ge.range(o.to,o.from)}return r});return n.eq(t.selection)?!1:(e(_s(t,n)),!0)};function ZM(t,e){let{state:n}=t,r=n.selection,s=n.selection.ranges.slice();for(let i of n.selection.ranges){let a=n.doc.lineAt(i.head);if(e?a.to<t.state.doc.length:a.from>0)for(let o=i;;){let u=t.moveVertically(o,e);if(u.head<a.from||u.head>a.to){s.some(f=>f.head==u.head)||s.push(u);break}else{if(u.head==o.head)break;o=u}}}return s.length==r.ranges.length?!1:(t.dispatch(_s(n,ge.create(s,s.length-1))),!0)}const lG=t=>ZM(t,!1),oG=t=>ZM(t,!0),cG=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=ge.create([n.main]):n.main.empty||(r=ge.create([ge.cursor(n.main.head)])),r?(e(_s(t,r)),!0):!1};function If(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,s=r.changeByRange(i=>{let{from:a,to:o}=i;if(a==o){let u=e(i);u<a?(n="delete.backward",u=zh(t,u,!1)):u>a&&(n="delete.forward",u=zh(t,u,!0)),a=Math.min(a,u),o=Math.max(o,u)}else a=zh(t,a,!1),o=zh(t,o,!0);return a==o?{range:i}:{changes:{from:a,to:o},range:ge.cursor(a,a<i.head?-1:1)}});return s.changes.empty?!1:(t.dispatch(r.update(s,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Ee.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function zh(t,e,n){if(t instanceof Ee)for(let r of t.state.facet(Ee.atomicRanges).map(s=>s(t)))r.between(e,e,(s,i)=>{s<e&&i>e&&(e=n?i:s)});return e}const LM=(t,e,n)=>If(t,r=>{let s=r.from,{state:i}=t,a=i.doc.lineAt(s),o,u;if(n&&!e&&s>a.from&&s<a.from+200&&!/[^ \t]/.test(o=a.text.slice(0,s-a.from))){if(o[o.length-1]=="	")return s-1;let f=Mi(o,i.tabSize),p=f%Lp(i)||Lp(i);for(let m=0;m<p&&o[o.length-1-m]==" ";m++)s--;u=s}else u=Xn(a.text,s-a.from,e,e)+a.from,u==s&&a.number!=(e?i.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(a.text.slice(u-a.from,s-a.from))&&(u=Xn(a.text,u-a.from,!1,!1)+a.from);return u}),n2=t=>LM(t,!1,!0),YM=t=>LM(t,!0,!1),VM=(t,e)=>If(t,n=>{let r=n.head,{state:s}=t,i=s.doc.lineAt(r),a=s.charCategorizer(r);for(let o=null;;){if(r==(e?i.to:i.from)){r==n.head&&i.number!=(e?s.doc.lines:1)&&(r+=e?1:-1);break}let u=Xn(i.text,r-i.from,e)+i.from,f=i.text.slice(Math.min(r,u)-i.from,Math.max(r,u)-i.from),p=a(f);if(o!=null&&p!=o)break;(f!=" "||r!=n.head)&&(o=p),r=u}return r}),DM=t=>VM(t,!1),uG=t=>VM(t,!0),fG=t=>If(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),dG=t=>If(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),hG=t=>If(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),pG=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Ot.of(["",""])},range:ge.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},mG=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let s=r.from,i=t.doc.lineAt(s),a=s==i.from?s-1:Xn(i.text,s-i.from,!1)+i.from,o=s==i.to?s+1:Xn(i.text,s-i.from,!0)+i.from;return{changes:{from:a,to:o,insert:t.doc.slice(s,o).append(t.doc.slice(a,s))},range:ge.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Zm(t){let e=[],n=-1;for(let r of t.selection.ranges){let s=t.doc.lineAt(r.from),i=t.doc.lineAt(r.to);if(!r.empty&&r.to==i.from&&(i=t.doc.lineAt(r.to-1)),n>=s.number){let a=e[e.length-1];a.to=i.to,a.ranges.push(r)}else e.push({from:s.from,to:i.to,ranges:[r]});n=i.number+1}return e}function BM(t,e,n){if(t.readOnly)return!1;let r=[],s=[];for(let i of Zm(t)){if(n?i.to==t.doc.length:i.from==0)continue;let a=t.doc.lineAt(n?i.to+1:i.from-1),o=a.length+1;if(n){r.push({from:i.to,to:a.to},{from:i.from,insert:a.text+t.lineBreak});for(let u of i.ranges)s.push(ge.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:a.from,to:i.from},{from:i.to,insert:t.lineBreak+a.text});for(let u of i.ranges)s.push(ge.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:ge.create(s,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const OG=({state:t,dispatch:e})=>BM(t,e,!1),gG=({state:t,dispatch:e})=>BM(t,e,!0);function UM(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Zm(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});let s=t.changes(r);return e(t.update({changes:s,selection:t.selection.map(s,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const xG=({state:t,dispatch:e})=>UM(t,e,!1),bG=({state:t,dispatch:e})=>UM(t,e,!0),yG=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Zm(e).map(({from:s,to:i})=>(s>0?s--:i<e.doc.length&&i++,{from:s,to:i}))),r=Tc(e.selection,s=>{let i;if(t.lineWrapping){let a=t.lineBlockAt(s.head),o=t.coordsAtPos(s.head,s.assoc||1);o&&(i=a.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(s,!0,i)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function vG(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Jt(t).resolveInner(e),r=n.childBefore(e),s=n.childAfter(e),i;return r&&s&&r.to<=e&&s.from>=e&&(i=r.type.prop(Be.closedBy))&&i.indexOf(s.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(s.from).from&&!/\S/.test(t.sliceDoc(r.to,s.from))?{from:r.to,to:s.from}:null}const nj=GM(!1),SG=GM(!0);function GM(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(s=>{let{from:i,to:a}=s,o=e.doc.lineAt(i),u=!t&&i==a&&vG(e,i);t&&(i=a=(a<=o.to?o:e.doc.lineAt(a)).to);let f=new Rm(e,{simulateBreak:i,simulateDoubleBreak:!!u}),p=dM(f,i);for(p==null&&(p=Mi(/^\s*/.exec(e.doc.lineAt(i).text)[0],e.tabSize));a<o.to&&/\s/.test(o.text[a-o.from]);)a++;u?{from:i,to:a}=u:i>o.from&&i<o.from+100&&!/\S/.test(o.text.slice(0,i))&&(i=o.from);let m=["",Yp(e,p)];return u&&m.push(Yp(e,f.lineIndent(o.from,-1))),{changes:{from:i,to:a,insert:Ot.of(m)},range:ge.cursor(i+1+m[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function yQ(t,e){let n=-1;return t.changeByRange(r=>{let s=[];for(let a=r.from;a<=r.to;){let o=t.doc.lineAt(a);o.number>n&&(r.empty||r.to>o.from)&&(e(o,s,r),n=o.number),a=o.to+1}let i=t.changes(s);return{changes:s,range:ge.range(i.mapPos(r.anchor,1),i.mapPos(r.head,1))}})}const wG=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Rm(t,{overrideIndentation:i=>{let a=n[i];return a??-1}}),s=yQ(t,(i,a,o)=>{let u=dM(r,i.from);if(u==null)return;/\S/.test(i.text)||(u=0);let f=/^\s*/.exec(i.text)[0],p=Yp(t,u);(f!=p||o.from<i.from+f.length)&&(n[i.from]=u,a.push({from:i.from,to:i.from+f.length,insert:p}))});return s.changes.empty||e(t.update(s,{userEvent:"indent"})),!0},QG=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(yQ(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Wf)})}),{userEvent:"input.indent"})),!0),kG=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(yQ(t,(n,r)=>{let s=/^\s*/.exec(n.text)[0];if(!s)return;let i=Mi(s,t.tabSize),a=0,o=Yp(t,Math.max(0,i-Lp(t)));for(;a<s.length&&a<o.length&&s.charCodeAt(a)==o.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+s.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),$G=t=>(t.setTabFocusMode(),!0),TG=[{key:"Ctrl-b",run:QM,shift:EM,preventDefault:!0},{key:"Ctrl-f",run:kM,shift:RM},{key:"Ctrl-p",run:_M,shift:XM},{key:"Ctrl-n",run:PM,shift:MM},{key:"Ctrl-a",run:DU,shift:nG},{key:"Ctrl-e",run:BU,shift:rG},{key:"Ctrl-d",run:YM},{key:"Ctrl-h",run:n2},{key:"Ctrl-k",run:fG},{key:"Ctrl-Alt-h",run:DM},{key:"Ctrl-o",run:pG},{key:"Ctrl-t",run:mG},{key:"Ctrl-v",run:t2}],_G=[{key:"ArrowLeft",run:QM,shift:EM,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:AU,shift:WU,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:YU,shift:eG,preventDefault:!0},{key:"ArrowRight",run:kM,shift:RM,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:qU,shift:IU,preventDefault:!0},{mac:"Cmd-ArrowRight",run:VU,shift:tG,preventDefault:!0},{key:"ArrowUp",run:_M,shift:XM,preventDefault:!0},{mac:"Cmd-ArrowUp",run:KP,shift:ej},{mac:"Ctrl-ArrowUp",run:IP,shift:HP},{key:"ArrowDown",run:PM,shift:MM,preventDefault:!0},{mac:"Cmd-ArrowDown",run:JP,shift:tj},{mac:"Ctrl-ArrowDown",run:t2,shift:FP},{key:"PageUp",run:IP,shift:HP},{key:"PageDown",run:t2,shift:FP},{key:"Home",run:LU,shift:JU,preventDefault:!0},{key:"Mod-Home",run:KP,shift:ej},{key:"End",run:ZU,shift:KU,preventDefault:!0},{key:"Mod-End",run:JP,shift:tj},{key:"Enter",run:nj,shift:nj},{key:"Mod-a",run:sG},{key:"Backspace",run:n2,shift:n2,preventDefault:!0},{key:"Delete",run:YM,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:DM,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:uG,preventDefault:!0},{mac:"Mod-Backspace",run:dG,preventDefault:!0},{mac:"Mod-Delete",run:hG,preventDefault:!0}].concat(TG.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),PG=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:MU,shift:HU},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:zU,shift:FU},{key:"Alt-ArrowUp",run:OG},{key:"Shift-Alt-ArrowUp",run:xG},{key:"Alt-ArrowDown",run:gG},{key:"Shift-Alt-ArrowDown",run:bG},{key:"Mod-Alt-ArrowUp",run:lG},{key:"Mod-Alt-ArrowDown",run:oG},{key:"Escape",run:cG},{key:"Mod-Enter",run:SG},{key:"Alt-l",mac:"Ctrl-l",run:iG},{key:"Mod-i",run:aG,preventDefault:!0},{key:"Mod-[",run:kG},{key:"Mod-]",run:QG},{key:"Mod-Alt-\\",run:wG},{key:"Shift-Mod-k",run:yG},{key:"Shift-Mod-\\",run:GU},{key:"Mod-/",run:OU},{key:"Alt-A",run:xU},{key:"Ctrl-m",mac:"Shift-Alt-m",run:$G}].concat(_G);class vQ{constructor(e,n,r,s){this.state=e,this.pos=n,this.explicit=r,this.view=s,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Jt(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),s=n.text.slice(r-n.from,this.pos-n.from),i=s.search(IM(e,!1));return i<0?null:{from:r+i,to:this.pos,text:s.slice(i)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function rj(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function jG(t){let e=Object.create(null),n=Object.create(null);for(let{label:s}of t){e[s[0]]=!0;for(let i=1;i<s.length;i++)n[s[i]]=!0}let r=rj(e)+rj(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function SQ(t){let e=t.map(s=>typeof s=="string"?{label:s}:s),[n,r]=e.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:jG(e);return s=>{let i=s.matchBefore(r);return i||s.explicit?{from:i?i.from:s.pos,options:e,validFor:n}:null}}function WM(t,e){return n=>{for(let r=Jt(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class sj{constructor(e,n,r,s){this.completion=e,this.source=n,this.match=r,this.score=s}}function wl(t){return t.selection.main.from}function IM(t,e){var n;let{source:r}=t,s=e&&r[0]!="^",i=r[r.length-1]!="$";return!s&&!i?t:new RegExp(`${s?"^":""}(?:${r})${i?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const wQ=Vi.define();function NG(t,e,n,r){let{main:s}=t.selection,i=n-s.from,a=r-s.from;return{...t.changeByRange(o=>{if(o!=s&&n!=r&&t.sliceDoc(o.from+i,o.from+a)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+i,to:r==s.from?o.to:o.from+a,insert:u},range:ge.cursor(o.from+i+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const ij=new WeakMap;function CG(t){if(!Array.isArray(t))return t;let e=ij.get(t);return e||ij.set(t,e=SQ(t)),e}const Dp=Ct.define(),wf=Ct.define();class EG{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=cl(e,n),s=Xo(r);this.chars.push(r);let i=e.slice(n,n+s),a=i.toUpperCase();this.folded.push(cl(a==i?i.toLowerCase():a,0)),n+=s}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:s,precise:i,byWord:a}=this;if(n.length==1){let k=cl(e,0),$=Xo(k),_=$==e.length?0:-100;if(k!=n[0])if(k==r[0])_+=-200;else return null;return this.ret(_,[0,$])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,f=0;if(o<0){for(let k=0,$=Math.min(e.length,200);k<$&&f<u;){let _=cl(e,k);(_==n[f]||_==r[f])&&(s[f++]=k),k+=Xo(_)}if(f<u)return null}let p=0,m=0,g=!1,x=0,v=-1,y=-1,w=/[a-z]/.test(e),Q=!0;for(let k=0,$=Math.min(e.length,200),_=0;k<$&&m<u;){let T=cl(e,k);o<0&&(p<u&&T==n[p]&&(i[p++]=k),x<u&&(T==n[x]||T==r[x]?(x==0&&(v=k),y=k+1,x++):x=0));let N,C=T<255?T>=48&&T<=57||T>=97&&T<=122?2:T>=65&&T<=90?1:0:(N=l9(T))!=N.toLowerCase()?1:N!=N.toUpperCase()?2:0;(!k||C==1&&w||_==0&&C!=0)&&(n[m]==T||r[m]==T&&(g=!0)?a[m++]=k:a.length&&(Q=!1)),_=C,k+=Xo(T)}return m==u&&a[0]==0&&Q?this.result(-100+(g?-200:0),a,e):x==u&&v==0?this.ret(-200-e.length+(y==e.length?0:-100),[0,y]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):x==u?this.ret(-900-e.length,[v,y]):m==u?this.result(-100+(g?-200:0)+-700+(Q?0:-1100),a,e):n.length==2?null:this.result((s[0]?-700:0)+-200+-1100,s,e)}result(e,n,r){let s=[],i=0;for(let a of n){let o=a+(this.astral?Xo(cl(r,a)):1);i&&s[i-1]==a?s[i-1]=o:(s[i++]=a,s[i++]=o)}return this.ret(e-r.length,s)}}class RG{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Tn=Re.define({combine(t){return H2(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:AG,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>aj(e(r),n(r)),optionClass:(e,n)=>r=>aj(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function aj(t,e){return t?e?t+" "+e:t:e}function AG(t,e,n,r,s,i){let a=t.textDirection==Ft.RTL,o=a,u=!1,f="top",p,m,g=e.left-s.left,x=s.right-e.right,v=r.right-r.left,y=r.bottom-r.top;if(o&&g<Math.min(v,x)?o=!1:!o&&x<Math.min(v,g)&&(o=!0),v<=(o?g:x))p=Math.max(s.top,Math.min(n.top,s.bottom-y))-e.top,m=Math.min(400,o?g:x);else{u=!0,m=Math.min(400,(a?e.right:s.right-e.left)-30);let k=s.bottom-e.bottom;k>=y||k>e.top?p=n.bottom-e.top:(f="bottom",p=e.bottom-n.top)}let w=(e.bottom-e.top)/i.offsetHeight,Q=(e.right-e.left)/i.offsetWidth;return{style:`${f}: ${p/w}px; max-width: ${m/Q}px`,class:"cm-completionInfo-"+(u?a?"left-narrow":"right-narrow":o?"left":"right")}}function qG(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(s=>"cm-completionIcon-"+s)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,s,i){let a=document.createElement("span");a.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let f=0;f<i.length;){let p=i[f++],m=i[f++];p>u&&a.appendChild(document.createTextNode(o.slice(u,p)));let g=a.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(o.slice(p,m))),g.className="cm-completionMatchedText",u=m}return u<o.length&&a.appendChild(document.createTextNode(o.slice(u))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function nx(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let s=Math.floor(e/n);return{from:s*n,to:(s+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class XG{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let s=e.state.field(n),{options:i,selected:a}=s.open,o=e.state.facet(Tn);this.optionContent=qG(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=nx(i.length,a,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:f}=e.state.field(n).open;for(let p=u.target,m;p&&p!=this.dom;p=p.parentNode)if(p.nodeName=="LI"&&(m=/-(\d+)$/.exec(p.id))&&+m[1]<f.length){this.applyCompletion(e,f[+m[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(Tn).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:wf.of(null)})}),this.showOptions(i,s.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),s=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=s){let{options:i,selected:a,disabled:o}=r.open;(!s.open||s.open.options!=i)&&(this.range=nx(i.length,a,e.state.facet(Tn).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),o!=((n=s.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=nx(n.options.length,n.selected,this.view.state.facet(Tn).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:s}=n.options[n.selected],{info:i}=s;if(!i)return;let a=typeof i=="string"?document.createTextNode(i):i(s);if(!a)return;"then"in a?a.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,s)}).catch(o=>jr(this.view.state,o,"completion info")):(this.addInfoPane(a,s),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:s,destroy:i}=e;r.appendChild(s),this.infoDestroy=i||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,s=this.range.from;r;r=r.nextSibling,s++)r.nodeName!="LI"||!r.id?s--:s==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&zG(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),s=e.getBoundingClientRect(),i=this.space;if(!i){let a=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return s.top>Math.min(i.bottom,n.bottom)-10||s.bottom<Math.max(i.top,n.top)+10?null:this.view.state.facet(Tn).positionInfo(this.view,n,s,r,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const s=document.createElement("ul");s.id=n,s.setAttribute("role","listbox"),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",this.view.state.phrase("Completions")),s.addEventListener("mousedown",a=>{a.target==s&&a.preventDefault()});let i=null;for(let a=r.from;a<r.to;a++){let{completion:o,match:u}=e[a],{section:f}=o;if(f){let g=typeof f=="string"?f:f.name;if(g!=i&&(a>r.from||r.from==0))if(i=g,typeof f!="string"&&f.header)s.appendChild(f.header(f));else{let x=s.appendChild(document.createElement("completion-section"));x.textContent=g}}const p=s.appendChild(document.createElement("li"));p.id=n+"-"+a,p.setAttribute("role","option");let m=this.optionClass(o);m&&(p.className=m);for(let g of this.optionContent){let x=g(o,this.view.state,this.view,u);x&&p.appendChild(x)}}return r.from&&s.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&s.classList.add("cm-completionListIncompleteBottom"),s}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function MG(t,e){return n=>new XG(n,t,e)}function zG(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),s=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/s:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/s)}function lj(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function ZG(t,e){let n=[],r=null,s=null,i=p=>{n.push(p);let{section:m}=p.completion;if(m){r||(r=[]);let g=typeof m=="string"?m:m.name;r.some(x=>x.name==g)||r.push(typeof m=="string"?{name:g}:m)}},a=e.facet(Tn);for(let p of t)if(p.hasResult()){let m=p.result.getMatch;if(p.result.filter===!1)for(let g of p.result.options)i(new sj(g,p.source,m?m(g):[],1e9-n.length));else{let g=e.sliceDoc(p.from,p.to),x,v=a.filterStrict?new RG(g):new EG(g);for(let y of p.result.options)if(x=v.match(y.label)){let w=y.displayLabel?m?m(y,x.matched):[]:x.matched,Q=x.score+(y.boost||0);if(i(new sj(y,p.source,w,Q)),typeof y.section=="object"&&y.section.rank==="dynamic"){let{name:k}=y.section;s||(s=Object.create(null)),s[k]=Math.max(Q,s[k]||-1e9)}}}}if(r){let p=Object.create(null),m=0,g=(x,v)=>(x.rank==="dynamic"&&v.rank==="dynamic"?s[v.name]-s[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof v.rank=="number"?v.rank:1e9)||(x.name<v.name?-1:1);for(let x of r.sort(g))m-=1e5,p[x.name]=m;for(let x of n){let{section:v}=x.completion;v&&(x.score+=p[typeof v=="string"?v:v.name])}}let o=[],u=null,f=a.compareCompletions;for(let p of n.sort((m,g)=>g.score-m.score||f(m.completion,g.completion))){let m=p.completion;!u||u.label!=m.label||u.detail!=m.detail||u.type!=null&&m.type!=null&&u.type!=m.type||u.apply!=m.apply||u.boost!=m.boost?o.push(p):lj(p.completion)>lj(u)&&(o[o.length-1]=p),u=p.completion}return o}class Bo{constructor(e,n,r,s,i,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=s,this.selected=i,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Bo(this.options,oj(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,s,i,a){if(s&&!a&&e.some(f=>f.isPending))return s.setDisabled();let o=ZG(e,n);if(!o.length)return s&&e.some(f=>f.isPending)?s.setDisabled():null;let u=n.facet(Tn).selectOnOpen?0:-1;if(s&&s.selected!=u&&s.selected!=-1){let f=s.options[s.selected].completion;for(let p=0;p<o.length;p++)if(o[p].completion==f){u=p;break}}return new Bo(o,oj(r,u),{pos:e.reduce((f,p)=>p.hasResult()?Math.min(f,p.from):f,1e8),create:UG,above:i.aboveCursor},s?s.timestamp:Date.now(),u,!1)}map(e){return new Bo(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Bo(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Bp{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Bp(DG,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Tn),i=(r.override||n.languageDataAt("autocomplete",wl(n)).map(CG)).map(u=>(this.active.find(p=>p.source==u)||new Hr(u,this.active.some(p=>p.state!=0)?1:0)).update(e,r));i.length==this.active.length&&i.every((u,f)=>u==this.active[f])&&(i=this.active);let a=this.open,o=e.effects.some(u=>u.is(QQ));a&&e.docChanged&&(a=a.map(e.changes)),e.selection||i.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!LG(i,this.active)||o?a=Bo.build(i,n,this.id,a,r,o):a&&a.disabled&&!i.some(u=>u.isPending)&&(a=null),!a&&i.every(u=>!u.isPending)&&i.some(u=>u.hasResult())&&(i=i.map(u=>u.hasResult()?new Hr(u.source,0):u));for(let u of e.effects)u.is(FM)&&(a=a&&a.setSelected(u.value,this.id));return i==this.active&&a==this.open?this:new Bp(i,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?YG:VG}}function LG(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let s=n==t.length,i=r==e.length;if(s||i)return s==i;if(t[n++].result!=e[r++].result)return!1}}const YG={"aria-autocomplete":"list"},VG={};function oj(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const DG=[];function HM(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(wQ);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Hr{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=HM(e,n),s=this;(r&8||r&16&&this.touches(e))&&(s=new Hr(s.source,0)),r&4&&s.state==0&&(s=new Hr(this.source,1)),s=s.updateFor(e,r);for(let i of e.effects)if(i.is(Dp))s=new Hr(s.source,1,i.value);else if(i.is(wf))s=new Hr(s.source,0);else if(i.is(QQ))for(let a of i.value)a.source==s.source&&(s=a);return s}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(wl(e.state))}}class ec extends Hr{constructor(e,n,r,s,i,a){super(e,3,n),this.limit=r,this.result=s,this.from=i,this.to=a}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let s=this.result;s.map&&!e.changes.empty&&(s=s.map(s,e.changes));let i=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=wl(e.state);if(o>a||!s||n&2&&(wl(e.startState)==this.from||o<this.limit))return new Hr(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return BG(s.validFor,e.state,i,a)?new ec(this.source,this.explicit,u,s,i,a):s.update&&(s=s.update(s,i,a,new vQ(e.state,o,!1)))?new ec(this.source,this.explicit,u,s,s.from,(r=s.to)!==null&&r!==void 0?r:wl(e.state)):new Hr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ec(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Hr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function BG(t,e,n,r){if(!t)return!1;let s=e.sliceDoc(n,r);return typeof t=="function"?t(s,n,r,e):IM(t,!0).test(s)}const QQ=Ct.define({map(t,e){return t.map(n=>n.map(e))}}),FM=Ct.define(),lr=Ks.define({create(){return Bp.start()},update(t,e){return t.update(e)},provide:t=>[tM.from(t,e=>e.tooltip),Ee.contentAttributes.from(t,e=>e.attrs)]});function kQ(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(lr).active.find(s=>s.source==e.source);return r instanceof ec?(typeof n=="string"?t.dispatch({...NG(t.state,n,r.from,r.to),annotations:wQ.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const UG=MG(lr,kQ);function Zh(t,e="option"){return n=>{let r=n.state.field(lr,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Tn).interactionDelay)return!1;let s=1,i;e=="page"&&(i=nM(n,r.open.tooltip))&&(s=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,o=r.open.selected>-1?r.open.selected+s*(t?1:-1):t?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),n.dispatch({effects:FM.of(o)}),!0}}const KM=t=>{let e=t.state.field(lr,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Tn).interactionDelay?!1:kQ(t,e.open.options[e.open.selected])},rx=t=>t.state.field(lr,!1)?(t.dispatch({effects:Dp.of(!0)}),!0):!1,GG=t=>{let e=t.state.field(lr,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:wf.of(null)}),!0)};class WG{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const IG=50,HG=1e3,FG=Qs.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(lr).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(lr),n=t.state.facet(Tn);if(!t.selectionSet&&!t.docChanged&&t.startState.field(lr)==e)return;let r=t.transactions.some(i=>{let a=HM(i,n);return a&8||(i.selection||i.docChanged)&&!(a&3)});for(let i=0;i<this.running.length;i++){let a=this.running[i];if(r||a.context.abortOnDocChange&&t.docChanged||a.updates.length+t.transactions.length>IG&&Date.now()-a.time>HG){for(let o of a.context.abortListeners)try{o()}catch(u){jr(this.view.state,u)}a.context.abortListeners=null,this.running.splice(i--,1)}else a.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(i=>i.effects.some(a=>a.is(Dp)))&&(this.pendingStart=!0);let s=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(i=>i.isPending&&!this.running.some(a=>a.active.source==i.source))?setTimeout(()=>this.startUpdate(),s):-1,this.composing!=0)for(let i of t.transactions)i.isUserEvent("input.type")?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(lr);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Tn).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=wl(e),r=new vQ(e,n,t.explicit,this.view),s=new WG(t,r);this.running.push(s),Promise.resolve(t.source(r)).then(i=>{s.context.aborted||(s.done=i||null,this.scheduleAccept())},i=>{this.view.dispatch({effects:wf.of(null)}),jr(this.view.state,i)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Tn).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Tn),r=this.view.state.field(lr);for(let s=0;s<this.running.length;s++){let i=this.running[s];if(i.done===void 0)continue;if(this.running.splice(s--,1),i.done){let o=wl(i.updates.length?i.updates[0].startState:this.view.state),u=Math.min(o,i.done.from+(i.active.explicit?0:1)),f=new ec(i.active.source,i.active.explicit,u,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:o);for(let p of i.updates)f=f.update(p,n);if(f.hasResult()){e.push(f);continue}}let a=r.active.find(o=>o.source==i.active.source);if(a&&a.isPending)if(i.done==null){let o=new Hr(i.active.source,0);for(let u of i.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(a)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:QQ.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(lr,!1);if(e&&e.tooltip&&this.view.state.facet(Tn).closeOnBlur){let n=e.open&&nM(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:wf.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Dp.of(!1)}),20),this.composing=0}}}),KG=typeof navigator=="object"&&/Win/.test(navigator.platform),JG=Xl.highest(Ee.domEventHandlers({keydown(t,e){let n=e.state.field(lr,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(KG&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],s=n.active.find(a=>a.source==r.source),i=r.completion.commitCharacters||s.result.commitCharacters;return i&&i.indexOf(t.key)>-1&&kQ(e,r),!1}})),JM=Ee.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class eW{constructor(e,n,r,s){this.field=e,this.line=n,this.from=r,this.to=s}}class $Q{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,Wn.TrackDel),r=e.mapPos(this.to,1,Wn.TrackDel);return n==null||r==null?null:new $Q(this.field,n,r)}}class TQ{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],s=[n],i=e.doc.lineAt(n),a=/^\s*/.exec(i.text)[0];for(let u of this.lines){if(r.length){let f=a,p=/^\t*/.exec(u)[0].length;for(let m=0;m<p;m++)f+=e.facet(Wf);s.push(n+f.length-p),u=f+u.slice(p)}r.push(u),n+=u.length+1}let o=this.fieldPositions.map(u=>new $Q(u.field,s[u.line]+u.from,s[u.line]+u.to));return{text:r,ranges:o}}static parse(e){let n=[],r=[],s=[],i;for(let a of e.split(/\r\n?|\n/)){for(;i=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(a);){let o=i[1]?+i[1]:null,u=i[2]||i[3]||"",f=-1,p=u.replace(/\\[{}]/g,m=>m[1]);for(let m=0;m<n.length;m++)(o!=null?n[m].seq==o:p&&n[m].name==p)&&(f=m);if(f<0){let m=0;for(;m<n.length&&(o==null||n[m].seq!=null&&n[m].seq<o);)m++;n.splice(m,0,{seq:o,name:p}),f=m;for(let g of s)g.field>=f&&g.field++}for(let m of s)if(m.line==r.length&&m.from>i.index){let g=i[2]?3+(i[1]||"").length:2;m.from-=g,m.to-=g}s.push(new eW(f,r.length,i.index,i.index+p.length)),a=a.slice(0,i.index)+u+a.slice(i.index+i[0].length)}a=a.replace(/\\([{}])/g,(o,u,f)=>{for(let p of s)p.line==r.length&&p.from>f&&(p.from--,p.to--);return u}),r.push(a)}return new TQ(r,s)}}let tW=Dt.widget({widget:new class extends Vf{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),nW=Dt.mark({class:"cm-snippetField"});class _c{constructor(e,n){this.ranges=e,this.active=n,this.deco=Dt.set(e.map(r=>(r.from==r.to?tW:nW).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let s=r.map(e);if(!s)return null;n.push(s)}return new _c(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Hf=Ct.define({map(t,e){return t&&t.map(e)}}),rW=Ct.define(),Qf=Ks.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Hf))return n.value;if(n.is(rW)&&t)return new _c(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Ee.decorations.from(t,e=>e?e.deco:Dt.none)});function _Q(t,e){return ge.create(t.filter(n=>n.field==e).map(n=>ge.range(n.from,n.to)))}function sW(t){let e=TQ.parse(t);return(n,r,s,i)=>{let{text:a,ranges:o}=e.instantiate(n.state,s),{main:u}=n.state.selection,f={changes:{from:s,to:i==u.from?u.to:i,insert:Ot.of(a)},scrollIntoView:!0,annotations:r?[wQ.of(r),xn.userEvent.of("input.complete")]:void 0};if(o.length&&(f.selection=_Q(o,0)),o.some(p=>p.field>0)){let p=new _c(o,0),m=f.effects=[Hf.of(p)];n.state.field(Qf,!1)===void 0&&m.push(Ct.appendConfig.of([Qf,cW,uW,JM]))}n.dispatch(n.state.update(f))}}function ez(t){return({state:e,dispatch:n})=>{let r=e.field(Qf,!1);if(!r||t<0&&r.active==0)return!1;let s=r.active+t,i=t>0&&!r.ranges.some(a=>a.field==s+t);return n(e.update({selection:_Q(r.ranges,s),effects:Hf.of(i?null:new _c(r.ranges,s)),scrollIntoView:!0})),!0}}const iW=({state:t,dispatch:e})=>t.field(Qf,!1)?(e(t.update({effects:Hf.of(null)})),!0):!1,aW=ez(1),lW=ez(-1),oW=[{key:"Tab",run:aW,shift:lW},{key:"Escape",run:iW}],cj=Re.define({combine(t){return t.length?t[0]:oW}}),cW=Xl.highest($c.compute([cj],t=>t.facet(cj)));function It(t,e){return{...e,apply:sW(t)}}const uW=Ee.domEventHandlers({mousedown(t,e){let n=e.state.field(Qf,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let s=n.ranges.find(i=>i.from<=r&&i.to>=r);return!s||s.field==n.active?!1:(e.dispatch({selection:_Q(n.ranges,s.field),effects:Hf.of(n.ranges.some(i=>i.field>s.field)?new _c(n.ranges,s.field):null),scrollIntoView:!0}),!0)}}),tz=new class extends Ca{};tz.startSide=1;tz.endSide=-1;function fW(t={}){return[JG,lr,Tn.of(t),FG,dW,JM]}const nz=[{key:"Ctrl-Space",run:rx},{mac:"Alt-`",run:rx},{mac:"Alt-i",run:rx},{key:"Escape",run:GG},{key:"ArrowDown",run:Zh(!0)},{key:"ArrowUp",run:Zh(!1)},{key:"PageDown",run:Zh(!0,"page")},{key:"PageUp",run:Zh(!1,"page")},{key:"Enter",run:KM}],dW=Xl.highest($c.computeN([Tn],t=>t.facet(Tn).defaultKeymap?[nz]:[]));class Up{static create(e,n,r,s,i){let a=s+(s<<8)+e+(n<<4)|0;return new Up(e,n,r,a,i,[],[])}constructor(e,n,r,s,i,a,o){this.type=e,this.value=n,this.from=r,this.hash=s,this.end=i,this.children=a,this.positions=o,this.hashProp=[[Be.contextHash,s]]}addChild(e,n){e.prop(Be.contextHash)!=this.hash&&(e=new wt(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new wt(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(s,i,a)=>new wt(wn.none,s,i,a,this.hashProp)})}}var xe;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(xe||(xe={}));class hW{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class pW{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return af(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let s=n;s<e;s++)r+=this.text.charCodeAt(s)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function uj(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==xe.OrderedList?NQ:jQ)(n,e,!1);return r>0&&(t.type!=xe.BulletList||PQ(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const rz={[xe.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(pt(xe.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(ss(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[xe.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[xe.OrderedList]:uj,[xe.BulletList]:uj,[xe.Document](){return!0}};function ss(t){return t==32||t==9||t==10||t==13}function af(t,e=0){for(;e<t.length&&ss(t.charCodeAt(e));)e++;return e}function fj(t,e,n){for(;e>n&&ss(t.charCodeAt(e-1));)e--;return e}function sz(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function iz(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function PQ(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let s=t.pos+1;s<t.text.length;s++){let i=t.text.charCodeAt(s);if(i==t.next)r++;else if(!ss(i))return-1}return n&&t.next==45&&oz(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(dz.SetextHeading)>-1||r<3?-1:1}function az(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function jQ(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||ss(t.text.charCodeAt(t.pos+1)))&&(!n||az(e,xe.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function NQ(t,e,n){let r=t.pos,s=t.next;for(;s>=48&&s<=57;){r++;if(r==t.text.length)return-1;s=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||s!=46&&s!=41||r<t.text.length-1&&!ss(t.text.charCodeAt(r+1))||n&&!az(e,xe.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function lz(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function oz(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&ss(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const r2=/^[ \t]*$/,cz=/-->/,uz=/\?>/,s2=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,cz],[/^\s*<\?/,uz],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,r2],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,r2]];function fz(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let s=0,i=s2.length-(n?1:0);s<i;s++)if(s2[s][0].test(r))return s;return-1}function dj(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function ga(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==xe.CodeText?t[r].to=n:t.push(pt(xe.CodeText,e,n))}const Lh={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),s=t.lineStart+r,i=t.lineStart+e.text.length,a=[],o=[];for(ga(a,s,i);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){ga(o,t.lineStart-1,t.lineStart);for(let u of e.markers)o.push(u)}else{if(e.indent<n)break;{if(o.length){for(let f of o)f.type==xe.CodeText?ga(a,f.from,f.to):a.push(f);o=[]}ga(a,t.lineStart-1,t.lineStart);for(let f of e.markers)a.push(f);i=t.lineStart+e.text.length;let u=t.lineStart+e.findColumn(e.baseIndent+4);u<i&&ga(a,u,i)}}return o.length&&(o=o.filter(u=>u.type!=xe.CodeText),o.length&&(e.markers=o.concat(e.markers))),t.addNode(t.buffer.writeElements(a,-s).finish(xe.CodeBlock,i-s),s),!0},FencedCode(t,e){let n=sz(e);if(n<0)return!1;let r=t.lineStart+e.pos,s=e.next,i=n-e.pos,a=e.skipSpace(n),o=fj(e.text,e.text.length,a),u=[pt(xe.CodeMark,r,r+i)];a<o&&u.push(pt(xe.CodeInfo,t.lineStart+a,t.lineStart+o));for(let f=!0,p=!0,m=!1;t.nextLine()&&e.depth>=t.stack.length;f=!1){let g=e.pos;if(e.indent-e.baseIndent<4)for(;g<e.text.length&&e.text.charCodeAt(g)==s;)g++;if(g-e.pos>=i&&e.skipSpace(g)==e.text.length){for(let x of e.markers)u.push(x);p&&m&&ga(u,t.lineStart-1,t.lineStart),u.push(pt(xe.CodeMark,t.lineStart+e.pos,t.lineStart+g)),t.nextLine();break}else{m=!0,f||(ga(u,t.lineStart-1,t.lineStart),p=!1);for(let y of e.markers)u.push(y);let x=t.lineStart+e.basePos,v=t.lineStart+e.text.length;x<v&&(ga(u,x,v),p=!1)}}return t.addNode(t.buffer.writeElements(u,-r).finish(xe.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=iz(e);return n<0?!1:(t.startContext(xe.Blockquote,e.pos),t.addNode(xe.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(PQ(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(xe.HorizontalRule,n),!0},BulletList(t,e){let n=jQ(e,t,!1);if(n<0)return!1;t.block.type!=xe.BulletList&&t.startContext(xe.BulletList,e.basePos,e.next);let r=dj(e,e.pos+1);return t.startContext(xe.ListItem,e.basePos,r-e.baseIndent),t.addNode(xe.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=NQ(e,t,!1);if(n<0)return!1;t.block.type!=xe.OrderedList&&t.startContext(xe.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=dj(e,e.pos+n);return t.startContext(xe.ListItem,e.basePos,r-e.baseIndent),t.addNode(xe.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=lz(e);if(n<0)return!1;let r=e.pos,s=t.lineStart+r,i=fj(e.text,e.text.length,r),a=i;for(;a>r&&e.text.charCodeAt(a-1)==e.next;)a--;(a==i||a==r||!ss(e.text.charCodeAt(a-1)))&&(a=e.text.length);let o=t.buffer.write(xe.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,a),s+n+1),-s);a<e.text.length&&o.write(xe.HeaderMark,a-r,i-r);let u=o.finish(xe.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(u,s),!0},HTMLBlock(t,e){let n=fz(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,s=s2[n][1],i=[],a=s!=r2;for(;!s.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){a=!1;break}for(let f of e.markers)i.push(f)}a&&t.nextLine();let o=s==cz?xe.CommentBlock:s==uz?xe.ProcessingInstructionBlock:xe.HTMLBlock,u=t.prevLineEnd();return t.addNode(t.buffer.writeElements(i,-r).finish(o,u-r),r),!0},SetextHeading:void 0};class mW{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let s=r.content+`
`+n.scrub(),i=this.advance(s);return i>-1&&i<s.length?this.complete(e,r,i):!1}finish(e,n){return(this.stage==2||this.stage==3)&&af(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,pt(xe.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(vz(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(pt(xe.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(bz(e,af(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=af(e,this.pos),r=0;if(n>this.pos){let s=yz(e,n,this.start);if(s){let i=sx(e,s.to-this.start);i>0&&(this.nextStage(s),r=i)}}return r||(r=sx(e,this.pos)),r>0&&r<e.length?r:-1}else return sx(e,this.pos)}}}function sx(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!ss(n))return-1}return e}class OW{nextLine(e,n,r){let s=n.depth<e.stack.length?-1:oz(n),i=n.next;if(s<0)return!1;let a=pt(xe.HeaderMark,e.lineStart+n.pos,e.lineStart+s);return e.nextLine(),e.addLeafElement(r,pt(i==61?xe.SetextHeading1:xe.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),a])),!0}finish(){return!1}}const dz={LinkReference(t,e){return e.content.charCodeAt(0)==91?new mW(e):null},SetextHeading(){return new OW}},gW=[(t,e)=>lz(e)>=0,(t,e)=>sz(e)>=0,(t,e)=>iz(e)>=0,(t,e)=>jQ(e,t,!0)>=0,(t,e)=>NQ(e,t,!0)>=0,(t,e)=>PQ(e,t,!0)>=0,(t,e)=>fz(e,t,!0)>=0],xW={text:"",end:0};class bW{constructor(e,n,r,s){this.parser=e,this.input=n,this.ranges=s,this.line=new pW,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=s[s.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=s[0].from,this.block=Up.create(xe.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new SW(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let s=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!s||e.markers[r].from<s.end);){let i=e.markers[r++];this.addNode(i.type,i.from,i.to)}if(!s)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let s=r(this,e);if(s!=!1){if(s==!0)return null;e.forward();continue e}}break}let n=new hW(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let s=r(this,n);s&&n.parsers.push(s)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=Sz(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=xW;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,s=this.rangeI;for(;this.ranges[s].to<n.end;){s++;let i=this.ranges[s].from,a=this.lineChunkAt(i);n.end=i+a.length,n.text=n.text.slice(0,this.ranges[s-1].to-r)+a,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let s=this.stack[e.depth],i=this.parser.skipContextMarkup[s.type];if(!i)throw new Error("Unhandled block context "+xe[s.type]);let a=this.line.markers.length;if(!i(s,this,e)){this.line.markers.length>a&&(s.end=this.line.markers[this.line.markers.length-1].to),e.forward();break}e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let s=n.indexOf(`
`);r=s<0?n:n.slice(0,s)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=Up.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new wt(this.parser.nodeSet.types[e],hc,hc,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(a2(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?hz(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=a2(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(xe.Paragraph,e.content.length),e.start)}elt(e,n,r,s){return typeof e=="string"?pt(this.parser.getNodeType(e),n,r,s):new Oz(e,n)}get buffer(){return new mz(this.parser.nodeSet)}}function hz(t,e,n,r,s){let i=t[e].to,a=[],o=[],u=n.from+r;function f(p,m){for(;m?p>=i:p>i;){let g=t[e+1].from-i;r+=g,p+=g,e++,i=t[e].to}}for(let p=n.firstChild;p;p=p.nextSibling){f(p.from+r,!0);let m=p.from+r,g,x=s.get(p.tree);x?g=x:p.to+r>i?(g=hz(t,e,p,r,s),f(p.to+r,!1)):g=p.toTree(),a.push(g),o.push(m-u)}return f(n.to+r,!1),new wt(n.type,a,o,n.to+r-u,n.tree?n.tree.propValues:void 0)}class Lm extends pQ{constructor(e,n,r,s,i,a,o,u,f){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=s,this.endLeafBlock=i,this.skipContextMarkup=a,this.inlineParsers=o,this.inlineNames=u,this.wrappers=f,this.nodeTypes=Object.create(null);for(let p of e.types)this.nodeTypes[p.name]=p.id}createParse(e,n,r){let s=new bW(this,e,n,r);for(let i of this.wrappers)s=i(s,e,n,r);return s}configure(e){let n=i2(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:s}=this,i=this.blockParsers.slice(),a=this.leafBlockParsers.slice(),o=this.blockNames.slice(),u=this.inlineParsers.slice(),f=this.inlineNames.slice(),p=this.endLeafBlock.slice(),m=this.wrappers;if(Nu(n.defineNodes)){s=Object.assign({},s);let g=r.types.slice(),x;for(let v of n.defineNodes){let{name:y,block:w,composite:Q,style:k}=typeof v=="string"?{name:v}:v;if(g.some(T=>T.name==y))continue;Q&&(s[g.length]=(T,N,C)=>Q(N,C,T.value));let $=g.length,_=Q?["Block","BlockContext"]:w?$>=xe.ATXHeading1&&$<=xe.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;g.push(wn.define({id:$,name:y,props:_&&[[Be.group,_]]})),k&&(x||(x={}),Array.isArray(k)||k instanceof _r?x[y]=k:Object.assign(x,k))}r=new Gf(g),x&&(r=r.extend(Za(x)))}if(Nu(n.props)&&(r=r.extend(...n.props)),Nu(n.remove))for(let g of n.remove){let x=this.blockNames.indexOf(g),v=this.inlineNames.indexOf(g);x>-1&&(i[x]=a[x]=void 0),v>-1&&(u[v]=void 0)}if(Nu(n.parseBlock))for(let g of n.parseBlock){let x=o.indexOf(g.name);if(x>-1)i[x]=g.parse,a[x]=g.leaf;else{let v=g.before?Yh(o,g.before):g.after?Yh(o,g.after)+1:o.length-1;i.splice(v,0,g.parse),a.splice(v,0,g.leaf),o.splice(v,0,g.name)}g.endLeaf&&p.push(g.endLeaf)}if(Nu(n.parseInline))for(let g of n.parseInline){let x=f.indexOf(g.name);if(x>-1)u[x]=g.parse;else{let v=g.before?Yh(f,g.before):g.after?Yh(f,g.after)+1:f.length-1;u.splice(v,0,g.parse),f.splice(v,0,g.name)}}return n.wrap&&(m=m.concat(n.wrap)),new Lm(r,i,a,o,p,s,u,f,m)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new CQ(this,e,n);e:for(let s=n;s<r.end;){let i=r.char(s);for(let a of this.inlineParsers)if(a){let o=a(r,i,s);if(o>=0){s=o;continue e}}s++}return r.resolveMarkers(0)}}function Nu(t){return t!=null&&t.length>0}function i2(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=i2(t[0]);if(t.length==1)return e;let n=i2(t.slice(1));if(!n||!e)return e||n;let r=(a,o)=>(a||hc).concat(o||hc),s=e.wrap,i=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:s?i?(a,o,u,f)=>s(i(a,o,u,f),o,u,f):s:i}}function Yh(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let pz=[wn.none];for(let t=1,e;e=xe[t];t++)pz[t]=wn.define({id:t,name:e,props:t>=xe.Escape?[]:[[Be.group,t in rz?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const hc=[];class mz{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,s=0){return this.content.push(e,n,r,4+s*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return wt.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}let kf=class{constructor(e,n,r,s=hc){this.type=e,this.from=n,this.to=r,this.children=s}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new mz(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class Oz{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return hc}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function pt(t,e,n,r){return new kf(t,e,n,r)}const gz={resolve:"Emphasis",mark:"EmphasisMark"},xz={resolve:"Emphasis",mark:"EmphasisMark"},hl={},Gp={};class Tr{constructor(e,n,r,s){this.type=e,this.from=n,this.to=r,this.side=s}}const hj="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let $f=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{$f=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const ix={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let s=0;s<hj.length;s++)if(hj.charCodeAt(s)==r)return t.append(pt(xe.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(pt(xe.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let s=r-n,i=0;for(;r<t.end;r++)if(t.char(r)==96){if(i++,i==s&&t.char(r+1)!=96)return t.append(pt(xe.InlineCode,n,r+1,[pt(xe.CodeMark,n,n+s),pt(xe.CodeMark,r+1-s,r+1)]))}else i=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),s=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(s)return t.append(pt(xe.Autolink,n,n+1+s[0].length,[pt(xe.LinkMark,n,n+1),pt(xe.URL,n+1,n+s[0].length),pt(xe.LinkMark,n+s[0].length,n+1+s[0].length)]));let i=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(i)return t.append(pt(xe.Comment,n,n+1+i[0].length));let a=/^\?[^]*?\?>/.exec(r);if(a)return t.append(pt(xe.ProcessingInstruction,n,n+1+a[0].length));let o=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return o?t.append(pt(xe.HTMLTag,n,n+1+o[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let s=t.slice(n-1,n),i=t.slice(r,r+1),a=$f.test(s),o=$f.test(i),u=/\s|^$/.test(s),f=/\s|^$/.test(i),p=!f&&(!o||u||a),m=!u&&(!a||f||o),g=p&&(e==42||!m||a),x=m&&(e==42||!p||o);return t.append(new Tr(e==95?gz:xz,n,r,(g?1:0)|(x?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(pt(xe.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(pt(xe.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new Tr(hl,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new Tr(Gp,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let s=t.parts[r];if(s instanceof Tr&&(s.type==hl||s.type==Gp)){if(!s.side||t.skipSpace(s.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let i=t.takeContent(r),a=t.parts[r]=yW(t,i,s.type==hl?xe.Link:xe.Image,s.from,n+1);if(s.type==hl)for(let o=0;o<r;o++){let u=t.parts[o];u instanceof Tr&&u.type==hl&&(u.side=0)}return a.to}}return-1}};function yW(t,e,n,r,s){let{text:i}=t,a=t.char(s),o=s;if(e.unshift(pt(xe.LinkMark,r,r+(n==xe.Image?2:1))),e.push(pt(xe.LinkMark,s-1,s)),a==40){let u=t.skipSpace(s+1),f=bz(i,u-t.offset,t.offset),p;f&&(u=t.skipSpace(f.to),u!=f.to&&(p=yz(i,u-t.offset,t.offset),p&&(u=t.skipSpace(p.to)))),t.char(u)==41&&(e.push(pt(xe.LinkMark,s,s+1)),o=u+1,f&&e.push(f),p&&e.push(p),e.push(pt(xe.LinkMark,u,o)))}else if(a==91){let u=vz(i,s-t.offset,t.offset,!1);u&&(e.push(u),o=u.to)}return pt(n,r,o,e)}function bz(t,e,n){if(t.charCodeAt(e)==60){for(let s=e+1;s<t.length;s++){let i=t.charCodeAt(s);if(i==62)return pt(xe.URL,e+n,s+1+n);if(i==60||i==10)return!1}return null}else{let s=0,i=e;for(let a=!1;i<t.length;i++){let o=t.charCodeAt(i);if(ss(o))break;if(a)a=!1;else if(o==40)s++;else if(o==41){if(!s)break;s--}else o==92&&(a=!0)}return i>e?pt(xe.URL,e+n,i+n):i==t.length?null:!1}}function yz(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let s=r==40?41:r;for(let i=e+1,a=!1;i<t.length;i++){let o=t.charCodeAt(i);if(a)a=!1;else{if(o==s)return pt(xe.LinkTitle,e+n,i+1+n);o==92&&(a=!0)}}return null}function vz(t,e,n,r){for(let s=!1,i=e+1,a=Math.min(t.length,i+999);i<a;i++){let o=t.charCodeAt(i);if(s)s=!1;else{if(o==93)return r?!1:pt(xe.LinkLabel,e+n,i+1+n);if(r&&!ss(o)&&(r=!1),o==91)return!1;o==92&&(s=!0)}}return null}class CQ{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,s,i){return this.append(new Tr(e,n,r,(s?1:0)|(i?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof Tr&&(n.type==hl||n.type==Gp))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let s=this.parts[r];if(!(s instanceof Tr&&s.type.resolve&&s.side&2))continue;let i=s.type==gz||s.type==xz,a=s.to-s.from,o,u=r-1;for(;u>=e;u--){let y=this.parts[u];if(y instanceof Tr&&y.side&1&&y.type==s.type&&!(i&&(s.side&1||y.side&2)&&(y.to-y.from+a)%3==0&&((y.to-y.from)%3||a%3))){o=y;break}}if(!o)continue;let f=s.type.resolve,p=[],m=o.from,g=s.to;if(i){let y=Math.min(2,o.to-o.from,a);m=o.to-y,g=s.from+y,f=y==1?"Emphasis":"StrongEmphasis"}o.type.mark&&p.push(this.elt(o.type.mark,m,o.to));for(let y=u+1;y<r;y++)this.parts[y]instanceof kf&&p.push(this.parts[y]),this.parts[y]=null;s.type.mark&&p.push(this.elt(s.type.mark,s.from,g));let x=this.elt(f,m,g,p);this.parts[u]=i&&o.from!=m?new Tr(o.type,o.from,m,o.side):null,(this.parts[r]=i&&s.to!=g?new Tr(s.type,g,s.to,s.side):null)?this.parts.splice(r,0,x):this.parts[r]=x}let n=[];for(let r=e;r<this.parts.length;r++){let s=this.parts[r];s instanceof kf&&n.push(s)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof Tr&&r.type==e&&r.side&1)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}getDelimiterAt(e){let n=this.parts[e];return n instanceof Tr?n:null}skipSpace(e){return af(this.text,e-this.offset)+this.offset}elt(e,n,r,s){return typeof e=="string"?pt(this.parser.getNodeType(e),n,r,s):new Oz(e,n)}}CQ.linkStart=hl;CQ.imageStart=Gp;function a2(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let s of e){for(;r<n.length&&n[r].to<s.to;)r++;if(r<n.length&&n[r].from<s.from){let i=n[r];i instanceof kf&&(n[r]=new kf(i.type,i.from,i.to,a2(i.children,[s])))}else n.splice(r++,0,s)}return n}const vW=[xe.CodeBlock,xe.ListItem,xe.OrderedList,xe.BulletList];let SW=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let i=this.fragment.to;for(;i>0&&this.input.read(i-1,i)!=`
`;)i--;this.fragmentEnd=i?i-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let s=e+this.fragment.offset;for(;r.to<=s;)if(!r.parent())return!1;for(;;){if(r.from>=s)return this.fragment.from<=n;if(!r.childAfter(s))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Be.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,s=this.fragmentEnd-(this.fragment.openEnd?1:0),i=e.absoluteLineStart,a=i,o=e.block.children.length,u=a,f=o;for(;;){if(n.to-r>s){if(n.type.isAnonymous&&n.firstChild())continue;break}let p=Sz(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,p);else{let m=new wt(e.parser.nodeSet.types[xe.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(m,n.tree),e.addNode(m,p)}if(n.type.is("Block")&&(vW.indexOf(n.type.id)<0?(a=n.to-r,o=e.block.children.length):(a=u,o=f),u=n.to-r,f=e.block.children.length),!n.nextSibling())break}for(;e.block.children.length>o;)e.block.children.pop(),e.block.positions.pop();return a-i}};function Sz(t,e){let n=t;for(let r=1;r<e.length;r++){let s=e[r-1].to,i=e[r].from;s<t&&(n-=i-s)}return n}const wW=Za({"Blockquote/...":D.quote,HorizontalRule:D.contentSeparator,"ATXHeading1/... SetextHeading1/...":D.heading1,"ATXHeading2/... SetextHeading2/...":D.heading2,"ATXHeading3/...":D.heading3,"ATXHeading4/...":D.heading4,"ATXHeading5/...":D.heading5,"ATXHeading6/...":D.heading6,"Comment CommentBlock":D.comment,Escape:D.escape,Entity:D.character,"Emphasis/...":D.emphasis,"StrongEmphasis/...":D.strong,"Link/... Image/...":D.link,"OrderedList/... BulletList/...":D.list,"BlockQuote/...":D.quote,"InlineCode CodeText":D.monospace,"URL Autolink":D.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":D.processingInstruction,"CodeInfo LinkLabel":D.labelName,LinkTitle:D.string,Paragraph:D.content}),QW=new Lm(new Gf(pz).extend(wW),Object.keys(Lh).map(t=>Lh[t]),Object.keys(Lh).map(t=>dz[t]),Object.keys(Lh),gW,rz,Object.keys(ix).map(t=>ix[t]),Object.keys(ix),[]);function kW(t,e,n){let r=[];for(let s=t.firstChild,i=e;;s=s.nextSibling){let a=s?s.from:n;if(a>i&&r.push({from:i,to:a}),!s)break;i=s.to}return r}function $W(t){let{codeParser:e,htmlParser:n}=t;return{wrap:oM((s,i)=>{let a=s.type.id;if(e&&(a==xe.CodeBlock||a==xe.FencedCode)){let o="";if(a==xe.FencedCode){let f=s.node.getChild(xe.CodeInfo);f&&(o=i.read(f.from,f.to))}let u=e(o);if(u)return{parser:u,overlay:f=>f.type.id==xe.CodeText,bracketed:a==xe.FencedCode}}else if(n&&(a==xe.HTMLBlock||a==xe.HTMLTag||a==xe.CommentBlock))return{parser:n,overlay:kW(s.node,s.from,s.to)};return null})}}const TW={resolve:"Strikethrough",mark:"StrikethroughMark"},_W={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":D.strikethrough}},{name:"StrikethroughMark",style:D.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),s=t.slice(n+2,n+3),i=/\s|^$/.test(r),a=/\s|^$/.test(s),o=$f.test(r),u=$f.test(s);return t.addDelimiter(TW,n,n+2,!a&&(!u||i||o),!i&&(!o||a||u))},after:"Emphasis"}]};function lf(t,e,n=0,r,s=0){let i=0,a=!0,o=-1,u=-1,f=!1,p=()=>{r.push(t.elt("TableCell",s+o,s+u,t.parser.parseInline(e.slice(o,u),s+o)))};for(let m=n;m<e.length;m++){let g=e.charCodeAt(m);g==124&&!f?((!a||o>-1)&&i++,a=!1,r&&(o>-1&&p(),r.push(t.elt("TableDelimiter",m+s,m+s+1))),o=u=-1):(f||g!=32&&g!=9)&&(o<0&&(o=m),u=m+1),f=!f&&g==92}return o>-1&&(i++,r&&p()),i}function pj(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const wz=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class mj{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let s;if((n.next==45||n.next==58||n.next==124)&&wz.test(s=n.text.slice(n.pos))){let i=[];lf(e,r.content,0,i,r.start)==lf(e,s,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,i),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let s=[];lf(e,n.text,n.pos,s,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,s))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const PW={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":D.heading}},"TableRow",{name:"TableCell",style:D.content},{name:"TableDelimiter",style:D.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return pj(e.content,0)?new mj:null},endLeaf(t,e,n){if(n.parsers.some(s=>s instanceof mj)||!pj(e.text,e.basePos))return!1;let r=t.peekLine();return wz.test(r)&&lf(t,e.text,e.basePos)==lf(t,r,e.basePos)},before:"SetextHeading"}]};class jW{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const NW={defineNodes:[{name:"Task",block:!0,style:D.list},{name:"TaskMarker",style:D.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new jW:null},after:"SetextHeading"}]},Oj=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,gj=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,CW=/[\w-]+\.[\w-]+($|\/)/,xj=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,bj=/\/[a-zA-Z\d@.]+/gy;function yj(t,e,n,r){let s=0;for(let i=e;i<n;i++)t[i]==r&&s++;return s}function EW(t,e){gj.lastIndex=e;let n=gj.exec(t);if(!n||CW.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let s=t[r-1],i;if(/[?!.,:*_~]/.test(s)||s==")"&&yj(t,e,r,")")>yj(t,e,r,"("))r--;else if(s==";"&&(i=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+i.index;else break}return r}function vj(t,e){xj.lastIndex=e;let n=xj.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const RW={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;Oj.lastIndex=r;let s=Oj.exec(t.text),i=-1;if(!s)return-1;if(s[1]||s[2]){if(i=EW(t.text,r+s[0].length),i>-1&&t.hasOpenLink){let a=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,i));i=r+a[0].length}}else s[3]?i=vj(t.text,r):(i=vj(t.text,r+s[0].length),i>-1&&s[0]=="xmpp:"&&(bj.lastIndex=i,s=bj.exec(t.text),s&&(i=s.index+s[0].length)));return i<0?-1:(t.addElement(t.elt("URL",n,i+t.offset)),i+t.offset)}}]},AW=[PW,NW,_W,RW];function Qz(t,e,n){return(r,s,i)=>{if(s!=t||r.char(i+1)==t)return-1;let a=[r.elt(n,i,i+1)];for(let o=i+1;o<r.end;o++){let u=r.char(o);if(u==t)return r.addElement(r.elt(e,i,o+1,a.concat(r.elt(n,o,o+1))));if(u==92&&a.push(r.elt("Escape",o,o+++2)),ss(u))break}return-1}}const qW={defineNodes:[{name:"Superscript",style:D.special(D.content)},{name:"SuperscriptMark",style:D.processingInstruction}],parseInline:[{name:"Superscript",parse:Qz(94,"Superscript","SuperscriptMark")}]},XW={defineNodes:[{name:"Subscript",style:D.special(D.content)},{name:"SubscriptMark",style:D.processingInstruction}],parseInline:[{name:"Subscript",parse:Qz(126,"Subscript","SubscriptMark")}]},MW={defineNodes:[{name:"Emoji",style:D.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var Sj={};class Wp{constructor(e,n,r,s,i,a,o,u,f,p=0,m){this.p=e,this.stack=n,this.state=r,this.reducePos=s,this.pos=i,this.score=a,this.buffer=o,this.bufferBase=u,this.curContext=f,this.lookAhead=p,this.parent=m}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let s=e.parser.context;return new Wp(e,[],n,r,r,0,[],0,s?new wj(s,s.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,s=e&65535,{parser:i}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=i.dynamicPrecedence(s);if(o&&(this.score+=o),r==0){this.pushState(i.getGoto(this.state,s,!0),this.reducePos),s<i.minRepeatTerm&&this.storeNode(s,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(s,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),f=u?this.stack[u-2]:this.p.ranges[0].from,p=this.reducePos-f;p>=2e3&&!(!((n=this.p.parser.nodeSet.types[s])===null||n===void 0)&&n.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=p):this.p.lastBigReductionSize<p&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=p));let m=u?this.stack[u-1]:0,g=this.bufferBase+this.buffer.length-m;if(s<i.minRepeatTerm||e&131072){let x=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s,f,x,g+4,!0)}if(e&262144)this.state=this.stack[u];else{let x=this.stack[u-3];this.state=i.getGoto(x,s,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(s,f)}storeNode(e,n,r,s=4,i=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(n==r)return;if(a.buffer[o-2]>=n){a.buffer[o-2]=r;return}}}if(!i||this.pos==r)this.buffer.push(e,n,r,s);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let o=!1;for(let u=a;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,s>4&&(s-=4)}this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=s}}shift(e,n,r,s){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let i=e,{parser:a}=this.p;this.pos=s,!a.stateFlag(i,1)&&(s>r||n<=a.maxNode)&&(this.reducePos=s),this.pushState(i,Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,s,4)}else this.pos=s,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,s,4)}apply(e,n,r,s){e&65536?this.reduce(e):this.shift(e,n,r,s)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let s=this.pos;this.reducePos=this.pos=s+e.length,this.pushState(n,s),this.buffer.push(r,s,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),s=e.bufferBase+n;for(;e&&s==e.bufferBase;)e=e.parent;return new Wp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,s,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new zW(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let s=[];for(let i=0,a;i<n.length;i+=2)(a=n[i+1])!=this.state&&this.p.parser.hasAction(a,e)&&s.push(n[i],a);if(this.stack.length<120)for(let i=0;s.length<8&&i<n.length;i+=2){let a=n[i+1];s.some((o,u)=>u&1&&o==a)||s.push(n[i],a)}n=s}let r=[];for(let s=0;s<n.length&&r.length<4;s+=2){let i=n[s+1];if(i==this.state)continue;let a=this.split();a.pushState(i,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[s],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,s=n&65535,i=this.stack.length-r*3;if(i<0||e.getGoto(this.stack[i],s,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(s,i)=>{if(!n.includes(s))return n.push(s),e.allActions(s,a=>{if(!(a&393216))if(a&65536){let o=(a>>19)-i;if(o>1){let u=a&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],u,!1)>=0)return o<<19|65536|u}}else{let o=r(a,i+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new wj(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class wj{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class zW{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let s=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=s}}class Ip{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Ip(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Ip(this.stack,this.pos,this.index)}}function Bu(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,s=0;r<t.length;){let i=0;for(;;){let a=t.charCodeAt(r++),o=!1;if(a==126){i=65535;break}a>=92&&a--,a>=34&&a--;let u=a-32;if(u>=46&&(u-=46,o=!0),i+=u,o)break;i*=46}n?n[s++]=i:n=new e(i)}return n}class pp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Qj=new pp;class ZW{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Qj,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,s=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!s)return null;let a=this.ranges[--s];i-=r.from-a.to,r=a}for(;n<0?i>r.to:i>=r.to;){if(s==this.ranges.length-1)return null;let a=this.ranges[++s];i+=a.from-r.to,r=a}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,s;if(n>=0&&n<this.chunk.length)r=this.pos+e,s=this.chunk.charCodeAt(n);else{let i=this.resolveOffset(e,1);if(i==null)return-1;if(r=i,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),s=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),s}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=Qj,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let s of this.ranges){if(s.from>=n)break;s.to>e&&(r+=this.input.read(Math.max(s.from,e),Math.min(s.to,n)))}return r}}class tc{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;kz(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}tc.prototype.contextual=tc.prototype.fallback=tc.prototype.extend=!1;class Hp{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Bu(e):e}token(e,n){let r=e.pos,s=0;for(;;){let i=e.next<0,a=e.resolveOffset(1,1);if(kz(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(i||s++,a==null)break;e.reset(a,e.token)}s&&(e.reset(r,e.token),e.acceptToken(this.elseToken,s))}}Hp.prototype.contextual=tc.prototype.fallback=tc.prototype.extend=!1;class Mn{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function kz(t,e,n,r,s,i){let a=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[a])!=0;){let f=t[a+1];for(let x=a+3;x<f;x+=2)if((t[x+1]&o)>0){let v=t[x];if(u.allows(v)&&(e.token.value==-1||e.token.value==v||LW(v,e.token.value,s,i))){e.acceptToken(v);break}}let p=e.next,m=0,g=t[a+2];if(e.next<0&&g>m&&t[f+g*3-3]==65535){a=t[f+g*3-1];continue e}for(;m<g;){let x=m+g>>1,v=f+x+(x<<1),y=t[v],w=t[v+1]||65536;if(p<y)g=x;else if(p>=w)m=x+1;else{a=t[v+2],e.advance();continue e}}break}}function kj(t,e,n){for(let r=e,s;(s=t[r])!=65535;r++)if(s==n)return r-e;return-1}function LW(t,e,n,r){let s=kj(n,r,e);return s<0||kj(n,r,t)<s}const Qr=typeof process<"u"&&Sj&&/\bparse\b/.test(Sj.LOG);let ax=null;function $j(t,e,n){let r=t.cursor(St.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class YW{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?$j(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?$j(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],s=this.index[n];if(s==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[s],a=this.start[n]+r.positions[s];if(a>e)return this.nextStart=a,null;if(i instanceof wt){if(a==e){if(a<this.safeFrom)return null;let o=a+i.length;if(o<=this.safeTo){let u=i.prop(Be.lookAhead);if(!u||o+u<this.fragment.to)return i}}this.index[n]++,a+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+i.length}}}class VW{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new pp)}getActions(e){let n=0,r=null,{parser:s}=e.p,{tokenizers:i}=s,a=s.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let f=0;f<i.length;f++){if((1<<f&a)==0)continue;let p=i[f],m=this.tokens[f];if(!(r&&!p.fallback)&&((p.contextual||m.start!=e.pos||m.mask!=a||m.context!=o)&&(this.updateCachedToken(m,p,e),m.mask=a,m.context=o),m.lookAhead>m.end+25&&(u=Math.max(m.lookAhead,u)),m.value!=0)){let g=n;if(m.extended>-1&&(n=this.addActions(e,m.extended,m.end,n)),n=this.addActions(e,m.value,m.end,n),!p.extend&&(r=m,n>g))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new pp,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new pp,{pos:r,p:s}=e;return n.start=r,n.end=Math.min(r+1,s.stream.end),n.value=r==s.stream.end?s.parser.eofTerm:0,n}updateCachedToken(e,n,r){let s=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(s,e),r),e.value>-1){let{parser:i}=r.p;for(let a=0;a<i.specialized.length;a++)if(i.specialized[a]==e.value){let o=i.specializers[a](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(s+1)}putAction(e,n,r,s){for(let i=0;i<s;i+=3)if(this.actions[i]==e)return s;return this.actions[s++]=e,this.actions[s++]=n,this.actions[s++]=r,s}addActions(e,n,r,s){let{state:i}=e,{parser:a}=e.p,{data:o}=a;for(let u=0;u<2;u++)for(let f=a.stateSlot(i,u?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=Pi(o,f+2);else{s==0&&o[f+1]==2&&(s=this.putAction(Pi(o,f+2),n,r,s));break}o[f]==n&&(s=this.putAction(Pi(o,f+1),n,r,s))}return s}}class DW{constructor(e,n,r,s){this.parser=e,this.input=n,this.ranges=s,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ZW(n,s),this.tokens=new VW(e,this.stream),this.topTerm=e.top[1];let{from:i}=s[0];this.stacks=[Wp.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>e.bufferLength*4?new YW(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],s,i;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{s||(s=[],i=[]),s.push(o);let u=this.tokens.getMainToken(o);i.push(u.value,u.end)}}break}}if(!r.length){let a=s&&UW(s);if(a)return Qr&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Qr&&s&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&s){let a=this.stoppedAt!=null&&s[0].pos>this.stoppedAt?s[0]:this.runRecovery(s,i,r);if(a)return Qr&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((o,u)=>u.score-o.score);r.length>a;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let o=r[a];for(let u=a+1;u<r.length;u++){let f=r[u];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)r.splice(u--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,o)=>o.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let s=e.pos,{parser:i}=this,a=Qr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&s>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,p=f?e.curContext.hash:0;for(let m=this.fragments.nodeAt(s);m;){let g=this.parser.nodeSet.types[m.type.id]==m.type?i.getGoto(e.state,m.type.id):-1;if(g>-1&&m.length&&(!f||(m.prop(Be.contextHash)||0)==p))return e.useNode(m,g),Qr&&console.log(a+this.stackID(e)+` (via reuse of ${i.getName(m.type.id)})`),!0;if(!(m instanceof wt)||m.children.length==0||m.positions[0]>0)break;let x=m.children[0];if(x instanceof wt&&m.positions[0]==0)m=x;else break}}let o=i.stateSlot(e.state,4);if(o>0)return e.reduce(o),Qr&&console.log(a+this.stackID(e)+` (via always-reduce ${i.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let f=0;f<u.length;){let p=u[f++],m=u[f++],g=u[f++],x=f==u.length||!r,v=x?e:e.split(),y=this.tokens.mainToken;if(v.apply(p,m,y?y.start:v.pos,g),Qr&&console.log(a+this.stackID(v)+` (via ${(p&65536)==0?"shift":`reduce of ${i.getName(p&65535)}`} for ${i.getName(m)} @ ${s}${v==e?"":", split"})`),x)return!0;v.pos>s?n.push(v):r.push(v)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Tj(e,n),!0}}runRecovery(e,n,r){let s=null,i=!1;for(let a=0;a<e.length;a++){let o=e[a],u=n[a<<1],f=n[(a<<1)+1],p=Qr?this.stackID(o)+" -> ":"";if(o.deadEnd&&(i||(i=!0,o.restart(),Qr&&console.log(p+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let m=o.split(),g=p;for(let x=0;x<10&&m.forceReduce()&&(Qr&&console.log(g+this.stackID(m)+" (via force-reduce)"),!this.advanceFully(m,r));x++)Qr&&(g=this.stackID(m)+" -> ");for(let x of o.recoverByInsert(u))Qr&&console.log(p+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>o.pos?(f==o.pos&&(f++,u=0),o.recoverByDelete(u,f),Qr&&console.log(p+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),Tj(o,r)):(!s||s.score<m.score)&&(s=m)}return s}stackToTree(e){return e.close(),wt.build({buffer:Ip.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(ax||(ax=new WeakMap)).get(e);return n||ax.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function Tj(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class BW{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const lx=t=>t;class EQ{constructor(e){this.start=e.start,this.shift=e.shift||lx,this.reduce=e.reduce||lx,this.reuse=e.reuse||lx,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Ma extends pQ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),s=[];for(let o=0;o<n.length;o++)s.push([]);function i(o,u,f){s[o].push([u,u.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Be[u]);for(let f=1;f<o.length;){let p=o[f++];if(p>=0)i(p,u,o[f++]);else{let m=o[f+-p];for(let g=-p;g>0;g--)i(o[f++],u,m);f++}}}this.nodeSet=new Gf(n.map((o,u)=>wn.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:s[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=sM;let a=Bu(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(_j),this.states=Bu(e.states,Uint32Array),this.data=Bu(e.stateData),this.goto=Bu(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new tc(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let s=new DW(this,e,n,r);for(let i of this.wrappers)s=i(s,e,n,r);return s}getGoto(e,n,r=!1){let s=this.goto;if(n>=s[0])return-1;for(let i=s[n+1];;){let a=s[i++],o=a&1,u=s[i++];if(o&&r)return u;for(let f=i+(a>>1);i<f;i++)if(s[i]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let s=0;s<2;s++)for(let i=this.stateSlot(e,s?2:1),a;;i+=3){if((a=r[i])==65535)if(r[i+1]==1)a=r[i=Pi(r,i+2)];else{if(r[i+1]==2)return Pi(r,i+2);break}if(a==n||a==0)return Pi(r,i+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),s=r?n(r):void 0;for(let i=this.stateSlot(e,1);s==null;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Pi(this.data,i+2);else break;s=n(Pi(this.data,i+1))}return s}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Pi(this.data,r+2);else break;if((this.data[r+2]&1)==0){let s=this.data[r+1];n.some((i,a)=>a&1&&i==s)||n.push(this.data[r],s)}}return n}configure(e){let n=Object.assign(Object.create(Ma.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let s=e.tokenizers.find(i=>i.from==r);return s?s.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,s)=>{let i=e.specializers.find(o=>o.from==r.external);if(!i)return r;let a=Object.assign(Object.assign({},r),{external:i.to});return n.specializers[s]=_j(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let i of e.split(" ")){let a=n.indexOf(i);a>=0&&(r[a]=!0)}let s=null;for(let i=0;i<n.length;i++)if(!r[i])for(let a=this.dialects[n[i]],o;(o=this.data[a++])!=65535;)(s||(s=new Uint8Array(this.maxTerm+1)))[o]=1;return new BW(e,r,s)}static deserialize(e){return new Ma(e)}}function Pi(t,e){return t[e]|t[e+1]<<16}function UW(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function _j(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const GW=55,WW=1,IW=56,HW=2,FW=57,KW=3,Pj=4,JW=5,RQ=6,$z=7,Tz=8,_z=9,Pz=10,eI=11,tI=12,nI=13,ox=58,rI=14,sI=15,jj=59,jz=21,iI=23,Nz=24,aI=25,l2=27,Cz=28,lI=29,oI=32,cI=35,uI=37,fI=38,dI=0,hI=1,pI={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},mI={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},Nj={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function OI(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}let Cj=null,Ej=null,Rj=0;function o2(t,e){let n=t.pos+e;if(Rj==n&&Ej==t)return Cj;let r=t.peek(e),s="";for(;OI(r);)s+=String.fromCharCode(r),r=t.peek(++e);return Ej=t,Rj=n,Cj=s?s.toLowerCase():r==gI||r==xI?void 0:null}const Ez=60,Fp=62,AQ=47,gI=63,xI=33,bI=45;function Aj(t,e){this.name=t,this.parent=e}const yI=[RQ,Pz,$z,Tz,_z],vI=new EQ({start:null,shift(t,e,n,r){return yI.indexOf(e)>-1?new Aj(o2(r,1)||"",t):t},reduce(t,e){return e==jz&&t?t.parent:t},reuse(t,e,n,r){let s=e.type.id;return s==RQ||s==uI?new Aj(o2(r,1)||"",t):t},strict:!1}),SI=new Mn((t,e)=>{if(t.next!=Ez){t.next<0&&e.context&&t.acceptToken(ox);return}t.advance();let n=t.next==AQ;n&&t.advance();let r=o2(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?sI:rI);let s=e.context?e.context.name:null;if(n){if(r==s)return t.acceptToken(eI);if(s&&mI[s])return t.acceptToken(ox,-2);if(e.dialectEnabled(dI))return t.acceptToken(tI);for(let i=e.context;i;i=i.parent)if(i.name==r)return;t.acceptToken(nI)}else{if(r=="script")return t.acceptToken($z);if(r=="style")return t.acceptToken(Tz);if(r=="textarea")return t.acceptToken(_z);if(pI.hasOwnProperty(r))return t.acceptToken(Pz);s&&Nj[s]&&Nj[s][r]?t.acceptToken(ox,-1):t.acceptToken(RQ)}},{contextual:!0}),wI=new Mn(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(jj);break}if(t.next==bI)e++;else if(t.next==Fp&&e>=2){n>=3&&t.acceptToken(jj,-2);break}else e=0;t.advance()}});function QI(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const kI=new Mn((t,e)=>{if(t.next==AQ&&t.peek(1)==Fp){let n=e.dialectEnabled(hI)||QI(e.context);t.acceptToken(n?JW:Pj,2)}else t.next==Fp&&t.acceptToken(Pj,1)});function qQ(t,e,n){let r=2+t.length;return new Mn(s=>{for(let i=0,a=0,o=0;;o++){if(s.next<0){o&&s.acceptToken(e);break}if(i==0&&s.next==Ez||i==1&&s.next==AQ||i>=2&&i<r&&s.next==t.charCodeAt(i-2))i++,a++;else if(i==r&&s.next==Fp){o>a?s.acceptToken(e,-a):s.acceptToken(n,-(a-2));break}else if((s.next==10||s.next==13)&&o){s.acceptToken(e,1);break}else i=a=0;s.advance()}})}const $I=qQ("script",GW,WW),TI=qQ("style",IW,HW),_I=qQ("textarea",FW,KW),PI=Za({"Text RawText IncompleteTag IncompleteCloseTag":D.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":D.angleBracket,TagName:D.tagName,"MismatchedCloseTag/TagName":[D.tagName,D.invalid],AttributeName:D.attributeName,"AttributeValue UnquotedAttributeValue":D.attributeValue,Is:D.definitionOperator,"EntityReference CharacterReference":D.character,Comment:D.blockComment,ProcessingInst:D.processingInstruction,DoctypeDecl:D.documentMeta}),jI=Ma.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:vI,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[PI],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[$I,TI,_I,kI,SI,wI,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function Rz(t,e){let n=Object.create(null);for(let r of t.getChildren(Nz)){let s=r.getChild(aI),i=r.getChild(l2)||r.getChild(Cz);s&&(n[e.read(s.from,s.to)]=i?i.type.id==l2?e.read(i.from+1,i.to-1):e.read(i.from,i.to):"")}return n}function qj(t,e){let n=t.getChild(iI);return n?e.read(n.from,n.to):" "}function cx(t,e,n){let r;for(let s of n)if(!s.attrs||s.attrs(r||(r=Rz(t.node.parent.firstChild,e))))return{parser:s.parser,bracketed:!0};return null}function Az(t=[],e=[]){let n=[],r=[],s=[],i=[];for(let o of t)(o.tag=="script"?n:o.tag=="style"?r:o.tag=="textarea"?s:i).push(o);let a=e.length?Object.create(null):null;for(let o of e)(a[o.name]||(a[o.name]=[])).push(o);return oM((o,u)=>{let f=o.type.id;if(f==lI)return cx(o,u,n);if(f==oI)return cx(o,u,r);if(f==cI)return cx(o,u,s);if(f==jz&&i.length){let p=o.node,m=p.firstChild,g=m&&qj(m,u),x;if(g){for(let v of i)if(v.tag==g&&(!v.attrs||v.attrs(x||(x=Rz(m,u))))){let y=p.lastChild,w=y.type.id==fI?y.from:p.to;if(w>m.to)return{parser:v.parser,overlay:[{from:m.to,to:w}]}}}}if(a&&f==Nz){let p=o.node,m;if(m=p.firstChild){let g=a[u.read(m.from,m.to)];if(g)for(let x of g){if(x.tagName&&x.tagName!=qj(p.parent,u))continue;let v=p.lastChild;if(v.type.id==l2){let y=v.from+1,w=v.lastChild,Q=v.to-(w&&w.isError?0:1);if(Q>y)return{parser:x.parser,overlay:[{from:y,to:Q}],bracketed:!0}}else if(v.type.id==Cz)return{parser:x.parser,overlay:[{from:v.from,to:v.to}]}}}}return null})}const NI=122,Xj=1,CI=123,EI=124,qz=2,RI=125,AI=3,qI=4,Xz=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],XI=58,MI=40,Mz=95,zI=91,mp=45,ZI=46,LI=35,YI=37,VI=38,DI=92,BI=10,UI=42;function Tf(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function XQ(t){return t>=48&&t<=57}function Mj(t){return XQ(t)||t>=97&&t<=102||t>=65&&t<=70}const zz=(t,e,n)=>(r,s)=>{for(let i=!1,a=0,o=0;;o++){let{next:u}=r;if(Tf(u)||u==mp||u==Mz||i&&XQ(u))!i&&(u!=mp||o>0)&&(i=!0),a===o&&u==mp&&a++,r.advance();else if(u==DI&&r.peek(1)!=BI){if(r.advance(),Mj(r.next)){do r.advance();while(Mj(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();i=!0}else{i&&r.acceptToken(a==2&&s.canShift(qz)?e:u==MI?n:t);break}}},GI=new Mn(zz(CI,qz,EI)),WI=new Mn(zz(RI,AI,qI)),II=new Mn(t=>{if(Xz.includes(t.peek(-1))){let{next:e}=t;(Tf(e)||e==Mz||e==LI||e==ZI||e==UI||e==zI||e==XI&&Tf(t.peek(1))||e==mp||e==VI)&&t.acceptToken(NI)}}),HI=new Mn(t=>{if(!Xz.includes(t.peek(-1))){let{next:e}=t;if(e==YI&&(t.advance(),t.acceptToken(Xj)),Tf(e)){do t.advance();while(Tf(t.next)||XQ(t.next));t.acceptToken(Xj)}}}),FI=Za({"AtKeyword import charset namespace keyframes media supports":D.definitionKeyword,"from to selector":D.keyword,NamespaceName:D.namespace,KeyframeName:D.labelName,KeyframeRangeName:D.operatorKeyword,TagName:D.tagName,ClassName:D.className,PseudoClassName:D.constant(D.className),IdName:D.labelName,"FeatureName PropertyName":D.propertyName,AttributeName:D.attributeName,NumberLiteral:D.number,KeywordQuery:D.keyword,UnaryQueryOp:D.operatorKeyword,"CallTag ValueName":D.atom,VariableName:D.variableName,Callee:D.operatorKeyword,Unit:D.unit,"UniversalSelector NestingSelector":D.definitionOperator,"MatchOp CompareOp":D.compareOperator,"ChildOp SiblingOp, LogicOp":D.logicOperator,BinOp:D.arithmeticOperator,Important:D.modifier,Comment:D.blockComment,ColorLiteral:D.color,"ParenthesizedContent StringLiteral":D.string,":":D.punctuation,"PseudoOp #":D.derefOperator,"; ,":D.separator,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace}),KI={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},JI={__proto__:null,or:98,and:98,not:106,only:106,layer:170},eH={__proto__:null,selector:112,layer:166},tH={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},nH={__proto__:null,to:207},rH=Ma.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[FI],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[II,HI,GI,WI,1,2,3,4,new Hp("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>KI[t]||-1},{term:125,get:t=>JI[t]||-1},{term:4,get:t=>eH[t]||-1},{term:25,get:t=>tH[t]||-1},{term:123,get:t=>nH[t]||-1}],tokenPrec:1963});let ux=null;function fx(){if(!ux&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,s=>"-"+s.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));ux=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return ux||[]}const zj=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),Zj=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),sH=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),iH=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),Si=/^(\w[\w-]*|-\w[\w-]*|)$/,aH=/^-(-[\w-]*)?$/;function lH(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const Lj=new hQ,oH=["Declaration"];function cH(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function Zz(t,e,n){if(e.to-e.from>4096){let r=Lj.get(e);if(r)return r;let s=[],i=new Set,a=e.cursor(St.IncludeAnonymous);if(a.firstChild())do for(let o of Zz(t,a.node,n))i.has(o.label)||(i.add(o.label),s.push(o));while(a.nextSibling());return Lj.set(e,s),s}else{let r=[],s=new Set;return e.cursor().iterate(i=>{var a;if(n(i)&&i.matchContext(oH)&&((a=i.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let o=t.sliceString(i.from,i.to);s.has(o)||(s.add(o),r.push({label:o,type:"variable"}))}}),r}}const uH=t=>e=>{let{state:n,pos:r}=e,s=Jt(n).resolveInner(r,-1),i=s.type.isError&&s.from==s.to-1&&n.doc.sliceString(s.from,s.to)=="-";if(s.name=="PropertyName"||(i||s.name=="TagName")&&/^(Block|Styles)$/.test(s.resolve(s.to).name))return{from:s.from,options:fx(),validFor:Si};if(s.name=="ValueName")return{from:s.from,options:Zj,validFor:Si};if(s.name=="PseudoClassName")return{from:s.from,options:zj,validFor:Si};if(t(s)||(e.explicit||i)&&lH(s,n.doc))return{from:t(s)||i?s.from:r,options:Zz(n.doc,cH(s),t),validFor:aH};if(s.name=="TagName"){for(let{parent:u}=s;u;u=u.parent)if(u.name=="Block")return{from:s.from,options:fx(),validFor:Si};return{from:s.from,options:sH,validFor:Si}}if(s.name=="AtKeyword")return{from:s.from,options:iH,validFor:Si};if(!e.explicit)return null;let a=s.resolve(r),o=a.childBefore(r);return o&&o.name==":"&&a.name=="PseudoClassSelector"?{from:r,options:zj,validFor:Si}:o&&o.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:r,options:Zj,validFor:Si}:a.name=="Block"||a.name=="Styles"?{from:r,options:fx(),validFor:Si}:null},fH=uH(t=>t.name=="VariableName"),Kp=Xa.define({name:"css",parser:rH.configure({props:[Ml.add({Declaration:Sl()}),zl.add({"Block KeyframeList":Am})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function dH(){return new Nl(Kp,Kp.data.of({autocomplete:fH}))}const hH=316,pH=317,Yj=1,mH=2,OH=3,gH=4,xH=318,bH=320,yH=321,vH=5,SH=6,wH=0,c2=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],Lz=125,QH=59,u2=47,kH=42,$H=43,TH=45,_H=60,PH=44,jH=63,NH=46,CH=91,EH=new EQ({start:!1,shift(t,e){return e==vH||e==SH||e==bH?t:e==yH},strict:!1}),RH=new Mn((t,e)=>{let{next:n}=t;(n==Lz||n==-1||e.context)&&t.acceptToken(xH)},{contextual:!0,fallback:!0}),AH=new Mn((t,e)=>{let{next:n}=t,r;c2.indexOf(n)>-1||n==u2&&((r=t.peek(1))==u2||r==kH)||n!=Lz&&n!=QH&&n!=-1&&!e.context&&t.acceptToken(hH)},{contextual:!0}),qH=new Mn((t,e)=>{t.next==CH&&!e.context&&t.acceptToken(pH)},{contextual:!0}),XH=new Mn((t,e)=>{let{next:n}=t;if(n==$H||n==TH){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(Yj);t.acceptToken(r?Yj:mH)}}else n==jH&&t.peek(1)==NH&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(OH))},{contextual:!0});function dx(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const MH=new Mn((t,e)=>{if(t.next!=_H||!e.dialectEnabled(wH)||(t.advance(),t.next==u2))return;let n=0;for(;c2.indexOf(t.next)>-1;)t.advance(),n++;if(dx(t.next,!0)){for(t.advance(),n++;dx(t.next,!1);)t.advance(),n++;for(;c2.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==PH)return;for(let r=0;;r++){if(r==7){if(!dx(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(gH,-n)}),zH=Za({"get set async static":D.modifier,"for while do if else switch try catch finally return throw break continue default case defer":D.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":D.operatorKeyword,"let var const using function class extends":D.definitionKeyword,"import export from":D.moduleKeyword,"with debugger new":D.keyword,TemplateString:D.special(D.string),super:D.atom,BooleanLiteral:D.bool,this:D.self,null:D.null,Star:D.modifier,VariableName:D.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":D.function(D.variableName),VariableDefinition:D.definition(D.variableName),Label:D.labelName,PropertyName:D.propertyName,PrivatePropertyName:D.special(D.propertyName),"CallExpression/MemberExpression/PropertyName":D.function(D.propertyName),"FunctionDeclaration/VariableDefinition":D.function(D.definition(D.variableName)),"ClassDeclaration/VariableDefinition":D.definition(D.className),"NewExpression/VariableName":D.className,PropertyDefinition:D.definition(D.propertyName),PrivatePropertyDefinition:D.definition(D.special(D.propertyName)),UpdateOp:D.updateOperator,"LineComment Hashbang":D.lineComment,BlockComment:D.blockComment,Number:D.number,String:D.string,Escape:D.escape,ArithOp:D.arithmeticOperator,LogicOp:D.logicOperator,BitOp:D.bitwiseOperator,CompareOp:D.compareOperator,RegExp:D.regexp,Equals:D.definitionOperator,Arrow:D.function(D.punctuation),": Spread":D.punctuation,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace,"InterpolationStart InterpolationEnd":D.special(D.brace),".":D.derefOperator,", ;":D.separator,"@":D.meta,TypeName:D.typeName,TypeDefinition:D.definition(D.typeName),"type enum interface implements namespace module declare":D.definitionKeyword,"abstract global Privacy readonly override":D.modifier,"is keyof unique infer asserts":D.operatorKeyword,JSXAttributeValue:D.attributeValue,JSXText:D.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":D.angleBracket,"JSXIdentifier JSXNameSpacedName":D.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":D.attributeName,"JSXBuiltin/JSXIdentifier":D.standard(D.tagName)}),ZH={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},LH={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},YH={__proto__:null,"<":193},VH=Ma.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:EH,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[zH],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[AH,qH,XH,MH,2,3,4,5,6,7,8,9,10,11,12,13,14,RH,new Hp("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new Hp("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:t=>ZH[t]||-1},{term:343,get:t=>LH[t]||-1},{term:95,get:t=>YH[t]||-1}],tokenPrec:15201}),Yz=[It("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),It("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),It("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),It("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),It("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),It(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),It("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),It(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),It(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),It('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),It('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],DH=Yz.concat([It("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),It("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),It("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Vj=new hQ,Vz=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Cu(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const BH=["FunctionDeclaration"],UH={FunctionDeclaration:Cu("function"),ClassDeclaration:Cu("class"),ClassExpression:()=>!0,EnumDeclaration:Cu("constant"),TypeAliasDeclaration:Cu("type"),NamespaceDeclaration:Cu("namespace"),VariableDefinition(t,e){t.matchContext(BH)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function Dz(t,e){let n=Vj.get(e);if(n)return n;let r=[],s=!0;function i(a,o){let u=t.sliceString(a.from,a.to);r.push({label:u,type:o})}return e.cursor(St.IncludeAnonymous).iterate(a=>{if(s)s=!1;else if(a.name){let o=UH[a.name];if(o&&o(a,i)||Vz.has(a.name))return!1}else if(a.to-a.from>8192){for(let o of Dz(t,a.node))r.push(o);return!1}}),Vj.set(e,r),r}const Dj=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Bz=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function GH(t){let e=Jt(t.state).resolveInner(t.pos,-1);if(Bz.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Dj.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let s=e;s;s=s.parent)Vz.has(s.name)&&(r=r.concat(Dz(t.state.doc,s)));return{options:r,from:n?e.from:t.pos,validFor:Dj}}const Is=Xa.define({name:"javascript",parser:VH.configure({props:[Ml.add({IfStatement:Sl({except:/^\s*({|else\b)/}),TryStatement:Sl({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:mM,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:sf({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":Sl({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),zl.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":Am,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Uz={test:t=>/^JSX/.test(t.name),facet:mQ({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Gz=Is.configure({dialect:"ts"},"typescript"),Wz=Is.configure({dialect:"jsx",props:[OQ.add(t=>t.isTop?[Uz]:void 0)]}),Iz=Is.configure({dialect:"jsx ts",props:[OQ.add(t=>t.isTop?[Uz]:void 0)]},"typescript");let Hz=t=>({label:t,type:"keyword"});const Fz="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Hz),WH=Fz.concat(["declare","implements","private","protected","public"].map(Hz));function Kz(t={}){let e=t.jsx?t.typescript?Iz:Wz:t.typescript?Gz:Is,n=t.typescript?DH.concat(WH):Yz.concat(Fz);return new Nl(e,[Is.data.of({autocomplete:WM(Bz,SQ(n))}),Is.data.of({autocomplete:GH}),t.jsx?FH:[]])}function IH(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function Bj(t,e,n=t.length){for(let r=e==null?void 0:e.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const HH=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),FH=Ee.inputHandler.of((t,e,n,r,s)=>{if((HH?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Is.isActiveAt(t.state,e,-1))return!1;let i=s(),{state:a}=i,o=a.changeByRange(u=>{var f;let{head:p}=u,m=Jt(a).resolveInner(p-1,-1),g;if(m.name=="JSXStartTag"&&(m=m.parent),!(a.doc.sliceString(p-1,p)!=r||m.name=="JSXAttributeValue"&&m.to>p)){if(r==">"&&m.name=="JSXFragmentTag")return{range:u,changes:{from:p,insert:"</>"}};if(r=="/"&&m.name=="JSXStartCloseTag"){let x=m.parent,v=x.parent;if(v&&x.from==p-2&&((g=Bj(a.doc,v.firstChild,p))||((f=v.firstChild)===null||f===void 0?void 0:f.name)=="JSXFragmentTag")){let y=`${g}>`;return{range:ge.cursor(p+y.length,-1),changes:{from:p,insert:y}}}}else if(r==">"){let x=IH(m);if(x&&x.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(p,p+2))&&(g=Bj(a.doc,x,p)))return{range:u,changes:{from:p,insert:`</${g}>`}}}}return{range:u}});return o.changes.empty?!1:(t.dispatch([i,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),Eu=["_blank","_self","_top","_parent"],hx=["ascii","utf-8","utf-16","latin1","latin1"],px=["get","post","put","delete"],mx=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],kr=["true","false"],Ae={},KH={a:{attrs:{href:null,ping:null,type:null,media:null,target:Eu,hreflang:null}},abbr:Ae,address:Ae,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Ae,aside:Ae,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Ae,base:{attrs:{href:null,target:Eu}},bdi:Ae,bdo:Ae,blockquote:{attrs:{cite:null}},body:Ae,br:Ae,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:mx,formmethod:px,formnovalidate:["novalidate"],formtarget:Eu,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Ae,center:Ae,cite:Ae,code:Ae,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Ae,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Ae,div:Ae,dl:Ae,dt:Ae,em:Ae,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Ae,figure:Ae,footer:Ae,form:{attrs:{action:null,name:null,"accept-charset":hx,autocomplete:["on","off"],enctype:mx,method:px,novalidate:["novalidate"],target:Eu}},h1:Ae,h2:Ae,h3:Ae,h4:Ae,h5:Ae,h6:Ae,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Ae,hgroup:Ae,hr:Ae,html:{attrs:{manifest:null}},i:Ae,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:mx,formmethod:px,formnovalidate:["novalidate"],formtarget:Eu,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Ae,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Ae,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Ae,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:hx,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Ae,noscript:Ae,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Ae,param:{attrs:{name:null,value:null}},pre:Ae,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Ae,rt:Ae,ruby:Ae,samp:Ae,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:hx}},section:Ae,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Ae,source:{attrs:{src:null,type:null,media:null}},span:Ae,strong:Ae,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Ae,summary:Ae,sup:Ae,table:Ae,tbody:Ae,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Ae,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Ae,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Ae,time:{attrs:{datetime:null}},title:Ae,tr:Ae,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Ae,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Ae},Jz={accesskey:null,class:null,contenteditable:kr,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:kr,autocorrect:kr,autocapitalize:kr,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":kr,"aria-autocomplete":["inline","list","both","none"],"aria-busy":kr,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":kr,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":kr,"aria-hidden":kr,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":kr,"aria-multiselectable":kr,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":kr,"aria-relevant":null,"aria-required":kr,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},e7="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of e7)Jz[t]=null;class _f{constructor(e,n){this.tags={...KH,...e},this.globalAttrs={...Jz,...n},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}_f.default=new _f;function pc(t,e,n=t.length){if(!e)return"";let r=e.firstChild,s=r&&r.getChild("TagName");return s?t.sliceString(s.from,Math.min(s.to,n)):""}function mc(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function t7(t,e,n){let r=n.tags[pc(t,mc(e))];return(r==null?void 0:r.children)||n.allTags}function MQ(t,e){let n=[];for(let r=mc(e);r&&!r.type.isTop;r=mc(r.parent)){let s=pc(t,r);if(s&&r.lastChild.name=="CloseTag")break;s&&n.indexOf(s)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(s)}return n}const n7=/^[:\-\.\w\u00b7-\uffff]*$/;function Uj(t,e,n,r,s){let i=/\s*>/.test(t.sliceDoc(s,s+5))?"":">",a=mc(n,n.name=="StartTag"||n.name=="TagName");return{from:r,to:s,options:t7(t.doc,a,e).map(o=>({label:o,type:"type"})).concat(MQ(t.doc,n).map((o,u)=>({label:"/"+o,apply:"/"+o+i,type:"type",boost:99-u}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function Gj(t,e,n,r){let s=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:MQ(t.doc,e).map((i,a)=>({label:i,apply:i+s,type:"type",boost:99-a})),validFor:n7}}function JH(t,e,n,r){let s=[],i=0;for(let a of t7(t.doc,n,e))s.push({label:"<"+a,type:"type"});for(let a of MQ(t.doc,n))s.push({label:"</"+a+">",type:"type",boost:99-i++});return{from:r,to:r,options:s,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function eF(t,e,n,r,s){let i=mc(n),a=i?e.tags[pc(t.doc,i)]:null,o=a&&a.attrs?Object.keys(a.attrs):[],u=a&&a.globalAttrs===!1?o:o.length?o.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:s,options:u.map(f=>({label:f,type:"property"})),validFor:n7}}function tF(t,e,n,r,s){var i;let a=(i=n.parent)===null||i===void 0?void 0:i.getChild("AttributeName"),o=[],u;if(a){let f=t.sliceDoc(a.from,a.to),p=e.globalAttrs[f];if(!p){let m=mc(n),g=m?e.tags[pc(t.doc,m)]:null;p=(g==null?void 0:g.attrs)&&g.attrs[f]}if(p){let m=t.sliceDoc(r,s).toLowerCase(),g='"',x='"';/^['"]/.test(m)?(u=m[0]=='"'?/^[^"]*$/:/^[^']*$/,g="",x=t.sliceDoc(s,s+1)==m[0]?"":m[0],m=m.slice(1),r++):u=/^[^\s<>='"]*$/;for(let v of p)o.push({label:v,apply:g+v+x,type:"constant"})}}return{from:r,to:s,options:o,validFor:u}}function r7(t,e){let{state:n,pos:r}=e,s=Jt(n).resolveInner(r,-1),i=s.resolve(r);for(let a=r,o;i==s&&(o=s.childBefore(a));){let u=o.lastChild;if(!u||!u.type.isError||u.from<u.to)break;i=s=o,a=u.from}return s.name=="TagName"?s.parent&&/CloseTag$/.test(s.parent.name)?Gj(n,s,s.from,r):Uj(n,t,s,s.from,r):s.name=="StartTag"||s.name=="IncompleteTag"?Uj(n,t,s,r,r):s.name=="StartCloseTag"||s.name=="IncompleteCloseTag"?Gj(n,s,r,r):s.name=="OpenTag"||s.name=="SelfClosingTag"||s.name=="AttributeName"?eF(n,t,s,s.name=="AttributeName"?s.from:r,r):s.name=="Is"||s.name=="AttributeValue"||s.name=="UnquotedAttributeValue"?tF(n,t,s,s.name=="Is"?r:s.from,r):e.explicit&&(i.name=="Element"||i.name=="Text"||i.name=="Document")?JH(n,t,s,r):null}function nF(t){return r7(_f.default,t)}function rF(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new _f(e,n):_f.default;return s=>r7(r,s)}const sF=Is.parser.configure({top:"SingleExpression"}),s7=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:Gz.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:Wz.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:Iz.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:sF},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Is.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Kp.parser}],i7=[{name:"style",parser:Kp.parser.configure({top:"Styles"})}].concat(e7.map(t=>({name:t,parser:Is.parser}))),a7=Xa.define({name:"html",parser:jI.configure({props:[Ml.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let s=r.lastChild;if(!s||s.name!="Element"||s.to!=r.to)break;e=r=s}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),zl.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),OM.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),Op=a7.configure({wrap:Az(s7,i7)});function iF(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=Az((t.nestedLanguages||[]).concat(s7),(t.nestedAttributes||[]).concat(i7)));let r=n?a7.configure({wrap:n,dialect:e}):e?Op.configure({dialect:e}):Op;return new Nl(r,[Op.data.of({autocomplete:rF(t)}),t.autoCloseTags!==!1?aF:[],Kz().support,dH().support])}const Wj=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),aF=Ee.inputHandler.of((t,e,n,r,s)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Op.isActiveAt(t.state,e,-1))return!1;let i=s(),{state:a}=i,o=a.changeByRange(u=>{var f,p,m;let g=a.doc.sliceString(u.from-1,u.to)==r,{head:x}=u,v=Jt(a).resolveInner(x,-1),y;if(g&&r==">"&&v.name=="EndTag"){let w=v.parent;if(((p=(f=w.parent)===null||f===void 0?void 0:f.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(y=pc(a.doc,w.parent,x))&&!Wj.has(y)){let Q=x+(a.doc.sliceString(x,x+1)===">"?1:0),k=`</${y}>`;return{range:u,changes:{from:x,to:Q,insert:k}}}}else if(g&&r=="/"&&v.name=="IncompleteCloseTag"){let w=v.parent;if(v.from==x-2&&((m=w.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(y=pc(a.doc,w,x))&&!Wj.has(y)){let Q=x+(a.doc.sliceString(x,x+1)===">"?1:0),k=`${y}>`;return{range:ge.cursor(x+k.length,-1),changes:{from:x,to:Q,insert:k}}}}return{range:u}});return o.changes.empty?!1:(t.dispatch([i,a.update(o,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),l7=mQ({commentTokens:{block:{open:"<!--",close:"-->"}}}),o7=new Be,c7=QW.configure({props:[zl.add(t=>!t.is("Block")||t.is("Document")||f2(t)!=null||lF(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),o7.add(f2),Ml.add({Document:()=>null}),bl.add({Document:l7})]});function f2(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function lF(t){return t.name=="OrderedList"||t.name=="BulletList"}function oF(t,e){let n=t;for(;;){let r=n.nextSibling,s;if(!r||(s=f2(r.type))!=null&&s<=e)break;n=r}return n.to}const cF=sU.of((t,e,n)=>{for(let r=Jt(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let s=r.type.prop(o7);if(s==null)continue;let i=oF(r,s);if(i>n)return{from:n,to:i}}return null});function zQ(t){return new Wr(l7,t,[],"markdown")}const uF=zQ(c7),fF=c7.configure([AW,XW,qW,MW,{props:[zl.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),Jp=zQ(fF);function dF(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=Zp.matchLanguageName(t,n,!0),r instanceof Zp)return r.support?r.support.language.parser:Sf.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}let Ox=class{constructor(e,n,r,s,i,a,o){this.node=e,this.from=n,this.to=r,this.spaceBefore=s,this.spaceAfter=i,this.type=a,this.item=o}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let s=this.to-this.from-r.length-this.spaceAfter.length;s>0;s--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+f7(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}};function u7(t,e){let n=[],r=[];for(let s=t;s;s=s.parent){if(s.name=="FencedCode")return r;(s.name=="ListItem"||s.name=="Blockquote")&&n.push(s)}for(let s=n.length-1;s>=0;s--){let i=n[s],a,o=e.lineAt(i.from),u=i.from-o.from;if(i.name=="Blockquote"&&(a=/^ *>( ?)/.exec(o.text.slice(u))))r.push(new Ox(i,u,u+a[0].length,"",a[1],">",null));else if(i.name=="ListItem"&&i.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(o.text.slice(u)))){let f=a[3],p=a[0].length;f.length>=4&&(f=f.slice(0,f.length-4),p-=4),r.push(new Ox(i.parent,u,u+p,a[1],f,a[2],i))}else if(i.name=="ListItem"&&i.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(o.text.slice(u)))){let f=a[4],p=a[0].length;f.length>4&&(f=f.slice(0,f.length-4),p-=4);let m=a[2];a[3]&&(m+=a[3].replace(/[xX]/," ")),r.push(new Ox(i.parent,u,u+p,a[1],f,m,i))}}return r}function f7(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function gx(t,e,n,r=0){for(let s=-1,i=t;;){if(i.name=="ListItem"){let o=f7(i,e),u=+o[2];if(s>=0){if(u!=s+1)return;n.push({from:i.from+o[1].length,to:i.from+o[0].length,insert:String(s+2+r)})}s=u}let a=i.nextSibling;if(!a)break;i=a}}function ZQ(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(Wf)!="	")return t;let r=Mi(t,4,n),s="";for(let i=r;i>0;)i>=4?(s+="	",i-=4):(s+=" ",i--);return s+t.slice(n)}const hF=(t={})=>({state:e,dispatch:n})=>{let r=Jt(e),{doc:s}=e,i=null,a=e.changeByRange(o=>{if(!o.empty||!Jp.isActiveAt(e,o.from,-1)&&!Jp.isActiveAt(e,o.from,1))return i={range:o};let u=o.from,f=s.lineAt(u),p=u7(r.resolveInner(u,-1),s);for(;p.length&&p[p.length-1].from>u-f.from;)p.pop();if(!p.length)return i={range:o};let m=p[p.length-1];if(m.to-m.spaceAfter.length>u-f.from)return i={range:o};let g=u>=m.to-m.spaceAfter.length&&!/\S/.test(f.text.slice(m.to));if(m.item&&g){let Q=m.node.firstChild,k=m.node.getChild("ListItem","ListItem");if(Q.to>=u||k&&k.to<u||f.from>0&&!/[^\s>]/.test(s.lineAt(f.from-1).text)||t.nonTightLists===!1){let $=p.length>1?p[p.length-2]:null,_,T="";$&&$.item?(_=f.from+$.from,T=$.marker(s,1)):_=f.from+($?$.to:0);let N=[{from:_,to:u,insert:T}];return m.node.name=="OrderedList"&&gx(m.item,s,N,-2),$&&$.node.name=="OrderedList"&&gx($.item,s,N),{range:ge.cursor(_+T.length),changes:N}}else{let $=Hj(p,e,f);return{range:ge.cursor(u+$.length+1),changes:{from:f.from,insert:$+e.lineBreak}}}}if(m.node.name=="Blockquote"&&g&&f.from){let Q=s.lineAt(f.from-1),k=/>\s*$/.exec(Q.text);if(k&&k.index==m.from){let $=e.changes([{from:Q.from+k.index,to:Q.to},{from:f.from+m.from,to:f.to}]);return{range:o.map($),changes:$}}}let x=[];m.node.name=="OrderedList"&&gx(m.item,s,x);let v=m.item&&m.item.from<f.from,y="";if(!v||/^[\s\d.)\-+*>]*/.exec(f.text)[0].length>=m.to)for(let Q=0,k=p.length-1;Q<=k;Q++)y+=Q==k&&!v?p[Q].marker(s,1):p[Q].blank(Q<k?Mi(f.text,4,p[Q+1].from)-y.length:null);let w=u;for(;w>f.from&&/\s/.test(f.text.charAt(w-f.from-1));)w--;return y=ZQ(y,e),mF(m.node,e.doc)&&(y=Hj(p,e,f)+e.lineBreak+y),x.push({from:w,to:u,insert:e.lineBreak+y}),{range:ge.cursor(w+y.length+1),changes:x}});return i?!1:(n(e.update(a,{scrollIntoView:!0,userEvent:"input"})),!0)},pF=hF();function Ij(t){return t.name=="QuoteMark"||t.name=="ListMark"}function mF(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let s=e.lineAt(n.to),i=e.lineAt(r.from),a=/^[\s>]*$/.test(s.text);return s.number+(a?0:1)<i.number}function Hj(t,e,n){let r="";for(let s=0,i=t.length-2;s<=i;s++)r+=t[s].blank(s<i?Mi(n.text,4,t[s+1].from)-r.length:null,s<i);return ZQ(r,e)}function OF(t,e){let n=t.resolveInner(e,-1),r=e;Ij(n)&&(r=n.from,n=n.parent);for(let s;s=n.childBefore(r);)if(Ij(s))r=s.from;else if(s.name=="OrderedList"||s.name=="BulletList")n=s.lastChild,r=n.to;else break;return n}const gF=({state:t,dispatch:e})=>{let n=Jt(t),r=null,s=t.changeByRange(i=>{let a=i.from,{doc:o}=t;if(i.empty&&Jp.isActiveAt(t,i.from)){let u=o.lineAt(a),f=u7(OF(n,a),o);if(f.length){let p=f[f.length-1],m=p.to-p.spaceAfter.length+(p.spaceAfter?1:0);if(a-u.from>m&&!/\S/.test(u.text.slice(m,a-u.from)))return{range:ge.cursor(u.from+m),changes:{from:u.from+m,to:a}};if(a-u.from==m&&(!p.item||u.from<=p.item.from||!/\S/.test(u.text.slice(0,p.to)))){let g=u.from+p.from;if(p.item&&p.node.from<p.item.from&&/\S/.test(u.text.slice(p.from,p.to))){let x=p.blank(Mi(u.text,4,p.to)-Mi(u.text,4,p.from));return g==u.from&&(x=ZQ(x,t)),{range:ge.cursor(g+x.length),changes:{from:g,to:u.from+p.to,insert:x}}}if(g<a)return{range:ge.cursor(g),changes:{from:g,to:a}}}}}return r={range:i}});return r?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"delete"})),!0)},xF=[{key:"Enter",run:pF},{key:"Backspace",run:gF}],d7=iF({matchClosingTags:!1});function bF(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:s}=uF,completeHTMLTags:i=!0,pasteURLAsLink:a=!0,htmlTagLanguage:o=d7}=t;if(!(s instanceof Lm))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let u=t.extensions?[t.extensions]:[],f=[o.support,cF],p;a&&f.push(wF),n instanceof Nl?(f.push(n.support),p=n.language):n&&(p=n);let m=e||p?dF(e,p):void 0;u.push($W({codeParser:m,htmlParser:o.language.parser})),r&&f.push(Xl.high($c.of(xF)));let g=zQ(s.configure(u));return i&&f.push(g.data.of({autocomplete:yF})),new Nl(g,f)}function yF(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let s=Jt(e).resolveInner(n,-1);for(;s&&!s.type.isTop;){if(s.name=="CodeBlock"||s.name=="FencedCode"||s.name=="ProcessingInstructionBlock"||s.name=="CommentBlock"||s.name=="Link"||s.name=="Image")return null;s=s.parent}return{from:n-r[0].length,to:n,options:vF(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let xx=null;function vF(){if(xx)return xx;let t=nF(new vQ(bt.create({extensions:d7}),0,!0));return xx=t?t.options:[]}const SF=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,wF=Ee.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let s=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!s||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(s)||(/^www\./.test(s)&&(s="https://"+s),!Jp.isActiveAt(e.state,r.from,1)))return!1;let i=Jt(e.state),a=!1;return i.iterate({from:r.from,to:r.to,enter:o=>{(o.from>r.from||SF.test(o.name))&&(a=!0)},leave:o=>{o.to<r.to&&(a=!0)}}),a?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${s})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),QF=1,h7=194,p7=195,kF=196,Fj=197,$F=198,TF=199,_F=200,PF=2,m7=3,Kj=201,jF=24,NF=25,CF=49,EF=50,RF=55,AF=56,qF=57,XF=59,MF=60,zF=61,ZF=62,LF=63,YF=65,VF=238,DF=71,BF=241,UF=242,GF=243,WF=244,IF=245,HF=246,FF=247,KF=248,O7=72,JF=249,eK=250,tK=251,nK=252,rK=253,sK=254,iK=255,aK=256,lK=73,oK=77,cK=263,uK=112,fK=130,dK=151,hK=152,pK=155,Cl=10,Pf=13,LQ=32,Ym=9,YQ=35,mK=40,OK=46,d2=123,Jj=125,g7=39,x7=34,eN=92,gK=111,xK=120,bK=78,yK=117,vK=85,SK=new Set([NF,CF,EF,cK,YF,fK,AF,qF,VF,ZF,LF,O7,lK,oK,MF,zF,dK,hK,pK,uK]);function bx(t){return t==Cl||t==Pf}function yx(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}const wK=new Mn((t,e)=>{let n;if(t.next<0)t.acceptToken(TF);else if(e.context.flags&gp)bx(t.next)&&t.acceptToken($F,1);else if(((n=t.peek(-1))<0||bx(n))&&e.canShift(Fj)){let r=0;for(;t.next==LQ||t.next==Ym;)t.advance(),r++;(t.next==Cl||t.next==Pf||t.next==YQ)&&t.acceptToken(Fj,-r)}else bx(t.next)&&t.acceptToken(kF,1)},{contextual:!0}),QK=new Mn((t,e)=>{let n=e.context;if(n.flags)return;let r=t.peek(-1);if(r==Cl||r==Pf){let s=0,i=0;for(;;){if(t.next==LQ)s++;else if(t.next==Ym)s+=8-s%8;else break;t.advance(),i++}s!=n.indent&&t.next!=Cl&&t.next!=Pf&&t.next!=YQ&&(s<n.indent?t.acceptToken(p7,-i):t.acceptToken(h7))}}),gp=1,b7=2,Qi=4,ki=8,$i=16,Ti=32;function xp(t,e,n){this.parent=t,this.indent=e,this.flags=n,this.hash=(t?t.hash+t.hash<<8:0)+e+(e<<4)+n+(n<<6)}const kK=new xp(null,0,0);function $K(t){let e=0;for(let n=0;n<t.length;n++)e+=t.charCodeAt(n)==Ym?8-e%8:1;return e}const tN=new Map([[BF,0],[UF,Qi],[GF,ki],[WF,ki|Qi],[IF,$i],[HF,$i|Qi],[FF,$i|ki],[KF,$i|ki|Qi],[JF,Ti],[eK,Ti|Qi],[tK,Ti|ki],[nK,Ti|ki|Qi],[rK,Ti|$i],[sK,Ti|$i|Qi],[iK,Ti|$i|ki],[aK,Ti|$i|ki|Qi]].map(([t,e])=>[t,e|b7])),TK=new EQ({start:kK,reduce(t,e,n,r){return t.flags&gp&&SK.has(e)||(e==DF||e==O7)&&t.flags&b7?t.parent:t},shift(t,e,n,r){return e==h7?new xp(t,$K(r.read(r.pos,n.pos)),0):e==p7?t.parent:e==jF||e==RF||e==XF||e==m7?new xp(t,0,gp):tN.has(e)?new xp(t,0,tN.get(e)|t.flags&gp):t},hash(t){return t.hash}}),_K=new Mn(t=>{for(let e=0;e<5;e++){if(t.next!="print".charCodeAt(e))return;t.advance()}if(!/\w/.test(String.fromCharCode(t.next)))for(let e=0;;e++){let n=t.peek(e);if(!(n==LQ||n==Ym)){n!=mK&&n!=OK&&n!=Cl&&n!=Pf&&n!=YQ&&t.acceptToken(QF);return}}}),PK=new Mn((t,e)=>{let{flags:n}=e.context,r=n&Qi?x7:g7,s=(n&ki)>0,i=!(n&$i),a=(n&Ti)>0,o=t.pos;for(;!(t.next<0);)if(a&&t.next==d2)if(t.peek(1)==d2)t.advance(2);else{if(t.pos==o){t.acceptToken(m7,1);return}break}else if(i&&t.next==eN){if(t.pos==o){t.advance();let u=t.next;u>=0&&(t.advance(),jK(t,u)),t.acceptToken(PF);return}break}else if(t.next==eN&&!i&&t.peek(1)>-1)t.advance(2);else if(t.next==r&&(!s||t.peek(1)==r&&t.peek(2)==r)){if(t.pos==o){t.acceptToken(Kj,s?3:1);return}break}else if(t.next==Cl){if(s)t.advance();else if(t.pos==o){t.acceptToken(Kj);return}break}else t.advance();t.pos>o&&t.acceptToken(_F)});function jK(t,e){if(e==gK)for(let n=0;n<2&&t.next>=48&&t.next<=55;n++)t.advance();else if(e==xK)for(let n=0;n<2&&yx(t.next);n++)t.advance();else if(e==yK)for(let n=0;n<4&&yx(t.next);n++)t.advance();else if(e==vK)for(let n=0;n<8&&yx(t.next);n++)t.advance();else if(e==bK&&t.next==d2){for(t.advance();t.next>=0&&t.next!=Jj&&t.next!=g7&&t.next!=x7&&t.next!=Cl;)t.advance();t.next==Jj&&t.advance()}}const NK=Za({'async "*" "**" FormatConversion FormatSpec':D.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":D.controlKeyword,"in not and or is del":D.operatorKeyword,"from def class global nonlocal lambda":D.definitionKeyword,import:D.moduleKeyword,"with as print":D.keyword,Boolean:D.bool,None:D.null,VariableName:D.variableName,"CallExpression/VariableName":D.function(D.variableName),"FunctionDefinition/VariableName":D.function(D.definition(D.variableName)),"ClassDefinition/VariableName":D.definition(D.className),PropertyName:D.propertyName,"CallExpression/MemberExpression/PropertyName":D.function(D.propertyName),Comment:D.lineComment,Number:D.number,String:D.string,FormatString:D.special(D.string),Escape:D.escape,UpdateOp:D.updateOperator,"ArithOp!":D.arithmeticOperator,BitOp:D.bitwiseOperator,CompareOp:D.compareOperator,AssignOp:D.definitionOperator,Ellipsis:D.punctuation,At:D.meta,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace,".":D.derefOperator,", ;":D.separator}),CK={__proto__:null,await:44,or:54,and:56,in:60,not:62,is:64,if:70,else:72,lambda:76,yield:94,from:96,async:102,for:104,None:162,True:164,False:164,del:178,pass:182,break:186,continue:190,return:194,raise:202,import:206,as:208,global:212,nonlocal:214,assert:218,type:223,elif:236,while:240,try:246,except:248,finally:250,with:254,def:258,class:268,match:279,case:285},EK=Ma.deserialize({version:14,states:"##jO`QeOOP$}OSOOO&WQtO'#HUOOQS'#Co'#CoOOQS'#Cp'#CpO'vQdO'#CnO*UQtO'#HTOOQS'#HU'#HUOOQS'#DU'#DUOOQS'#HT'#HTO*rQdO'#D_O+VQdO'#DfO+gQdO'#DjO+zOWO'#DuO,VOWO'#DvO.[QtO'#GuOOQS'#Gu'#GuO'vQdO'#GtO0ZQtO'#GtOOQS'#Eb'#EbO0rQdO'#EcOOQS'#Gs'#GsO0|QdO'#GrOOQV'#Gr'#GrO1XQdO'#FYOOQS'#G^'#G^O1^QdO'#FXOOQV'#IS'#ISOOQV'#Gq'#GqOOQV'#Fq'#FqQ`QeOOO'vQdO'#CqO1lQdO'#C}O1sQdO'#DRO2RQdO'#HYO2cQtO'#EVO'vQdO'#EWOOQS'#EY'#EYOOQS'#E['#E[OOQS'#E^'#E^O2wQdO'#E`O3_QdO'#EdO3rQdO'#EfO3zQtO'#EfO1XQdO'#EiO0rQdO'#ElO1XQdO'#EnO0rQdO'#EtO0rQdO'#EwO4VQdO'#EyO4^QdO'#FOO4iQdO'#EzO0rQdO'#FOO1XQdO'#FQO1XQdO'#FVO4nQdO'#F[P4uOdO'#GpPOOO)CBd)CBdOOQS'#Ce'#CeOOQS'#Cf'#CfOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Cl'#ClO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO'vQdO,59OO5TQdO'#DoOOQS,5:Y,5:YO5hQdO'#HdOOQS,5:],5:]O5uQ!fO,5:]O5zQtO,59YO1lQdO,59bO1lQdO,59bO1lQdO,59bO8jQdO,59bO8oQdO,59bO8vQdO,59jO8}QdO'#HTO:TQdO'#HSOOQS'#HS'#HSOOQS'#D['#D[O:lQdO,59aO'vQdO,59aO:zQdO,59aOOQS,59y,59yO;PQdO,5:RO'vQdO,5:ROOQS,5:Q,5:QO;_QdO,5:QO;dQdO,5:XO'vQdO,5:XO'vQdO,5:VOOQS,5:U,5:UO;uQdO,5:UO;zQdO,5:WOOOW'#Fy'#FyO<POWO,5:aOOQS,5:a,5:aO<[QdO'#HwOOOW'#Dw'#DwOOOW'#Fz'#FzO<lOWO,5:bOOQS,5:b,5:bOOQS'#F}'#F}O<zQtO,5:iO?lQtO,5=`O@VQ#xO,5=`O@vQtO,5=`OOQS,5:},5:}OA_QeO'#GWOBqQdO,5;^OOQV,5=^,5=^OB|QtO'#IPOCkQdO,5;tOOQS-E:[-E:[OOQV,5;s,5;sO4dQdO'#FQOOQV-E9o-E9oOCsQtO,59]OEzQtO,59iOFeQdO'#HVOFpQdO'#HVO1XQdO'#HVOF{QdO'#DTOGTQdO,59mOGYQdO'#HZO'vQdO'#HZO0rQdO,5=tOOQS,5=t,5=tO0rQdO'#EROOQS'#ES'#ESOGwQdO'#GPOHXQdO,58|OHXQdO,58|O*xQdO,5:oOHgQtO'#H]OOQS,5:r,5:rOOQS,5:z,5:zOHzQdO,5;OOI]QdO'#IOO1XQdO'#H}OOQS,5;Q,5;QOOQS'#GT'#GTOIqQtO,5;QOJPQdO,5;QOJUQdO'#IQOOQS,5;T,5;TOJdQdO'#H|OOQS,5;W,5;WOJuQdO,5;YO4iQdO,5;`O4iQdO,5;cOJ}QtO'#ITO'vQdO'#ITOKXQdO,5;eO4VQdO,5;eO0rQdO,5;jO1XQdO,5;lOK^QeO'#EuOLjQgO,5;fO!!kQdO'#IUO4iQdO,5;jO!!vQdO,5;lO!#OQdO,5;qO!#ZQtO,5;vO'vQdO,5;vPOOO,5=[,5=[P!#bOSO,5=[P!#jOdO,5=[O!&bQtO1G.jO!&iQtO1G.jO!)YQtO1G.jO!)dQtO1G.jO!+}QtO1G.jO!,bQtO1G.jO!,uQdO'#HcO!-TQtO'#GuO0rQdO'#HcO!-_QdO'#HbOOQS,5:Z,5:ZO!-gQdO,5:ZO!-lQdO'#HeO!-wQdO'#HeO!.[QdO,5>OOOQS'#Ds'#DsOOQS1G/w1G/wOOQS1G.|1G.|O!/[QtO1G.|O!/cQtO1G.|O1lQdO1G.|O!0OQdO1G/UOOQS'#DZ'#DZO0rQdO,59tOOQS1G.{1G.{O!0VQdO1G/eO!0gQdO1G/eO!0oQdO1G/fO'vQdO'#H[O!0tQdO'#H[O!0yQtO1G.{O!1ZQdO,59iO!2aQdO,5=zO!2qQdO,5=zO!2yQdO1G/mO!3OQtO1G/mOOQS1G/l1G/lO!3`QdO,5=uO!4VQdO,5=uO0rQdO1G/qO!4tQdO1G/sO!4yQtO1G/sO!5ZQtO1G/qOOQS1G/p1G/pOOQS1G/r1G/rOOOW-E9w-E9wOOQS1G/{1G/{O!5kQdO'#HxO0rQdO'#HxO!5|QdO,5>cOOOW-E9x-E9xOOQS1G/|1G/|OOQS-E9{-E9{O!6[Q#xO1G2zO!6{QtO1G2zO'vQdO,5<jOOQS,5<j,5<jOOQS-E9|-E9|OOQS,5<r,5<rOOQS-E:U-E:UOOQV1G0x1G0xO1XQdO'#GRO!7dQtO,5>kOOQS1G1`1G1`O!8RQdO1G1`OOQS'#DV'#DVO0rQdO,5=qOOQS,5=q,5=qO!8WQdO'#FrO!8cQdO,59oO!8kQdO1G/XO!8uQtO,5=uOOQS1G3`1G3`OOQS,5:m,5:mO!9fQdO'#GtOOQS,5<k,5<kOOQS-E9}-E9}O!9wQdO1G.hOOQS1G0Z1G0ZO!:VQdO,5=wO!:gQdO,5=wO0rQdO1G0jO0rQdO1G0jO!:xQdO,5>jO!;ZQdO,5>jO1XQdO,5>jO!;lQdO,5>iOOQS-E:R-E:RO!;qQdO1G0lO!;|QdO1G0lO!<RQdO,5>lO!<aQdO,5>lO!<oQdO,5>hO!=VQdO,5>hO!=hQdO'#EpO0rQdO1G0tO!=sQdO1G0tO!=xQgO1G0zO!AvQgO1G0}O!EqQdO,5>oO!E{QdO,5>oO!FTQtO,5>oO0rQdO1G1PO!F_QdO1G1PO4iQdO1G1UO!!vQdO1G1WOOQV,5;a,5;aO!FdQfO,5;aO!FiQgO1G1QO!JjQdO'#GZO4iQdO1G1QO4iQdO1G1QO!JzQdO,5>pO!KXQdO,5>pO1XQdO,5>pOOQV1G1U1G1UO!KaQdO'#FSO!KrQ!fO1G1WO!KzQdO1G1WOOQV1G1]1G1]O4iQdO1G1]O!LPQdO1G1]O!LXQdO'#F^OOQV1G1b1G1bO!#ZQtO1G1bPOOO1G2v1G2vP!L^OSO1G2vOOQS,5=},5=}OOQS'#Dp'#DpO0rQdO,5=}O!LfQdO,5=|O!LyQdO,5=|OOQS1G/u1G/uO!MRQdO,5>PO!McQdO,5>PO!MkQdO,5>PO!NOQdO,5>PO!N`QdO,5>POOQS1G3j1G3jOOQS7+$h7+$hO!8kQdO7+$pO#!RQdO1G.|O#!YQdO1G.|OOQS1G/`1G/`OOQS,5<`,5<`O'vQdO,5<`OOQS7+%P7+%PO#!aQdO7+%POOQS-E9r-E9rOOQS7+%Q7+%QO#!qQdO,5=vO'vQdO,5=vOOQS7+$g7+$gO#!vQdO7+%PO##OQdO7+%QO##TQdO1G3fOOQS7+%X7+%XO##eQdO1G3fO##mQdO7+%XOOQS,5<_,5<_O'vQdO,5<_O##rQdO1G3aOOQS-E9q-E9qO#$iQdO7+%]OOQS7+%_7+%_O#$wQdO1G3aO#%fQdO7+%_O#%kQdO1G3gO#%{QdO1G3gO#&TQdO7+%]O#&YQdO,5>dO#&sQdO,5>dO#&sQdO,5>dOOQS'#Dx'#DxO#'UO&jO'#DzO#'aO`O'#HyOOOW1G3}1G3}O#'fQdO1G3}O#'nQdO1G3}O#'yQ#xO7+(fO#(jQtO1G2UP#)TQdO'#GOOOQS,5<m,5<mOOQS-E:P-E:POOQS7+&z7+&zOOQS1G3]1G3]OOQS,5<^,5<^OOQS-E9p-E9pOOQS7+$s7+$sO#)bQdO,5=`O#){QdO,5=`O#*^QtO,5<aO#*qQdO1G3cOOQS-E9s-E9sOOQS7+&U7+&UO#+RQdO7+&UO#+aQdO,5<nO#+uQdO1G4UOOQS-E:Q-E:QO#,WQdO1G4UOOQS1G4T1G4TOOQS7+&W7+&WO#,iQdO7+&WOOQS,5<p,5<pO#,tQdO1G4WOOQS-E:S-E:SOOQS,5<l,5<lO#-SQdO1G4SOOQS-E:O-E:OO1XQdO'#EqO#-jQdO'#EqO#-uQdO'#IRO#-}QdO,5;[OOQS7+&`7+&`O0rQdO7+&`O#.SQgO7+&fO!JmQdO'#GXO4iQdO7+&fO4iQdO7+&iO#2QQtO,5<tO'vQdO,5<tO#2[QdO1G4ZOOQS-E:W-E:WO#2fQdO1G4ZO4iQdO7+&kO0rQdO7+&kOOQV7+&p7+&pO!KrQ!fO7+&rO!KzQdO7+&rO`QeO1G0{OOQV-E:X-E:XO4iQdO7+&lO4iQdO7+&lOOQV,5<u,5<uO#2nQdO,5<uO!JmQdO,5<uOOQV7+&l7+&lO#2yQgO7+&lO#6tQdO,5<vO#7PQdO1G4[OOQS-E:Y-E:YO#7^QdO1G4[O#7fQdO'#IWO#7tQdO'#IWO1XQdO'#IWOOQS'#IW'#IWO#8PQdO'#IVOOQS,5;n,5;nO#8XQdO,5;nO0rQdO'#FUOOQV7+&r7+&rO4iQdO7+&rOOQV7+&w7+&wO4iQdO7+&wO#8^QfO,5;xOOQV7+&|7+&|POOO7+(b7+(bO#8cQdO1G3iOOQS,5<c,5<cO#8qQdO1G3hOOQS-E9u-E9uO#9UQdO,5<dO#9aQdO,5<dO#9tQdO1G3kOOQS-E9v-E9vO#:UQdO1G3kO#:^QdO1G3kO#:nQdO1G3kO#:UQdO1G3kOOQS<<H[<<H[O#:yQtO1G1zOOQS<<Hk<<HkP#;WQdO'#FtO8vQdO1G3bO#;eQdO1G3bO#;jQdO<<HkOOQS<<Hl<<HlO#;zQdO7+)QOOQS<<Hs<<HsO#<[QtO1G1yP#<{QdO'#FsO#=YQdO7+)RO#=jQdO7+)RO#=rQdO<<HwO#=wQdO7+({OOQS<<Hy<<HyO#>nQdO,5<bO'vQdO,5<bOOQS-E9t-E9tOOQS<<Hw<<HwOOQS,5<g,5<gO0rQdO,5<gO#>sQdO1G4OOOQS-E9y-E9yO#?^QdO1G4OO<[QdO'#H{OOOO'#D{'#D{OOOO'#F|'#F|O#?oO&jO,5:fOOOW,5>e,5>eOOOW7+)i7+)iO#?zQdO7+)iO#@SQdO1G2zO#@mQdO1G2zP'vQdO'#FuO0rQdO<<IpO1XQdO1G2YP1XQdO'#GSO#AOQdO7+)pO#AaQdO7+)pOOQS<<Ir<<IrP1XQdO'#GUP0rQdO'#GQOOQS,5;],5;]O#ArQdO,5>mO#BQQdO,5>mOOQS1G0v1G0vOOQS<<Iz<<IzOOQV-E:V-E:VO4iQdO<<JQOOQV,5<s,5<sO4iQdO,5<sOOQV<<JQ<<JQOOQV<<JT<<JTO#BYQtO1G2`P#BdQdO'#GYO#BkQdO7+)uO#BuQgO<<JVO4iQdO<<JVOOQV<<J^<<J^O4iQdO<<J^O!KrQ!fO<<J^O#FpQgO7+&gOOQV<<JW<<JWO#FzQgO<<JWOOQV1G2a1G2aO1XQdO1G2aO#JuQdO1G2aO4iQdO<<JWO1XQdO1G2bP0rQdO'#G[O#KQQdO7+)vO#K_QdO7+)vOOQS'#FT'#FTO0rQdO,5>rO#KgQdO,5>rO#KrQdO,5>rO#K}QdO,5>qO#L`QdO,5>qOOQS1G1Y1G1YOOQS,5;p,5;pOOQV<<Jc<<JcO#LhQdO1G1dOOQS7+)T7+)TP#LmQdO'#FwO#L}QdO1G2OO#MbQdO1G2OO#MrQdO1G2OP#M}QdO'#FxO#N[QdO7+)VO#NlQdO7+)VO#NlQdO7+)VO#NtQdO7+)VO$ UQdO7+(|O8vQdO7+(|OOQSAN>VAN>VO$ oQdO<<LmOOQSAN>cAN>cO0rQdO1G1|O$!PQtO1G1|P$!ZQdO'#FvOOQS1G2R1G2RP$!hQdO'#F{O$!uQdO7+)jO$#`QdO,5>gOOOO-E9z-E9zOOOW<<MT<<MTO$#nQdO7+(fOOQSAN?[AN?[OOQS7+'t7+'tO$$XQdO<<M[OOQS,5<q,5<qO$$jQdO1G4XOOQS-E:T-E:TOOQVAN?lAN?lOOQV1G2_1G2_O4iQdOAN?qO$$xQgOAN?qOOQVAN?xAN?xO4iQdOAN?xOOQV<<JR<<JRO4iQdOAN?rO4iQdO7+'{OOQV7+'{7+'{O1XQdO7+'{OOQVAN?rAN?rOOQS7+'|7+'|O$(sQdO<<MbOOQS1G4^1G4^O0rQdO1G4^OOQS,5<w,5<wO$)QQdO1G4]OOQS-E:Z-E:ZOOQU'#G_'#G_O$)cQfO7+'OO$)nQdO'#F_O$*uQdO7+'jO$+VQdO7+'jOOQS7+'j7+'jO$+bQdO<<LqO$+rQdO<<LqO$+rQdO<<LqO$+zQdO'#H^OOQS<<Lh<<LhO$,UQdO<<LhOOQS7+'h7+'hOOQS'#D|'#D|OOOO1G4R1G4RO$,oQdO1G4RO$,wQdO1G4RP!=hQdO'#GVOOQVG25]G25]O4iQdOG25]OOQVG25dG25dOOQVG25^G25^OOQV<<Kg<<KgO4iQdO<<KgOOQS7+)x7+)xP$-SQdO'#G]OOQU-E:]-E:]OOQV<<Jj<<JjO$-vQtO'#FaOOQS'#Fc'#FcO$.WQdO'#FbO$.xQdO'#FbOOQS'#Fb'#FbO$.}QdO'#IYO$)nQdO'#FiO$)nQdO'#FiO$/fQdO'#FjO$)nQdO'#FkO$/mQdO'#IZOOQS'#IZ'#IZO$0[QdO,5;yOOQS<<KU<<KUO$0dQdO<<KUO$0tQdOANB]O$1UQdOANB]O$1^QdO'#H_OOQS'#H_'#H_O1sQdO'#DcO$1wQdO,5=xOOQSANBSANBSOOOO7+)m7+)mO$2`QdO7+)mOOQVLD*wLD*wOOQVANARANARO5uQ!fO'#GaO$2hQtO,5<SO$)nQdO'#FmOOQS,5<W,5<WOOQS'#Fd'#FdO$3YQdO,5;|O$3_QdO,5;|OOQS'#Fg'#FgO$)nQdO'#G`O$4PQdO,5<QO$4kQdO,5>tO$4{QdO,5>tO1XQdO,5<PO$5^QdO,5<TO$5cQdO,5<TO$)nQdO'#I[O$5hQdO'#I[O$5mQdO,5<UOOQS,5<V,5<VO0rQdO'#FpOOQU1G1e1G1eO4iQdO1G1eOOQSAN@pAN@pO$5rQdOG27wO$6SQdO,59}OOQS1G3d1G3dOOOO<<MX<<MXOOQS,5<{,5<{OOQS-E:_-E:_O$6XQtO'#FaO$6`QdO'#I]O$6nQdO'#I]O$6vQdO,5<XOOQS1G1h1G1hO$6{QdO1G1hO$7QQdO,5<zOOQS-E:^-E:^O$7lQdO,5=OO$8TQdO1G4`OOQS-E:b-E:bOOQS1G1k1G1kOOQS1G1o1G1oO$8eQdO,5>vO$)nQdO,5>vOOQS1G1p1G1pOOQS,5<[,5<[OOQU7+'P7+'PO$+zQdO1G/iO$)nQdO,5<YO$8sQdO,5>wO$8zQdO,5>wOOQS1G1s1G1sOOQS7+'S7+'SP$)nQdO'#GdO$9SQdO1G4bO$9^QdO1G4bO$9fQdO1G4bOOQS7+%T7+%TO$9tQdO1G1tO$:SQtO'#FaO$:ZQdO,5<}OOQS,5<},5<}O$:iQdO1G4cOOQS-E:a-E:aO$)nQdO,5<|O$:pQdO,5<|O$:uQdO7+)|OOQS-E:`-E:`O$;PQdO7+)|O$)nQdO,5<ZP$)nQdO'#GcO$;XQdO1G2hO$)nQdO1G2hP$;gQdO'#GbO$;nQdO<<MhO$;xQdO1G1uO$<WQdO7+(SO8vQdO'#C}O8vQdO,59bO8vQdO,59bO8vQdO,59bO$<fQtO,5=`O8vQdO1G.|O0rQdO1G/XO0rQdO7+$pP$<yQdO'#GOO'vQdO'#GtO$=WQdO,59bO$=]QdO,59bO$=dQdO,59mO$=iQdO1G/UO1sQdO'#DRO8vQdO,59j",stateData:"$>S~O%cOS%^OSSOS%]PQ~OPdOVaOfoOhYOopOs!POvqO!PrO!Q{O!T!SO!U!RO!XZO!][O!h`O!r`O!s`O!t`O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#l!QO#o!TO#s!UO#u!VO#z!WO#}hO$P!XO%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~O%]!YO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%j![O%k!]O%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aO~Ok%xXl%xXm%xXn%xXo%xXp%xXs%xXz%xX{%xX!x%xX#g%xX%[%xX%_%xX%z%xXg%xX!T%xX!U%xX%{%xX!W%xX![%xX!Q%xX#[%xXt%xX!m%xX~P%SOfoOhYO!XZO!][O!h`O!r`O!s`O!t`O%oRO%pRO%tSO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O~Oz%wX{%wX#g%wX%[%wX%_%wX%z%wX~Ok!pOl!qOm!oOn!oOo!rOp!sOs!tO!x%wX~P)pOV!zOg!|Oo0cOv0qO!PrO~P'vOV#OOo0cOv0qO!W#PO~P'vOV#SOa#TOo0cOv0qO![#UO~P'vOQ#XO%`#XO%a#ZO~OQ#^OR#[O%`#^O%a#`O~OV%iX_%iXa%iXh%iXk%iXl%iXm%iXn%iXo%iXp%iXs%iXz%iX!X%iX!f%iX%j%iX%k%iX%l%iX%m%iX%n%iX%o%iX%p%iX%q%iX%r%iX%s%iXg%iX!T%iX!U%iX~O&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O&c^O&d^O&e^O&f^O&g^O&h^O&i^O&j^O{%iX!x%iX#g%iX%[%iX%_%iX%z%iX%{%iX!W%iX![%iX!Q%iX#[%iXt%iX!m%iX~P,eOz#dO{%hX!x%hX#g%hX%[%hX%_%hX%z%hX~Oo0cOv0qO~P'vO#g#gO%[#iO%_#iO~O%uWO~O!T#nO#u!VO#z!WO#}hO~OopO~P'vOV#sOa#tO%uWO{wP~OV#xOo0cOv0qO!Q#yO~P'vO{#{O!x$QO%z#|O#g!yX%[!yX%_!yX~OV#xOo0cOv0qO#g#SX%[#SX%_#SX~P'vOo0cOv0qO#g#WX%[#WX%_#WX~P'vOh$WO%uWO~O!f$YO!r$YO%uWO~OV$eO~P'vO!U$gO#s$hO#u$iO~O{$jO~OV$qO~P'vOS$sO%[$rO%_$rO%c$tO~OV$}Oa$}Og%POo0cOv0qO~P'vOo0cOv0qO{%SO~P'vO&Y%UO~Oa!bOh!iO!X!kO!f!mOVba_bakbalbambanbaobapbasbazba{ba!xba#gba%[ba%_ba%jba%kba%lba%mba%nba%oba%pba%qba%rba%sba%zbagba!Tba!Uba%{ba!Wba![ba!Qba#[batba!mba~On%ZO~Oo%ZO~P'vOo0cO~P'vOk0eOl0fOm0dOn0dOo0mOp0nOs0rOg%wX!T%wX!U%wX%{%wX!W%wX![%wX!Q%wX#[%wX!m%wX~P)pO%{%]Og%vXz%vX!T%vX!U%vX!W%vX{%vX~Og%_Oz%`O!T%dO!U%cO~Og%_O~Oz%gO!T%dO!U%cO!W&SX~O!W%kO~Oz%lO{%nO!T%dO!U%cO![%}X~O![%rO~O![%sO~OQ#XO%`#XO%a%uO~OV%wOo0cOv0qO!PrO~P'vOQ#^OR#[O%`#^O%a%zO~OV!qa_!qaa!qah!qak!qal!qam!qan!qao!qap!qas!qaz!qa{!qa!X!qa!f!qa!x!qa#g!qa%[!qa%_!qa%j!qa%k!qa%l!qa%m!qa%n!qa%o!qa%p!qa%q!qa%r!qa%s!qa%z!qag!qa!T!qa!U!qa%{!qa!W!qa![!qa!Q!qa#[!qat!qa!m!qa~P#yOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P%SOV&OOopOvqO{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~P'vOz%|O{%ha!x%ha#g%ha%[%ha%_%ha%z%ha~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO#g$zX%[$zX%_$zX~P'vO#g#gO%[&TO%_&TO~O!f&UOh&sX%[&sXz&sX#[&sX#g&sX%_&sX#Z&sXg&sX~Oh!iO%[&WO~Okealeameaneaoeapeaseazea{ea!xea#gea%[ea%_ea%zeagea!Tea!Uea%{ea!Wea![ea!Qea#[eatea!mea~P%SOsqazqa{qa#gqa%[qa%_qa%zqa~Ok!pOl!qOm!oOn!oOo!rOp!sO!xqa~PEcO%z&YOz%yX{%yX~O%uWOz%yX{%yX~Oz&]O{wX~O{&_O~Oz%lO#g%}X%[%}X%_%}Xg%}X{%}X![%}X!m%}X%z%}X~OV0lOo0cOv0qO!PrO~P'vO%z#|O#gUa%[Ua%_Ua~Oz&hO#g&PX%[&PX%_&PXn&PX~P%SOz&kO!Q&jO#g#Wa%[#Wa%_#Wa~Oz&lO#[&nO#g&rX%[&rX%_&rXg&rX~O!f$YO!r$YO#Z&qO%uWO~O#Z&qO~Oz&sO#g&tX%[&tX%_&tX~Oz&uO#g&pX%[&pX%_&pX{&pX~O!X&wO%z&xO~Oz&|On&wX~P%SOn'PO~OPdOVaOopOvqO!PrO!Q{O!{tO!}uO#PvO#RwO#TxO#XyO#ZzO#^|O#_|O#a}O#c!OO%['UO~P'vOt'YO#p'WO#q'XOP#naV#naf#nah#nao#nas#nav#na!P#na!Q#na!T#na!U#na!X#na!]#na!h#na!r#na!s#na!t#na!{#na!}#na#P#na#R#na#T#na#X#na#Z#na#^#na#_#na#a#na#c#na#l#na#o#na#s#na#u#na#z#na#}#na$P#na%X#na%o#na%p#na%t#na%u#na&Z#na&[#na&]#na&^#na&_#na&`#na&a#na&b#na&c#na&d#na&e#na&f#na&g#na&h#na&i#na&j#na%Z#na%_#na~Oz'ZO#[']O{&xX~Oh'_O!X&wO~Oh!iO{$jO!X&wO~O{'eO~P%SO%['hO%_'hO~OS'iO%['hO%_'hO~OV!aO_!aOa!bOh!iO!X!kO!f!mO%l!^O%m!_O%n!_O%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%k!]O~P!#uO%kWi~P!#uOV!aO_!aOa!bOh!iO!X!kO!f!mO%o!`O%p!`O%q!aO%r!aO%s!aOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~O%m!_O%n!_O~P!&pO%mWi%nWi~P!&pOa!bOh!iO!X!kO!f!mOkWilWimWinWioWipWisWizWi{Wi!xWi#gWi%[Wi%_Wi%jWi%kWi%lWi%mWi%nWi%oWi%pWi%zWigWi!TWi!UWi%{Wi!WWi![Wi!QWi#[WitWi!mWi~OV!aO_!aO%q!aO%r!aO%s!aO~P!)nOVWi_Wi%qWi%rWi%sWi~P!)nO!T%dO!U%cOg&VXz&VX~O%z'kO%{'kO~P,eOz'mOg&UX~Og'oO~Oz'pO{'rO!W&XX~Oo0cOv0qOz'pO{'sO!W&XX~P'vO!W'uO~Om!oOn!oOo!rOp!sOkjisjizji{ji!xji#gji%[ji%_ji%zji~Ol!qO~P!.aOlji~P!.aOk0eOl0fOm0dOn0dOo0mOp0nO~Ot'wO~P!/jOV'|Og'}Oo0cOv0qO~P'vOg'}Oz(OO~Og(QO~O!U(SO~Og(TOz(OO!T%dO!U%cO~P%SOk0eOl0fOm0dOn0dOo0mOp0nOgqa!Tqa!Uqa%{qa!Wqa![qa!Qqa#[qatqa!mqa~PEcOV'|Oo0cOv0qO!W&Sa~P'vOz(WO!W&Sa~O!W(XO~Oz(WO!T%dO!U%cO!W&Sa~P%SOV(]Oo0cOv0qO![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~P'vOz(^O![%}a#g%}a%[%}a%_%}ag%}a{%}a!m%}a%z%}a~O![(aO~Oz(^O!T%dO!U%cO![%}a~P%SOz(dO!T%dO!U%cO![&Ta~P%SOz(gO{&lX![&lX!m&lX%z&lX~O{(kO![(mO!m(nO%z(jO~OV&OOopOvqO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~P'vOz(pO{%hi!x%hi#g%hi%[%hi%_%hi%z%hi~O!f&UOh&sa%[&saz&sa#[&sa#g&sa%_&sa#Z&sag&sa~O%[(uO~OV#sOa#tO%uWO~Oz&]O{wa~OopOvqO~P'vOz(^O#g%}a%[%}a%_%}ag%}a{%}a![%}a!m%}a%z%}a~P%SOz(zO#g%hX%[%hX%_%hX%z%hX~O%z#|O#gUi%[Ui%_Ui~O#g&Pa%[&Pa%_&Pan&Pa~P'vOz(}O#g&Pa%[&Pa%_&Pan&Pa~O%uWO#g&ra%[&ra%_&rag&ra~Oz)SO#g&ra%[&ra%_&rag&ra~Og)VO~OV)WOh$WO%uWO~O#Z)XO~O%uWO#g&ta%[&ta%_&ta~Oz)ZO#g&ta%[&ta%_&ta~Oo0cOv0qO#g&pa%[&pa%_&pa{&pa~P'vOz)^O#g&pa%[&pa%_&pa{&pa~OV)`Oa)`O%uWO~O%z)eO~Ot)hO#j)gOP#hiV#hif#hih#hio#his#hiv#hi!P#hi!Q#hi!T#hi!U#hi!X#hi!]#hi!h#hi!r#hi!s#hi!t#hi!{#hi!}#hi#P#hi#R#hi#T#hi#X#hi#Z#hi#^#hi#_#hi#a#hi#c#hi#l#hi#o#hi#s#hi#u#hi#z#hi#}#hi$P#hi%X#hi%o#hi%p#hi%t#hi%u#hi&Z#hi&[#hi&]#hi&^#hi&_#hi&`#hi&a#hi&b#hi&c#hi&d#hi&e#hi&f#hi&g#hi&h#hi&i#hi&j#hi%Z#hi%_#hi~Ot)iOP#kiV#kif#kih#kio#kis#kiv#ki!P#ki!Q#ki!T#ki!U#ki!X#ki!]#ki!h#ki!r#ki!s#ki!t#ki!{#ki!}#ki#P#ki#R#ki#T#ki#X#ki#Z#ki#^#ki#_#ki#a#ki#c#ki#l#ki#o#ki#s#ki#u#ki#z#ki#}#ki$P#ki%X#ki%o#ki%p#ki%t#ki%u#ki&Z#ki&[#ki&]#ki&^#ki&_#ki&`#ki&a#ki&b#ki&c#ki&d#ki&e#ki&f#ki&g#ki&h#ki&i#ki&j#ki%Z#ki%_#ki~OV)kOn&wa~P'vOz)lOn&wa~Oz)lOn&wa~P%SOn)pO~O%Y)tO~Ot)wO#p'WO#q)vOP#niV#nif#nih#nio#nis#niv#ni!P#ni!Q#ni!T#ni!U#ni!X#ni!]#ni!h#ni!r#ni!s#ni!t#ni!{#ni!}#ni#P#ni#R#ni#T#ni#X#ni#Z#ni#^#ni#_#ni#a#ni#c#ni#l#ni#o#ni#s#ni#u#ni#z#ni#}#ni$P#ni%X#ni%o#ni%p#ni%t#ni%u#ni&Z#ni&[#ni&]#ni&^#ni&_#ni&`#ni&a#ni&b#ni&c#ni&d#ni&e#ni&f#ni&g#ni&h#ni&i#ni&j#ni%Z#ni%_#ni~OV)zOo0cOv0qO{$jO~P'vOo0cOv0qO{&xa~P'vOz*OO{&xa~OV*SOa*TOg*WO%q*UO%uWO~O{$jO&{*YO~Oh'_O~Oh!iO{$jO~O%[*_O~O%[*aO%_*aO~OV$}Oa$}Oo0cOv0qOg&Ua~P'vOz*dOg&Ua~Oo0cOv0qO{*gO!W&Xa~P'vOz*hO!W&Xa~Oo0cOv0qOz*hO{*kO!W&Xa~P'vOo0cOv0qOz*hO!W&Xa~P'vOz*hO{*kO!W&Xa~Om0dOn0dOo0mOp0nOgjikjisjizji!Tji!Uji%{ji!Wji{ji![ji#gji%[ji%_ji!Qji#[jitji!mji%zji~Ol0fO~P!NkOlji~P!NkOV'|Og*pOo0cOv0qO~P'vOn*rO~Og*pOz*tO~Og*uO~OV'|Oo0cOv0qO!W&Si~P'vOz*vO!W&Si~O!W*wO~OV(]Oo0cOv0qO![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~P'vOz*zO!T%dO!U%cO![&Ti~Oz*}O![%}i#g%}i%[%}i%_%}ig%}i{%}i!m%}i%z%}i~O![+OO~Oa+QOo0cOv0qO![&Ti~P'vOz*zO![&Ti~O![+SO~OV+UOo0cOv0qO{&la![&la!m&la%z&la~P'vOz+VO{&la![&la!m&la%z&la~O!]+YO&n+[O![!nX~O![+^O~O{(kO![+_O~O{(kO![+_O!m+`O~OV&OOopOvqO{%hq!x%hq#g%hq%[%hq%_%hq%z%hq~P'vOz$ri{$ri!x$ri#g$ri%[$ri%_$ri%z$ri~P%SOV&OOopOvqO~P'vOV&OOo0cOv0qO#g%ha%[%ha%_%ha%z%ha~P'vOz+aO#g%ha%[%ha%_%ha%z%ha~Oz$ia#g$ia%[$ia%_$ian$ia~P%SO#g&Pi%[&Pi%_&Pin&Pi~P'vOz+dO#g#Wq%[#Wq%_#Wq~O#[+eOz$va#g$va%[$va%_$vag$va~O%uWO#g&ri%[&ri%_&rig&ri~Oz+gO#g&ri%[&ri%_&rig&ri~OV+iOh$WO%uWO~O%uWO#g&ti%[&ti%_&ti~Oo0cOv0qO#g&pi%[&pi%_&pi{&pi~P'vO{#{Oz#eX!W#eX~Oz+mO!W&uX~O!W+oO~Ot+rO#j)gOP#hqV#hqf#hqh#hqo#hqs#hqv#hq!P#hq!Q#hq!T#hq!U#hq!X#hq!]#hq!h#hq!r#hq!s#hq!t#hq!{#hq!}#hq#P#hq#R#hq#T#hq#X#hq#Z#hq#^#hq#_#hq#a#hq#c#hq#l#hq#o#hq#s#hq#u#hq#z#hq#}#hq$P#hq%X#hq%o#hq%p#hq%t#hq%u#hq&Z#hq&[#hq&]#hq&^#hq&_#hq&`#hq&a#hq&b#hq&c#hq&d#hq&e#hq&f#hq&g#hq&h#hq&i#hq&j#hq%Z#hq%_#hq~On$|az$|a~P%SOV)kOn&wi~P'vOz+yOn&wi~Oz,TO{$jO#[,TO~O#q,VOP#nqV#nqf#nqh#nqo#nqs#nqv#nq!P#nq!Q#nq!T#nq!U#nq!X#nq!]#nq!h#nq!r#nq!s#nq!t#nq!{#nq!}#nq#P#nq#R#nq#T#nq#X#nq#Z#nq#^#nq#_#nq#a#nq#c#nq#l#nq#o#nq#s#nq#u#nq#z#nq#}#nq$P#nq%X#nq%o#nq%p#nq%t#nq%u#nq&Z#nq&[#nq&]#nq&^#nq&_#nq&`#nq&a#nq&b#nq&c#nq&d#nq&e#nq&f#nq&g#nq&h#nq&i#nq&j#nq%Z#nq%_#nq~O#[,WOz%Oa{%Oa~Oo0cOv0qO{&xi~P'vOz,YO{&xi~O{#{O%z,[Og&zXz&zX~O%uWOg&zXz&zX~Oz,`Og&yX~Og,bO~O%Y,eO~O!T%dO!U%cOg&Viz&Vi~OV$}Oa$}Oo0cOv0qOg&Ui~P'vO{,hOz$la!W$la~Oo0cOv0qO{,iOz$la!W$la~P'vOo0cOv0qO{*gO!W&Xi~P'vOz,lO!W&Xi~Oo0cOv0qOz,lO!W&Xi~P'vOz,lO{,oO!W&Xi~Og$hiz$hi!W$hi~P%SOV'|Oo0cOv0qO~P'vOn,qO~OV'|Og,rOo0cOv0qO~P'vOV'|Oo0cOv0qO!W&Sq~P'vOz$gi![$gi#g$gi%[$gi%_$gig$gi{$gi!m$gi%z$gi~P%SOV(]Oo0cOv0qO~P'vOa+QOo0cOv0qO![&Tq~P'vOz,sO![&Tq~O![,tO~OV(]Oo0cOv0qO![%}q#g%}q%[%}q%_%}qg%}q{%}q!m%}q%z%}q~P'vO{,uO~OV+UOo0cOv0qO{&li![&li!m&li%z&li~P'vOz,zO{&li![&li!m&li%z&li~O!]+YO&n+[O![!na~O{(kO![,}O~OV&OOo0cOv0qO#g%hi%[%hi%_%hi%z%hi~P'vOz-OO#g%hi%[%hi%_%hi%z%hi~O%uWO#g&rq%[&rq%_&rqg&rq~Oz-RO#g&rq%[&rq%_&rqg&rq~OV)`Oa)`O%uWO!W&ua~Oz-TO!W&ua~On$|iz$|i~P%SOV)kO~P'vOV)kOn&wq~P'vOt-XOP#myV#myf#myh#myo#mys#myv#my!P#my!Q#my!T#my!U#my!X#my!]#my!h#my!r#my!s#my!t#my!{#my!}#my#P#my#R#my#T#my#X#my#Z#my#^#my#_#my#a#my#c#my#l#my#o#my#s#my#u#my#z#my#}#my$P#my%X#my%o#my%p#my%t#my%u#my&Z#my&[#my&]#my&^#my&_#my&`#my&a#my&b#my&c#my&d#my&e#my&f#my&g#my&h#my&i#my&j#my%Z#my%_#my~O%Z-]O%_-]O~P`O#q-^OP#nyV#nyf#nyh#nyo#nys#nyv#ny!P#ny!Q#ny!T#ny!U#ny!X#ny!]#ny!h#ny!r#ny!s#ny!t#ny!{#ny!}#ny#P#ny#R#ny#T#ny#X#ny#Z#ny#^#ny#_#ny#a#ny#c#ny#l#ny#o#ny#s#ny#u#ny#z#ny#}#ny$P#ny%X#ny%o#ny%p#ny%t#ny%u#ny&Z#ny&[#ny&]#ny&^#ny&_#ny&`#ny&a#ny&b#ny&c#ny&d#ny&e#ny&f#ny&g#ny&h#ny&i#ny&j#ny%Z#ny%_#ny~Oz-aO{$jO#[-aO~Oo0cOv0qO{&xq~P'vOz-dO{&xq~O%z,[Og&zaz&za~O{#{Og&zaz&za~OV*SOa*TO%q*UO%uWOg&ya~Oz-hOg&ya~O$S-lO~OV$}Oa$}Oo0cOv0qO~P'vOo0cOv0qO{-mOz$li!W$li~P'vOo0cOv0qOz$li!W$li~P'vO{-mOz$li!W$li~Oo0cOv0qO{*gO~P'vOo0cOv0qO{*gO!W&Xq~P'vOz-pO!W&Xq~Oo0cOv0qOz-pO!W&Xq~P'vOs-sO!T%dO!U%cOg&Oq!W&Oq![&Oqz&Oq~P!/jOa+QOo0cOv0qO![&Ty~P'vOz$ji![$ji~P%SOa+QOo0cOv0qO~P'vOV+UOo0cOv0qO~P'vOV+UOo0cOv0qO{&lq![&lq!m&lq%z&lq~P'vO{(kO![-xO!m-yO%z-wO~OV&OOo0cOv0qO#g%hq%[%hq%_%hq%z%hq~P'vO%uWO#g&ry%[&ry%_&ryg&ry~OV)`Oa)`O%uWO!W&ui~Ot-}OP#m!RV#m!Rf#m!Rh#m!Ro#m!Rs#m!Rv#m!R!P#m!R!Q#m!R!T#m!R!U#m!R!X#m!R!]#m!R!h#m!R!r#m!R!s#m!R!t#m!R!{#m!R!}#m!R#P#m!R#R#m!R#T#m!R#X#m!R#Z#m!R#^#m!R#_#m!R#a#m!R#c#m!R#l#m!R#o#m!R#s#m!R#u#m!R#z#m!R#}#m!R$P#m!R%X#m!R%o#m!R%p#m!R%t#m!R%u#m!R&Z#m!R&[#m!R&]#m!R&^#m!R&_#m!R&`#m!R&a#m!R&b#m!R&c#m!R&d#m!R&e#m!R&f#m!R&g#m!R&h#m!R&i#m!R&j#m!R%Z#m!R%_#m!R~Oo0cOv0qO{&xy~P'vOV*SOa*TO%q*UO%uWOg&yi~O$S-lO%Z.VO%_.VO~OV.aOh._O!X.^O!].`O!h.YO!s.[O!t.[O%p.XO%uWO&Z]O&[]O&]]O&^]O&_]O&`]O&a]O&b]O~Oo0cOv0qOz$lq!W$lq~P'vO{.fOz$lq!W$lq~Oo0cOv0qO{*gO!W&Xy~P'vOz.gO!W&Xy~Oo0cOv.kO~P'vOs-sO!T%dO!U%cOg&Oy!W&Oy![&Oyz&Oy~P!/jO{(kO![.nO~O{(kO![.nO!m.oO~OV*SOa*TO%q*UO%uWO~Oh.tO!f.rOz$TX#[$TX%j$TXg$TX~Os$TX{$TX!W$TX![$TX~P$-bO%o.vO%p.vOs$UXz$UX{$UX#[$UX%j$UX!W$UXg$UX![$UX~O!h.xO~Oz.|O#[/OO%j.yOs&|X{&|X!W&|Xg&|X~Oa/RO~P$)zOh.tOs&}Xz&}X{&}X#[&}X%j&}X!W&}Xg&}X![&}X~Os/VO{$jO~Oo0cOv0qOz$ly!W$ly~P'vOo0cOv0qO{*gO!W&X!R~P'vOz/ZO!W&X!R~Og&RXs&RX!T&RX!U&RX!W&RX![&RXz&RX~P!/jOs-sO!T%dO!U%cOg&Qa!W&Qa![&Qaz&Qa~O{(kO![/^O~O!f.rOh$[as$[az$[a{$[a#[$[a%j$[a!W$[ag$[a![$[a~O!h/eO~O%o.vO%p.vOs$Uaz$Ua{$Ua#[$Ua%j$Ua!W$Uag$Ua![$Ua~O%j.yOs$Yaz$Ya{$Ya#[$Ya!W$Yag$Ya![$Ya~Os&|a{&|a!W&|ag&|a~P$)nOz/jOs&|a{&|a!W&|ag&|a~O!W/mO~Og/mO~O{/oO~O![/pO~Oo0cOv0qO{*gO!W&X!Z~P'vO{/sO~O%z/tO~P$-bOz/uO#[/OO%j.yOg'PX~Oz/uOg'PX~Og/wO~O!h/xO~O#[/OOs%Saz%Sa{%Sa%j%Sa!W%Sag%Sa![%Sa~O#[/OO%j.yOs%Waz%Wa{%Wa!W%Wag%Wa~Os&|i{&|i!W&|ig&|i~P$)nOz/zO#[/OO%j.yO!['Oa~Og'Pa~P$)nOz0SOg'Pa~Oa0UO!['Oi~P$)zOz0WO!['Oi~Oz0WO#[/OO%j.yO!['Oi~O#[/OO%j.yOg$biz$bi~O%z0ZO~P$-bO#[/OO%j.yOg%Vaz%Va~Og'Pi~P$)nO{0^O~Oa0UO!['Oq~P$)zOz0`O!['Oq~O#[/OO%j.yOz%Ui![%Ui~Oa0UO~P$)zOa0UO!['Oy~P$)zO#[/OO%j.yOg$ciz$ci~O#[/OO%j.yOz%Uq![%Uq~Oz+aO#g%ha%[%ha%_%ha%z%ha~P%SOV&OOo0cOv0qO~P'vOn0hO~Oo0hO~P'vO{0iO~Ot0jO~P!/jO&]&Z&j&h&i&g&f&d&e&c&b&`&a&_&^&[%u~",goto:"!=j'QPPPPPP'RP'Z*s+[+t,_,y-fP.SP'Z.r.r'ZPPP'Z2[PPPPPP2[5PPP5PP7b7k=sPP=v>h>kPP'Z'ZPP>zPP'Z'ZPP'Z'Z'Z'Z'Z?O?w'ZP?zP@QDXGuGyPG|HWH['ZPPPH_Hk'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RP'RPHqH}IVPI^IdPI^PI^I^PPPI^PKrPK{LVL]KrPI^LfPI^PLmLsPLwM]MzNeLwLwNkNxLwLwLwLw! ^! d! g! l! o! y!!P!!]!!o!!u!#P!#V!#s!#y!$P!$Z!$a!$g!$y!%T!%Z!%a!%k!%q!%w!%}!&T!&Z!&e!&k!&u!&{!'U!'[!'k!'s!'}!(UPPPPPPPPPPP!([!(_!(e!(n!(x!)TPPPPPPPPPPPP!-u!/Z!3^!6oPP!6w!7W!7a!8Y!8P!8c!8i!8l!8o!8r!8z!9jPPPPPPPPPPPPPPPPP!9m!9q!9wP!:]!:a!:m!:v!;S!;j!;m!;p!;v!;|!<S!<VP!<_!<h!=d!=g]eOn#g$j)t,P'}`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r{!cQ#c#p$R$d$p%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g}!dQ#c#p$R$d$p$u%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!P!eQ#c#p$R$d$p$u$v%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!R!fQ#c#p$R$d$p$u$v$w%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!T!gQ#c#p$R$d$p$u$v$w$x%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!V!hQ#c#p$R$d$p$u$v$w$x$y%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g!Z!hQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0g'}TOTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0r&eVOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0r%oXOYZ[dnrxy}!P!Q!U!i!k#[#d#g#y#{#}$Q$h$j$}%S%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#vqQ/[.kR0o0q't`OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rh#jhz{$W$Z&l&q)S)X+f+g-RW#rq&].k0qQ$]|Q$a!OQ$n!VQ$o!WW$|!i'm*d,gS&[#s#tQ'S$iQ(s&UQ)U&nU)Y&s)Z+jW)a&w+m-T-{Q*Q']W*R'_,`-h.TQ+l)`S,_*S*TQ-Q+eQ-_,TQ-c,WQ.R-al.W-l.^._.a.z.|/R/j/o/t/y0U0Z0^Q/S.`Q/a.tQ/l/OU0P/u0S0[X0V/z0W0_0`R&Z#r!_!wYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZR%^!vQ!{YQ%x#[Q&d#}Q&g$QR,{+YT.j-s/s!Y!jQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gQ&X#kQ'c$oR*^'dR'l$|Q%V!mR/_.r'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rS#a_#b!P.[-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`'|_OTYZ[adnoprtxy}!P!Q!R!U!X!c!d!e!f!g!h!i!k!o!p!q!s!t!z#O#S#T#[#d#g#x#y#{#}$Q$e$g$h$j$q$}%S%Z%^%`%c%g%l%n%w%|&O&Z&_&h&j&k&u&x&|'P'W'Z'l'm'p'r's'w'|(O(S(W(](^(d(g(p(r(z(})^)e)g)k)l)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+Q+U+V+Y+a+c+d+k+x+y,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0l0n0rT#a_#bT#^^#_R(o%xa(l%x(n(o+`,{-y-z.oT+[(k+]R-z,{Q$PsQ+l)aQ,^*RR-e,_X#}s$O$P&fQ&y$aQ'a$nQ'd$oR)s'SQ)b&wV-S+m-T-{ZgOn$j)t,PXkOn)t,PQ$k!TQ&z$bQ&{$cQ'^$mQ'b$oQ)q'RQ)x'WQ){'XQ)|'YQ*Z'`S*]'c'dQ+s)gQ+u)hQ+v)iQ+z)oS+|)r*[Q,Q)vQ,R)wS,S)y)zQ,d*^Q-V+rQ-W+tQ-Y+{S-Z+},OQ-`,UQ-b,VQ-|-XQ.O-[Q.P-^Q.Q-_Q.p-}Q.q.RQ/W.dR/r/XWkOn)t,PR#mjQ'`$nS)r'S'aR,O)sQ,]*RR-f,^Q*['`Q+})rR-[,OZiOjn)t,PQ'f$pR*`'gT-j,e-ku.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^t.c-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^Q/S.`X0V/z0W0_0`!P.Z-l.^._.`.a.t.z.|/R/j/o/t/u/y/z0S0U0W0Z0[0^0_0`Q.w.YR/f.xg.z.].{/b/i/n/|0O0Q0]0a0bu.b-l.^._.a.t.z.|/R/j/o/t/u/y0S0U0Z0[0^X.u.W.b/a0PR/c.tV0R/u0S0[R/X.dQnOS#on,PR,P)tQ&^#uR(x&^S%m#R#wS(_%m(bT(b%p&`Q%a!yQ%h!}W(P%a%h(U(YQ(U%eR(Y%jQ&i$RR)O&iQ(e%qQ*{(`T+R(e*{Q'n%OR*e'nS'q%R%SY*i'q*j,m-q.hU*j'r's'tU,m*k*l*mS-q,n,oR.h-rQ#Y]R%t#YQ#_^R%y#_Q(h%vS+W(h+XR+X(iQ+](kR,|+]Q#b_R%{#bQ#ebQ%}#cW&Q#e%}({+bQ({&cR+b0gQ$OsS&e$O&fR&f$PQ&v$_R)_&vQ&V#jR(t&VQ&m$VS)T&m+hR+h)UQ$Z{R&p$ZQ&t$]R)[&tQ+n)bR-U+nQ#hfR&S#hQ)f&zR+q)fQ&}$dS)m&})nR)n'OQ'V$kR)u'VQ'[$lS*P'[,ZR,Z*QQ,a*VR-i,aWjOn)t,PR#ljQ-k,eR.U-kd.{.]/b/i/n/|0O0Q0]0a0bR/h.{U.s.W/a0PR/`.sQ/{/nS0X/{0YR0Y/|S/v/b/cR0T/vQ.}.]R/k.}R!ZPXmOn)t,PWlOn)t,PR'T$jYfOn$j)t,PR&R#g[sOn#g$j)t,PR&d#}&dQOYZ[dnprxy}!P!Q!U!i!k!o!p!q!s!t#[#d#g#y#{#}$Q$h$j$}%S%Z%^%`%g%l%n%w%|&Z&_&j&k&u&x'P'W'Z'l'm'p'r's'w(O(W(^(d(g(p(r(z)^)e)g)p)t)z*O*Y*d*g*h*k*q*r*t*v*y*z*}+U+V+Y+a+d+k,P,X,Y,],g,h,i,k,l,o,q,s,u,w,y,z-O-d-f-m-p-s.f.g/V/Z/s0c0d0e0f0h0i0j0k0n0rQ!nTQ#caQ#poU$Rt%c(SS$d!R$gQ$p!XQ$u!cQ$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ%e!zQ%j#OQ%p#SQ%q#TQ&`#xQ'O$eQ'g$qQ(q&OU(|&h(}+cW)j&|)l+x+yQ*o'|Q*x(]Q+w)kQ,v+QR0g0lQ!yYQ!}ZQ$b!PQ$c!QQ%R!kQ't%S^'{%`%g(O(W*q*t*v^*f'p*h,k,l-p.g/ZQ*l'rQ*m'sQ+t)gQ,j*gQ,n*kQ-n,hQ-o,iQ-r,oQ.e-mR/Y.f[bOn#g$j)t,P!^!vYZ!P!Q!k%S%`%g'p'r's(O(W)g*g*h*k*q*t*v,h,i,k,l,o-m-p.f.g/ZQ#R[Q#fdS#wrxQ$UyW$_}$Q'P)pS$l!U$hW${!i'm*d,gS%v#[+Y`&P#d%|(p(r(z+a-O0kQ&a#yQ&b#{Q&c#}Q'j$}Q'z%^W([%l(^*y*}Q(`%nQ(i%wQ(v&ZS(y&_0iQ)P&jQ)Q&kU)]&u)^+kQ)d&xQ)y'WY)}'Z*O,X,Y-dQ*b'lS*n'w0jW+P(d*z,s,wW+T(g+V,y,zQ+p)eQ,U)zQ,c*YQ,x+UQ-P+dQ-e,]Q-v,uQ.S-fR/q/VhUOn#d#g$j%|&_'w(p(r)t,P%U!uYZ[drxy}!P!Q!U!i!k#[#y#{#}$Q$h$}%S%^%`%g%l%n%w&Z&j&k&u&x'P'W'Z'l'm'p'r's(O(W(^(d(g(z)^)e)g)p)z*O*Y*d*g*h*k*q*t*v*y*z*}+U+V+Y+a+d+k,X,Y,],g,h,i,k,l,o,s,u,w,y,z-O-d-f-m-p.f.g/V/Z0i0j0kQ#qpW%W!o!s0d0nQ%X!pQ%Y!qQ%[!tQ%f0cS'v%Z0hQ'x0eQ'y0fQ,p*rQ-u,qS.i-s/sR0p0rU#uq.k0qR(w&][cOn#g$j)t,PZ!xY#[#}$Q+YQ#W[Q#zrR$TxQ%b!yQ%i!}Q%o#RQ'j${Q(V%eQ(Z%jQ(c%pQ(f%qQ*|(`Q,f*bQ-t,pQ.m-uR/].lQ$StQ(R%cR*s(SQ.l-sR/}/sR#QZR#V[R%Q!iQ%O!iV*c'm*d,g!Z!lQ!n#c#p$R$d$p$u$v$w$x$y$z%e%j%p%q&`'O'g(q(|)j*o*x+w,v0gR%T!kT#]^#_Q%x#[R,{+YQ(m%xS+_(n(oQ,}+`Q-x,{S.n-y-zR/^.oT+Z(k+]Q$`}Q&g$QQ)o'PR+{)pQ$XzQ)W&qR+i)XQ$XzQ&o$WQ)W&qR+i)XQ#khW$Vz$W&q)XQ$[{Q&r$ZZ)R&l)S+f+g-RR$^|R)c&wXlOn)t,PQ$f!RR'Q$gQ$m!UR'R$hR*X'_Q*V'_V-g,`-h.TQ.d-lQ/P.^R/Q._U.]-l.^._Q/U.aQ/b.tQ/g.zU/i.|/j/yQ/n/RQ/|/oQ0O/tU0Q/u0S0[Q0]0UQ0a0ZR0b0^R/T.`R/d.t",nodeNames:" print Escape { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:TK,nodeProps:[["isolate",-5,4,71,72,73,77,""],["group",-15,6,85,87,88,90,92,94,96,98,99,100,102,105,108,110,"Statement Statement",-22,8,18,21,25,40,49,50,56,57,60,61,62,63,64,67,70,71,72,79,80,81,82,"Expression",-10,114,116,119,121,122,126,128,133,135,138,"Statement",-9,143,144,147,148,150,151,152,153,154,"Pattern"],["openedBy",23,"(",54,"[",58,"{"],["closedBy",24,")",55,"]",59,"}"]],propSources:[NK],skippedNodes:[0,4],repeatNodeCount:34,tokenData:"!2|~R!`OX%TXY%oY[%T[]%o]p%Tpq%oqr'ars)Yst*xtu%Tuv,dvw-hwx.Uxy/tyz0[z{0r{|2S|}2p}!O3W!O!P4_!P!Q:Z!Q!R;k!R![>_![!]Do!]!^Es!^!_FZ!_!`Gk!`!aHX!a!b%T!b!cIf!c!dJU!d!eK^!e!hJU!h!i!#f!i!tJU!t!u!,|!u!wJU!w!x!.t!x!}JU!}#O!0S#O#P&o#P#Q!0j#Q#R!1Q#R#SJU#S#T%T#T#UJU#U#VK^#V#YJU#Y#Z!#f#Z#fJU#f#g!,|#g#iJU#i#j!.t#j#oJU#o#p!1n#p#q!1s#q#r!2a#r#s!2f#s$g%T$g;'SJU;'S;=`KW<%lOJU`%YT&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T`%lP;=`<%l%To%v]&n`%c_OX%TXY%oY[%T[]%o]p%Tpq%oq#O%T#O#P&o#P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To&tX&n`OY%TYZ%oZ]%T]^%o^#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc'f[&n`O!_%T!_!`([!`#T%T#T#U(r#U#f%T#f#g(r#g#h(r#h#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(cTmR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc(yT!mR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk)aV&n`&[ZOr%Trs)vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk){V&n`Or%Trs*bs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk*iT&n`&^ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To+PZS_&n`OY*xYZ%TZ]*x]^%T^#o*x#o#p+r#p#q*x#q#r+r#r;'S*x;'S;=`,^<%lO*x_+wTS_OY+rZ]+r^;'S+r;'S;=`,W<%lO+r_,ZP;=`<%l+ro,aP;=`<%l*xj,kV%rQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-XT!xY&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj-oV%lQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.]V&n`&ZZOw%Twx.rx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk.wV&n`Ow%Twx/^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/eT&n`&]ZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk/{ThZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc0cTgR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk0yXVZ&n`Oz%Tz{1f{!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk1mVaR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk2ZV%oZ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc2wTzR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To3_W%pZ&n`O!_%T!_!`-Q!`!a3w!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Td4OT&{S&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk4fX!fQ&n`O!O%T!O!P5R!P!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5WV&n`O!O%T!O!P5m!P#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk5tT!rZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti6[a!hX&n`O!Q%T!Q![6T![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S6T#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti7fZ&n`O{%T{|8X|}%T}!O8X!O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8^V&n`O!Q%T!Q![8s![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti8z]!hX&n`O!Q%T!Q![8s![!l%T!l!m9s!m#R%T#R#S8s#S#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti9zT!hX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk:bX%qR&n`O!P%T!P!Q:}!Q!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj;UV%sQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti;ro!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!d%T!d!e?q!e!g%T!g!h7a!h!l%T!l!m9s!m!q%T!q!rA]!r!z%T!z!{Bq!{#R%T#R#S>_#S#U%T#U#V?q#V#X%T#X#Y7a#Y#^%T#^#_9s#_#c%T#c#dA]#d#l%T#l#mBq#m#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti=xV&n`O!Q%T!Q![6T![#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti>fc!hX&n`O!O%T!O!P=s!P!Q%T!Q![>_![!g%T!g!h7a!h!l%T!l!m9s!m#R%T#R#S>_#S#X%T#X#Y7a#Y#^%T#^#_9s#_#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti?vY&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Ti@mY!hX&n`O!Q%T!Q!R@f!R!S@f!S#R%T#R#S@f#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiAbX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBUX!hX&n`O!Q%T!Q!YA}!Y#R%T#R#SA}#S#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiBv]&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TiCv]!hX&n`O!Q%T!Q![Co![!c%T!c!iCo!i#R%T#R#SCo#S#T%T#T#ZCo#Z#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToDvV{_&n`O!_%T!_!`E]!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TcEdT%{R&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkEzT#gZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkFbXmR&n`O!^%T!^!_F}!_!`([!`!a([!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjGUV%mQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkGrV%zZ&n`O!_%T!_!`([!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkH`WmR&n`O!_%T!_!`([!`!aHx!a#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TjIPV%nQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkIoV_Q#}P&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%ToJ_]&n`&YS%uZO!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoKZP;=`<%lJUoKge&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!tJU!t!uLx!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#gLx#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUoMRa&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUkN_V&n`&`ZOr%TrsNts#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%TkNyV&n`Or%Trs! `s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! gT&n`&bZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk! }V&n`&_ZOw%Twx!!dx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!!iV&n`Ow%Twx!#Ox#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!#VT&n`&aZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!#oe&n`&YS%uZOr%Trs!%Qsw%Twx!&px!Q%T!Q![JU![!c%T!c!tJU!t!u!(`!u!}JU!}#R%T#R#SJU#S#T%T#T#fJU#f#g!(`#g#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!%XV&n`&dZOr%Trs!%ns#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!%sV&n`Or%Trs!&Ys#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&aT&n`&fZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!&wV&n`&cZOw%Twx!'^x#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!'cV&n`Ow%Twx!'xx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!(PT&n`&eZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!(ia&n`&YS%uZOr%Trs!)nsw%Twx!+^x!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!)uV&n`&hZOr%Trs!*[s#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*aV&n`Or%Trs!*vs#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!*}T&n`&jZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!+eV&n`&gZOw%Twx!+zx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,PV&n`Ow%Twx!,fx#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tk!,mT&n`&iZO#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%To!-Vi&n`&YS%uZOr%TrsNWsw%Twx! vx!Q%T!Q![JU![!c%T!c!dJU!d!eLx!e!hJU!h!i!(`!i!}JU!}#R%T#R#SJU#S#T%T#T#UJU#U#VLx#V#YJU#Y#Z!(`#Z#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUo!.}a&n`&YS%uZOr%Trs)Ysw%Twx.Ux!Q%T!Q![JU![!c%T!c!}JU!}#R%T#R#SJU#S#T%T#T#oJU#p#q%T#r$g%T$g;'SJU;'S;=`KW<%lOJUk!0ZT!XZ&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tc!0qT!WR&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%Tj!1XV%kQ&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!1sO!]~k!1zV%jR&n`O!_%T!_!`-Q!`#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T~!2fO![~i!2mT%tX&n`O#o%T#p#q%T#r;'S%T;'S;=`%i<%lO%T",tokenizers:[_K,QK,wK,PK,0,1,2,3,4],topRules:{Script:[0,5]},specialized:[{term:221,get:t=>CK[t]||-1}],tokenPrec:7668}),nN=new hQ,y7=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function Vh(t){return(e,n,r)=>{if(r)return!1;let s=e.node.getChild("VariableName");return s&&n(s,t),!0}}const RK={FunctionDefinition:Vh("function"),ClassDefinition:Vh("class"),ForStatement(t,e,n){if(n){for(let r=t.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")e(r,"variable");else if(r.name=="in")break}},ImportStatement(t,e){var n,r;let{node:s}=t,i=((n=s.firstChild)===null||n===void 0?void 0:n.name)=="from";for(let a=s.getChild("import");a;a=a.nextSibling)a.name=="VariableName"&&((r=a.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&e(a,i?"variable":"namespace")},AssignStatement(t,e){for(let n=t.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")e(n,"variable");else if(n.name==":"||n.name=="AssignOp")break},ParamList(t,e){for(let n=null,r=t.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!n||!/\*|AssignOp/.test(n.name))&&e(r,"variable"),n=r},CapturePattern:Vh("variable"),AsPattern:Vh("variable"),__proto__:null};function v7(t,e){let n=nN.get(e);if(n)return n;let r=[],s=!0;function i(a,o){let u=t.sliceString(a.from,a.to);r.push({label:u,type:o})}return e.cursor(St.IncludeAnonymous).iterate(a=>{if(a.name){let o=RK[a.name];if(o&&o(a,i,s)||!s&&y7.has(a.name))return!1;s=!1}else if(a.to-a.from>8192){for(let o of v7(t,a.node))r.push(o);return!1}}),nN.set(e,r),r}const rN=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,S7=["String","FormatString","Comment","PropertyName"];function AK(t){let e=Jt(t.state).resolveInner(t.pos,-1);if(S7.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&rN.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let s=e;s;s=s.parent)y7.has(s.name)&&(r=r.concat(v7(t.state.doc,s)));return{options:r,from:n?e.from:t.pos,validFor:rN}}const qK=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(t=>({label:t,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(t=>({label:t,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(t=>({label:t,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(t=>({label:t,type:"function"}))),XK=[It("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),It("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),It("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),It("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),It(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),It("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),It("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),It("import ${module}",{label:"import",detail:"statement",type:"keyword"}),It("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],MK=WM(S7,SQ(qK.concat(XK)));function vx(t){let{node:e,pos:n}=t,r=t.lineIndent(n,-1),s=null;for(;;){let i=e.childBefore(n);if(i)if(i.name=="Comment")n=i.from;else if(i.name=="Body"||i.name=="MatchBody")t.baseIndentFor(i)+t.unit<=r&&(s=i),e=i;else if(i.name=="MatchClause")e=i;else if(i.type.is("Statement"))e=i;else break;else break}return s}function Sx(t,e){let n=t.baseIndentFor(e),r=t.lineAt(t.pos,-1),s=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&t.node.to<s+100&&!/\S/.test(t.state.sliceDoc(s,t.node.to))&&t.lineIndent(t.pos,-1)<=n||/^\s*(else:|elif |except |finally:|case\s+[^=:]+:)/.test(t.textAfter)&&t.lineIndent(t.pos,-1)>n?null:n+t.unit}const wx=Xa.define({name:"python",parser:EK.configure({props:[Ml.add({Body:t=>{var e;let n=/^\s*(#|$)/.test(t.textAfter)&&vx(t)||t.node;return(e=Sx(t,n))!==null&&e!==void 0?e:t.continue()},MatchBody:t=>{var e;let n=vx(t);return(e=Sx(t,n||t.node))!==null&&e!==void 0?e:t.continue()},IfStatement:t=>/^\s*(else:|elif )/.test(t.textAfter)?t.baseIndent:t.continue(),"ForStatement WhileStatement":t=>/^\s*else:/.test(t.textAfter)?t.baseIndent:t.continue(),TryStatement:t=>/^\s*(except[ :]|finally:|else:)/.test(t.textAfter)?t.baseIndent:t.continue(),MatchStatement:t=>/^\s*case /.test(t.textAfter)?t.baseIndent+t.unit:t.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":sf({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":sf({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":sf({closing:"]"}),MemberExpression:t=>t.baseIndent+t.unit,"String FormatString":()=>null,Script:t=>{var e;let n=vx(t);return(e=n&&Sx(t,n))!==null&&e!==void 0?e:t.continue()}}),zl.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":Am,Body:(t,e)=>({from:t.from+1,to:t.to-(t.to==e.doc.length?0:1)}),"String FormatString":(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:|case\s+[^:]*:?)$/}});function zK(){return new Nl(wx,[wx.data.of({autocomplete:AK}),wx.data.of({autocomplete:MK})])}const ZK=Za({null:D.null,instanceof:D.operatorKeyword,this:D.self,"new super assert open to with void":D.keyword,"class interface extends implements enum var":D.definitionKeyword,"module package import":D.moduleKeyword,"switch while for if else case default do break continue return try catch finally throw":D.controlKeyword,"requires exports opens uses provides public private protected static transitive abstract final strictfp synchronized native transient volatile throws":D.modifier,IntegerLiteral:D.integer,FloatingPointLiteral:D.float,"StringLiteral TextBlock":D.string,CharacterLiteral:D.character,LineComment:D.lineComment,BlockComment:D.blockComment,BooleanLiteral:D.bool,PrimitiveType:D.standard(D.typeName),TypeName:D.typeName,Identifier:D.variableName,"MethodName/Identifier":D.function(D.variableName),Definition:D.definition(D.variableName),ArithOp:D.arithmeticOperator,LogicOp:D.logicOperator,BitOp:D.bitwiseOperator,CompareOp:D.compareOperator,AssignOp:D.definitionOperator,UpdateOp:D.updateOperator,Asterisk:D.punctuation,Label:D.labelName,"( )":D.paren,"[ ]":D.squareBracket,"{ }":D.brace,".":D.derefOperator,", ;":D.separator}),LK={__proto__:null,true:34,false:34,null:42,void:46,byte:48,short:48,int:48,long:48,char:48,float:48,double:48,boolean:48,extends:62,super:64,class:76,this:78,new:84,public:100,protected:102,private:104,abstract:106,static:108,final:110,strictfp:112,default:114,synchronized:116,native:118,transient:120,volatile:122,throws:150,implements:160,interface:166,enum:176,instanceof:238,open:267,module:269,requires:274,transitive:276,exports:278,to:280,opens:282,uses:284,provides:286,with:288,package:292,import:296,if:308,else:310,while:314,for:318,var:325,assert:332,switch:336,case:342,do:346,break:350,continue:354,return:358,throw:364,try:368,catch:372,finally:380},YK=Ma.deserialize({version:14,states:"##jQ]QPOOQ$wQPOOO(bQQO'#H^O*iQQO'#CbOOQO'#Cb'#CbO*pQPO'#CaO*xOSO'#CpOOQO'#Hc'#HcOOQO'#Cu'#CuO,eQPO'#D_O-OQQO'#HmOOQO'#Hm'#HmO/gQQO'#HhO/nQQO'#HhOOQO'#Hh'#HhOOQO'#Hg'#HgO1rQPO'#DUO2PQPO'#GnO4wQPO'#D_O5OQPO'#DzO*pQPO'#E[O5qQPO'#E[OOQO'#DV'#DVO7SQQO'#HaO9^QQO'#EeO9eQPO'#EdO9jQPO'#EfOOQO'#Hb'#HbO7jQQO'#HbO:pQQO'#FhO:wQPO'#ExO:|QPO'#E}O:|QPO'#FPOOQO'#Ha'#HaOOQO'#HY'#HYOOQO'#Gh'#GhOOQO'#HX'#HXO<^QPO'#FiOOQO'#HW'#HWOOQO'#Gg'#GgQ]QPOOOOQO'#Hs'#HsO<cQPO'#HsO<hQPO'#D{O<hQPO'#EVO<hQPO'#EQO<pQPO'#HpO=RQQO'#EfO*pQPO'#C`O=ZQPO'#C`O*pQPO'#FcO=`QPO'#FeO=kQPO'#FkO=kQPO'#FnO<hQPO'#FsO=pQPO'#FpO:|QPO'#FwO=kQPO'#FyO]QPO'#GOO=uQPO'#GQO>QQPO'#GSO>]QPO'#GUO=kQPO'#GWO:|QPO'#GXO>dQPO'#GZO?QQQO'#HiO?mQQO'#CuO?tQPO'#HxO@SQPO'#D_O@rQPO'#DpO?wQPO'#DqO@|QPO'#HxOA_QPO'#DpOAgQPO'#IROAlQPO'#E`OOQO'#Hr'#HrOOQO'#Gm'#GmQ$wQPOOOAtQPO'#HsOOQO'#H^'#H^OCsQQO,58{OOQO'#H['#H[OOOO'#Gi'#GiOEfOSO,59[OOQO,59[,59[OOQO'#Hi'#HiOFVQPO,59eOGXQPO,59yOOQO-E:f-E:fO*pQPO,58zOG{QPO,58zO*pQPO,5;}OHQQPO'#DQOHVQPO'#DQOOQO'#Gk'#GkOIVQQO,59jOOQO'#Dm'#DmOJqQPO'#HuOJ{QPO'#DlOKZQPO'#HtOKcQPO,5<_OKhQPO,59^OLRQPO'#CxOOQO,59c,59cOLYQPO,59bOLeQQO'#H^ONgQQO'#CbO!!iQPO'#D_O!#nQQO'#HmO!$OQQO,59pO!$VQPO'#DvO!$eQPO'#H|O!$mQPO,5:`O!$rQPO,5:`O!%YQPO,5;nO!%eQPO'#ITO!%pQPO,5;eO!%uQPO,5=YOOQO-E:l-E:lOOQO,5:f,5:fO!']QPO,5:fO!'dQPO,5:vO?tQPO,5<_O*pQPO,5:vO<hQPO,5:gO<hQPO,5:qO<hQPO,5:lO<hQPO,5<_O!'zQPO,59qO:|QPO,5:}O!(RQPO,5;QO:|QPO,59TO!(aQPO'#DXOOQO,5;O,5;OOOQO'#El'#ElOOQO'#Eo'#EoO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;UO:|QPO,5;fOOQO,5;i,5;iOOQO,5<S,5<SO!(hQPO,5;bO!(yQPO,5;dO!(hQPO'#CyO!)QQQO'#HmO!)`QQO,5;kO]QPO,5<TOOQO-E:e-E:eOOQO,5>_,5>_O!*sQPO,5:gO!+RQPO,5:qO!+ZQPO,5:lO!+fQPO,5>[O!$VQPO,5>[O!'iQPO,59UO!+qQQO,58zO!+yQQO,5;}O!,RQQO,5<PO*pQPO,5<PO:|QPO'#DUO]QPO,5<VO]QPO,5<YO!,ZQPO'#FrO]QPO,5<[O]QPO,5<aO!,kQQO,5<cO!,uQPO,5<eO!,zQPO,5<jOOQO'#Fj'#FjOOQO,5<l,5<lO!-PQPO,5<lOOQO,5<n,5<nO!-UQPO,5<nO!-ZQQO,5<pOOQO,5<p,5<pO>gQPO,5<rO!-bQQO,5<sO!-iQPO'#GdO!.oQPO,5<uO>gQPO,5<}O!2mQPO,59jO!2zQPO'#HuO!3RQPO,59xO!3WQPO,5>dO?tQPO,59xO!3cQPO,5:[OAlQPO,5:zO!3kQPO'#DrO?wQPO'#DrO!3vQPO'#HyO!4OQPO,5:]O?tQPO,5>dO!(hQPO,5>dOAgQPO,5>mOOQO,5:[,5:[O!$rQPO'#DtOOQO,5>m,5>mO!4TQPO'#EaOOQO,5:z,5:zO!7UQPO,5:zO!(hQPO'#DxOOQO-E:k-E:kOOQO,5:y,5:yO*pQPO,58}O!7ZQPO'#ChOOQO1G.k1G.kOOOO-E:g-E:gOOQO1G.v1G.vO!+qQQO1G.fO*pQPO1G.fO!7eQQO1G1iOOQO,59l,59lO!7mQPO,59lOOQO-E:i-E:iO!7rQPO,5>aO!8ZQPO,5:WO<hQPO'#GpO!8bQPO,5>`OOQO1G1y1G1yOOQO1G.x1G.xO!8{QPO'#CyO!9kQPO'#HmO!9uQPO'#CzO!:TQPO'#HlO!:]QPO,59dOOQO1G.|1G.|OLYQPO1G.|O!:sQPO,59eO!;QQQO'#H^O!;cQQO'#CbOOQO,5:b,5:bO<hQPO,5:cOOQO,5:a,5:aO!;tQQO,5:aOOQO1G/[1G/[O!;yQPO,5:bO!<[QPO'#GsO!<oQPO,5>hOOQO1G/z1G/zO!<wQPO'#DvO!=YQPO1G/zO!(hQPO'#GqO!=_QPO1G1YO:|QPO1G1YO<hQPO'#GyO!=gQPO,5>oOOQO1G1P1G1POOQO1G0Q1G0QO!=oQPO'#E]OOQO1G0b1G0bO!>`QPO1G1yO!'dQPO1G0bO!*sQPO1G0RO!+RQPO1G0]O!+ZQPO1G0WOOQO1G/]1G/]O!>eQQO1G.pO9eQPO1G0jO*pQPO1G0jO<pQPO'#HpO!@[QQO1G.pOOQO1G.p1G.pO!@aQQO1G0iOOQO1G0l1G0lO!@hQPO1G0lO!@sQQO1G.oO!AZQQO'#HqO!AhQPO,59sO!BzQQO1G0pO!DfQQO1G0pO!DmQQO1G0pO!FUQQO1G0pO!F]QQO1G0pO!GbQQO1G0pO!I]QQO1G0pO!IdQQO1G0pO!IkQQO1G0pO!IuQQO1G1QO!I|QQO'#HmOOQO1G0|1G0|O!KSQQO1G1OOOQO1G1O1G1OOOQO1G1o1G1oO!KjQPO'#D[O!(hQPO'#D|O!(hQPO'#D}OOQO1G0R1G0RO!KqQPO1G0RO!KvQPO1G0RO!LOQPO1G0RO!LZQPO'#EXOOQO1G0]1G0]O!LnQPO1G0]O!LsQPO'#ETO!(hQPO'#ESOOQO1G0W1G0WO!MmQPO1G0WO!MrQPO1G0WO!MzQPO'#EhO!NRQPO'#EhOOQO'#Gx'#GxO!NZQQO1G0mO# }QQO1G3vO9eQPO1G3vO#$PQPO'#FXOOQO1G.f1G.fOOQO1G1i1G1iO#$WQPO1G1kOOQO1G1k1G1kO#$cQQO1G1kO#$kQPO1G1qOOQO1G1t1G1tO+QQPO'#D_O-OQQO,5<bO#(cQPO,5<bO#(tQPO,5<^O#({QPO,5<^OOQO1G1v1G1vOOQO1G1{1G1{OOQO1G1}1G1}O:|QPO1G1}O#,oQPO'#F{OOQO1G2P1G2PO=kQPO1G2UOOQO1G2W1G2WOOQO1G2Y1G2YOOQO1G2[1G2[OOQO1G2^1G2^OOQO1G2_1G2_O#,vQQO'#H^O#-aQQO'#CbO-OQQO'#HmO#-zQQOOO#.hQQO'#EeO#.VQQO'#HbO!$VQPO'#GeO#.oQPO,5=OOOQO'#HQ'#HQO#.wQPO1G2aO#2uQPO'#G]O>gQPO'#GaOOQO1G2a1G2aO#2zQPO1G2iO#6xQPO,5>gOOQO1G/d1G/dOOQO1G4O1G4OO#7ZQPO1G/dOOQO1G/v1G/vOOQO1G0f1G0fO!7UQPO1G0fOOQO,5:^,5:^O!(hQPO'#DsO#7`QPO,5:^O?wQPO'#GrO#7kQPO,5>eOOQO1G/w1G/wOAgQPO'#H{O#7sQPO1G4OO?tQPO1G4OOOQO1G4X1G4XO!#YQPO'#DvO!!iQPO'#D_OOQO,5:{,5:{O#8OQPO,5:{O#8OQPO,5:{O#8VQQO'#HaO#9hQQO'#HbO#9rQQO'#EbO#9}QPO'#EbO#:VQPO'#IOOOQO,5:d,5:dOOQO1G.i1G.iO#:bQQO'#EeO#:rQQO'#H`O#;SQPO'#FTOOQO'#H`'#H`O#;^QPO'#H`O#;{QPO'#IWO#<TQPO,59SOOQO7+$Q7+$QO!+qQQO7+$QOOQO7+'T7+'TOOQO1G/W1G/WO#<YQPO'#DoO#<dQQO'#HvOOQO'#Hv'#HvOOQO1G/r1G/rOOQO,5=[,5=[OOQO-E:n-E:nO#<tQWO,58{O#<{QPO,59fOOQO,59f,59fO!(hQPO'#HoOKmQPO'#GjO#=ZQPO,5>WOOQO1G/O1G/OOOQO7+$h7+$hOOQO1G/{1G/{O#=cQQO1G/{OOQO1G/}1G/}O#=hQPO1G/{OOQO1G/|1G/|O<hQPO1G/}OOQO,5=_,5=_OOQO-E:q-E:qOOQO7+%f7+%fOOQO,5=],5=]OOQO-E:o-E:oO:|QPO7+&tOOQO7+&t7+&tOOQO,5=e,5=eOOQO-E:w-E:wO#=mQPO'#EUO#={QPO'#EUOOQO'#Gw'#GwO#>dQPO,5:wOOQO,5:w,5:wOOQO7+'e7+'eOOQO7+%|7+%|OOQO7+%m7+%mO!KqQPO7+%mO!KvQPO7+%mO!LOQPO7+%mOOQO7+%w7+%wO!LnQPO7+%wOOQO7+%r7+%rO!MmQPO7+%rO!MrQPO7+%rOOQO7+&U7+&UOOQO'#Ee'#EeO9eQPO7+&UO9eQPO,5>[O#?TQPO7+$[OOQO7+&T7+&TOOQO7+&W7+&WO:|QPO'#GlO#?cQPO,5>]OOQO1G/_1G/_O:|QPO7+&lO#?nQQO,59eO#@tQPO,59vOOQO,59v,59vOOQO,5:h,5:hOOQO'#EP'#EPOOQO,5:i,5:iO#@{QPO'#EYO<hQPO'#EYO#A^QPO'#IPO#AiQPO,5:sO?tQPO'#HxO!(hQPO'#HxO#AqQPO'#DpOOQO'#Gu'#GuO#AxQPO,5:oOOQO,5:o,5:oOOQO,5:n,5:nOOQO,5;S,5;SO#BrQQO,5;SO#ByQPO,5;SOOQO-E:v-E:vOOQO7+&X7+&XOOQO7+)b7+)bO#CQQQO7+)bOOQO'#G|'#G|O#DqQPO,5;sOOQO,5;s,5;sO#DxQPO'#FYO*pQPO'#FYO*pQPO'#FYO*pQPO'#FYO#EWQPO7+'VO#E]QPO7+'VOOQO7+'V7+'VO]QPO7+']O#EhQPO1G1|O?tQPO1G1|O#EvQQO1G1xO!(aQPO1G1xO#E}QPO1G1xO#FUQQO7+'iOOQO'#HP'#HPO#F]QPO,5<gOOQO,5<g,5<gO#FdQPO'#HsO:|QPO'#F|O#FlQPO7+'pO#FqQPO,5=PO?tQPO,5=PO#FvQPO1G2jO#HPQPO1G2jOOQO1G2j1G2jOOQO-E;O-E;OOOQO7+'{7+'{O!<[QPO'#G_O>gQPO,5<wOOQO,5<{,5<{O#HXQPO7+(TOOQO7+(T7+(TO#LVQPO1G4ROOQO7+%O7+%OOOQO7+&Q7+&QO#LhQPO,5:_OOQO1G/x1G/xOOQO,5=^,5=^OOQO-E:p-E:pOOQO7+)j7+)jO#LsQPO7+)jO!:bQPO,5:aOOQO1G0g1G0gO#MOQPO1G0gO#MVQPO,59qO#MkQPO,5:|O9eQPO,5:|O!(hQPO'#GtO#MpQPO,5>jO#M{QPO,59TO#NSQPO'#IVO#N[QPO,5;oO*pQPO'#G{O#NaQPO,5>rOOQO1G.n1G.nOOQO<<Gl<<GlO#NiQPO'#HwO#NqQPO,5:ZOOQO1G/Q1G/QOOQO,5>Z,5>ZOOQO,5=U,5=UOOQO-E:h-E:hO#NvQPO7+%gOOQO7+%g7+%gOOQO7+%i7+%iOOQO<<J`<<J`O$ ^QPO'#H^O$ eQPO'#CbO$ lQPO,5:pO$ qQPO,5:xO#=mQPO,5:pOOQO-E:u-E:uOOQO1G0c1G0cOOQO<<IX<<IXO!KqQPO<<IXO!KvQPO<<IXOOQO<<Ic<<IcOOQO<<I^<<I^O!MmQPO<<I^OOQO<<Ip<<IpO$ vQQO<<GvO9eQPO<<IpO*pQPO<<IpOOQO<<Gv<<GvO$#mQQO,5=WOOQO-E:j-E:jO$#zQQO<<JWOOQO1G/b1G/bOOQO,5:t,5:tO$$bQPO,5:tO$$pQPO,5:tO$%RQPO'#GvO$%iQPO,5>kO$%tQPO'#EZOOQO1G0_1G0_O$%{QPO1G0_O?tQPO,5:pOOQO-E:s-E:sOOQO1G0Z1G0ZOOQO1G0n1G0nO$&QQQO1G0nOOQO<<L|<<L|OOQO-E:z-E:zOOQO1G1_1G1_O$&XQQO,5;tOOQO'#G}'#G}O#DxQPO,5;tOOQO'#IX'#IXO$&aQQO,5;tO$&rQQO,5;tOOQO<<Jq<<JqO$&zQPO<<JqOOQO<<Jw<<JwO:|QPO7+'hO$'PQPO7+'hO!(aQPO7+'dO$'_QPO7+'dO$'dQQO7+'dOOQO<<KT<<KTOOQO-E:}-E:}OOQO1G2R1G2ROOQO,5<h,5<hO$'kQQO,5<hOOQO<<K[<<K[O:|QPO1G2kO$'rQPO1G2kOOQO,5=n,5=nOOQO7+(U7+(UO$'wQPO7+(UOOQO-E;Q-E;QO$)fQWO'#HhO$)QQWO'#HhO$)mQPO'#G`O<hQPO,5<yO!$VQPO,5<yOOQO1G2c1G2cOOQO<<Ko<<KoO$*OQPO1G/yOOQO<<MU<<MUOOQO7+&R7+&RO$*ZQPO1G0jO$*fQQO1G0hOOQO1G0h1G0hO$*nQPO1G0hOOQO,5=`,5=`OOQO-E:r-E:rO$*sQQO1G.oOOQO1G1[1G1[O$*}QPO'#GzO$+[QPO,5>qOOQO1G1Z1G1ZO$+dQPO'#FUOOQO,5=g,5=gOOQO-E:y-E:yO$+iQPO'#GoO$+vQPO,5>cOOQO1G/u1G/uOOQO<<IR<<IROOQO1G0[1G0[O$,OQPO1G0dO$,TQPO1G0[O$,YQPO1G0dOOQOAN>sAN>sO!KqQPOAN>sOOQOAN>xAN>xOOQOAN?[AN?[O9eQPOAN?[OOQO1G0`1G0`O$,_QPO1G0`OOQO,5=b,5=bOOQO-E:t-E:tO$,mQPO,5:uOOQO7+%y7+%yOOQO7+&Y7+&YOOQO1G1`1G1`O$,tQQO1G1`OOQO-E:{-E:{O$,|QQO'#IYO$,wQPO1G1`O$&gQPO1G1`O*pQPO1G1`OOQOAN@]AN@]O$-XQQO<<KSO:|QPO<<KSO$-`QPO<<KOOOQO<<KO<<KOO!(aQPO<<KOOOQO1G2S1G2SO$-eQQO7+(VO:|QPO7+(VOOQO<<Kp<<KpP!-iQPO'#HSO!$VQPO'#HRO$-oQPO,5<zO$-zQPO1G2eO<hQPO1G2eO9eQPO7+&SO$.PQPO7+&SOOQO7+&S7+&SOOQO,5=f,5=fOOQO-E:x-E:xO#M{QPO,5;pOOQO,5=Z,5=ZOOQO-E:m-E:mO$.UQPO7+&OOOQO7+%v7+%vO$.dQPO7+&OOOQOG24_G24_OOQOG24vG24vOOQO7+%z7+%zOOQO7+&z7+&zO*pQPO'#HOO$.iQPO,5>tO$.qQPO7+&zO$.vQQO'#IZOOQOAN@nAN@nO$/RQQOAN@nOOQOAN@jAN@jO$/YQPOAN@jO$/_QQO<<KqO$/iQPO,5=mOOQO-E;P-E;POOQO7+(P7+(PO$/zQPO7+(PO$0PQPO<<InOOQO<<In<<InO$0UQPO<<IjOOQO<<Ij<<IjO#M{QPO<<IjO$0UQPO<<IjO$0dQQO,5=jOOQO-E:|-E:|OOQO<<Jf<<JfO$0oQPO,5>uOOQOG26YG26YOOQOG26UG26UOOQO<<Kk<<KkOOQOAN?YAN?YOOQOAN?UAN?UO#M{QPOAN?UO$0wQPOAN?UO$0|QPOAN?UO$1[QPOG24pOOQOG24pG24pO#M{QPOG24pOOQOLD*[LD*[O$1aQPOLD*[OOQO!$'Mv!$'MvO*pQPO'#CaO$1fQQO'#H^O$1yQQO'#CbO!(hQPO'#Cy",stateData:"$2i~OPOSQOS%yOS~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~Og^Oh^Ov{O}cO!P!mO!SyO!TyO!UyO!VyO!W!pO!XyO!YyO!ZzO!]yO!^yO!_yO!u}O!z|O%}TO&P!cO&R!dO&_!hO&tdO~OWiXW&QXZ&QXuiXu&QX!P&QX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX%}iX&PiX&RiX&^&QX&_iX&_&QX&n&QX&viX&v&QX&x!aX~O#p$^X~P&bOWUXW&]XZUXuUXu&]X!PUX!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX%}&]X&P&]X&R&]X&^UX&_UX&_&]X&nUX&vUX&v&]X&x!aX~O#p$^X~P(iO&PSO&R!qO~O&W!vO&Y!tO~Og^Oh^O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO%}TO&P!wO&RWOg!RXh!RX$h!RX&P!RX&R!RX~O#y!|O#z!{O$W!}Ov!RX!u!RX!z!RX&t!RX~P+QOW#XOu#OO%}TO&P#SO&R#SO&v&aX~OW#[Ou&[X%}&[X&P&[X&R&[X&v&[XY&[Xw&[X&n&[X&q&[XZ&[Xq&[X&^&[X!P&[X#_&[X#a&[X#b&[X#d&[X#e&[X#f&[X#g&[X#h&[X#i&[X#k&[X#o&[X#r&[X}&[X!r&[X#p&[Xs&[X|&[X~O&_#YO~P-dO&_&[X~P-dOZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO#fpO#roO#tpO#upO%}TO&XUO~O&P#^O&R#]OY&pP~P/uO%}TOg%bXh%bXv%bX!S%bX!T%bX!U%bX!V%bX!W%bX!X%bX!Y%bX!Z%bX!]%bX!^%bX!_%bX!u%bX!z%bX$h%bX&P%bX&R%bX&t%bX&_%bX~O!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yOg!RXh!RXv!RX!u!RX!z!RX&P!RX&R!RX&t!RX&_!RX~O$h!RX~P3gO|#kO~P]Og^Oh^Ov#pO!u#rO!z#qO&P!wO&RWO&t#oO~O$h#sO~P5VOu#uO&v#vO!P&TX#_&TX#a&TX#b&TX#d&TX#e&TX#f&TX#g&TX#h&TX#i&TX#k&TX#o&TX#r&TX&^&TX&_&TX&n&TX~OW#tOY&TX#p&TXs&TXq&TX|&TX~P5xO!b#wO#]#wOW&UXu&UX!P&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UXY&UX#p&UXs&UXq&UX|&UX~OZ#XX~P7jOZ#xO~O&v#vO~O#_#|O#a#}O#b$OO#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#o$VO#r$WO&^#zO&_#zO&n#{O~O!P$XO~P9oO&x$ZO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO#fpO#roO#tpO#upO%}TO&P0qO&R0pO&XUO~O#p$_O~O![$aO~O&P#SO&R#SO~Og^Oh^O&P!wO&RWO&_#YO~OW$gO&v#vO~O#z!{O~O!W$kO&PSO&R!qO~OZ$lO~OZ$oO~O!P$vO&P$uO&R$uO~O!P$xO&P$uO&R$uO~O!P${O~P:|OZ%OO}cO~OW&]Xu&]X%}&]X&P&]X&R&]X&_&]X~OZ!aX~P>lOWiXuiX%}iX&PiX&RiX&_iX~OZ!aX~P?XOu#OO%}TO&P#SO&R#SO~O%}TO~P3gOg^Oh^Ov#pO!u#rO!z#qO&_!hO&t#oO~O&P!cO&R!dO~P@ZOg^Oh^O%}TO&P!cO&R!dO~O}cO!P%aO~OZ%bO~O}%dO!m%gO~O}cOg&gXh&gXv&gX!S&gX!T&gX!U&gX!V&gX!W&gX!X&gX!Y&gX!Z&gX!]&gX!^&gX!_&gX!u&gX!z&gX%}&gX&P&gX&R&gX&_&gX&t&gX~OW%jOZ%kOgTahTa%}Ta&PTa&RTa~OvTa!STa!TTa!UTa!VTa!WTa!XTa!YTa!ZTa!]Ta!^Ta!_Ta!uTa!zTa#yTa#zTa$WTa$hTa&tTa&_TauTaYTaqTa|Ta!PTa~PC[O&W%nO&Y!tO~Ou#OO%}TOqma&^maYma&nma!Pma~O&vma}ma!rma~PEnO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!ZzO!]yO!^yO!_yO~Og!Rah!Rav!Ra!u!Ra!z!Ra$h!Ra&P!Ra&R!Ra&t!Ra&_!Ra~PFdO#z%pO~Os%rO~Ou%sO%}TO~Ou#OO%}ra&Pra&Rra&vraYrawra&nra&qra!Pra&^raqra~OWra#_ra#ara#bra#dra#era#fra#gra#hra#ira#kra#ora#rra&_ra#prasra|ra~PH_Ou#OO%}TOq&iX!P&iX!b&iX~OY&iX#p&iX~PJ`O!b%vOq!`X!P!`XY!`X~Oq%wO!P&hX~O!P%yO~Ov%zO~Og^Oh^O%}0oO&P!wO&RWO&b%}O~O&^&`P~PKmO%}TO&P!wO&RWO~OW&QXYiXY!aXY&QXZ&QXq!aXu&QXwiX!b&QX#]&QX#_&QX#a&QX#b&QX#d&QX#e&QX#f&QX#g&QX#h&QX#i&QX#k&QX#o&QX#r&QX&^&QX&_&QX&niX&n&QX&qiX&viX&v&QX&x!aX~P?XOWUXYUXY!aXY&]XZUXq!aXuUXw&]X!bUX#]UX#_UX#aUX#bUX#dUX#eUX#fUX#gUX#hUX#iUX#kUX#oUX#rUX&^UX&_UX&nUX&n&]X&q&]X&vUX&v&]X&x!aX~P>lOg^Oh^O%}TO&P!wO&RWOg!RXh!RX&P!RX&R!RX~PFdOu#OOw&XO%}TO&P&UO&R&TO&q&WO~OW#XOY&aX&n&aX&v&aX~P!#YOY&ZO~P9oOg^Oh^O&P!wO&RWO~Oq&]OY&pX~OY&_O~Og^Oh^O%}TO&P!wO&RWOY&pP~PFdOY&dO&n&bO&v#vO~Oq&eO&x$ZOY&wX~OY&gO~O%}TOg%bah%bav%ba!S%ba!T%ba!U%ba!V%ba!W%ba!X%ba!Y%ba!Z%ba!]%ba!^%ba!_%ba!u%ba!z%ba$h%ba&P%ba&R%ba&t%ba&_%ba~O|&hO~P]O}&iO~Op&uOw&vO&PSO&R!qO&_#YO~Oz&tO~P!'iOz&xO&PSO&R!qO&_#YO~OY&eP~P:|Og^Oh^O%}TO&P!wO&RWO~O}cO~P:|OW#XOu#OO%}TO&v&aX~O#r$WO!P#sa#_#sa#a#sa#b#sa#d#sa#e#sa#f#sa#g#sa#h#sa#i#sa#k#sa#o#sa&^#sa&_#sa&n#saY#sa#p#sas#saq#sa|#sa~Oo'_O}'^O!r'`O&_!hO~O}'eO!r'`O~Oo'iO}'hO&_!hO~OZ#xOu'mO%}TO~OW%jO}'sO~OW%jO!P'uO~OW'vO!P'wO~O$h!WO&P0qO&R0pO!P&eP~P/uO!P(SO#p(TO~P9oO}(UO~O$c(WO~O!P(XO~O!P(YO~O!P(ZO~P9oO!P(]O~P9oOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdO%Q(hO%U(iOZ$}a_$}a`$}aa$}ab$}ac$}ae$}ag$}ah$}ap$}av$}aw$}az$}a}$}a!P$}a!S$}a!T$}a!U$}a!V$}a!W$}a!X$}a!Y$}a!Z$}a![$}a!]$}a!^$}a!_$}a!u$}a!z$}a#f$}a#r$}a#t$}a#u$}a#y$}a#z$}a$W$}a$Y$}a$`$}a$c$}a$e$}a$h$}a$l$}a$n$}a$s$}a$u$}a$w$}a$y$}a$|$}a%O$}a%w$}a%}$}a&P$}a&R$}a&X$}a&t$}a|$}a$a$}a$q$}a~O}ra!rra'Ora~PH_OZ%bO~PJ`O!P(mO~O!m%gO}&la!P&la~O}cO!P(pO~Oo(tOq!fX&^!fX~Oq(vO&^&mX~O&^(xO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op)UOv{Ow)TOz!OO|)PO}cO!PvO![!`O!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&_#YO&tdO~PFdO}%dO~O})]OY&zP~P:|OW%jO!P)dO~Os)eO~Ou#OO%}TOq&ia!P&ia!b&iaY&ia#p&ia~O})fO~P:|Oq%wO!P&ha~Og^Oh^O%}0oO&P!wO&RWO~O&b)mO~P!8jOu#OO%}TOq&aX&^&aXY&aX&n&aX!P&aX~O}&aX!r&aX~P!9SOo)oOp)oOqnX&^nX~Oq)pO&^&`X~O&^)rO~Ou#OOw)tO%}TO&PSO&R!qO~OYma&nma&vma~P!:bOW&QXY!aXq!aXu!aX%}!aX~OWUXY!aXq!aXu!aX%}!aX~OW)wO~Ou#OO%}TO&P#SO&R#SO&q)yO~Og^Oh^O%}TO&P!wO&RWO~PFdOq&]OY&pa~Ou#OO%}TO&P#SO&R#SO&q&WO~OY)|O~OY*PO&n&bO~Oq&eOY&wa~Og^Oh^Ov{O|*XO!u}O%}TO&P!wO&RWO&tdO~PFdO!P*YO~OW^iZ#XXu^i!P^i!b^i#]^i#_^i#a^i#b^i#d^i#e^i#f^i#g^i#h^i#i^i#k^i#o^i#r^i&^^i&_^i&n^i&v^iY^i#p^is^iq^i|^i~OW*iO~Os*jO~P9oOz*kO&PSO&R!qO~O!P]iY]i#p]is]iq]i|]i~P9oOq*lOY&eX!P&eX~P9oOY*nO~O#f$SO#g$TO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#h$UO#i$UO~P!AmO#_#|O#d$QO#e$RO#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO&n#{O!P#^i#b#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#a#^i~P!CUO#a#}O~P!CUO#_#|O#f$SO#g$TO#h$UO#i$UO#k$YO#r$WO&^#zO&_#zO!P#^i#a#^i#b#^i#d#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O&n#^i~P!DtO&n#{O~P!DtO#f$SO#g$TO#k$YO#r$WO!P#^i#a#^i#b#^i#e#^i#o#^iY#^i#p#^is#^iq#^i|#^i~O#_#|O#d$QO#h$UO#i$UO&^#zO&_#zO&n#{O~P!FdO#k$YO#r$WO!P#^i#_#^i#a#^i#b#^i#d#^i#e#^i#f#^i#h#^i#i#^i#o#^i&^#^i&_#^i&n#^iY#^i#p#^is#^iq#^i|#^i~O#g$TO~P!G{O#g#^i~P!G{O#h#^i#i#^i~P!AmO#p*oO~P9oO#_&aX#a&aX#b&aX#d&aX#e&aX#f&aX#g&aX#h&aX#i&aX#k&aX#o&aX#r&aX&_&aX#p&aXs&aX|&aX~P!9SO!P#liY#li#p#lis#liq#li|#li~P9oO|*rO~P$wO}'^O~O}'^O!r'`O~Oo'_O}'^O!r'`O~O%}TO&P#SO&R#SO|&sP!P&sP~PFdO}'eO~Og^Oh^Ov{O|+PO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdO}'hO~Oo'iO}'hO~Os+RO~P:|Ou+TO%}TO~Ou'mO})fO%}TOW#Zi!P#Zi#_#Zi#a#Zi#b#Zi#d#Zi#e#Zi#f#Zi#g#Zi#h#Zi#i#Zi#k#Zi#o#Zi#r#Zi&^#Zi&_#Zi&n#Zi&v#ZiY#Zi#p#Zis#Ziq#Zi|#Zi~O}'^OW&diu&di!P&di#_&di#a&di#b&di#d&di#e&di#f&di#g&di#h&di#i&di#k&di#o&di#r&di&^&di&_&di&n&di&v&diY&di#p&dis&diq&di|&di~O#}+]O$P+^O$R+^O$S+_O$T+`O~O|+[O~P##nO$Z+aO&PSO&R!qO~OW+bO!P+cO~O$a+dOZ$_i_$_i`$_ia$_ib$_ic$_ie$_ig$_ih$_ip$_iv$_iw$_iz$_i}$_i!P$_i!S$_i!T$_i!U$_i!V$_i!W$_i!X$_i!Y$_i!Z$_i![$_i!]$_i!^$_i!_$_i!u$_i!z$_i#f$_i#r$_i#t$_i#u$_i#y$_i#z$_i$W$_i$Y$_i$`$_i$c$_i$e$_i$h$_i$l$_i$n$_i$s$_i$u$_i$w$_i$y$_i$|$_i%O$_i%w$_i%}$_i&P$_i&R$_i&X$_i&t$_i|$_i$q$_i~Og^Oh^O$h#sO&P!wO&RWO~O!P+hO~P:|O!P+iO~OZ`O_VO`VOaVObVOcVOeVOg^Oh^Op!POv{OwkOz!OO}cO!PvO!SyO!TyO!UyO!VyO!WyO!XyO!YyO!Z+nO![!`O!]yO!^yO!_yO!u}O!z|O#fpO#roO#tpO#upO#y!RO#z!QO$W!SO$Y!TO$`!UO$c!VO$e!XO$h!WO$l!YO$n!ZO$q+oO$s![O$u!]O$w!^O$y!_O$|!aO%O!bO%}TO&PRO&RQO&XUO&tdO~O|+mO~P#)QOW&QXY&QXZ&QXu&QX!P&QX&viX&v&QX~P?XOWUXYUXZUXuUX!PUX&vUX&v&]X~P>lOW#tOu#uO&v#vO~OW&UXY%XXu&UX!P%XX&v&UX~OZ#XX~P#.VOY+uO!P+sO~O%Q(hO%U(iOZ$}i_$}i`$}ia$}ib$}ic$}ie$}ig$}ih$}ip$}iv$}iw$}iz$}i}$}i!P$}i!S$}i!T$}i!U$}i!V$}i!W$}i!X$}i!Y$}i!Z$}i![$}i!]$}i!^$}i!_$}i!u$}i!z$}i#f$}i#r$}i#t$}i#u$}i#y$}i#z$}i$W$}i$Y$}i$`$}i$c$}i$e$}i$h$}i$l$}i$n$}i$s$}i$u$}i$w$}i$y$}i$|$}i%O$}i%w$}i%}$}i&P$}i&R$}i&X$}i&t$}i|$}i$a$}i$q$}i~OZ+xO~O%Q(hO%U(iOZ%Vi_%Vi`%Via%Vib%Vic%Vie%Vig%Vih%Vip%Viv%Viw%Viz%Vi}%Vi!P%Vi!S%Vi!T%Vi!U%Vi!V%Vi!W%Vi!X%Vi!Y%Vi!Z%Vi![%Vi!]%Vi!^%Vi!_%Vi!u%Vi!z%Vi#f%Vi#r%Vi#t%Vi#u%Vi#y%Vi#z%Vi$W%Vi$Y%Vi$`%Vi$c%Vi$e%Vi$h%Vi$l%Vi$n%Vi$s%Vi$u%Vi$w%Vi$y%Vi$|%Vi%O%Vi%w%Vi%}%Vi&P%Vi&R%Vi&X%Vi&t%Vi|%Vi$a%Vi$q%Vi~Ou#OO%}TO}&oa!P&oa!m&oa~O!P,OO~Oo(tOq!fa&^!fa~Oq(vO&^&ma~O!m%gO}&li!P&li~O|,XO~P]OW,ZO~P5xOW&UXu&UX#_&UX#a&UX#b&UX#d&UX#e&UX#f&UX#g&UX#h&UX#i&UX#k&UX#o&UX#r&UX&^&UX&_&UX&n&UX&v&UX~OZ#xO!P&UX~P#8^OW$gOZ#xO&v#vO~Op,]Ow,]O~Oq,^O}&rX!P&rX~O!b,`O#]#wOY&UXZ#XX~P#8^OY&SXq&SX|&SX!P&SX~P9oO})]O|&yP~P:|OY&SXg%[Xh%[X%}%[X&P%[X&R%[Xq&SX|&SX!P&SX~Oq,cOY&zX~OY,eO~O})fO|&kP~P:|Oq&jX!P&jX|&jXY&jX~P9oO&bTa~PC[Oo)oOp)oOqna&^na~Oq)pO&^&`a~OW,mO~Ow,nO~Ou#OO%}TO&P,rO&R,qO~Og^Oh^Ov#pO!u#rO&P!wO&RWO&t#oO~Og^Oh^Ov{O|,wO!u}O%}TO&P!wO&RWO&tdO~PFdOw-SO&PSO&R!qO&_#YO~Oq*lOY&ea!P&ea~O#_ma#ama#bma#dma#ema#fma#gma#hma#ima#kma#oma#rma&_ma#pmasma|ma~PEnO|-WO~P$wOZ#xO}'^Oq!|X|!|X!P!|X~Oq-[O|&sX!P&sX~O|-_O!P-^O~O&_!hO~P5VOg^Oh^Ov{O|-cO!P*}O!u}O!z|O%}TO&P!wO&RWO&_!hO&tdO~PFdOs-dO~P9oOs-dO~P:|O}'^OW&dqu&dq!P&dq#_&dq#a&dq#b&dq#d&dq#e&dq#f&dq#g&dq#h&dq#i&dq#k&dq#o&dq#r&dq&^&dq&_&dq&n&dq&v&dqY&dq#p&dqs&dqq&dq|&dq~O|-hO~P##nO!W-lO$O-lO&PSO&R!qO~O!P-oO~O$Z-pO&PSO&R!qO~O!b%vO#p-rOq!`X!P!`X~O!P-tO~P9oO!P-tO~P:|O!P-wO~P9oO|-yO~P#)QO![$aO#p-zO~O!P-|O~O!b-}O~OY.QOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOY.QO!P.RO~O%Q(hO%U(iOZ%Vq_%Vq`%Vqa%Vqb%Vqc%Vqe%Vqg%Vqh%Vqp%Vqv%Vqw%Vqz%Vq}%Vq!P%Vq!S%Vq!T%Vq!U%Vq!V%Vq!W%Vq!X%Vq!Y%Vq!Z%Vq![%Vq!]%Vq!^%Vq!_%Vq!u%Vq!z%Vq#f%Vq#r%Vq#t%Vq#u%Vq#y%Vq#z%Vq$W%Vq$Y%Vq$`%Vq$c%Vq$e%Vq$h%Vq$l%Vq$n%Vq$s%Vq$u%Vq$w%Vq$y%Vq$|%Vq%O%Vq%w%Vq%}%Vq&P%Vq&R%Vq&X%Vq&t%Vq|%Vq$a%Vq$q%Vq~Ou#OO%}TO}&oi!P&oi!m&oi~O&n&bOq!ga&^!ga~O!m%gO}&lq!P&lq~O|.^O~P]Op.`Ow&vOz&tO&PSO&R!qO&_#YO~O!P.aO~Oq,^O}&ra!P&ra~O})]O~P:|Oq.gO|&yX~O|.iO~Oq,cOY&za~Oq.mO|&kX~O|.oO~Ow.pO~Oq!aXu!aX!P!aX!b!aX%}!aX~OZ&QX~P#N{OZUX~P#N{O!P.qO~OZ.rO~OW^yZ#XXu^y!P^y!b^y#]^y#_^y#a^y#b^y#d^y#e^y#f^y#g^y#h^y#i^y#k^y#o^y#r^y&^^y&_^y&n^y&v^yY^y#p^ys^yq^y|^y~OY%`aq%`a!P%`a~P9oO!P#nyY#ny#p#nys#nyq#ny|#ny~P9oO}'^Oq!|a|!|a!P!|a~OZ#xO}'^Oq!|a|!|a!P!|a~O%}TO&P#SO&R#SOq%jX|%jX!P%jX~PFdOq-[O|&sa!P&sa~O|!}X~P$wO|/PO~Os/QO~P9oOW%jO!P/RO~OW%jO$Q/WO&PSO&R!qO!P&|P~OW%jO$U/XO~O!P/YO~O!b%vO#p/[Oq!`X!P!`X~OY/^O~O!P/_O~P9oO#p/`O~P9oO!b/bO~OY/cOZ$lO_VO`VOaVObVOcVOeVOg^Oh^Op!POwkOz!OO%}TO&P(_O&R(^O&XUO~PFdOW#[Ou&[X%}&[X&P&[X&R&[X'O&[X~O&_#YO~P$)QOu#OO%}TO'O/eO&P%SX&R%SX~O&n&bOq!gi&^!gi~Op/iO&PSO&R!qO~OW*iOZ#xO~O!P/kO~OY&SXq&SX~P9oO})]Oq%nX|%nX~P:|Oq.gO|&ya~O!b/nO~O})fOq%cX|%cX~P:|Oq.mO|&ka~OY/qO~O!P/rO~OZ/sO~O}'^Oq!|i|!|i!P!|i~O|!}a~P$wOW%jO!P/wO~OW%jOq/xO!P&|X~OY/|O~P9oOY0OO~OY%Xq!P%Xq~P9oO'O/eO&P%Sa&R%Sa~OY0TO~O!P0WO~Ou#OO!P0YO!Z0ZO%}TO~OY0[O~Oq/xO!P&|a~O!P0_O~OW%jOq/xO!P&}X~OY0aO~P9oOY0bO~OY%Xy!P%Xy~P9oOu#OO%}TO&P%ua&R%ua'O%ua~OY0cO~O!P0dO~Ou#OO!P0eO!Z0fO%}TO~OW%jOq%ra!P%ra~Oq/xO!P&}a~O!P0jO~Ou#OO!P0jO!Z0kO%}TO~O!P0lO~O!P0nO~O#p&QXY&QXs&QXq&QX|&QX~P&bO#pUXYUXsUXqUX|UX~P(iO`Q_P#g%y&P&Xc&X~",goto:"#+S'OPPPP'P'd*x.OP'dPP.d.h0PPPPPP1nP3ZPP4v7l:[<z=d?[PPP?bPA{PPPBu3ZPDqPPElPFcFkPPPPPPPPPPPPGvH_PKjKrLOLjLpLvNiNmNmNuP! U!!^!#R!#]P!#r!!^P!#x!$S!!y!$cP!%S!%^!%d!!^!%g!%mFcFc!%q!%{!&O3Z!'m3Z3Z!)iP.hP!)mPP!*_PPPPPP.hP.h!+O.hPP.hP.hPP.h!,g!,qPP!,w!-QPPPPPPPP'PP'PPP!-U!-U!-i!-UPP!-UP!-UP!.S!.VP!-U!.m!-UP!-UP!.p!.sP!-UP!-UP!-UP!-UP!-U!-UP!-UP!.wP!.}!/Q!/WP!-U!/d!/gP!/o!0R!4T!4Z!4a!5g!5m!5{!7R!7X!7_!7i!7o!7u!7{!8R!8X!8_!8e!8k!8q!8w!8}!9T!9_!9e!9o!9uPPP!9{!-U!:pP!>WP!?[P!Ap!BW!E]3ZPPP!F|!Jm!MaPP#!P#!SP#$`#$f#&V#&f#&n#'p#(Y#)T#)^#)a#)oP#)r#*OP#*V#*^P#*aP#*lP#*o#*r#*u#*y#+PstOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y'urOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%k%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)])f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,`,u-[-^-a-r-t-}.R.V.g.m/O/[/_/b/d/n/q0R0X0Z0[0f0h0k0r#xhO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kt!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oQ#mdS&Y#`(}Q&l#oU&q#t$g,ZQ&x#vW(b%O+s.R/dU)Y%j'v+bQ)Z%kS)u&S,WU*f&s-R._Q*k&yQ,t*TQ-P*iQ.j,cR.t,uu!sT!Q!S!T!{!}$k%p+]+^+_+`-k-m/W/X/x0oT%l!r)l#{qO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k#zlO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kX(c%O+s.R/d$TVO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k$TkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0k&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rQ&Q#[Q)s&RV.T+x.X/e&O[OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.T+x.X/e&O]OPX`ceopx!O!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s,Y,^,`-^-r-t-}.R.g.m/O/[/_/b/d/n0Z0f0k0rV.U+x.X/eS#Z[.TS$f!O&tS&s#t$gQ&y#vQ)V%dQ-R*iR._,Z$kZO`copx!Y![!_!a#Y#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$_$l$m$n$o$p$q%O%d%g%k%v&b&d'_'`'i'm(O(T(U(t)Q)R)])f)o)p*P*l*o+T+d+h+i+l+o+s,Y,^,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ&O#YR,k)p&P_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0r!o#QY!e!x#R#T#`#n$]%R%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0h$SkO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ$m!UQ$n!VQ$s!ZQ$|!`R+p(WQ#yiS'q$e*hQ*e&rQ+X'rS,[)T)UQ-O*gQ-Y*vQ.b,]Q.x-QQ.{-ZQ/j.`Q/u.yR0V/iQ'a$bW*[&m'b'c'dQ+W'qU,x*]*^*_Q-X*vQ-f+XS.u,y,zS.z-Y-ZQ/t.vR/v.{]!mP!o'^*q-^/OreOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!gP!o'^*q-^/OW#b`#e%b&]Q'}$oW(d%O+s.R/dS*U&i*WS*w'e-[S*|'h+OR.X+xh#VY!W!e#n#s%V'|*T*z+f,u-aQ)j%wQ)v&WR,o)y#xnOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k^!kP!g!o'^*q-^/Ov#TY!W#`#n#s%w&W&[&`'|(`(})y*T+f+r,u.W/hQ#g`Q$b{Q$c|Q$d}W%S!e%V*z-aS%Y!h(vQ%`!iQ&m#pQ&n#qQ&o#rQ(u%ZS(y%^({Q*R&eS*v'e-[R-Z*wU)h%v)f.mR+V'p[!mP!o'^*q-^/OT*}'h+O^!iP!g!o'^*q-^/OQ'd$bQ'l$dQ*_&mQ*d&oV*{'h*|+OQ%[!hR,S(vQ(s%YR,R(u#znO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%c!kS(l%S(yR(|%`T#e`%bU#c`#e%bR)z&]Q%f!lQ(n%UQ(r%XQ,U(zR.],VrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OQ%P!bQ%a!jQ%i!pQ'[$ZQ([$|Q(k%QQ(p%WQ+z(iR.Y+yrtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OS*V&i*WT*}'h+OQ'c$bS*^&m'dR,z*_Q'b$bQ'g$cU*]&m'c'dQ*a&nS,y*^*_R.v,zQ*u'`R+Q'iQ'k$dS*c&o'lR,}*dQ'j$dU*b&o'k'lS,|*c*dR.w,}rtOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!mP!o'^*q-^/OT*}'h+OQ'f$cS*`&n'gR,{*aQ*x'eR.|-[R-`*yQ&j#mR*Z&lT*V&i*WQ%e!lS(q%X%fR,P(rR)R%dWk%O+s.R/d#{lO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0k$SiO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kU&r#t$g,ZS*g&s._Q-Q*iR.y-RT'o$e'p!_#|m#a$r$z$}&w&z&{'O'P'Q'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q!]$Pm#a$r$z$}&w&z&{'O'P'R'S'W'Z)[)g+S+g+j-T-V-e-v-{.e/Z/a/}0Q#{nO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0ka)^%k)],`.g/n0Z0f0kQ)`%kR.k,cQ't$hQ)b%oR,f)cT+Y's+ZsvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YruOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YQ$w!]R$y!^R$p!XrvOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YR(O$oR$q!XR(V$sT+k(U+lX(f%P(g(k+{R+y(hQ.W+xR/h.XQ(j%PQ+w(gQ+|(kR.Z+{R%Q!bQ(e%OV.P+s.R/dQxOQ#lcW$`x#l)Q,YQ)Q%dR,Y)RrXOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Yn!fP!o#e&]&i'^'e'h*W*q+O+x-[-^/Ol!zX!f#P#_#i$[%Z%_%{&R'n'{)O0r!j#PY!e!x#T#`#n$]%S%V%^%u%|&S&[&`'X'|(`(l({(}*T*p*z+f+r+},W,u-a.V/q0R0X0[0hQ#_`Q#ia#d$[op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%g%k%v&b&d'_'`'i'm(O(T(t)])f)o*P*l*o+T+h+i+o,^,`-r-t-}.g.m/[/_/b/n0Z0f0kS%Z!h(vS%_!i*{S%{#Y)pQ&R#[S'n$e'pY'{$o%O+s.R/dQ)O%bR0r$YQ!uUR%m!uQ)q&OR,l)q^#RY#`$]'X'|(`*px%R!e!x#n%V%^%|&S&[&`({(}*T*z+f+r,W,u-a.V0R[%t#R%R%u+}0X0hS%u#T%SQ+}(lQ0X/qR0h0[Q*m&{R-U*mQ!oPU%h!o*q/OQ*q'^R/O-^!pbOP`cx![!o#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h(U)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dY!yX!f#_'{)OT#jb!yQ.n,gR/p.nQ%x#VR)k%xQ&c#fS*O&c.[R.[,QQ(w%[R,T(wQ&^#cR){&^Q,_)WR.d,_Q+O'hR-b+OQ-]*xR.}-]Q*W&iR,v*WQ'p$eR+U'pQ&f#gR*S&fQ.h,aR/m.hQ,d)`R.l,dQ+Z'sR-g+ZQ-k+]R/T-kQ/y/US0^/y0`R0`/{Q+l(UR-x+lQ(g%PS+v(g+{R+{(kQ/f.VR0S/fQ+t(eR.S+t`wOcx#l%d)Q)R,YQ$t![Q']$_Q'y$mQ'z$nQ(Q$pQ(R$qS+k(U+lR-q+d'dsOPXY`acopx!Y![!_!a!e!f!h!i!o!x#P#T#Y#[#_#`#e#i#l#n#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$]$_$e$l$m$n$o$p$q%O%S%V%Z%^%_%b%d%g%u%v%{%|&R&S&[&]&`&b&d&i'X'^'_'`'e'h'i'm'n'p'{'|(O(T(U(`(l(t(v({(})O)Q)R)f)o)p*P*T*W*l*o*p*q*z*{+O+T+d+f+h+i+l+o+r+s+x+},W,Y,^,u-[-^-a-r-t-}.R.V.m/O/[/_/b/d/q0R0X0[0h0ra)_%k)],`.g/n0Z0f0kQ!rTQ$h!QQ$i!SQ$j!TQ%o!{Q%q!}Q'x$kQ)c%pQ)l0oS-i+]+_Q-m+^Q-n+`Q/S-kS/U-m/WQ/{/XR0]/x%uSOT`cdopx!Q!S!T!Y![!_!a!{!}#`#l#o#t#u#v#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$g$k$l$m$n$o$p$q%O%d%j%k%p%v&S&d&s&y'm'v(O(T(U(})Q)R)])f*P*T*i*l*o+T+]+^+_+`+b+d+h+i+l+o+s,W,Y,Z,`,c,u-R-k-m-r-t-}.R._.g.m/W/X/[/_/b/d/n/x0Z0f0k0oQ)a%kQ,a)]S.f,`/nQ/l.gQ0g0ZQ0i0fR0m0krmOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,YS#a`$lQ$WoQ$^pQ$r!YQ$z!_Q$}!aQ&w#uQ&z#wY&{#x$o+h-t/_Q&}#|Q'O#}Q'P$OQ'Q$PQ'R$QQ'S$RQ'T$SQ'U$TQ'V$UQ'W$VQ'Z$Z^)[%k)].g/n0Z0f0kU)g%v)f.mQ*Q&dQ+S'mQ+g(OQ+j(TQ,p*PQ-T*lQ-V*oQ-e+TQ-v+iQ-{+oQ.e,`Q/Z-rQ/a-}Q/}/[R0Q/b#xgO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o,Y,`-r-t-}.g.m/[/_/b/n0Z0f0kW(a%O+s.R/dR)S%drYOcx![#l$_$m$n$p$q%d(U)Q)R+d+l,Y[!eP!o'^*q-^/OW!xX$[%{'{Q#``Q#ne#S$]op!Y!_!a#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$l%k%v&d'm(O(T)])f*P*l*o+T+h+i+o,`-r-t-}.g.m/[/_/b/n0Z0f0kQ%V!gS%^!i*{d%|#Y%g&b'_'`'i(t)o)p,^Q&S#_Q&[#bS&`#e&]Q'X$YQ'|$oW(`%O+s.R/dQ({%_Q(}%bS*T&i*WQ*p0rS*z'h+OQ+f'}Q+r(dQ,W)OQ,u*UQ-a*|S.V+x.XR0R/e&O_OPX`ceopx!Y![!_!a!g!i!o#Y#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$l$m$n$o$p$q%O%_%b%d%g%k%v%{&]&b&d&i'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rQ$e!OQ'r$fR*h&t&ZWOPX`ceopx!O!Y![!_!a!g!i!o#Y#[#_#b#e#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Y$Z$[$_$f$l$m$n$o$p$q%O%_%b%d%g%k%v%{&R&]&b&d&i&t'^'_'`'h'i'm'{'}(O(T(U(d(t)O)Q)R)])f)o)p*P*U*W*l*o*q*{*|+O+T+d+h+i+l+o+s+x,Y,^,`-^-r-t-}.R.X.g.m/O/[/_/b/d/e/n0Z0f0k0rR&P#Y$QjOcopx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kQ#f`Q&O#YQ'Y$YU)W%g'`'iQ)}&bQ*s'_Q,Q(tQ,j)oQ,k)pR.c,^Q)n%}R,i)m$SfO`copx!Y![!_!a#l#u#w#x#|#}$O$P$Q$R$S$T$U$V$Z$_$l$m$n$o$p$q%O%d%k%v&d'm(O(T(U)Q)R)])f*P*l*o+T+d+h+i+l+o+s,Y,`-r-t-}.R.g.m/[/_/b/d/n0Z0f0kT&p#t,ZQ&|#xQ(P$oQ-u+hQ/]-tR0P/_]!nP!o'^*q-^/O#PaOPX`bcx![!f!o!y#_#e#l$_$m$n$o$p$q%O%b%d&]&i'^'e'h'{(U)O)Q)R*W*q+O+d+l+s+x,Y-[-^.R/O/dU#WY!W'|Q%T!eU&k#n#s+fQ(o%VS,s*T*zT.s,u-aj#UY!W!e#n#s%V%w&W)y*T*z,u-aU&V#`&`(}Q)x&[Q+e'|Q+q(`Q-s+fQ.O+rQ/g.WR0U/hQ)i%vQ,g)fR/o.mR,h)f`!jP!o'^'h*q+O-^/OT%W!g*|R%]!hW%U!e%V*z-aQ(z%^R,V({S#d`%bR&a#eQ)X%gT*t'`'iR*y'e[!lP!o'^*q-^/OR%X!gR#h`R,b)]R)a%kT-j+]-kQ/V-mR/z/WR/z/X",nodeNames:" LineComment BlockComment Program ModuleDeclaration MarkerAnnotation Identifier ScopedIdentifier . Annotation ) ( AnnotationArgumentList AssignmentExpression FieldAccess IntegerLiteral FloatingPointLiteral BooleanLiteral CharacterLiteral StringLiteral TextBlock null ClassLiteral void PrimitiveType TypeName ScopedTypeName GenericType TypeArguments AnnotatedType Wildcard extends super , ArrayType ] Dimension [ class this ParenthesizedExpression ObjectCreationExpression new ArgumentList } { ClassBody ; FieldDeclaration Modifiers public protected private abstract static final strictfp default synchronized native transient volatile VariableDeclarator Definition AssignOp ArrayInitializer MethodDeclaration TypeParameters TypeParameter TypeBound FormalParameters ReceiverParameter FormalParameter SpreadParameter Throws throws Block ClassDeclaration Superclass SuperInterfaces implements InterfaceTypeList InterfaceDeclaration interface ExtendsInterfaces InterfaceBody ConstantDeclaration EnumDeclaration enum EnumBody EnumConstant EnumBodyDeclarations AnnotationTypeDeclaration AnnotationTypeBody AnnotationTypeElementDeclaration StaticInitializer ConstructorDeclaration ConstructorBody ExplicitConstructorInvocation ArrayAccess MethodInvocation MethodName MethodReference ArrayCreationExpression Dimension AssignOp BinaryExpression CompareOp CompareOp LogicOp LogicOp BitOp BitOp BitOp ArithOp ArithOp ArithOp BitOp InstanceofExpression instanceof LambdaExpression InferredParameters TernaryExpression LogicOp : UpdateExpression UpdateOp UnaryExpression LogicOp BitOp CastExpression ElementValueArrayInitializer ElementValuePair open module ModuleBody ModuleDirective requires transitive exports to opens uses provides with PackageDeclaration package ImportDeclaration import Asterisk ExpressionStatement LabeledStatement Label IfStatement if else WhileStatement while ForStatement for ForSpec LocalVariableDeclaration var EnhancedForStatement ForSpec AssertStatement assert SwitchStatement switch SwitchBlock SwitchLabel case DoStatement do BreakStatement break ContinueStatement continue ReturnStatement return SynchronizedStatement ThrowStatement throw TryStatement try CatchClause catch CatchFormalParameter CatchType FinallyClause finally TryWithResourcesStatement ResourceSpecification Resource ClassContent",maxTerm:276,nodeProps:[["isolate",-4,1,2,18,19,""],["group",-26,4,47,76,77,82,87,92,145,147,150,151,153,156,158,161,163,165,167,172,174,176,178,180,181,183,191,"Statement",-25,6,13,14,15,16,17,18,19,20,21,22,39,40,41,99,100,102,103,106,118,120,122,125,127,130,"Expression",-7,23,24,25,26,27,29,34,"Type"],["openedBy",10,"(",44,"{"],["closedBy",11,")",45,"}"]],propSources:[ZK],skippedNodes:[0,1,2],repeatNodeCount:28,tokenData:"#'f_R!_OX%QXY'fYZ)bZ^'f^p%Qpq'fqr*|rs,^st%Qtu4euv5zvw7[wx8rxyAZyzAwz{Be{|CZ|}Dq}!OE_!O!PFx!P!Q! r!Q!R!,h!R![!0`![!]!>p!]!^!@Q!^!_!@n!_!`!BX!`!a!B{!a!b!Di!b!c!EX!c!}!LT!}#O!Mj#O#P%Q#P#Q!NW#Q#R!Nt#R#S4e#S#T%Q#T#o4e#o#p# h#p#q#!U#q#r##n#r#s#$[#s#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4eS%VV&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS%qO&YSS%tVOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZS&^VOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QS&vP;=`<%l%QS&|UOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZS'cP;=`<%l&Z_'mk&YS%yZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qs#y%Q#y#z'f#z$f%Q$f$g'f$g#BY%Q#BY#BZ'f#BZ$IS%Q$IS$I_'f$I_$I|%Q$I|$JO'f$JO$JT%Q$JT$JU'f$JU$KV%Q$KV$KW'f$KW&FU%Q&FU&FV'f&FV;'S%Q;'S;=`&s<%lO%Q_)iY&YS%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XZ*^Y%yZX^*Xpq*X#y#z*X$f$g*X#BY#BZ*X$IS$I_*X$I|$JO*X$JT$JU*X$KV$KW*X&FU&FV*XV+TX#tP&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QU+wV#_Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT,aXOY,|YZ%lZr,|rs3Ys#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T-PXOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT-qX&YSOY-lYZ%lZr-lrs.^s#O-l#O#P.x#P;'S-l;'S;=`2|<%lO-lT.cVcPOY&ZYZ%lZr&Zrs&ys;'S&Z;'S;=`'`<%lO&ZT.}V&YSOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT/iW&YSOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0UWOY0RZr0Rrs0ns#O0R#O#P0s#P;'S0R;'S;=`1V<%lO0RP0sOcPP0vTOY0RYZ0RZ;'S0R;'S;=`1V<%lO0RP1YP;=`<%l0RT1`XOY,|YZ%lZr,|rs1{s#O,|#O#P2d#P;'S,|;'S;=`3S<%lO,|T2QUcPOY&ZYZ%lZr&Zs;'S&Z;'S;=`'`<%lO&ZT2gVOY-lYZ/dZr-lrs1]s;'S-l;'S;=`2|<%lO-lT3PP;=`<%l-lT3VP;=`<%l,|T3_VcPOY&ZYZ%lZr&Zrs3ts;'S&Z;'S;=`'`<%lO&ZT3yR&WSXY4SYZ4`pq4SP4VRXY4SYZ4`pq4SP4eO&XP_4lb&YS&PZOY%QYZ%lZr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o$g%Q$g;'S4e;'S;=`5t<%lO4e_5wP;=`<%l4eU6RX#hQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU6uV#]Q&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV7cZ&nR&YSOY%QYZ%lZr%Qrs%qsv%Qvw8Uw!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QU8]V#aQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT8wZ&YSOY9jYZ%lZr9jrs:xsw9jwx%Qx#O9j#O#P<S#P;'S9j;'S;=`AT<%lO9jT9oX&YSOY%QYZ%lZr%Qrs%qsw%Qwx:[x;'S%Q;'S;=`&s<%lO%QT:cVbP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT:{XOY&ZYZ%lZr&Zrs&ysw&Zwx;hx;'S&Z;'S;=`'`<%lO&ZT;mVbPOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT<XZ&YSOY<zYZ%lZr<zrs=rsw<zwx9jx#O<z#O#P9j#P;'S<z;'S;=`?^<%lO<zT=PZ&YSOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT=uZOY>hYZ%lZr>hrs?dsw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hT>kZOY<zYZ%lZr<zrs=rsw<zwx:[x#O<z#O#P%Q#P;'S<z;'S;=`?^<%lO<zT?aP;=`<%l<zT?gZOY>hYZ%lZr>hrs@Ysw>hwx;hx#O>h#O#P&Z#P;'S>h;'S;=`@}<%lO>hP@]VOY@YZw@Ywx@rx#O@Y#P;'S@Y;'S;=`@w<%lO@YP@wObPP@zP;=`<%l@YTAQP;=`<%l>hTAWP;=`<%l9j_AbVZZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBOVYR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVBnX$ZP&YS#gQOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVCbZ#fR&YSOY%QYZ%lZr%Qrs%qs{%Q{|DT|!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QVD[V#rR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVDxVqR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QVEf[#fR&YSOY%QYZ%lZr%Qrs%qs}%Q}!ODT!O!_%Q!_!`6n!`!aF[!a;'S%Q;'S;=`&s<%lO%QVFcV&xR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_GPZWY&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PGr!P!Q%Q!Q![IQ![;'S%Q;'S;=`&s<%lO%QVGwX&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!PHd!P;'S%Q;'S;=`&s<%lO%QVHkV&qR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTIXc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#R%Q#R#SNz#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTJkV&YS`POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QTKV]&YSOY%QYZ%lZr%Qrs%qs{%Q{|LO|}%Q}!OLO!O!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLTX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![;'S%Q;'S;=`&s<%lO%QTLwc&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![!f%Q!f!gJd!g!h%Q!h!iJd!i#R%Q#R#SNS#S#W%Q#W#XJd#X#Y%Q#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QTNXZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![Lp![#R%Q#R#SNS#S;'S%Q;'S;=`&s<%lO%QT! PZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![#R%Q#R#SNz#S;'S%Q;'S;=`&s<%lO%Q_! y]&YS#gQOY%QYZ%lZr%Qrs%qsz%Qz{!!r{!P%Q!P!Q!)e!Q!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%Q_!!wX&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!#iT&YSOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!#{TOz!#xz{!$[{;'S!#x;'S;=`!$y<%lO!#xZ!$_VOz!#xz{!$[{!P!#x!P!Q!$t!Q;'S!#x;'S;=`!$y<%lO!#xZ!$yOQZZ!$|P;=`<%l!#x_!%SXOY!%oYZ!#dZr!%ors!'ysz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!%rXOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{;'S!!r;'S;=`!'s<%lO!!r_!&dZ&YSOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!'^V&YSQZOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!'vP;=`<%l!!r_!'|XOY!%oYZ!#dZr!%ors!#xsz!%oz{!(i{;'S!%o;'S;=`!)_<%lO!%o_!(lZOY!!rYZ!#dZr!!rrs!%Psz!!rz{!&_{!P!!r!P!Q!'V!Q;'S!!r;'S;=`!'s<%lO!!r_!)bP;=`<%l!%o_!)lV&YSPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!*WVPZOY!*mYZ%lZr!*mrs!+_s;'S!*m;'S;=`!,b<%lO!*m_!*rVPZOY!)eYZ%lZr!)ers!*Rs;'S!)e;'S;=`!+X<%lO!)e_!+[P;=`<%l!)e_!+dVPZOY!*mYZ%lZr!*mrs!+ys;'S!*m;'S;=`!,b<%lO!*mZ!,OSPZOY!+yZ;'S!+y;'S;=`!,[<%lO!+yZ!,_P;=`<%l!+y_!,eP;=`<%l!*mT!,ou&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!d%Q!d!e!3j!e!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o!q%Q!q!r!5h!r!z%Q!z!{!7`!{#R%Q#R#S!2r#S#U%Q#U#V!3j#V#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a#c%Q#c#d!5h#d#l%Q#l#m!7`#m;'S%Q;'S;=`&s<%lO%QT!/Za&YS`POY%QYZ%lZr%Qrs%qs!Q%Q!Q![IQ![!f%Q!f!gJd!g!hKQ!h!iJd!i#W%Q#W#XJd#X#YKQ#Y#ZJd#Z;'S%Q;'S;=`&s<%lO%QT!0gi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!/S!P!Q%Q!Q![!0`![!f%Q!f!gJd!g!hKQ!h!iJd!i!n%Q!n!o!2U!o#R%Q#R#S!2r#S#W%Q#W#XJd#X#YKQ#Y#ZJd#Z#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!2]V&YS_POY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT!2wZ&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!0`![#R%Q#R#S!2r#S;'S%Q;'S;=`&s<%lO%QT!3oY&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S;'S%Q;'S;=`&s<%lO%QT!4f`&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!R!4_!R!S!4_!S!n%Q!n!o!2U!o#R%Q#R#S!3j#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!5mX&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y;'S%Q;'S;=`&s<%lO%QT!6a_&YS_POY%QYZ%lZr%Qrs%qs!Q%Q!Q!Y!6Y!Y!n%Q!n!o!2U!o#R%Q#R#S!5h#S#`%Q#`#a!2U#a;'S%Q;'S;=`&s<%lO%QT!7e_&YSOY%QYZ%lZr%Qrs%qs!O%Q!O!P!8d!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QT!8i]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i#T%Q#T#Z!9b#Z;'S%Q;'S;=`&s<%lO%QT!9gc&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#R%Q#R#S!8d#S#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!:yi&YS_POY%QYZ%lZr%Qrs%qs!O%Q!O!P!<h!P!Q%Q!Q![!:r![!c%Q!c!i!:r!i!n%Q!n!o!2U!o!r%Q!r!sKQ!s#R%Q#R#S!=r#S#T%Q#T#Z!:r#Z#`%Q#`#a!2U#a#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!<ma&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!9b![!c%Q!c!i!9b!i!r%Q!r!sKQ!s#T%Q#T#Z!9b#Z#d%Q#d#eKQ#e;'S%Q;'S;=`&s<%lO%QT!=w]&YSOY%QYZ%lZr%Qrs%qs!Q%Q!Q![!:r![!c%Q!c!i!:r!i#T%Q#T#Z!:r#Z;'S%Q;'S;=`&s<%lO%QV!>wX#pR&YSOY%QYZ%lZr%Qrs%qs![%Q![!]!?d!];'S%Q;'S;=`&s<%lO%QV!?kV&vR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!@XV!PR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!@uY&_Z&YSOY%QYZ%lZr%Qrs%qs!^%Q!^!_!Ae!_!`+p!`;'S%Q;'S;=`&s<%lO%QU!AlX#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV!B`X!bR&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`;'S%Q;'S;=`&s<%lO%QV!CSY&^R&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`+p!`!a!Cr!a;'S%Q;'S;=`&s<%lO%QU!CyY#iQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`!a!Ae!a;'S%Q;'S;=`&s<%lO%Q_!DrV&bX#oQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!E`X%}Z&YSOY%QYZ%lZr%Qrs%qs#]%Q#]#^!E{#^;'S%Q;'S;=`&s<%lO%QV!FQX&YSOY%QYZ%lZr%Qrs%qs#b%Q#b#c!Fm#c;'S%Q;'S;=`&s<%lO%QV!FrX&YSOY%QYZ%lZr%Qrs%qs#h%Q#h#i!G_#i;'S%Q;'S;=`&s<%lO%QV!GdX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!HP#Y;'S%Q;'S;=`&s<%lO%QV!HUX&YSOY%QYZ%lZr%Qrs%qs#f%Q#f#g!Hq#g;'S%Q;'S;=`&s<%lO%QV!HvX&YSOY%QYZ%lZr%Qrs%qs#Y%Q#Y#Z!Ic#Z;'S%Q;'S;=`&s<%lO%QV!IhX&YSOY%QYZ%lZr%Qrs%qs#T%Q#T#U!JT#U;'S%Q;'S;=`&s<%lO%QV!JYX&YSOY%QYZ%lZr%Qrs%qs#V%Q#V#W!Ju#W;'S%Q;'S;=`&s<%lO%QV!JzX&YSOY%QYZ%lZr%Qrs%qs#X%Q#X#Y!Kg#Y;'S%Q;'S;=`&s<%lO%QV!KnV&tR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_!L[b&RZ&YSOY%QYZ%lZr%Qrs%qst%Qtu!LTu!Q%Q!Q![!LT![!c%Q!c!}!LT!}#R%Q#R#S!LT#S#T%Q#T#o!LT#o$g%Q$g;'S!LT;'S;=`!Md<%lO!LT_!MgP;=`<%l!LT_!MqVuZ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV!N_VsR&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QU!N{X#eQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`;'S%Q;'S;=`&s<%lO%QV# oV}R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#!_Z'OX#dQ&YSOY%QYZ%lZr%Qrs%qs!_%Q!_!`6n!`#p%Q#p#q##Q#q;'S%Q;'S;=`&s<%lO%QU##XV#bQ&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QV##uV|R&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%QT#$cV#uP&YSOY%QYZ%lZr%Qrs%qs;'S%Q;'S;=`&s<%lO%Q_#%Ru&YS%yZ&PZOX%QXY'fYZ)bZ^'f^p%Qpq'fqr%Qrs%qst%Qtu4eu!Q%Q!Q![4e![!c%Q!c!}4e!}#R%Q#R#S4e#S#T%Q#T#o4e#o#y%Q#y#z'f#z$f%Q$f$g'f$g#BY4e#BY#BZ#$x#BZ$IS4e$IS$I_#$x$I_$I|4e$I|$JO#$x$JO$JT4e$JT$JU#$x$JU$KV4e$KV$KW#$x$KW&FU4e&FU&FV#$x&FV;'S4e;'S;=`5t<%lO4e",tokenizers:[0,1,2,3],topRules:{Program:[0,3],ClassContent:[1,194]},dynamicPrecedences:{27:1,232:-1,243:-1},specialized:[{term:231,get:t=>LK[t]||-1}],tokenPrec:7144}),VK=Xa.define({name:"java",parser:YK.configure({props:[Ml.add({IfStatement:Sl({except:/^\s*({|else\b)/}),TryStatement:Sl({except:/^\s*({|catch|finally)\b/}),LabeledStatement:mM,SwitchBlock:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:sf({closing:"}"}),BlockComment:()=>null,Statement:Sl({except:/^{/})}),zl.add({"Block SwitchBlock ClassBody ElementValueArrayInitializer ModuleBody EnumBody ConstructorBody InterfaceBody ArrayInitializer":Am,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\})$/}});function DK(){return new Nl(VK)}const BK="#e5c07b",sN="#e06c75",UK="#56b6c2",GK="#ffffff",bp="#abb2bf",h2="#7d8799",WK="#61afef",IK="#98c379",iN="#d19a66",HK="#c678dd",FK="#21252b",aN="#2c313a",lN="#282c34",Qx="#353a42",KK="#3E4451",oN="#528bff",JK=Ee.theme({"&":{color:bp,backgroundColor:lN},".cm-content":{caretColor:oN},".cm-cursor, .cm-dropCursor":{borderLeftColor:oN},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:KK},".cm-panels":{backgroundColor:FK,color:bp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:lN,color:h2,border:"none"},".cm-activeLineGutter":{backgroundColor:aN},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Qx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Qx,borderBottomColor:Qx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:aN,color:bp}}},{dark:!0}),eJ=qm.define([{tag:D.keyword,color:HK},{tag:[D.name,D.deleted,D.character,D.propertyName,D.macroName],color:sN},{tag:[D.function(D.variableName),D.labelName],color:WK},{tag:[D.color,D.constant(D.name),D.standard(D.name)],color:iN},{tag:[D.definition(D.name),D.separator],color:bp},{tag:[D.typeName,D.className,D.number,D.changed,D.annotation,D.modifier,D.self,D.namespace],color:BK},{tag:[D.operator,D.operatorKeyword,D.url,D.escape,D.regexp,D.link,D.special(D.string)],color:UK},{tag:[D.meta,D.comment],color:h2},{tag:D.strong,fontWeight:"bold"},{tag:D.emphasis,fontStyle:"italic"},{tag:D.strikethrough,textDecoration:"line-through"},{tag:D.link,color:h2,textDecoration:"underline"},{tag:D.heading,fontWeight:"bold",color:sN},{tag:[D.atom,D.bool,D.special(D.variableName)],color:iN},{tag:[D.processingInstruction,D.string,D.inserted],color:IK},{tag:D.invalid,color:GK}]),cN=[JK,aU(eJ)];function VQ(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Zl=VQ();function w7(t){Zl=t}var of={exec:()=>null};function yt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(In.caret,"$1"),n=n.replace(s,a),r},getRegex:()=>new RegExp(n,e)};return r}var tJ=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),In={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},nJ=/^(?:[ \t]*(?:\n|$))+/,rJ=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,sJ=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ff=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,iJ=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,DQ=/(?:[*+-]|\d{1,9}[.)])/,Q7=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,k7=yt(Q7).replace(/bull/g,DQ).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),aJ=yt(Q7).replace(/bull/g,DQ).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),BQ=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,lJ=/^[^\n]+/,UQ=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,oJ=yt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",UQ).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cJ=yt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,DQ).getRegex(),Vm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",GQ=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,uJ=yt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",GQ).replace("tag",Vm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$7=yt(BQ).replace("hr",Ff).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vm).getRegex(),fJ=yt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",$7).getRegex(),WQ={blockquote:fJ,code:rJ,def:oJ,fences:sJ,heading:iJ,hr:Ff,html:uJ,lheading:k7,list:cJ,newline:nJ,paragraph:$7,table:of,text:lJ},uN=yt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ff).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vm).getRegex(),dJ={...WQ,lheading:aJ,table:uN,paragraph:yt(BQ).replace("hr",Ff).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",uN).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vm).getRegex()},hJ={...WQ,html:yt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",GQ).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:of,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:yt(BQ).replace("hr",Ff).replace("heading",` *#{1,6} *[^
]`).replace("lheading",k7).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},pJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mJ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,T7=/^( {2,}|\\)\n(?!\s*$)/,OJ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Dm=/[\p{P}\p{S}]/u,IQ=/[\s\p{P}\p{S}]/u,_7=/[^\s\p{P}\p{S}]/u,gJ=yt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,IQ).getRegex(),P7=/(?!~)[\p{P}\p{S}]/u,xJ=/(?!~)[\s\p{P}\p{S}]/u,bJ=/(?:[^\s\p{P}\p{S}]|~)/u,yJ=yt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",tJ?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),j7=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,vJ=yt(j7,"u").replace(/punct/g,Dm).getRegex(),SJ=yt(j7,"u").replace(/punct/g,P7).getRegex(),N7="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",wJ=yt(N7,"gu").replace(/notPunctSpace/g,_7).replace(/punctSpace/g,IQ).replace(/punct/g,Dm).getRegex(),QJ=yt(N7,"gu").replace(/notPunctSpace/g,bJ).replace(/punctSpace/g,xJ).replace(/punct/g,P7).getRegex(),kJ=yt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_7).replace(/punctSpace/g,IQ).replace(/punct/g,Dm).getRegex(),$J=yt(/\\(punct)/,"gu").replace(/punct/g,Dm).getRegex(),TJ=yt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_J=yt(GQ).replace("(?:-->|$)","-->").getRegex(),PJ=yt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_J).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),em=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,jJ=yt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",em).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),C7=yt(/^!?\[(label)\]\[(ref)\]/).replace("label",em).replace("ref",UQ).getRegex(),E7=yt(/^!?\[(ref)\](?:\[\])?/).replace("ref",UQ).getRegex(),NJ=yt("reflink|nolink(?!\\()","g").replace("reflink",C7).replace("nolink",E7).getRegex(),fN=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,HQ={_backpedal:of,anyPunctuation:$J,autolink:TJ,blockSkip:yJ,br:T7,code:mJ,del:of,emStrongLDelim:vJ,emStrongRDelimAst:wJ,emStrongRDelimUnd:kJ,escape:pJ,link:jJ,nolink:E7,punctuation:gJ,reflink:C7,reflinkSearch:NJ,tag:PJ,text:OJ,url:of},CJ={...HQ,link:yt(/^!?\[(label)\]\((.*?)\)/).replace("label",em).getRegex(),reflink:yt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",em).getRegex()},p2={...HQ,emStrongRDelimAst:QJ,emStrongLDelim:SJ,url:yt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",fN).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:yt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",fN).getRegex()},EJ={...p2,br:yt(T7).replace("{2,}","*").getRegex(),text:yt(p2.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Dh={normal:WQ,gfm:dJ,pedantic:hJ},Ru={normal:HQ,gfm:p2,breaks:EJ,pedantic:CJ},RJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dN=t=>RJ[t];function _i(t,e){if(e){if(In.escapeTest.test(t))return t.replace(In.escapeReplace,dN)}else if(In.escapeTestNoEncode.test(t))return t.replace(In.escapeReplaceNoEncode,dN);return t}function hN(t){try{t=encodeURI(t).replace(In.percentDecode,"%")}catch{return null}return t}function pN(t,e){var i;let n=t.replace(In.findPipe,(a,o,u)=>{let f=!1,p=o;for(;--p>=0&&u[p]==="\\";)f=!f;return f?"|":" |"}),r=n.split(In.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!((i=r.at(-1))!=null&&i.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(In.slashPipe,"|");return r}function Au(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function AJ(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function mN(t,e,n,r,s){let i=e.href,a=e.title||null,o=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}function qJ(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let a=i.match(n.other.beginningSpace);if(a===null)return i;let[o]=a;return o.length>=s.length?i.slice(s.length):i}).join(`
`)}var tm=class{constructor(t){jt(this,"options");jt(this,"rules");jt(this,"lexer");this.options=t||Zl}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Au(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=qJ(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Au(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Au(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Au(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let a=!1,o=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))o.push(n[u]),a=!0;else if(!a)o.push(n[u]);else break;n=n.slice(u);let f=o.join(`
`),p=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${f}`:f,s=s?`${s}
${p}`:p;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,i,!0),this.lexer.state.top=m,n.length===0)break;let g=i.at(-1);if((g==null?void 0:g.type)==="code")break;if((g==null?void 0:g.type)==="blockquote"){let x=g,v=x.raw+`
`+n.join(`
`),y=this.blockquote(v);i[i.length-1]=y,r=r.substring(0,r.length-x.raw.length)+y.raw,s=s.substring(0,s.length-x.text.length)+y.text;break}else if((g==null?void 0:g.type)==="list"){let x=g,v=x.raw+`
`+n.join(`
`),y=this.list(v);i[i.length-1]=y,r=r.substring(0,r.length-g.raw.length)+y.raw,s=s.substring(0,s.length-x.raw.length)+y.raw,n=v.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){var n,r;let e=this.rules.block.list.exec(t);if(e){let s=e[1].trim(),i=s.length>1,a={type:"list",raw:"",ordered:i,start:i?+s.slice(0,-1):"",loose:!1,items:[]};s=i?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=i?s:"[*+-]");let o=this.rules.other.listItemRegex(s),u=!1;for(;t;){let p=!1,m="",g="";if(!(e=o.exec(t))||this.rules.block.hr.test(t))break;m=e[0],t=t.substring(m.length);let x=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Q=>" ".repeat(3*Q.length)),v=t.split(`
`,1)[0],y=!x.trim(),w=0;if(this.options.pedantic?(w=2,g=x.trimStart()):y?w=e[1].length+1:(w=e[2].search(this.rules.other.nonSpaceChar),w=w>4?1:w,g=x.slice(w),w+=e[1].length),y&&this.rules.other.blankLine.test(v)&&(m+=v+`
`,t=t.substring(v.length+1),p=!0),!p){let Q=this.rules.other.nextBulletRegex(w),k=this.rules.other.hrRegex(w),$=this.rules.other.fencesBeginRegex(w),_=this.rules.other.headingBeginRegex(w),T=this.rules.other.htmlBeginRegex(w);for(;t;){let N=t.split(`
`,1)[0],C;if(v=N,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),C=v):C=v.replace(this.rules.other.tabCharGlobal,"    "),$.test(v)||_.test(v)||T.test(v)||Q.test(v)||k.test(v))break;if(C.search(this.rules.other.nonSpaceChar)>=w||!v.trim())g+=`
`+C.slice(w);else{if(y||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||$.test(x)||_.test(x)||k.test(x))break;g+=`
`+v}!y&&!v.trim()&&(y=!0),m+=N+`
`,t=t.substring(N.length+1),x=C.slice(w)}}a.loose||(u?a.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(u=!0)),a.items.push({type:"list_item",raw:m,task:!!this.options.gfm&&this.rules.other.listIsTask.test(g),loose:!1,text:g,tokens:[]}),a.raw+=m}let f=a.items.at(-1);if(f)f.raw=f.raw.trimEnd(),f.text=f.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let p of a.items){if(this.lexer.state.top=!1,p.tokens=this.lexer.blockTokens(p.text,[]),p.task){if(p.text=p.text.replace(this.rules.other.listReplaceTask,""),((n=p.tokens[0])==null?void 0:n.type)==="text"||((r=p.tokens[0])==null?void 0:r.type)==="paragraph"){p.tokens[0].raw=p.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),p.tokens[0].text=p.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let g=this.lexer.inlineQueue.length-1;g>=0;g--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[g].src)){this.lexer.inlineQueue[g].src=this.lexer.inlineQueue[g].src.replace(this.rules.other.listReplaceTask,"");break}}let m=this.rules.other.listTaskCheckbox.exec(p.raw);if(m){let g={type:"checkbox",raw:m[0]+" ",checked:m[0]!=="[ ]"};p.checked=g.checked,a.loose?p.tokens[0]&&["paragraph","text"].includes(p.tokens[0].type)&&"tokens"in p.tokens[0]&&p.tokens[0].tokens?(p.tokens[0].raw=g.raw+p.tokens[0].raw,p.tokens[0].text=g.raw+p.tokens[0].text,p.tokens[0].tokens.unshift(g)):p.tokens.unshift({type:"paragraph",raw:g.raw,text:g.raw,tokens:[g]}):p.tokens.unshift(g)}}if(!a.loose){let m=p.tokens.filter(x=>x.type==="space"),g=m.length>0&&m.some(x=>this.rules.other.anyLine.test(x.raw));a.loose=g}}if(a.loose)for(let p of a.items){p.loose=!0;for(let m of p.tokens)m.type==="text"&&(m.type="paragraph")}return a}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){var a;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=pN(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(a=e[3])!=null&&a.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(pN(o,i.header.length).map((u,f)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:i.align[f]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Au(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=AJ(e[2],"()");if(i===-2)return;if(i>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),mN(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return mN(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,a,o=s,u=0,f=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,e=e.slice(-1*t.length+s);(r=f.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(a=[...i].length,r[3]||r[4]){o+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){u+=a;continue}if(o-=a,o>0)continue;a=Math.min(a,a+o+u);let p=[...r[0]][0].length,m=t.slice(0,s+r.index+p+a);if(Math.min(s,a)%2){let x=m.slice(1,-1);return{type:"em",raw:m,text:x,tokens:this.lexer.inlineTokens(x)}}let g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,s;if(e[2]==="@")r=e[0],s="mailto:"+r;else{let i;do i=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(i!==e[0]);r=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},bs=class m2{constructor(e){jt(this,"tokens");jt(this,"options");jt(this,"state");jt(this,"inlineQueue");jt(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Zl,this.options.tokenizer=this.options.tokenizer||new tm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:In,block:Dh.normal,inline:Ru.normal};this.options.pedantic?(n.block=Dh.pedantic,n.inline=Ru.pedantic):this.options.gfm&&(n.block=Dh.gfm,this.options.breaks?n.inline=Ru.breaks:n.inline=Ru.gfm),this.tokenizer.rules=n}static get rules(){return{block:Dh,inline:Ru}}static lex(e,n){return new m2(n).lex(e)}static lexInline(e,n){return new m2(n).inlineTokens(e)}lex(e){e=e.replace(In.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var s,i,a;for(this.options.pedantic&&(e=e.replace(In.tabCharGlobal,"    ").replace(In.spaceLine,""));e;){let o;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(f=>(o=f.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);let f=n.at(-1);o.raw.length===1&&f!==void 0?f.raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);let f=n.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+o.raw,f.text+=`
`+o.text,this.inlineQueue.at(-1).src=f.text):n.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);let f=n.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+o.raw,f.text+=`
`+o.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if((a=this.options.extensions)!=null&&a.startBlock){let f=1/0,p=e.slice(1),m;this.options.extensions.startBlock.forEach(g=>{m=g.call({lexer:this},p),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(u=e.substring(0,f+1))}if(this.state.top&&(o=this.tokenizer.paragraph(u))){let f=n.at(-1);r&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+o.raw,f.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):n.push(o),r=u.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);let f=n.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+o.raw,f.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):n.push(o);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var u,f,p,m,g;let r=e,s=null;if(this.tokens.links){let x=Object.keys(this.tokens.links);if(x.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)x.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=s[2]?s[2].length:0,r=r.slice(0,s.index+i)+"["+"a".repeat(s[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((f=(u=this.options.hooks)==null?void 0:u.emStrongMask)==null?void 0:f.call({lexer:this},r))??r;let a=!1,o="";for(;e;){a||(o=""),a=!1;let x;if((m=(p=this.options.extensions)==null?void 0:p.inline)!=null&&m.some(y=>(x=y.call({lexer:this},e,n))?(e=e.substring(x.raw.length),n.push(x),!0):!1))continue;if(x=this.tokenizer.escape(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.tag(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.link(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(x.raw.length);let y=n.at(-1);x.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=x.raw,y.text+=x.text):n.push(x);continue}if(x=this.tokenizer.emStrong(e,r,o)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.codespan(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.br(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.del(e)){e=e.substring(x.raw.length),n.push(x);continue}if(x=this.tokenizer.autolink(e)){e=e.substring(x.raw.length),n.push(x);continue}if(!this.state.inLink&&(x=this.tokenizer.url(e))){e=e.substring(x.raw.length),n.push(x);continue}let v=e;if((g=this.options.extensions)!=null&&g.startInline){let y=1/0,w=e.slice(1),Q;this.options.extensions.startInline.forEach(k=>{Q=k.call({lexer:this},w),typeof Q=="number"&&Q>=0&&(y=Math.min(y,Q))}),y<1/0&&y>=0&&(v=e.substring(0,y+1))}if(x=this.tokenizer.inlineText(v)){e=e.substring(x.raw.length),x.raw.slice(-1)!=="_"&&(o=x.raw.slice(-1)),a=!0;let y=n.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=x.raw,y.text+=x.text):n.push(x);continue}if(e){let y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return n}},nm=class{constructor(t){jt(this,"options");jt(this,"parser");this.options=t||Zl}space(t){return""}code({text:t,lang:e,escaped:n}){var i;let r=(i=(e||"").match(In.notSpaceStart))==null?void 0:i[0],s=t.replace(In.endingNewline,"")+`
`;return r?'<pre><code class="language-'+_i(r)+'">'+(n?s:_i(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:_i(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let a=0;a<t.items.length;a++){let o=t.items[a];r+=this.listitem(o)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let a=0;a<i.length;a++)n+=this.tablecell(i[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${_i(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=hN(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+_i(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=hN(t);if(s===null)return _i(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${_i(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:_i(t.text)}},FQ=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},ys=class O2{constructor(e){jt(this,"options");jt(this,"renderer");jt(this,"textRenderer");this.options=e||Zl,this.options.renderer=this.options.renderer||new nm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new FQ}static parse(e,n){return new O2(n).parse(e)}static parseInline(e,n){return new O2(n).parseInline(e)}parse(e){var r,s;let n="";for(let i=0;i<e.length;i++){let a=e[i];if((s=(r=this.options.extensions)==null?void 0:r.renderers)!=null&&s[a.type]){let u=a,f=this.options.extensions.renderers[u.type].call({parser:this},u);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(u.type)){n+=f||"";continue}}let o=a;switch(o.type){case"space":{n+=this.renderer.space(o);break}case"hr":{n+=this.renderer.hr(o);break}case"heading":{n+=this.renderer.heading(o);break}case"code":{n+=this.renderer.code(o);break}case"table":{n+=this.renderer.table(o);break}case"blockquote":{n+=this.renderer.blockquote(o);break}case"list":{n+=this.renderer.list(o);break}case"checkbox":{n+=this.renderer.checkbox(o);break}case"html":{n+=this.renderer.html(o);break}case"def":{n+=this.renderer.def(o);break}case"paragraph":{n+=this.renderer.paragraph(o);break}case"text":{n+=this.renderer.text(o);break}default:{let u='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(u),"";throw new Error(u)}}}return n}parseInline(e,n=this.renderer){var s,i;let r="";for(let a=0;a<e.length;a++){let o=e[a];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[o.type]){let f=this.options.extensions.renderers[o.type].call({parser:this},o);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=f||"";continue}}let u=o;switch(u.type){case"escape":{r+=n.text(u);break}case"html":{r+=n.html(u);break}case"link":{r+=n.link(u);break}case"image":{r+=n.image(u);break}case"checkbox":{r+=n.checkbox(u);break}case"strong":{r+=n.strong(u);break}case"em":{r+=n.em(u);break}case"codespan":{r+=n.codespan(u);break}case"br":{r+=n.br(u);break}case"del":{r+=n.del(u);break}case"text":{r+=n.text(u);break}default:{let f='Token with "'+u.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return r}},tp,Uu=(tp=class{constructor(t){jt(this,"options");jt(this,"block");this.options=t||Zl}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?bs.lex:bs.lexInline}provideParser(){return this.block?ys.parse:ys.parseInline}},jt(tp,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),jt(tp,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),tp),R7=class{constructor(...t){jt(this,"defaults",VQ());jt(this,"options",this.setOptions);jt(this,"parse",this.parseMarkdown(!0));jt(this,"parseInline",this.parseMarkdown(!1));jt(this,"Parser",ys);jt(this,"Renderer",nm);jt(this,"TextRenderer",FQ);jt(this,"Lexer",bs);jt(this,"Tokenizer",tm);jt(this,"Hooks",Uu);this.use(...t)}walkTokens(t,e){var r,s;let n=[];for(let i of t)switch(n=n.concat(e.call(this,i)),i.type){case"table":{let a=i;for(let o of a.header)n=n.concat(this.walkTokens(o.tokens,e));for(let o of a.rows)for(let u of o)n=n.concat(this.walkTokens(u.tokens,e));break}case"list":{let a=i;n=n.concat(this.walkTokens(a.items,e));break}default:{let a=i;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{let u=a[o].flat(1/0);n=n.concat(this.walkTokens(u,e))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...a){let o=s.renderer.apply(this,a);return o===!1&&(o=i.apply(this,a)),o}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new nm(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,o=n.renderer[a],u=s[a];s[a]=(...f)=>{let p=o.apply(s,f);return p===!1&&(p=u.apply(s,f)),p||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new tm(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,o=n.tokenizer[a],u=s[a];s[a]=(...f)=>{let p=o.apply(s,f);return p===!1&&(p=u.apply(s,f)),p}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Uu;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,o=n.hooks[a],u=s[a];Uu.passThroughHooks.has(i)?s[a]=f=>{if(this.defaults.async&&Uu.passThroughHooksRespectAsync.has(i))return(async()=>{let m=await o.call(s,f);return u.call(s,m)})();let p=o.call(s,f);return u.call(s,p)}:s[a]=(...f)=>{if(this.defaults.async)return(async()=>{let m=await o.apply(s,f);return m===!1&&(m=await u.apply(s,f)),m})();let p=o.apply(s,f);return p===!1&&(p=u.apply(s,f)),p}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(a){let o=[];return o.push(i.call(this,a)),s&&(o=o.concat(s.call(this,a))),o}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return bs.lex(t,e??this.defaults)}parser(t,e){return ys.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(e):e,o=await(s.hooks?await s.hooks.provideLexer():t?bs.lex:bs.lexInline)(a,s),u=s.hooks?await s.hooks.processAllTokens(o):o;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let f=await(s.hooks?await s.hooks.provideParser():t?ys.parse:ys.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(f):f})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let a=(s.hooks?s.hooks.provideLexer():t?bs.lex:bs.lexInline)(e,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let o=(s.hooks?s.hooks.provideParser():t?ys.parse:ys.parseInline)(a,s);return s.hooks&&(o=s.hooks.postprocess(o)),o}catch(a){return i(a)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+_i(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},El=new R7;function Nt(t,e){return El.parse(t,e)}Nt.options=Nt.setOptions=function(t){return El.setOptions(t),Nt.defaults=El.defaults,w7(Nt.defaults),Nt};Nt.getDefaults=VQ;Nt.defaults=Zl;Nt.use=function(...t){return El.use(...t),Nt.defaults=El.defaults,w7(Nt.defaults),Nt};Nt.walkTokens=function(t,e){return El.walkTokens(t,e)};Nt.parseInline=El.parseInline;Nt.Parser=ys;Nt.parser=ys.parse;Nt.Renderer=nm;Nt.TextRenderer=FQ;Nt.Lexer=bs;Nt.lexer=bs.lex;Nt.Tokenizer=tm;Nt.Hooks=Uu;Nt.parse=Nt;Nt.options;Nt.setOptions;Nt.use;Nt.walkTokens;Nt.parseInline;ys.parse;bs.lex;const ON=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:t.toString(),XJ=t=>t<.01?`$${t.toFixed(3)}`:`$${t.toFixed(2)}`,MJ=t=>{const e=new Map;for(const n of t){const r=n.provider||"Other";e.has(r)||e.set(r,[]),e.get(r).push(n)}return e},gN=t=>{const e=t.model.split("/").pop()||t.model;return e.length>25?e.substring(0,22)+"...":e},zJ=({selectedModel:t,onModelChange:e,className:n=""})=>{const[r,s]=j.useState([]),[i,a]=j.useState(""),[o,u]=j.useState(!1),[f,p]=j.useState(!0),[m,g]=j.useState(null),x=j.useRef(null);j.useEffect(()=>{(async()=>{try{p(!0);const w=await qe.getModels();if(s(w.models),a(w.default_model),!t&&w.models.length>0){const Q=w.models.find(k=>k.model===w.default_model);e(Q||w.models[0])}}catch(w){console.error("Failed to fetch models:",w),g(w.message||"Failed to load models")}finally{p(!1)}})()},[]),j.useEffect(()=>{const y=w=>{x.current&&!x.current.contains(w.target)&&u(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const v=MJ(r);return f?d.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs bg-surface-700/50 text-surface-400 ${n}`,children:[d.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{className:"hidden sm:inline",children:"Loading..."})]}):m?d.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs bg-red-500/10 text-red-400 border border-red-500/30 ${n}`,title:m,children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Error"})]}):d.jsxs("div",{className:`relative ${n}`,ref:x,children:[d.jsxs("button",{onClick:()=>u(!o),className:"flex items-center gap-1.5 px-2 py-1 rounded border border-surface-600/50 bg-surface-700/50 hover:bg-surface-600/50 transition-colors text-xs",children:[d.jsx("span",{className:"text-surface-400 hidden sm:inline",children:"Model:"}),d.jsx("span",{className:"text-white font-medium truncate max-w-[120px] sm:max-w-[180px]",children:t?gN(t):"Select..."}),t&&t.max_thinking_tokens>0&&d.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] bg-purple-500/20 text-purple-300 hidden sm:inline",children:"Think"}),d.jsx("svg",{className:`w-3 h-3 text-surface-400 transition-transform ${o?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&d.jsx("div",{className:"absolute left-0 top-full mt-1 z-50 w-[320px] sm:w-[400px] max-h-[400px] overflow-auto bg-surface-800 border border-surface-600 rounded-lg shadow-xl",children:Array.from(v.entries()).map(([y,w],Q)=>d.jsxs("div",{children:[Q>0&&d.jsx("div",{className:"border-t border-surface-700"}),d.jsx("div",{className:"px-3 py-1.5 text-[10px] font-medium text-surface-500 uppercase tracking-wider bg-surface-800/50 sticky top-0",children:y}),w.map(k=>{const $=(t==null?void 0:t.model)===k.model,_=k.model===i;return d.jsxs("button",{onClick:()=>{e(k),u(!1)},className:`w-full text-left px-3 py-2 hover:bg-surface-700/50 transition-colors ${$?"bg-accent-500/10 border-l-2 border-accent-500":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("span",{className:`text-sm truncate ${$?"text-white font-medium":"text-surface-200"}`,children:gN(k)}),_&&d.jsx("span",{className:"px-1 py-0.5 rounded text-[9px] bg-green-500/20 text-green-300 flex-shrink-0",children:"Default"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-surface-400 flex-shrink-0",children:[d.jsx("span",{className:"text-green-400",children:XJ(k.input_cost)}),d.jsxs("span",{children:[ON(k.context_limit)," ctx"]}),d.jsxs("span",{className:"text-yellow-400",children:["ELO ",k.elo]})]})]}),k.max_thinking_tokens>0&&d.jsxs("div",{className:"mt-0.5 text-[10px] text-purple-400 flex items-center gap-1",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),ON(k.max_thinking_tokens)," thinking tokens"]})]},k.model)})]},y))})]})},ZJ=({rawMetrics:t,processedMetrics:e,viewMode:n,onViewModeChange:r,isLoading:s,preprocessingError:i,timeValue:a=.25,promptLineCount:o,codeLineCount:u,contextLimit:f,maxThinkingTokens:p,selectedModel:m,onModelChange:g})=>{const x=n==="processed"?e:t,v=(m==null?void 0:m.context_limit)||(x==null?void 0:x.context_limit)||f||2e5,y=(m==null?void 0:m.max_thinking_tokens)||p||(v>=2e5?128e3:32e3),w=Math.floor(a*y),Q=(x==null?void 0:x.token_count)||0,k=Math.max(0,v-Q-w),$=k<2e4,_=Y=>Y<50?"text-green-400":Y<75?"text-yellow-400":Y<90?"text-orange-400":"text-red-400",T=Y=>Y<50?"bg-green-500":Y<75?"bg-yellow-500":Y<90?"bg-orange-500":"bg-red-500",N=Y=>Y<1e-4?`$${Y.toFixed(6)}`:Y<.01?`$${Y.toFixed(4)}`:Y<1?`$${Y.toFixed(3)}`:`$${Y.toFixed(2)}`,C=Y=>Y>=1e6?`${(Y/1e6).toFixed(1)}M`:Y>=1e3?`${(Y/1e3).toFixed(1)}K`:Y.toString(),q=v,z=Q/q*100,Z=w/q*100,R=k/q*100;return d.jsxs("div",{className:"bg-surface-800/30 border-b border-surface-700/50",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between px-3 sm:px-4 py-2 sm:py-2.5 gap-2 sm:gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400",children:"View:"}),d.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-surface-600/50",children:[d.jsx("button",{onClick:()=>r("raw"),className:`px-2 sm:px-3 py-1 text-[10px] sm:text-xs font-medium transition-all duration-200 ${n==="raw"?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600"}`,children:"Raw"}),d.jsx("button",{onClick:()=>r("processed"),disabled:!e&&!i,className:`px-2 sm:px-3 py-1 text-[10px] sm:text-xs font-medium transition-all duration-200 ${n==="processed"?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600"} ${!e&&!i?"opacity-50 cursor-not-allowed":""}`,title:i?`Error: ${i}`:"View processed prompt with includes expanded",children:"Processed"})]}),i&&n==="processed"&&d.jsx("span",{className:"text-[10px] sm:text-xs text-red-400 ml-1 sm:ml-2 truncate max-w-[100px] sm:max-w-none",title:i,children:"Error"}),g&&d.jsx("div",{className:"hidden sm:block ml-2",children:d.jsx(zJ,{selectedModel:m||null,onModelChange:g})})]}),d.jsx("div",{className:"flex items-center gap-3 sm:gap-5 flex-wrap",children:s?d.jsxs("div",{className:"flex items-center gap-1.5 text-surface-400 text-[10px] sm:text-xs",children:[d.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Analyzing..."]}):x?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400",children:"Tokens:"}),d.jsx("span",{className:"text-xs sm:text-sm font-mono text-white",children:C(x.token_count)})]}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Context:"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-12 sm:w-16 h-1.5 sm:h-2 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full transition-all ${T(x.context_usage_percent)}`,style:{width:`${Math.min(x.context_usage_percent,100)}%`}})}),d.jsxs("span",{className:`text-xs sm:text-sm font-mono ${_(x.context_usage_percent)}`,children:[x.context_usage_percent.toFixed(0),"%"]})]})]}),x.cost_estimate&&d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Cost:"}),d.jsx("span",{className:"text-xs sm:text-sm font-mono text-green-400",children:N(x.cost_estimate.input_cost)})]}),d.jsxs("div",{className:"flex items-center gap-1.5",title:`${C(w)} thinking tokens (${Math.round(a*100)}% of ${C(y)} max)`,children:[d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Thinking:"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-12 sm:w-16 h-1.5 sm:h-2 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full transition-all bg-gradient-to-r from-purple-500 to-blue-500",style:{width:`${Math.min(a*100,100)}%`}})}),d.jsx("span",{className:"text-xs sm:text-sm font-mono text-purple-400",children:C(w)})]})]}),o!==void 0&&o>0&&u!==void 0&&d.jsxs("div",{className:"flex items-center gap-1.5",title:`${u} lines of code / ${o} lines of prompt`,children:[d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-400 hidden sm:inline",children:"Code:Prompt:"}),d.jsxs("span",{className:`text-xs sm:text-sm font-mono ${u/o>=1?"text-blue-400":"text-orange-400"}`,children:[(u/o).toFixed(1),"x"]}),d.jsxs("span",{className:"text-[10px] text-surface-500 hidden md:inline",children:["(",u,"/",o,")"]})]})]}):d.jsx("span",{className:"text-[10px] sm:text-xs text-surface-500",children:"No metrics"})})]}),x&&d.jsxs("div",{className:"px-3 sm:px-4 pb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-[10px] text-surface-500 w-16 sm:w-20 flex-shrink-0",children:[C(v)," ctx"]}),d.jsxs("div",{className:"flex-1 h-2 sm:h-2.5 bg-surface-700/50 rounded-full overflow-hidden flex",children:[d.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${Math.min(z,100)}%`},title:`Input: ${C(Q)} tokens (${z.toFixed(1)}%)`}),d.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${Math.min(Z,100-z)}%`},title:`Thinking: ${C(w)} tokens (${Z.toFixed(1)}%)`}),d.jsx("div",{className:`h-full transition-all ${$?"bg-orange-500/50":"bg-green-500/30"}`,style:{width:`${Math.max(R,0)}%`},title:`Output capacity: ${C(k)} tokens (${R.toFixed(1)}%)`})]})]}),d.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[9px] sm:text-[10px] text-surface-500",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 rounded-sm bg-blue-500"}),d.jsxs("span",{children:["Input ",C(Q)]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 rounded-sm bg-purple-500"}),d.jsxs("span",{children:["Thinking ",C(w)]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:`w-2 h-2 rounded-sm ${$?"bg-orange-500":"bg-green-500/50"}`}),d.jsxs("span",{className:$?"text-orange-400":"",children:["Output ",C(k),$&&" (low)"]})]})]})]})]})},A7=[{tag:"include",description:"Include file content (text or image) at this position",syntax:"<include>path/to/file</include>",example:"<include>context/preamble.prompt</include>",hasClosingTag:!0,category:"include"},{tag:"include-many",description:"Include multiple files (comma-separated)",syntax:"<include-many>path1, path2, ...</include-many>",example:"<include-many>src/api.ts, src/types.ts</include-many>",hasClosingTag:!0,category:"include"},{tag:"pdd",description:"Human-only comment (removed during preprocessing)",syntax:"<pdd>comment text</pdd>",example:"<pdd>TODO: Add more examples here</pdd>",hasClosingTag:!0,category:"meta"},{tag:"shell",description:"Run shell command and inline stdout (non-deterministic)",syntax:"<shell>command</shell>",example:"<shell>git config --get user.name</shell>",hasClosingTag:!0,category:"dynamic"},{tag:"web",description:"Fetch URL content as markdown (non-deterministic)",syntax:"<web>URL</web>",example:"<web>https://docs.example.com/api</web>",hasClosingTag:!0,category:"dynamic"},{tag:"pin",description:"Force a specific grounding example (PDD Cloud)",syntax:"<pin>module_name</pin>",example:"<pin>user_service</pin>",hasClosingTag:!0,category:"grounding"},{tag:"exclude",description:"Block a grounding example from being retrieved (PDD Cloud)",syntax:"<exclude>module_name</exclude>",example:"<exclude>legacy_handler</exclude>",hasClosingTag:!0,category:"grounding"}],LJ=[{title:"Prompt-to-Code Ratio",content:"Aim for 10-30% of expected code size. Too vague (<10%) or too detailed (>50%) reduces effectiveness."},{title:"Prompt Structure",content:"Include: Role/scope (1-2 sentences), Requirements (5-10 items), Dependencies via <include>."},{title:"What to Avoid",content:"Don't include: Coding style (use preamble), implementation patterns, every edge case (use tests)."},{title:"Shared Preamble",content:"Use <include>context/preamble.prompt</include> for consistent coding style across all prompts."}],q7={include:"Context Includes",grounding:"Grounding (Cloud)",dynamic:"Dynamic Content",meta:"Comments"},YJ=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),rm=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),sm=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),X7=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),VJ=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),cf=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t,children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),kx=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25v3.75m0 0a3 3 0 003 3h3"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12c0-4.97 4.03-9 9-9s9 4.03 9 9-4.03 9-9 9"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-2.636-2.636"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 8.25l2.636-2.636"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 15.75l-2.636 2.636"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l2.636 2.636"})]}),DJ=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})}),M7=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),z7=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})}),$x=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"})}),xN=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),BJ=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}),Z7=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),UJ=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),GJ=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),WJ=A7.reduce((t,e)=>(t[e.category]||(t[e.category]=[]),t[e.category].push(e),t),{}),IJ=["include","dynamic","grounding","meta"],HJ=({directive:t})=>{const[e,n]=j.useState(!1);return d.jsxs("div",{className:`rounded-md border border-surface-700/50 bg-surface-800/50 overflow-hidden transition-all duration-200 ${e?"ring-1 ring-accent-500/30":""}`,children:[d.jsxs("button",{onClick:()=>n(!e),className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-surface-700/30 transition-colors",children:[d.jsxs("code",{className:"text-accent-400 font-mono text-sm",children:["<",t.tag,">"]}),d.jsx("svg",{className:`w-4 h-4 text-text-secondary transition-transform duration-200 ${e?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&d.jsxs("div",{className:"px-3 pb-3 pt-1 border-t border-surface-700/50 bg-surface-900/30",children:[d.jsx("p",{className:"text-text-secondary text-xs mb-2",children:t.description}),d.jsx("div",{className:"bg-surface-900 rounded px-2 py-1.5",children:d.jsx("code",{className:"text-xs text-text-muted font-mono break-all",children:t.syntax})}),t.example&&d.jsxs("div",{className:"mt-2",children:[d.jsx("span",{className:"text-xs text-text-muted",children:"Example:"}),d.jsx("div",{className:"bg-surface-900 rounded px-2 py-1.5 mt-1",children:d.jsx("code",{className:"text-xs text-accent-300 font-mono break-all",children:t.example})})]})]})]})},FJ=({isOpen:t,onClose:e})=>t?d.jsxs("aside",{className:"w-72 flex-shrink-0 border-l border-surface-700 bg-surface-800 flex flex-col overflow-hidden animate-slide-in-right",children:[d.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-700 bg-surface-800/80",children:[d.jsxs("h3",{className:"font-semibold text-text-primary flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Prompting Guide"]}),d.jsx("button",{onClick:e,className:"p-1 rounded hover:bg-surface-700 text-text-secondary hover:text-text-primary transition-colors","aria-label":"Close guide",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsxs("section",{className:"p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3",children:"PDD Directives"}),d.jsxs("p",{className:"text-xs text-text-secondary mb-3",children:["Type ",d.jsx("code",{className:"text-accent-400 bg-surface-900 px-1 rounded",children:"<"})," in the editor to trigger autocomplete."]}),d.jsx("div",{className:"space-y-4",children:IJ.map(n=>{const r=WJ[n];return!r||r.length===0?null:d.jsxs("div",{children:[d.jsxs("h5",{className:"text-xs font-medium text-text-secondary mb-2 flex items-center gap-1.5",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${n==="include"?"bg-blue-400":n==="dynamic"?"bg-amber-400":n==="grounding"?"bg-purple-400":"bg-gray-400"}`}),q7[n]]}),d.jsx("div",{className:"space-y-1.5",children:r.map(s=>d.jsx(HJ,{directive:s},s.tag))})]},n)})})]}),d.jsx("div",{className:"border-t border-surface-700 mx-4"}),d.jsxs("section",{className:"p-4",children:[d.jsx("h4",{className:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3",children:"Best Practices"}),d.jsx("div",{className:"space-y-3",children:LJ.map((n,r)=>d.jsxs("div",{className:"rounded-md bg-surface-900/50 p-3",children:[d.jsxs("h5",{className:"text-sm font-medium text-text-primary mb-1 flex items-center gap-2",children:[d.jsx(X7,{className:"w-3 h-3 text-surface-400 flex-shrink-0"}),n.title]}),d.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:n.content})]},r))})]}),d.jsx("section",{className:"p-4 pt-0",children:d.jsxs("div",{className:"rounded-md bg-accent-500/10 border border-accent-500/20 p-3",children:[d.jsxs("h5",{className:"text-xs font-medium text-accent-400 mb-2 flex items-center gap-1.5",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Quick Tip"]}),d.jsxs("p",{className:"text-xs text-text-secondary",children:["Use ",d.jsx("code",{className:"text-accent-300 bg-surface-900/50 px-1 rounded",children:"<include>"})," to reference a shared preamble for consistent coding style across all prompts."]})]})})]})]}):null,KJ={in_sync:{color:"text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",icon:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),label:"Synced",description:"Prompt and code are in sync"},prompt_changed:{color:"text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30",icon:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),label:"Prompt Changed",description:"Prompt was edited since last sync"},code_changed:{color:"text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",icon:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),label:"Code Changed",description:"Code was edited externally"},conflict:{color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",icon:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),label:"Conflict",description:"Both prompt and code have changes"},never_synced:{color:"text-surface-400",bgColor:"bg-surface-500/10",borderColor:"border-surface-500/30",icon:d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("circle",{cx:"12",cy:"12",r:"9",strokeWidth:2})}),label:"Not Synced",description:"No sync history exists"}},JJ=({basename:t,language:e,refreshTrigger:n,className:r=""})=>{const[s,i]=j.useState(null),[a,o]=j.useState(!0),[u,f]=j.useState(null);if(j.useEffect(()=>{(async()=>{if(!t||!e){o(!1);return}o(!0),f(null);try{const x=await qe.getSyncStatus(t,e);i(x)}catch(x){console.error("Failed to fetch sync status:",x),f(x.message||"Failed to load")}finally{o(!1)}})()},[t,e,n]),a)return d.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-[10px] sm:text-xs bg-surface-700/50 text-surface-400 ${r}`,children:[d.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{className:"hidden sm:inline",children:"Loading..."})]});if(u||!s)return d.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-[10px] sm:text-xs bg-surface-700/50 text-surface-500 ${r}`,title:u||"Status unavailable",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Unknown"})]});const p=KJ[s.status];let m=[p.description];if(s.last_sync_timestamp){const g=new Date(s.last_sync_timestamp);m.push(`Last sync: ${g.toLocaleString()}`)}return s.last_sync_command&&m.push(`Command: ${s.last_sync_command}`),d.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded border text-[10px] sm:text-xs transition-colors ${p.color} ${p.bgColor} ${p.borderColor} ${r}`,title:m.join(`
`),children:[p.icon,d.jsx("span",{className:"hidden sm:inline font-medium",children:p.label})]})};function eee(t){const e=t.explicit,n=t.matchBefore(/<[\w-]*/),r=t.state.sliceDoc(t.pos-1,t.pos);let s=t.pos,i="";if(n&&n.text.length>0){if(s=n.from,i=n.text.slice(1).toLowerCase(),t.state.sliceDoc(Math.max(0,n.from-1),n.from)==="/")return null}else if(r==="<"||e)if(r==="<")s=t.pos-1;else{const o=t.state.doc.lineAt(t.pos),u=o.text.slice(0,t.pos-o.from),f=u.lastIndexOf("<");if(f>=0)s=o.from+f,i=u.slice(f+1).toLowerCase();else if(!e)return null}else return null;const a=A7.filter(o=>o.tag.toLowerCase().startsWith(i)).map(o=>({label:o.tag,type:"keyword",detail:q7[o.category],info:`${o.description}

Syntax: ${o.syntax}
Example: ${o.example}`,apply:(u,f,p,m)=>{const g=o.hasClosingTag?`<${o.tag}></${o.tag}>`:`<${o.tag}/>`,x=p+o.tag.length+2;u.dispatch({changes:{from:p,to:m,insert:g},selection:{anchor:x}})},boost:o.category==="include"?2:o.category==="dynamic"?1:0}));return a.length===0?null:{from:s,options:a,filter:!1}}const tee=Ee.theme({".cm-tooltip.cm-tooltip-autocomplete":{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.4)",overflow:"hidden"},".cm-tooltip.cm-tooltip-autocomplete > ul":{fontFamily:"inherit",maxHeight:"280px"},".cm-tooltip.cm-tooltip-autocomplete > ul > li":{padding:"6px 12px",display:"flex",alignItems:"center",gap:"8px"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected]":{backgroundColor:"#3b82f6",color:"white"},".cm-completionLabel":{color:"#60a5fa",fontWeight:"500"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] .cm-completionLabel":{color:"white"},".cm-completionDetail":{color:"#94a3b8",fontSize:"11px",marginLeft:"auto",fontStyle:"normal"},".cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected] .cm-completionDetail":{color:"rgba(255, 255, 255, 0.8)"},".cm-completionInfo":{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",padding:"12px",marginLeft:"4px",maxWidth:"350px"}});function nee(){return[fW({override:[eee],icons:!1,optionClass:()=>"cm-pdd-completion",activateOnTyping:!0,activateOnTypingDelay:0}),$c.of([{key:"Tab",run:KM}]),tee]}function ree(t){const e=t.selection.main.head,n=t.doc.toString(),r=[{regex:/<include>(.*?)<\/include>/g,type:"include"},{regex:/<include-many>(.*?)<\/include-many>/g,type:"include-many"},{regex:/<shell>(.*?)<\/shell>/g,type:"shell"},{regex:/<web>(.*?)<\/web>/g,type:"web"}];for(const{regex:s,type:i}of r){let a;for(s.lastIndex=0;(a=s.exec(n))!==null;){const o=a.index,u=a.index+a[0].length;if(e>=o&&e<=u)return{from:o,to:u,path:a[1].trim(),tagType:i}}}return null}function see(t){return t.split(",").map(e=>e.trim()).filter(Boolean)}const Tx={matched:{bg:"bg-emerald-500/20",border:"border-emerald-500",text:"text-emerald-400",dot:"bg-emerald-500"},partial:{bg:"bg-yellow-500/20",border:"border-yellow-500",text:"text-yellow-400",dot:"bg-yellow-500"},missing:{bg:"bg-red-500/20",border:"border-red-500",text:"text-red-400",dot:"bg-red-500"},extra:{bg:"bg-blue-500/20",border:"border-blue-500",text:"text-blue-400",dot:"bg-blue-500"}},iee=({isOpen:t,onClose:e,promptContent:n,codeContent:r,promptPath:s,codePath:i})=>{const[a,o]=j.useState(null),[u,f]=j.useState(!1),[p,m]=j.useState(null),[g,x]=j.useState("detailed"),[v,y]=j.useState(.5),[w,Q]=j.useState(null),[k,$]=j.useState(null),[_,T]=j.useState("prompt-to-code"),N=j.useRef(null),C=j.useRef(null);j.useEffect(()=>{t&&n&&r&&q()},[t]),j.useEffect(()=>{Q(null),$(null)},[_]);const q=async()=>{f(!0),m(null);try{const U={prompt_content:n,code_content:r,strength:v,mode:g},A=await qe.analyzeDiff(U);o(A)}catch(U){m(U instanceof Error?U.message:"Failed to analyze diff")}finally{f(!1)}},z=j.useCallback(()=>a?_==="prompt-to-code"?a.result.sections:a.result.codeSections:[],[a,_]),Z=j.useCallback(U=>{if(Q(U.id),N.current){const I=(U.promptRange.startLine-1)*20;N.current.scrollTop=Math.max(0,I-50)}if(C.current&&U.codeRanges.length>0){const I=(U.codeRanges[0].startLine-1)*20;C.current.scrollTop=Math.max(0,I-50)}},[]),R=j.useCallback((U,A,I)=>{var J,X;const F=k||w;if(!F)return null;const G=I.find(B=>B.id===F);if(!G)return null;if(A){if(U>=G.promptRange.startLine&&U<=G.promptRange.endLine)return((J=Tx[G.status])==null?void 0:J.bg)||""}else for(const B of G.codeRanges)if(U>=B.startLine&&U<=B.endLine)return((X=Tx[G.status])==null?void 0:X.bg)||"";return null},[k,w]);if(!t)return null;const Y=n.split(`
`),L=r.split(`
`),E=z();return d.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in",children:d.jsxs("div",{className:"w-full h-full max-w-[1800px] max-h-[95vh] m-4 glass rounded-2xl border border-surface-600/50 shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-surface-700/50 flex items-center justify-between flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500/30 to-blue-500/30 flex items-center justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Bidirectional Diff Analysis"}),d.jsxs("p",{className:"text-sm text-surface-400",children:[(a==null?void 0:a.cached)&&d.jsx("span",{className:"text-emerald-400",children:"(cached) "}),s&&i?`${s} vs ${i}`:"Comparing prompt and code in both directions"]})]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[a&&d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-surface-800 rounded-lg",children:[d.jsx("span",{className:"text-xs text-purple-400",children:"PromptCode"}),d.jsxs("span",{className:"text-lg font-bold",style:{color:a.result.promptToCodeScore>=80?"#10b981":a.result.promptToCodeScore>=50?"#f59e0b":"#ef4444"},children:[a.result.promptToCodeScore,"%"]})]}),d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-surface-800 rounded-lg",children:[d.jsx("span",{className:"text-xs text-emerald-400",children:"CodePrompt"}),d.jsxs("span",{className:"text-lg font-bold",style:{color:a.result.codeToPromptScore>=80?"#10b981":a.result.codeToPromptScore>=50?"#f59e0b":"#ef4444"},children:[a.result.codeToPromptScore,"%"]})]})]}),d.jsxs("div",{className:"flex items-center bg-surface-800 rounded-lg p-0.5",children:[d.jsx("button",{onClick:()=>x("quick"),className:`px-3 py-1.5 text-xs rounded-md transition-all ${g==="quick"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:"Quick"}),d.jsx("button",{onClick:()=>x("detailed"),className:`px-3 py-1.5 text-xs rounded-md transition-all ${g==="detailed"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:"Detailed"})]}),d.jsx("button",{onClick:q,disabled:u,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-500 disabled:opacity-50 flex items-center gap-2",children:u?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Analyzing..."]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Re-analyze"]})}),d.jsx("button",{onClick:e,className:"p-2 text-surface-400 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"w-72 border-r border-surface-700/50 flex flex-col overflow-hidden flex-shrink-0",children:[d.jsxs("div",{className:"px-4 py-3 border-b border-surface-700/50",children:[d.jsxs("div",{className:"flex items-center bg-surface-800 rounded-lg p-0.5 mb-3",children:[d.jsxs("button",{onClick:()=>T("prompt-to-code"),className:`flex-1 px-2 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1 ${_==="prompt-to-code"?"bg-purple-600 text-white":"text-surface-400 hover:text-white"}`,children:[d.jsx("span",{children:"Prompt"}),d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),d.jsx("span",{children:"Code"})]}),d.jsxs("button",{onClick:()=>T("code-to-prompt"),className:`flex-1 px-2 py-1.5 text-xs rounded-md transition-all flex items-center justify-center gap-1 ${_==="code-to-prompt"?"bg-emerald-600 text-white":"text-surface-400 hover:text-white"}`,children:[d.jsx("span",{children:"Code"}),d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),d.jsx("span",{children:"Prompt"})]})]}),d.jsx("h3",{className:"text-sm font-medium text-white",children:_==="prompt-to-code"?"Requirements":"Code Features"}),a&&d.jsx("p",{className:"text-xs text-surface-500 mt-1",children:_==="prompt-to-code"?`${a.result.stats.matchedRequirements}/${a.result.stats.totalRequirements} implemented`:`${a.result.stats.documentedFeatures}/${a.result.stats.totalCodeFeatures} documented`})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:[u&&d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsxs("svg",{className:"w-6 h-6 animate-spin text-purple-500",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),E.length===0&&!u&&a&&d.jsx("p",{className:"text-xs text-surface-500 text-center py-4",children:"No sections found"}),E.map(U=>{var I,F;const A=Tx[U.status];return d.jsxs("button",{onClick:()=>Z(U),onMouseEnter:()=>$(U.id),onMouseLeave:()=>$(null),className:`w-full text-left px-3 py-2 rounded-lg transition-all ${w===U.id?`${A.bg} ${A.border} border`:"hover:bg-surface-700/50"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${A.dot}`}),d.jsx("span",{className:"text-sm text-white truncate flex-1",children:U.semanticLabel}),d.jsxs("span",{className:`text-xs flex-shrink-0 ${A.text}`,children:[U.matchConfidence,"%"]})]}),d.jsx("p",{className:"text-xs text-surface-500 mt-1 truncate",children:_==="prompt-to-code"?`Prompt L${U.promptRange.startLine}-${U.promptRange.endLine}`:`Code L${((I=U.codeRanges[0])==null?void 0:I.startLine)||"?"}-${((F=U.codeRanges[0])==null?void 0:F.endLine)||"?"}`})]},U.id)})]}),d.jsxs("div",{className:"px-4 py-3 border-t border-surface-700/50 space-y-1.5",children:[d.jsx("p",{className:"text-[10px] text-surface-500 uppercase tracking-wider mb-2",children:"Legend"}),_==="prompt-to-code"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),d.jsx("span",{className:"text-surface-400",children:"Implemented in code"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),d.jsx("span",{className:"text-surface-400",children:"Partially implemented"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),d.jsx("span",{className:"text-surface-400",children:"Missing in code"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),d.jsx("span",{className:"text-surface-400",children:"Documented in prompt"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),d.jsx("span",{className:"text-surface-400",children:"Partially documented"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),d.jsx("span",{className:"text-surface-400",children:"Not in prompt (extra)"})]})]})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"flex-1 flex flex-col border-r border-surface-700/50 overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-surface-700/50 bg-surface-800/50 flex items-center justify-between",children:[d.jsx("h4",{className:"text-sm font-medium text-purple-400",children:"Prompt Requirements"}),a&&d.jsxs("span",{className:"text-xs text-surface-500",children:[a.result.stats.promptToCodeCoverage.toFixed(0),"% implemented"]})]}),d.jsx("div",{ref:N,className:"flex-1 overflow-y-auto font-mono text-sm",children:Y.map((U,A)=>{const I=A+1,F=a?R(I,!0,E):null;return d.jsxs("div",{className:`flex hover:bg-surface-700/30 ${F||""}`,children:[d.jsx("span",{className:"w-12 px-2 text-right text-surface-600 select-none flex-shrink-0 border-r border-surface-700/30",children:I}),d.jsx("span",{className:"px-3 py-0.5 text-surface-300 whitespace-pre-wrap break-all",children:U||""})]},A)})})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"px-4 py-2 border-b border-surface-700/50 bg-surface-800/50 flex items-center justify-between",children:[d.jsx("h4",{className:"text-sm font-medium text-emerald-400",children:"Code Implementation"}),a&&d.jsxs("span",{className:"text-xs text-surface-500",children:[a.result.stats.codeToPromptCoverage.toFixed(0),"% documented"]})]}),d.jsx("div",{ref:C,className:"flex-1 overflow-y-auto font-mono text-sm",children:L.map((U,A)=>{const I=A+1,F=a?R(I,!1,E):null;return d.jsxs("div",{className:`flex hover:bg-surface-700/30 ${F||""}`,children:[d.jsx("span",{className:"w-12 px-2 text-right text-surface-600 select-none flex-shrink-0 border-r border-surface-700/30",children:I}),d.jsx("span",{className:"px-3 py-0.5 text-surface-300 whitespace-pre-wrap break-all",children:U||""})]},A)})})]})]})]}),d.jsxs("div",{className:"px-6 py-3 border-t border-surface-700/50 flex items-center justify-between bg-surface-900/50 flex-shrink-0",children:[p?d.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"text-sm",children:p})]}):a?d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("div",{className:"text-sm text-surface-300",children:a.result.summary}),d.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[d.jsxs("span",{className:"text-purple-400",children:[a.result.stats.missingRequirements," missing in code"]}),d.jsxs("span",{className:"text-blue-400",children:[a.result.stats.undocumentedFeatures," undocumented features"]}),d.jsxs("span",{className:"text-surface-500",children:["Overall: ",a.result.overallScore,"%"]})]})]}):d.jsx("div",{className:"text-sm text-surface-500",children:'Click "Re-analyze" to compare prompt and code'}),a&&d.jsxs("div",{className:"text-xs text-surface-500",children:[a.model," ($",a.cost.toFixed(4),")"]})]})]})})};function aee(t){var n;const e=(n=t.split(".").pop())==null?void 0:n.toLowerCase();switch(e){case"py":return zK();case"js":case"jsx":case"ts":case"tsx":return Kz({jsx:!0,typescript:e==="ts"||e==="tsx"});case"java":return DK();default:return[]}}const lee=new R7({breaks:!0,gfm:!0});function _x(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const Px=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`option-${t.name}`;if(t.type==="checkbox")return d.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[d.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:_x(t.name)}),d.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return d.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:_x(t.name)}),d.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),d.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:f=>n(parseFloat(f.target.value)),className:`flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500
              [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-500
              [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent-500/30
              [&::-webkit-slider-thumb]:hover:bg-accent-400 [&::-webkit-slider-thumb]:transition-colors`}),d.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return d.jsxs("div",{children:[d.jsxs("label",{htmlFor:s,className:`block ${r?"text-xs":"text-sm"} font-medium text-white mb-1.5`,children:[_x(t.name),t.required&&d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mb-2`,children:t.description}),t.type==="textarea"?d.jsx("textarea",{id:s,value:e||"",onChange:i=>n(i.target.value),placeholder:t.placeholder,required:t.required,rows:3,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all resize-none"}):d.jsx("input",{type:t.type==="number"?"number":"text",id:s,value:e||"",onChange:i=>n(t.type==="number"?i.target.value?Number(i.target.value):"":i.target.value),placeholder:t.placeholder,required:t.required,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})},oee=({command:t,prompt:e,onRun:n,onCancel:r})=>{const[s,i]=j.useState(!1),[a,o]=j.useState(()=>{const m={};return t.options.forEach(g=>{g.defaultValue!==void 0&&(g.type==="checkbox"?m[g.name]=g.defaultValue==="true"||g.defaultValue===!0:(g.type==="number"||g.type,m[g.name]=g.defaultValue))}),t.requiresCode&&(m._code=e.code||""),t.requiresTest&&(m._test=e.test||""),t.name===Te.SUBMIT_EXAMPLE&&e.example&&(m["verification-program"]=e.example),or.forEach(g=>{m[`_global_${g.name}`]=g.defaultValue}),m}),u=(m,g)=>{o(x=>({...x,[m]:g}))},f=m=>{m.preventDefault();const g={};Object.entries(a).forEach(([x,v])=>{x.startsWith("_global_")||v!==""&&v!==void 0&&v!==null&&(g[x]=v)}),or.forEach(x=>{const v=a[`_global_${x.name}`],y=x.defaultValue;v!==y&&v!==void 0&&v!==null&&(g[`_global_${x.name}`]=v)}),n(g)},p=or.some(m=>a[`_global_${m.name}`]!==m.defaultValue);return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:r,children:d.jsxs("div",{className:"glass rounded-2xl border border-surface-600/50 shadow-2xl w-full max-w-md animate-scale-in",onClick:m=>m.stopPropagation(),children:[d.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-surface-700/50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center",children:d.jsx("span",{className:"text-xl",children:t.icon})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:t.shortDescription}),d.jsx("p",{className:"text-xs sm:text-sm text-surface-400 line-clamp-1",children:t.description})]})]})}),d.jsxs("form",{onSubmit:f,children:[d.jsxs("div",{className:"px-4 sm:px-6 py-4 space-y-4 max-h-[50vh] sm:max-h-[60vh] overflow-y-auto",children:[d.jsxs("div",{className:"bg-surface-800/50 rounded-xl px-3 py-2.5 border border-surface-700/50",children:[d.jsx("div",{className:"text-xs text-surface-400 mb-0.5",children:"Target Prompt"}),d.jsx("div",{className:"text-sm text-white font-mono truncate",children:e.sync_basename})]}),t.requiresCode&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-white mb-1.5",children:["Code File",d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsx("p",{className:"text-xs text-surface-400 mb-2",children:e.code?"Auto-detected code file. Change if needed.":"No code file detected. Enter the path to use."}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:a._code||"",onChange:m=>u("_code",m.target.value),placeholder:"e.g., src/calculator.py",className:`w-full px-3 py-2.5 bg-surface-900/50 border rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all ${e.code?"border-green-500/50":"border-yellow-500/50"}`}),e.code&&d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-400 text-xs px-1.5 py-0.5 rounded bg-green-500/20",children:"detected"})]})]}),t.requiresTest&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-white mb-1.5",children:["Test File",d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsx("p",{className:"text-xs text-surface-400 mb-2",children:e.test?"Auto-detected test file. Change if needed.":"No test file detected. Enter the path to use."}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:a._test||"",onChange:m=>u("_test",m.target.value),placeholder:"e.g., tests/test_calculator.py",className:`w-full px-3 py-2.5 bg-surface-900/50 border rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all ${e.test?"border-green-500/50":"border-yellow-500/50"}`}),e.test&&d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-400 text-xs px-1.5 py-0.5 rounded bg-green-500/20",children:"detected"})]})]}),t.options.length>0?t.options.map(m=>d.jsx(Px,{option:m,value:a[m.name],onChange:g=>u(m.name,g)},m.name)):!t.requiresCode&&!t.requiresTest?d.jsx("p",{className:"text-surface-400 text-sm",children:"No additional options for this command."}):null,d.jsxs("div",{className:"border-t border-surface-700/30 pt-3 mt-2",children:[d.jsxs("button",{type:"button",onClick:()=>i(!s),className:"w-full flex items-center justify-between text-left group",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),p&&d.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&d.jsxs("div",{className:"mt-3 space-y-3 animate-slide-down",children:[d.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),or.filter(m=>["strength","temperature","time"].includes(m.name)).map(m=>d.jsx(Px,{option:m,value:a[`_global_${m.name}`],onChange:g=>u(`_global_${m.name}`,g),compact:!0},m.name))]}),d.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),or.filter(m=>["local","verbose","quiet","force","review-examples"].includes(m.name)).map(m=>d.jsx(Px,{option:m,value:a[`_global_${m.name}`],onChange:g=>u(`_global_${m.name}`,g),compact:!0},m.name))]})]})]})]}),d.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-surface-700/50 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3",children:[d.jsx("button",{type:"button",onClick:r,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-surface-700/50 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25 transition-all flex items-center justify-center gap-2",children:[d.jsx("span",{children:t.icon}),d.jsxs("span",{children:["Run ",t.shortDescription]})]})]})]})]})})},cee=({prompt:t,onBack:e,onRunCommand:n,isExecuting:r,executionStatus:s="idle",lastCommand:i=null,lastRunResult:a=null,onCancelCommand:o})=>{var Rr;const u=j.useRef(null),f=j.useRef(null),p=j.useRef(""),m=j.useRef(""),g=j.useRef(new Yf),[x,v]=j.useState(!0),[y,w]=j.useState(null),[Q,k]=j.useState(null),[$,_]=j.useState(!1),[T,N]=j.useState(!1),[C,q]=j.useState(!1),[z,Z]=j.useState(null),[R,Y]=j.useState("raw"),[L,E]=j.useState(null),[U,A]=j.useState(!1),[I,F]=j.useState(!1),[G,J]=j.useState(null),[X,B]=j.useState({visible:!1,loading:!1,tagInfo:null,metrics:null,error:null}),[te,V]=j.useState(""),[W,ee]=j.useState(!1),[re,ue]=j.useState(null),[pe,Se]=j.useState(!1),[Ye,Le]=j.useState(null),We=j.useRef(null),Xe=j.useRef(null),[Qe,ct]=j.useState(!1),[be,we]=j.useState(null),[ut,on]=j.useState(.5),[Gt,Yt]=j.useState(!1),[Je,rt]=j.useState(!1),[Wt,me]=j.useState(null),[ye,Ze]=j.useState(!1),[Fe,Xt]=j.useState(null),[ft,Et]=j.useState(!1);j.useEffect(()=>{if(I){let Oe;R==="processed"&&(L!=null&&L.processed_content)?Oe=L.processed_content:f.current?Oe=f.current.state.doc.toString():Oe=m.current||Q||"",V(Oe)}},[I,R,L==null?void 0:L.processed_content,Q]);const ke=j.useMemo(()=>{if(!te)return"";try{const Oe=lee.parse(te);return typeof Oe=="string"?Oe:""}catch(Oe){return console.error("Markdown rendering error:",Oe),'<p class="text-red-400">Error rendering markdown</p>'}},[te]);j.useEffect(()=>{let Oe=!1;return(async()=>{v(!0),w(null);try{const De=await qe.getFileContent(t.prompt);Oe||(p.current=De.content,m.current=De.content,k(De.content))}catch(De){Oe||w(De.message||"Failed to load file")}finally{Oe||v(!1)}})(),()=>{Oe=!0}},[t.prompt]),j.useEffect(()=>{if(I||Q===null||!u.current)return;f.current&&(f.current.destroy(),f.current=null);const Oe=m.current||Q,Ne=bt.create({doc:Oe,extensions:[NP(),kP(),kU(),$c.of([...nz,...PG,...RU]),bF(),cN,...nee(),g.current.of(Ee.editable.of(R==="raw")),Ee.updateListener.of(De=>{if(De.docChanged){const et=De.state.doc.toString();De.view.state.facet(Ee.editable)&&(m.current=et),_(et!==p.current)}}),Ee.theme({"&":{height:"100%",fontSize:"14px",backgroundColor:"rgb(17 24 39)"},".cm-scroller":{overflow:"auto",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace'},".cm-gutters":{backgroundColor:"rgb(31 41 55)",borderRight:"1px solid rgb(55 65 81)"},".cm-activeLineGutter":{backgroundColor:"rgb(55 65 81)"},".cm-activeLine":{backgroundColor:"rgba(55, 65, 81, 0.5)"}})]});return f.current=new Ee({state:Ne,parent:u.current}),()=>{f.current&&(f.current.destroy(),f.current=null)}},[Q,I,R]),j.useEffect(()=>{if(Q===null)return;const Ne=setTimeout(async()=>{A(!0);try{const De=f.current?f.current.state.doc.toString():m.current||Q,et=(G==null?void 0:G.model)||"claude-sonnet-4-20250514",tt=await qe.analyzePrompt({path:t.prompt,model:et,preprocess:!0,content:De});E(tt)}catch(De){console.error("Failed to analyze prompt:",De)}finally{A(!1)}},500);return()=>clearTimeout(Ne)},[Q,t.prompt,$,G]);const Ie=j.useCallback(async()=>{if(!t.code){Le("No code file associated with this prompt");return}Se(!0),Le(null);try{const Oe=await qe.getFileContent(t.code);ue(Oe.content)}catch(Oe){Le(Oe.message||"Failed to load code file")}finally{Se(!1)}},[t.code]),en=j.useCallback(()=>{!W&&!re&&t.code&&Ie(),ee(!W)},[W,re,t.code,Ie]),at=j.useCallback(()=>{Ie()},[Ie]),$e=async()=>{if(!re)if(t.code)await Ie();else{me("No code file associated with this prompt");return}Yt(!0),me(null);try{const Oe=f.current?f.current.state.doc.toString():m.current||Q||"",Ne=await qe.checkMatch({prompt_content:Oe,code_content:re||"",strength:ut});we(Ne)}catch(Oe){me(Oe.message||"Failed to check match")}finally{Yt(!1)}};j.useEffect(()=>{if(!W||re===null||!We.current)return;Xe.current&&(Xe.current.destroy(),Xe.current=null);const Oe=bt.create({doc:re,extensions:[NP(),kP(),Ee.editable.of(!1),aee(t.code||""),cN,Ee.theme({"&":{height:"100%",fontSize:"13px",backgroundColor:"rgb(17 24 39)"},".cm-scroller":{overflow:"auto",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace'},".cm-gutters":{backgroundColor:"rgb(31 41 55)",borderRight:"1px solid rgb(55 65 81)"},".cm-activeLineGutter":{backgroundColor:"rgb(55 65 81)"},".cm-activeLine":{backgroundColor:"rgba(55, 65, 81, 0.5)"}})]});return Xe.current=new Ee({state:Oe,parent:We.current}),()=>{Xe.current&&(Xe.current.destroy(),Xe.current=null)}},[W,re,t.code]),j.useEffect(()=>{const Oe=Ne=>{(Ne.metaKey||Ne.ctrlKey)&&Ne.key==="."&&(Ne.preventDefault(),pr()),Ne.key==="Escape"&&X.visible&&dn()};return window.addEventListener("keydown",Oe),()=>window.removeEventListener("keydown",Oe)},[X.visible]);const $t=Oe=>{if(R==="raw"&&f.current&&(m.current=f.current.state.doc.toString()),Y(Oe),f.current){let Ne;const De=Oe==="raw";Oe==="processed"&&(L!=null&&L.processed_content)?Ne=L.processed_content:Ne=m.current||Q||"";const et=f.current.state.doc.toString(),tt=[g.current.reconfigure(Ee.editable.of(De))];et!==Ne?f.current.dispatch({changes:{from:0,to:et.length,insert:Ne},effects:tt}):f.current.dispatch({effects:tt})}},tn=async()=>{if(f.current){N(!0),q(!1),w(null);try{const Oe=f.current.state.doc.toString();await qe.writeFile(t.prompt,Oe),p.current=Oe,m.current=Oe,_(!1),q(!0),setTimeout(()=>q(!1),2e3)}catch(Oe){w(Oe.message||"Failed to save")}finally{N(!1)}}},Pn=()=>{$&&!window.confirm("Discard unsaved changes?")||e()},Fn=async()=>{if(f.current){Ze(!0),Xt(null),Et(!1);try{const Oe=t.prompt.split("/").pop()||t.prompt,Ne=await qe.generateTagsForPrompt(Oe);if(!Ne.success){Xt(Ne.error||"Failed to generate tags");return}if(!Ne.tags){Xt("No architecture entry found for this prompt");return}if(Ne.has_existing_tags){if(!window.confirm("This prompt already has PDD tags. Replace them with tags from architecture.json?"))return;const et=f.current.state.doc.toString().replace(/<pdd-reason>[\s\S]*?<\/pdd-reason>\s*/g,"").replace(/<pdd-interface>[\s\S]*?<\/pdd-interface>\s*/g,"").replace(/<pdd-dependency>[\s\S]*?<\/pdd-dependency>\s*/g,"").trimStart(),tt=Ne.tags+`

`+et;f.current.dispatch({changes:{from:0,to:f.current.state.doc.length,insert:tt}})}else{const De=f.current.state.doc.toString(),et=Ne.tags+`

`+De;f.current.dispatch({changes:{from:0,to:f.current.state.doc.length,insert:et}})}m.current=f.current.state.doc.toString(),_(m.current!==p.current),Et(!0),setTimeout(()=>Et(!1),3e3)}catch(Oe){Xt(Oe.message||"Failed to sync from architecture")}finally{Ze(!1)}}},pr=async()=>{if(!f.current)return;const Oe=f.current.state,Ne=ree(Oe);if(!Ne){B({visible:!0,loading:!1,tagInfo:null,metrics:null,error:"Place cursor inside an <include>, <shell>, or <web> tag to analyze"}),setTimeout(()=>B(De=>({...De,visible:!1})),3e3);return}B({visible:!0,loading:!0,tagInfo:Ne,metrics:null,error:null});try{let De=Ne.path;if(Ne.tagType==="include-many"){const tt=see(Ne.path);tt.length>0&&(De=tt[0])}const et=await qe.analyzeFile(De);B({visible:!0,loading:!1,tagInfo:Ne,metrics:et,error:null})}catch(De){B({visible:!0,loading:!1,tagInfo:Ne,metrics:null,error:De.message||"Failed to analyze file"})}},dn=()=>{B(Oe=>({...Oe,visible:!1}))},Kn=Oe=>{const Ne=Ta[Oe];Ne.options&&Ne.options.length>0||Ne.requiresCode||Ne.requiresTest?Z(Ne):n(Oe)},hn=Oe=>{z&&(n(z.name,Oe),Z(null))},jn=Oe=>{const Ne=[];return Oe.requiresCode&&!t.code&&Ne.push("code"),Oe.requiresTest&&!t.test&&Ne.push("test"),Ne},ti=Object.values(Ta).filter(Oe=>Oe.requiresPrompt&&!Oe.isAdvanced),ls=Object.values(Ta).filter(Oe=>Oe.isAdvanced),[Jn,Cr]=j.useState(!1),[os,ni]=j.useState(!1),[mr,Er]=j.useState(!1);return d.jsxs("div",{className:"h-screen flex flex-col bg-surface-950",children:[d.jsxs("header",{className:"glass flex items-center justify-between px-3 sm:px-4 py-2.5 sm:py-3 border-b border-surface-700/50 sticky top-0 z-30",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[d.jsxs("button",{onClick:Pn,className:"flex items-center gap-1.5 sm:gap-2 text-surface-400 hover:text-white transition-colors px-2 py-1.5 rounded-lg hover:bg-surface-700/50",children:[d.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),d.jsx("span",{className:"hidden sm:inline text-sm",children:"Back"})]}),d.jsx("div",{className:"h-5 w-px bg-surface-700 hidden sm:block"}),d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("h1",{className:"text-sm sm:text-lg font-semibold text-white truncate",children:t.sync_basename}),t.language&&d.jsx("span",{className:"px-1.5 sm:px-2 py-0.5 rounded-full text-[10px] sm:text-xs bg-accent-500/15 text-accent-300 border border-accent-500/30 font-medium flex-shrink-0",children:t.language}),t.sync_basename&&t.language&&d.jsx(JJ,{basename:t.sync_basename,language:t.language,refreshTrigger:C?1:0})]})]}),d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[d.jsx("button",{onClick:()=>Cr(!Jn),className:"lg:hidden flex items-center gap-1.5 px-2.5 py-1.5 text-surface-400 hover:text-white bg-surface-700/50 hover:bg-surface-600 rounded-lg transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),$&&d.jsxs("span",{className:"text-yellow-400 text-xs sm:text-sm flex items-center gap-1.5 px-2 py-1 rounded-full bg-yellow-500/10 border border-yellow-500/20",children:[d.jsx("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-yellow-400 rounded-full animate-pulse"}),d.jsx("span",{className:"hidden xs:inline",children:"Unsaved"})]}),C&&d.jsx("span",{className:"text-green-400 text-xs sm:text-sm flex items-center gap-1.5 px-2 py-1 rounded-full bg-green-500/10 border border-green-500/20",children:d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),ft&&d.jsxs("span",{className:"text-emerald-400 text-xs sm:text-sm flex items-center gap-1.5 px-2 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),d.jsx("span",{className:"hidden sm:inline",children:"Tags injected"})]}),Fe&&d.jsx("span",{className:"text-red-400 text-xs flex items-center gap-1 px-2 py-1 rounded-full bg-red-500/10 border border-red-500/20",title:Fe,children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsxs("button",{onClick:Fn,disabled:ye||R==="processed",className:`px-2.5 sm:px-3 py-1.5 text-xs sm:text-sm rounded-lg flex items-center gap-1.5 transition-all duration-200 ${!ye&&R==="raw"?"bg-surface-700/50 text-surface-300 hover:text-white hover:bg-surface-600 border border-surface-600":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:"Inject PDD tags from architecture.json",children:[ye?d.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 sm:h-4 sm:w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),d.jsx("span",{className:"hidden sm:inline",children:ye?"Syncing...":"Sync from JSON"})]}),d.jsxs("button",{onClick:tn,disabled:!$||T||R==="processed",className:`px-2.5 sm:px-4 py-1.5 text-xs sm:text-sm rounded-lg flex items-center gap-1.5 sm:gap-2 transition-all duration-200 ${$&&!T&&R==="raw"?"bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25":"bg-surface-700/50 text-surface-500 cursor-not-allowed"}`,title:R==="processed"?"Switch to Raw view to save changes":void 0,children:[T?d.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 sm:h-4 sm:w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),d.jsx("span",{className:"hidden xs:inline",children:T?"Saving...":"Save"})]})]})]}),s!=="idle"&&d.jsxs("div",{className:`
          px-3 sm:px-4 py-2 text-center text-xs sm:text-sm font-medium border-b animate-slide-down
          ${s==="running"?"bg-accent-500/10 text-accent-300 border-accent-500/20":""}
          ${s==="success"?"bg-green-500/10 text-green-300 border-green-500/20":""}
          ${s==="failed"?"bg-red-500/10 text-red-300 border-red-500/20":""}
        `,children:[s==="running"&&d.jsxs("span",{className:"flex items-center justify-center gap-2 flex-wrap",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("code",{className:"bg-surface-800/80 px-2 py-0.5 rounded text-xs font-mono max-w-[150px] sm:max-w-none truncate",children:i}),o&&d.jsx("button",{onClick:o,className:"ml-2 px-2.5 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-lg text-xs font-medium transition-colors",children:"Stop"})]}),s==="success"&&d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Done"]}),s==="failed"&&d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Failed",a!=null&&a.exit_code?` (exit code: ${a.exit_code})`:""]}),(a==null?void 0:a.error_details)&&d.jsx("div",{className:"text-xs text-red-200/80 max-w-xl text-center px-4",children:a.error_details})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[Jn&&d.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40 animate-fade-in",onClick:()=>Cr(!1)}),d.jsxs("aside",{className:`
          ${Jn?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          fixed lg:relative z-50 lg:z-auto
          w-56 sm:w-52 lg:w-48 h-full
          glass lg:bg-surface-800/30 border-r border-surface-700/50
          flex flex-col transition-transform duration-300 ease-out
        `,children:[d.jsxs("div",{className:"lg:hidden flex items-center justify-between p-3 border-b border-surface-700/50",children:[d.jsx("span",{className:"text-sm font-semibold text-white",children:"Menu"}),d.jsx("button",{onClick:()=>Cr(!1),className:"p-1.5 text-surface-400 hover:text-white rounded-lg hover:bg-surface-700/50",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"p-3 border-b border-surface-700/50 hidden lg:block",children:d.jsx("h2",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Commands"})}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[d.jsx("div",{className:"p-2 space-y-1",children:ti.map(Oe=>{const Ne=jn(Oe),De=Ne.length>0;return d.jsxs("button",{onClick:()=>{r||(Kn(Oe.name),Cr(!1))},disabled:r,className:`w-full flex items-center gap-2.5 px-3 py-2.5 rounded-lg text-sm text-left transition-all duration-200 ${r?"text-surface-500 cursor-not-allowed":"text-surface-300 hover:bg-surface-700/50 hover:text-white"}`,title:De?`${Oe.description} (${Ne.join(", ")} file${Ne.length>1?"s":""} not auto-detected)`:Oe.description,children:[d.jsx("span",{className:"text-base",children:Oe.icon}),d.jsx("span",{className:"flex-1",children:Oe.shortDescription}),De&&d.jsx("span",{className:"w-5 h-5 rounded-full bg-yellow-500/20 text-yellow-400 text-xs flex items-center justify-center",children:"!"})]},Oe.name)})}),ls.length>0&&d.jsxs("div",{className:"border-t border-surface-700/30",children:[d.jsxs("button",{onClick:()=>ni(!os),className:"w-full p-3 flex items-center justify-between text-left hover:bg-surface-700/30 transition-colors",children:[d.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Operations"}),d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${os?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),os&&d.jsx("div",{className:"p-2 pt-0 space-y-1",children:ls.map(Oe=>{const De=jn(Oe).length>0;return d.jsxs("button",{onClick:()=>{r||(Kn(Oe.name),Cr(!1))},disabled:r,className:`w-full flex items-center gap-2.5 px-3 py-2 rounded-lg text-sm text-left transition-all duration-200 ${r?"text-surface-500 cursor-not-allowed":"text-surface-300 hover:bg-surface-700/50 hover:text-white"}`,title:Oe.description,children:[d.jsx("span",{className:"text-surface-500 text-xs",children:Oe.icon}),d.jsx("span",{className:"flex-1 text-xs",children:Oe.shortDescription}),De&&d.jsx("span",{className:"w-4 h-4 rounded-full bg-yellow-500/20 text-yellow-400 text-[10px] flex items-center justify-center",children:"!"})]},Oe.name)})})]})]}),d.jsxs("div",{className:"p-3 border-t border-surface-700/50 space-y-2",children:[d.jsx("h3",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Files"}),d.jsxs("div",{className:"space-y-1.5 text-xs",children:[d.jsx(Bh,{label:"Prompt",path:t.prompt,exists:!0}),d.jsx(Bh,{label:"Code",path:t.code,exists:!!t.code}),d.jsx(Bh,{label:"Test",path:t.test,exists:!!t.test}),d.jsx(Bh,{label:"Example",path:t.example,exists:!!t.example})]})]})]}),d.jsx("main",{className:"flex-1 flex flex-col overflow-hidden min-w-0",children:x?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center mb-4",children:d.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}),d.jsx("div",{className:"text-surface-400 text-sm",children:"Loading prompt..."})]}):y&&Q===null?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center mb-4",children:d.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsx("div",{className:"text-red-400 mb-2",children:y}),d.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-surface-700/50 hover:bg-surface-600 rounded-xl text-sm text-white transition-colors border border-surface-600",children:"Retry"})]}):d.jsxs(d.Fragment,{children:[d.jsx(ZJ,{rawMetrics:(L==null?void 0:L.raw_metrics)||null,processedMetrics:(L==null?void 0:L.processed_metrics)||null,viewMode:R,onViewModeChange:$t,isLoading:U,preprocessingError:L==null?void 0:L.preprocessing_error,timeValue:an.time,promptLineCount:Q?Q.split(`
`).length:void 0,codeLineCount:re?re.split(`
`).length:void 0,selectedModel:G,onModelChange:J}),d.jsxs("div",{className:"px-3 sm:px-4 py-2 bg-surface-800/30 border-b border-surface-700/50 text-xs sm:text-sm text-surface-400 font-mono flex items-center gap-2 overflow-hidden",children:[d.jsx("span",{className:"truncate flex-1",children:t.prompt}),R==="processed"&&d.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] sm:text-xs bg-yellow-500/15 text-yellow-300 border border-yellow-500/30 flex-shrink-0",children:"Read Only"}),d.jsxs("button",{onClick:pr,disabled:I,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${I?"bg-surface-700/30 text-surface-500 cursor-not-allowed":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white"}`,title:"Analyze include tag at cursor (Cmd+.)",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Tokens"})]}),d.jsxs("button",{onClick:en,disabled:!t.code,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${t.code?W?"bg-blue-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:t.code?W?"Hide code panel":"Show code side-by-side":"No code file available",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),d.jsx("span",{className:"hidden sm:inline",children:"Code"})]}),d.jsxs("button",{onClick:()=>Er(!mr),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${mr?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white"}`,title:mr?"Hide prompting guide":"Show prompting guide",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Guide"})]}),d.jsxs("button",{onClick:()=>ct(!0),disabled:!t.code||Gt,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${t.code?"bg-purple-600/50 text-purple-200 hover:bg-purple-500 hover:text-white":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:t.code?"Check prompt-code match with LLM":"No code file available",children:[Gt?d.jsxs("svg",{className:"w-3.5 h-3.5 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{className:"hidden sm:inline",children:"Match"})]}),d.jsxs("button",{onClick:()=>rt(!0),disabled:!t.code,className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${t.code?"bg-gradient-to-r from-purple-600/50 to-blue-600/50 text-purple-200 hover:from-purple-500 hover:to-blue-500 hover:text-white":"bg-surface-700/30 text-surface-500 cursor-not-allowed"}`,title:t.code?"View detailed diff analysis":"No code file available",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),d.jsx("span",{className:"hidden sm:inline",children:"Diff"})]}),d.jsx("button",{onClick:()=>F(!I),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-medium transition-all duration-200 flex-shrink-0 ${I?"bg-accent-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-600 hover:text-white"}`,title:I?"Show source code":"Show rendered preview",children:I?d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),d.jsx("span",{className:"hidden sm:inline",children:"Source"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),d.jsx("span",{className:"hidden sm:inline",children:"Preview"})]})})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsx("div",{className:`flex-1 flex flex-col overflow-hidden ${W?"w-1/2":"w-full"}`,children:I?d.jsx("div",{className:"flex-1 overflow-auto bg-surface-900/50 p-4 sm:p-6 lg:p-8",children:d.jsx("div",{className:"markdown-body max-w-4xl mx-auto",dangerouslySetInnerHTML:{__html:ke}})}):d.jsx("div",{ref:u,className:"flex-1 overflow-hidden"})}),W&&d.jsxs("div",{className:"w-1/2 flex flex-col border-l border-surface-700/50 bg-surface-900/50",children:[d.jsxs("div",{className:"px-3 py-2 bg-surface-800/50 border-b border-surface-700/50 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("svg",{className:"w-4 h-4 text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),d.jsx("span",{className:"text-xs text-surface-400 font-mono truncate",title:t.code||"",children:((Rr=t.code)==null?void 0:Rr.split("/").pop())||"Code"}),d.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-blue-500/20 text-blue-300 flex-shrink-0",children:"Read Only"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:at,disabled:pe,className:"p-1.5 text-surface-400 hover:text-white hover:bg-surface-700 rounded transition-colors",title:"Reload code file",children:d.jsx("svg",{className:`w-3.5 h-3.5 ${pe?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),d.jsx("button",{onClick:()=>ee(!1),className:"p-1.5 text-surface-400 hover:text-white hover:bg-surface-700 rounded transition-colors",title:"Close code panel",children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),pe?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3",children:[d.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{className:"text-sm text-surface-400",children:"Loading code..."})]})}):Ye?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"flex flex-col items-center gap-3 p-4 text-center",children:[d.jsx("svg",{className:"w-8 h-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),d.jsx("span",{className:"text-sm text-red-300",children:Ye}),d.jsx("button",{onClick:at,className:"px-3 py-1.5 text-xs bg-surface-700 hover:bg-surface-600 rounded-lg transition-colors",children:"Retry"})]})}):d.jsx("div",{ref:We,className:"flex-1 overflow-hidden"})]})]}),y&&d.jsx("div",{className:"px-3 sm:px-4 py-2 bg-red-500/10 border-t border-red-500/20 text-red-300 text-xs sm:text-sm",children:y})]})}),d.jsx(FJ,{isOpen:mr,onClose:()=>Er(!1)})]}),z&&d.jsx(oee,{command:z,prompt:t,onRun:hn,onCancel:()=>Z(null)}),X.visible&&d.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:d.jsxs("div",{className:"bg-surface-800 border border-surface-600 rounded-xl shadow-2xl p-4 w-80",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("h4",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Include Analysis"]}),d.jsx("button",{onClick:dn,className:"p-1 rounded hover:bg-surface-700 text-surface-400 hover:text-white transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),X.loading?d.jsxs("div",{className:"flex items-center justify-center py-4",children:[d.jsxs("svg",{className:"animate-spin h-5 w-5 text-accent-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{className:"ml-2 text-sm text-surface-400",children:"Analyzing..."})]}):X.error?d.jsx("div",{className:"text-sm text-surface-400 bg-surface-900/50 rounded-lg p-3",children:X.error}):X.metrics&&X.tagInfo?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"File"}),d.jsx("div",{className:"text-sm text-white font-mono truncate",children:X.tagInfo.path})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Tokens"}),d.jsx("div",{className:"text-lg font-semibold text-accent-400",children:X.metrics.token_count.toLocaleString()})]}),d.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Context Usage"}),d.jsxs("div",{className:"text-lg font-semibold text-white",children:[X.metrics.context_usage_percent.toFixed(1),"%"]})]})]}),X.metrics.cost_estimate&&d.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-3",children:[d.jsx("div",{className:"text-xs text-surface-500 mb-1",children:"Estimated Cost"}),d.jsxs("div",{className:"text-sm text-green-400",children:["$",X.metrics.cost_estimate.input_cost.toFixed(4)," USD"]})]})]}):null,d.jsx("div",{className:"mt-3 pt-3 border-t border-surface-700",children:d.jsxs("p",{className:"text-[10px] text-surface-500",children:["Press ",d.jsx("kbd",{className:"px-1 py-0.5 bg-surface-700 rounded text-surface-400",children:"Cmd+."})," to analyze include at cursor"]})})]})}),Qe&&d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:()=>ct(!1),children:d.jsxs("div",{className:"glass rounded-2xl border border-surface-600/50 shadow-2xl w-full max-w-lg animate-scale-in",onClick:Oe=>Oe.stopPropagation(),children:[d.jsx("div",{className:"px-6 py-4 border-b border-surface-700/50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Check Prompt-Code Match"}),d.jsx("p",{className:"text-sm text-surface-400",children:"Evaluate how well your code implements the prompt"})]})]})}),d.jsxs("div",{className:"px-6 py-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm text-surface-300 mb-2 block",children:"Model Strength"}),d.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:.25,label:"Fast",desc:"Quick check"},{value:.5,label:"Balanced",desc:"Default"},{value:.75,label:"Strong",desc:"More accurate"},{value:1,label:"Best",desc:"Highest accuracy"}].map(Oe=>d.jsxs("button",{onClick:()=>on(Oe.value),className:`py-2 px-3 rounded-lg text-xs transition-all ${ut===Oe.value?"bg-purple-600 text-white":"bg-surface-700 text-surface-300 hover:bg-surface-600"}`,children:[d.jsx("div",{className:"font-medium",children:Oe.label}),d.jsx("div",{className:"text-[10px] opacity-70",children:Oe.desc})]},Oe.value))})]}),Wt&&d.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:d.jsx("p",{className:"text-sm text-red-300",children:Wt})}),be&&d.jsxs("div",{className:"p-4 bg-surface-900/50 rounded-xl space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-3xl font-bold",style:{color:be.result.match_score>=80?"#10b981":be.result.match_score>=50?"#f59e0b":"#ef4444"},children:[be.result.match_score,"%"]}),d.jsxs("span",{className:"text-xs text-surface-500",children:[be.model," ($",be.cost.toFixed(4),")"]})]}),d.jsx("p",{className:"text-sm text-surface-300",children:be.result.summary}),be.result.missing&&be.result.missing.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-red-400 font-medium mb-1",children:"Missing Requirements:"}),d.jsx("ul",{className:"text-xs text-surface-400 list-disc ml-4 space-y-0.5",children:be.result.missing.map((Oe,Ne)=>d.jsx("li",{children:Oe},Ne))})]}),be.result.extra&&be.result.extra.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-yellow-400 font-medium mb-1",children:"Extra Code (not in prompt):"}),d.jsx("ul",{className:"text-xs text-surface-400 list-disc ml-4 space-y-0.5",children:be.result.extra.map((Oe,Ne)=>d.jsx("li",{children:Oe},Ne))})]}),be.result.suggestions&&be.result.suggestions.length>0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-blue-400 font-medium mb-1",children:"Suggestions:"}),d.jsx("ul",{className:"text-xs text-surface-400 list-disc ml-4 space-y-0.5",children:be.result.suggestions.map((Oe,Ne)=>d.jsx("li",{children:Oe},Ne))})]})]})]}),d.jsxs("div",{className:"px-6 py-4 border-t border-surface-700/50 flex justify-end gap-3",children:[d.jsx("button",{onClick:()=>{ct(!1),we(null),me(null)},className:"px-4 py-2 text-sm text-surface-300 hover:text-white transition-colors",children:"Close"}),d.jsx("button",{onClick:$e,disabled:Gt,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:Gt?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Checking..."]}):"Run Check"})]})]})}),d.jsx(iee,{isOpen:Je,onClose:()=>rt(!1),promptContent:f.current?f.current.state.doc.toString():m.current||Q||"",codeContent:re||"",promptPath:t==null?void 0:t.prompt,codePath:t==null?void 0:t.code})]})},Bh=({label:t,path:e,exists:n})=>d.jsxs("div",{className:`flex items-center gap-2 ${n?"text-surface-300":"text-surface-500"}`,children:[d.jsx("span",{className:`w-4 h-4 rounded flex items-center justify-center text-[10px] ${n?"bg-green-500/20 text-green-400":"bg-surface-700/50 text-surface-500"}`,children:n?"":""}),d.jsx("span",{children:t})]});function zn(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=zn(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var jx={exports:{}},Nx={},Cx={exports:{}},Ex={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function uee(){if(bN)return Ex;bN=1;var t=Mf();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function o(m,g){var x=g(),v=r({inst:{value:x,getSnapshot:g}}),y=v[0].inst,w=v[1];return i(function(){y.value=x,y.getSnapshot=g,u(y)&&w({inst:y})},[m,x,g]),s(function(){return u(y)&&w({inst:y}),m(function(){u(y)&&w({inst:y})})},[m]),a(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return Ex.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Ex}var yN;function fee(){return yN||(yN=1,Cx.exports=uee()),Cx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function dee(){if(vN)return Nx;vN=1;var t=Mf(),e=fee();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,u=t.useDebugValue;return Nx.useSyncExternalStoreWithSelector=function(f,p,m,g,x){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=o(function(){function Q(N){if(!k){if(k=!0,$=N,N=g(N),x!==void 0&&y.hasValue){var C=y.value;if(x(C,N))return _=C}return _=N}if(C=_,r($,N))return C;var q=g(N);return x!==void 0&&x(C,q)?($=N,C):($=N,_=q)}var k=!1,$,_,T=m===void 0?null:m;return[function(){return Q(p())},T===null?void 0:function(){return Q(T())}]},[p,m,g,x]);var w=s(f,v[0],v[1]);return a(function(){y.hasValue=!0,y.value=w},[w]),u(w),w},Nx}var SN;function hee(){return SN||(SN=1,jx.exports=dee()),jx.exports}var pee=hee();const mee=mm(pee),Oee={},wN=t=>{let e;const n=new Set,r=(p,m)=>{const g=typeof p=="function"?p(e):p;if(!Object.is(g,e)){const x=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,x))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Oee?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,s,u);return u},gee=t=>t?wN(t):wN,{useDebugValue:xee}=oe,{useSyncExternalStoreWithSelector:bee}=mee,yee=t=>t;function L7(t,e=yee,n){const r=bee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return xee(r),r}const QN=(t,e)=>{const n=gee(t),r=(s,i=e)=>L7(n,s,i);return Object.assign(r,n),r},vee=(t,e)=>t?QN(t,e):QN;function _n(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}var See={value:()=>{}};function Bm(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yp(n)}function yp(t){this._=t}function wee(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yp.prototype=Bm.prototype={constructor:yp,on:function(t,e){var n=this._,r=wee(t+"",n),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(t=r[i]).type)&&(s=Qee(n[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(s=(t=r[i]).type)n[s]=kN(n[s],t.name,e);else if(e==null)for(s in n)n[s]=kN(n[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yp(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(e,n)}};function Qee(t,e){for(var n=0,r=t.length,s;n<r;++n)if((s=t[n]).name===e)return s.value}function kN(t,e,n){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=See,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var g2="http://www.w3.org/1999/xhtml";const $N={svg:"http://www.w3.org/2000/svg",xhtml:g2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Um(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),$N.hasOwnProperty(e)?{space:$N[e],local:t}:t}function kee(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===g2&&e.documentElement.namespaceURI===g2?e.createElement(t):e.createElementNS(n,t)}}function $ee(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Y7(t){var e=Um(t);return(e.local?$ee:kee)(e)}function Tee(){}function KQ(t){return t==null?Tee:function(){return this.querySelector(t)}}function _ee(t){typeof t!="function"&&(t=KQ(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],a=i.length,o=r[s]=new Array(a),u,f,p=0;p<a;++p)(u=i[p])&&(f=t.call(u,u.__data__,p,i))&&("__data__"in u&&(f.__data__=u.__data__),o[p]=f);return new Nr(r,this._parents)}function Pee(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function jee(){return[]}function V7(t){return t==null?jee:function(){return this.querySelectorAll(t)}}function Nee(t){return function(){return Pee(t.apply(this,arguments))}}function Cee(t){typeof t=="function"?t=Nee(t):t=V7(t);for(var e=this._groups,n=e.length,r=[],s=[],i=0;i<n;++i)for(var a=e[i],o=a.length,u,f=0;f<o;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),s.push(u));return new Nr(r,s)}function D7(t){return function(){return this.matches(t)}}function B7(t){return function(e){return e.matches(t)}}var Eee=Array.prototype.find;function Ree(t){return function(){return Eee.call(this.children,t)}}function Aee(){return this.firstElementChild}function qee(t){return this.select(t==null?Aee:Ree(typeof t=="function"?t:B7(t)))}var Xee=Array.prototype.filter;function Mee(){return Array.from(this.children)}function zee(t){return function(){return Xee.call(this.children,t)}}function Zee(t){return this.selectAll(t==null?Mee:zee(typeof t=="function"?t:B7(t)))}function Lee(t){typeof t!="function"&&(t=D7(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],a=i.length,o=r[s]=[],u,f=0;f<a;++f)(u=i[f])&&t.call(u,u.__data__,f,i)&&o.push(u);return new Nr(r,this._parents)}function U7(t){return new Array(t.length)}function Yee(){return new Nr(this._enter||this._groups.map(U7),this._parents)}function im(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}im.prototype={constructor:im,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Vee(t){return function(){return t}}function Dee(t,e,n,r,s,i){for(var a=0,o,u=e.length,f=i.length;a<f;++a)(o=e[a])?(o.__data__=i[a],r[a]=o):n[a]=new im(t,i[a]);for(;a<u;++a)(o=e[a])&&(s[a]=o)}function Bee(t,e,n,r,s,i,a){var o,u,f=new Map,p=e.length,m=i.length,g=new Array(p),x;for(o=0;o<p;++o)(u=e[o])&&(g[o]=x=a.call(u,u.__data__,o,e)+"",f.has(x)?s[o]=u:f.set(x,u));for(o=0;o<m;++o)x=a.call(t,i[o],o,i)+"",(u=f.get(x))?(r[o]=u,u.__data__=i[o],f.delete(x)):n[o]=new im(t,i[o]);for(o=0;o<p;++o)(u=e[o])&&f.get(g[o])===u&&(s[o]=u)}function Uee(t){return t.__data__}function Gee(t,e){if(!arguments.length)return Array.from(this,Uee);var n=e?Bee:Dee,r=this._parents,s=this._groups;typeof t!="function"&&(t=Vee(t));for(var i=s.length,a=new Array(i),o=new Array(i),u=new Array(i),f=0;f<i;++f){var p=r[f],m=s[f],g=m.length,x=Wee(t.call(p,p&&p.__data__,f,r)),v=x.length,y=o[f]=new Array(v),w=a[f]=new Array(v),Q=u[f]=new Array(g);n(p,m,y,w,Q,x,e);for(var k=0,$=0,_,T;k<v;++k)if(_=y[k]){for(k>=$&&($=k+1);!(T=w[$])&&++$<v;);_._next=T||null}}return a=new Nr(a,r),a._enter=o,a._exit=u,a}function Wee(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Iee(){return new Nr(this._exit||this._groups.map(U7),this._parents)}function Hee(t,e,n){var r=this.enter(),s=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function Fee(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,s=n.length,i=r.length,a=Math.min(s,i),o=new Array(s),u=0;u<a;++u)for(var f=n[u],p=r[u],m=f.length,g=o[u]=new Array(m),x,v=0;v<m;++v)(x=f[v]||p[v])&&(g[v]=x);for(;u<s;++u)o[u]=n[u];return new Nr(o,this._parents)}function Kee(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],s=r.length-1,i=r[s],a;--s>=0;)(a=r[s])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Jee(t){t||(t=ete);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var a=n[i],o=a.length,u=s[i]=new Array(o),f,p=0;p<o;++p)(f=a[p])&&(u[p]=f);u.sort(e)}return new Nr(s,this._parents).order()}function ete(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function tte(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function nte(){return Array.from(this)}function rte(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length;s<i;++s){var a=r[s];if(a)return a}return null}function ste(){let t=0;for(const e of this)++t;return t}function ite(){return!this.node()}function ate(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],i=0,a=s.length,o;i<a;++i)(o=s[i])&&t.call(o,o.__data__,i,s);return this}function lte(t){return function(){this.removeAttribute(t)}}function ote(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cte(t,e){return function(){this.setAttribute(t,e)}}function ute(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fte(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function dte(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hte(t,e){var n=Um(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ote:lte:typeof e=="function"?n.local?dte:fte:n.local?ute:cte)(n,e))}function G7(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pte(t){return function(){this.style.removeProperty(t)}}function mte(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ote(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function gte(t,e,n){return arguments.length>1?this.each((e==null?pte:typeof e=="function"?Ote:mte)(t,e,n??"")):Oc(this.node(),t)}function Oc(t,e){return t.style.getPropertyValue(e)||G7(t).getComputedStyle(t,null).getPropertyValue(e)}function xte(t){return function(){delete this[t]}}function bte(t,e){return function(){this[t]=e}}function yte(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vte(t,e){return arguments.length>1?this.each((e==null?xte:typeof e=="function"?yte:bte)(t,e)):this.node()[t]}function W7(t){return t.trim().split(/^|\s+/)}function JQ(t){return t.classList||new I7(t)}function I7(t){this._node=t,this._names=W7(t.getAttribute("class")||"")}I7.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function H7(t,e){for(var n=JQ(t),r=-1,s=e.length;++r<s;)n.add(e[r])}function F7(t,e){for(var n=JQ(t),r=-1,s=e.length;++r<s;)n.remove(e[r])}function Ste(t){return function(){H7(this,t)}}function wte(t){return function(){F7(this,t)}}function Qte(t,e){return function(){(e.apply(this,arguments)?H7:F7)(this,t)}}function kte(t,e){var n=W7(t+"");if(arguments.length<2){for(var r=JQ(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof e=="function"?Qte:e?Ste:wte)(n,e))}function $te(){this.textContent=""}function Tte(t){return function(){this.textContent=t}}function _te(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pte(t){return arguments.length?this.each(t==null?$te:(typeof t=="function"?_te:Tte)(t)):this.node().textContent}function jte(){this.innerHTML=""}function Nte(t){return function(){this.innerHTML=t}}function Cte(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ete(t){return arguments.length?this.each(t==null?jte:(typeof t=="function"?Cte:Nte)(t)):this.node().innerHTML}function Rte(){this.nextSibling&&this.parentNode.appendChild(this)}function Ate(){return this.each(Rte)}function qte(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xte(){return this.each(qte)}function Mte(t){var e=typeof t=="function"?t:Y7(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function zte(){return null}function Zte(t,e){var n=typeof t=="function"?t:Y7(t),r=e==null?zte:typeof e=="function"?e:KQ(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Lte(){var t=this.parentNode;t&&t.removeChild(this)}function Yte(){return this.each(Lte)}function Vte(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Dte(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bte(t){return this.select(t?Dte:Vte)}function Ute(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gte(t){return function(e){t.call(this,e,this.__data__)}}function Wte(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ite(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,s=e.length,i;n<s;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Hte(t,e,n){return function(){var r=this.__on,s,i=Gte(e);if(r){for(var a=0,o=r.length;a<o;++a)if((s=r[a]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=e;return}}this.addEventListener(t.type,i,n),s={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(s):this.__on=[s]}}function Fte(t,e,n){var r=Wte(t+""),s,i=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,f=o.length,p;u<f;++u)for(s=0,p=o[u];s<i;++s)if((a=r[s]).type===p.type&&a.name===p.name)return p.value}return}for(o=e?Hte:Ite,s=0;s<i;++s)this.each(o(r[s],e,n));return this}function K7(t,e,n){var r=G7(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,n):(s=r.document.createEvent("Event"),n?(s.initEvent(e,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function Kte(t,e){return function(){return K7(this,t,e)}}function Jte(t,e){return function(){return K7(this,t,e.apply(this,arguments))}}function ene(t,e){return this.each((typeof e=="function"?Jte:Kte)(t,e))}function*tne(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],s=0,i=r.length,a;s<i;++s)(a=r[s])&&(yield a)}var J7=[null];function Nr(t,e){this._groups=t,this._parents=e}function Kf(){return new Nr([[document.documentElement]],J7)}function nne(){return this}Nr.prototype=Kf.prototype={constructor:Nr,select:_ee,selectAll:Cee,selectChild:qee,selectChildren:Zee,filter:Lee,data:Gee,enter:Yee,exit:Iee,join:Hee,merge:Fee,selection:nne,order:Kee,sort:Jee,call:tte,nodes:nte,node:rte,size:ste,empty:ite,each:ate,attr:hte,style:gte,property:vte,classed:kte,text:Pte,html:Ete,raise:Ate,lower:Xte,append:Mte,insert:Zte,remove:Yte,clone:Bte,datum:Ute,on:Fte,dispatch:ene,[Symbol.iterator]:tne};function Br(t){return typeof t=="string"?new Nr([[document.querySelector(t)]],[document.documentElement]):new Nr([[t]],J7)}function rne(t){let e;for(;e=t.sourceEvent;)t=e;return t}function xs(t,e){if(t=rne(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}}return[t.pageX,t.pageY]}const sne={passive:!1},jf={capture:!0,passive:!1};function Rx(t){t.stopImmediatePropagation()}function nc(t){t.preventDefault(),t.stopImmediatePropagation()}function eZ(t){var e=t.document.documentElement,n=Br(t).on("dragstart.drag",nc,jf);"onselectstart"in e?n.on("selectstart.drag",nc,jf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function tZ(t,e){var n=t.document.documentElement,r=Br(t).on("dragstart.drag",null);e&&(r.on("click.drag",nc,jf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Uh=t=>()=>t;function x2(t,{sourceEvent:e,subject:n,target:r,identifier:s,active:i,x:a,y:o,dx:u,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}x2.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ine(t){return!t.ctrlKey&&!t.button}function ane(){return this.parentNode}function lne(t,e){return e??{x:t.x,y:t.y}}function one(){return navigator.maxTouchPoints||"ontouchstart"in this}function cne(){var t=ine,e=ane,n=lne,r=one,s={},i=Bm("start","drag","end"),a=0,o,u,f,p,m=0;function g(_){_.on("mousedown.drag",x).filter(r).on("touchstart.drag",w).on("touchmove.drag",Q,sne).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(_,T){if(!(p||!t.call(this,_,T))){var N=$(this,e.call(this,_,T),_,T,"mouse");N&&(Br(_.view).on("mousemove.drag",v,jf).on("mouseup.drag",y,jf),eZ(_.view),Rx(_),f=!1,o=_.clientX,u=_.clientY,N("start",_))}}function v(_){if(nc(_),!f){var T=_.clientX-o,N=_.clientY-u;f=T*T+N*N>m}s.mouse("drag",_)}function y(_){Br(_.view).on("mousemove.drag mouseup.drag",null),tZ(_.view,f),nc(_),s.mouse("end",_)}function w(_,T){if(t.call(this,_,T)){var N=_.changedTouches,C=e.call(this,_,T),q=N.length,z,Z;for(z=0;z<q;++z)(Z=$(this,C,_,T,N[z].identifier,N[z]))&&(Rx(_),Z("start",_,N[z]))}}function Q(_){var T=_.changedTouches,N=T.length,C,q;for(C=0;C<N;++C)(q=s[T[C].identifier])&&(nc(_),q("drag",_,T[C]))}function k(_){var T=_.changedTouches,N=T.length,C,q;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),C=0;C<N;++C)(q=s[T[C].identifier])&&(Rx(_),q("end",_,T[C]))}function $(_,T,N,C,q,z){var Z=i.copy(),R=xs(z||N,T),Y,L,E;if((E=n.call(_,new x2("beforestart",{sourceEvent:N,target:g,identifier:q,active:a,x:R[0],y:R[1],dx:0,dy:0,dispatch:Z}),C))!=null)return Y=E.x-R[0]||0,L=E.y-R[1]||0,function U(A,I,F){var G=R,J;switch(A){case"start":s[q]=U,J=a++;break;case"end":delete s[q],--a;case"drag":R=xs(F||I,T),J=a;break}Z.call(A,_,new x2(A,{sourceEvent:I,subject:E,target:g,identifier:q,active:J,x:R[0]+Y,y:R[1]+L,dx:R[0]-G[0],dy:R[1]-G[1],dispatch:Z}),C)}}return g.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Uh(!!_),g):t},g.container=function(_){return arguments.length?(e=typeof _=="function"?_:Uh(_),g):e},g.subject=function(_){return arguments.length?(n=typeof _=="function"?_:Uh(_),g):n},g.touchable=function(_){return arguments.length?(r=typeof _=="function"?_:Uh(!!_),g):r},g.on=function(){var _=i.on.apply(i,arguments);return _===i?g:_},g.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,g):Math.sqrt(m)},g}function ek(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nZ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jf(){}var Nf=.7,am=1/Nf,rc="\\s*([+-]?\\d+)\\s*",Cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",une=/^#([0-9a-f]{3,8})$/,fne=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),dne=new RegExp(`^rgb\\(${Hs},${Hs},${Hs}\\)$`),hne=new RegExp(`^rgba\\(${rc},${rc},${rc},${Cf}\\)$`),pne=new RegExp(`^rgba\\(${Hs},${Hs},${Hs},${Cf}\\)$`),mne=new RegExp(`^hsl\\(${Cf},${Hs},${Hs}\\)$`),One=new RegExp(`^hsla\\(${Cf},${Hs},${Hs},${Cf}\\)$`),TN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ek(Jf,Ef,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_N,formatHex:_N,formatHex8:gne,formatHsl:xne,formatRgb:PN,toString:PN});function _N(){return this.rgb().formatHex()}function gne(){return this.rgb().formatHex8()}function xne(){return rZ(this).formatHsl()}function PN(){return this.rgb().formatRgb()}function Ef(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=une.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?jN(e):n===3?new fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fne.exec(t))?new fr(e[1],e[2],e[3],1):(e=dne.exec(t))?new fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hne.exec(t))?Gh(e[1],e[2],e[3],e[4]):(e=pne.exec(t))?Gh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=mne.exec(t))?EN(e[1],e[2]/100,e[3]/100,1):(e=One.exec(t))?EN(e[1],e[2]/100,e[3]/100,e[4]):TN.hasOwnProperty(t)?jN(TN[t]):t==="transparent"?new fr(NaN,NaN,NaN,0):null}function jN(t){return new fr(t>>16&255,t>>8&255,t&255,1)}function Gh(t,e,n,r){return r<=0&&(t=e=n=NaN),new fr(t,e,n,r)}function bne(t){return t instanceof Jf||(t=Ef(t)),t?(t=t.rgb(),new fr(t.r,t.g,t.b,t.opacity)):new fr}function b2(t,e,n,r){return arguments.length===1?bne(t):new fr(t,e,n,r??1)}function fr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ek(fr,b2,nZ(Jf,{brighter(t){return t=t==null?am:Math.pow(am,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nf:Math.pow(Nf,t),new fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fr(Ql(this.r),Ql(this.g),Ql(this.b),lm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NN,formatHex:NN,formatHex8:yne,formatRgb:CN,toString:CN}));function NN(){return`#${yl(this.r)}${yl(this.g)}${yl(this.b)}`}function yne(){return`#${yl(this.r)}${yl(this.g)}${yl(this.b)}${yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function CN(){const t=lm(this.opacity);return`${t===1?"rgb(":"rgba("}${Ql(this.r)}, ${Ql(this.g)}, ${Ql(this.b)}${t===1?")":`, ${t})`}`}function lm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ql(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yl(t){return t=Ql(t),(t<16?"0":"")+t.toString(16)}function EN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ss(t,e,n,r)}function rZ(t){if(t instanceof Ss)return new Ss(t.h,t.s,t.l,t.opacity);if(t instanceof Jf||(t=Ef(t)),!t)return new Ss;if(t instanceof Ss)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,o=i-s,u=(i+s)/2;return o?(e===i?a=(n-r)/o+(n<r)*6:n===i?a=(r-e)/o+2:a=(e-n)/o+4,o/=u<.5?i+s:2-i-s,a*=60):o=u>0&&u<1?0:a,new Ss(a,o,u,t.opacity)}function vne(t,e,n,r){return arguments.length===1?rZ(t):new Ss(t,e,n,r??1)}function Ss(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ek(Ss,vne,nZ(Jf,{brighter(t){return t=t==null?am:Math.pow(am,t),new Ss(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nf:Math.pow(Nf,t),new Ss(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new fr(Ax(t>=240?t-240:t+120,s,r),Ax(t,s,r),Ax(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Ss(RN(this.h),Wh(this.s),Wh(this.l),lm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lm(this.opacity);return`${t===1?"hsl(":"hsla("}${RN(this.h)}, ${Wh(this.s)*100}%, ${Wh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RN(t){return t=(t||0)%360,t<0?t+360:t}function Wh(t){return Math.max(0,Math.min(1,t||0))}function Ax(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sZ=t=>()=>t;function Sne(t,e){return function(n){return t+n*e}}function wne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qne(t){return(t=+t)==1?iZ:function(e,n){return n-e?wne(e,n,t):sZ(isNaN(e)?n:e)}}function iZ(t,e){var n=e-t;return n?Sne(t,n):sZ(isNaN(t)?e:t)}const AN=(function t(e){var n=Qne(e);function r(s,i){var a=n((s=b2(s)).r,(i=b2(i)).r),o=n(s.g,i.g),u=n(s.b,i.b),f=iZ(s.opacity,i.opacity);return function(p){return s.r=a(p),s.g=o(p),s.b=u(p),s.opacity=f(p),s+""}}return r.gamma=t,r})(1);function Sa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var y2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qx=new RegExp(y2.source,"g");function kne(t){return function(){return t}}function $ne(t){return function(e){return t(e)+""}}function Tne(t,e){var n=y2.lastIndex=qx.lastIndex=0,r,s,i,a=-1,o=[],u=[];for(t=t+"",e=e+"";(r=y2.exec(t))&&(s=qx.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),o[a]?o[a]+=i:o[++a]=i),(r=r[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,u.push({i:a,x:Sa(r,s)})),n=qx.lastIndex;return n<e.length&&(i=e.slice(n),o[a]?o[a]+=i:o[++a]=i),o.length<2?u[0]?$ne(u[0].x):kne(e):(e=u.length,function(f){for(var p=0,m;p<e;++p)o[(m=u[p]).i]=m.x(f);return o.join("")})}var qN=180/Math.PI,v2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aZ(t,e,n,r,s,i){var a,o,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:s,translateY:i,rotate:Math.atan2(e,t)*qN,skewX:Math.atan(u)*qN,scaleX:a,scaleY:o}}var Ih;function _ne(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?v2:aZ(e.a,e.b,e.c,e.d,e.e,e.f)}function Pne(t){return t==null||(Ih||(Ih=document.createElementNS("http://www.w3.org/2000/svg","g")),Ih.setAttribute("transform",t),!(t=Ih.transform.baseVal.consolidate()))?v2:(t=t.matrix,aZ(t.a,t.b,t.c,t.d,t.e,t.f))}function lZ(t,e,n,r){function s(f){return f.length?f.pop()+" ":""}function i(f,p,m,g,x,v){if(f!==m||p!==g){var y=x.push("translate(",null,e,null,n);v.push({i:y-4,x:Sa(f,m)},{i:y-2,x:Sa(p,g)})}else(m||g)&&x.push("translate("+m+e+g+n)}function a(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(s(m)+"rotate(",null,r)-2,x:Sa(f,p)})):p&&m.push(s(m)+"rotate("+p+r)}function o(f,p,m,g){f!==p?g.push({i:m.push(s(m)+"skewX(",null,r)-2,x:Sa(f,p)}):p&&m.push(s(m)+"skewX("+p+r)}function u(f,p,m,g,x,v){if(f!==m||p!==g){var y=x.push(s(x)+"scale(",null,",",null,")");v.push({i:y-4,x:Sa(f,m)},{i:y-2,x:Sa(p,g)})}else(m!==1||g!==1)&&x.push(s(x)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=t(f),p=t(p),i(f.translateX,f.translateY,p.translateX,p.translateY,m,g),a(f.rotate,p.rotate,m,g),o(f.skewX,p.skewX,m,g),u(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(x){for(var v=-1,y=g.length,w;++v<y;)m[(w=g[v]).i]=w.x(x);return m.join("")}}}var jne=lZ(_ne,"px, ","px)","deg)"),Nne=lZ(Pne,", ",")",")"),Cne=1e-12;function XN(t){return((t=Math.exp(t))+1/t)/2}function Ene(t){return((t=Math.exp(t))-1/t)/2}function Rne(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ane=(function t(e,n,r){function s(i,a){var o=i[0],u=i[1],f=i[2],p=a[0],m=a[1],g=a[2],x=p-o,v=m-u,y=x*x+v*v,w,Q;if(y<Cne)Q=Math.log(g/f)/e,w=function(C){return[o+C*x,u+C*v,f*Math.exp(e*C*Q)]};else{var k=Math.sqrt(y),$=(g*g-f*f+r*y)/(2*f*n*k),_=(g*g-f*f-r*y)/(2*g*n*k),T=Math.log(Math.sqrt($*$+1)-$),N=Math.log(Math.sqrt(_*_+1)-_);Q=(N-T)/e,w=function(C){var q=C*Q,z=XN(T),Z=f/(n*k)*(z*Rne(e*q+T)-Ene(T));return[o+Z*x,u+Z*v,f*z/XN(e*q+T)]}}return w.duration=Q*1e3*e/Math.SQRT2,w}return s.rho=function(i){var a=Math.max(.001,+i),o=a*a,u=o*o;return t(a,o,u)},s})(Math.SQRT2,2,4);var gc=0,Gu=0,qu=0,oZ=1e3,om,Wu,cm=0,Rl=0,Gm=0,Rf=typeof performance=="object"&&performance.now?performance:Date,cZ=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tk(){return Rl||(cZ(qne),Rl=Rf.now()+Gm)}function qne(){Rl=0}function um(){this._call=this._time=this._next=null}um.prototype=uZ.prototype={constructor:um,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?tk():+n)+(e==null?0:+e),!this._next&&Wu!==this&&(Wu?Wu._next=this:om=this,Wu=this),this._call=t,this._time=n,S2()},stop:function(){this._call&&(this._call=null,this._time=1/0,S2())}};function uZ(t,e,n){var r=new um;return r.restart(t,e,n),r}function Xne(){tk(),++gc;for(var t=om,e;t;)(e=Rl-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gc}function MN(){Rl=(cm=Rf.now())+Gm,gc=Gu=0;try{Xne()}finally{gc=0,zne(),Rl=0}}function Mne(){var t=Rf.now(),e=t-cm;e>oZ&&(Gm-=e,cm=t)}function zne(){for(var t,e=om,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:om=n);Wu=t,S2(r)}function S2(t){if(!gc){Gu&&(Gu=clearTimeout(Gu));var e=t-Rl;e>24?(t<1/0&&(Gu=setTimeout(MN,t-Rf.now()-Gm)),qu&&(qu=clearInterval(qu))):(qu||(cm=Rf.now(),qu=setInterval(Mne,oZ)),gc=1,cZ(MN))}}function zN(t,e,n){var r=new um;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,n),r}var Zne=Bm("start","end","cancel","interrupt"),Lne=[],fZ=0,ZN=1,w2=2,vp=3,LN=4,Q2=5,Sp=6;function Wm(t,e,n,r,s,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Yne(t,n,{name:e,index:r,group:s,on:Zne,tween:Lne,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:fZ})}function nk(t,e){var n=js(t,e);if(n.state>fZ)throw new Error("too late; already scheduled");return n}function Js(t,e){var n=js(t,e);if(n.state>vp)throw new Error("too late; already running");return n}function js(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Yne(t,e,n){var r=t.__transition,s;r[e]=n,n.timer=uZ(i,0,n.time);function i(f){n.state=ZN,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var p,m,g,x;if(n.state!==ZN)return u();for(p in r)if(x=r[p],x.name===n.name){if(x.state===vp)return zN(a);x.state===LN?(x.state=Sp,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[p]):+p<e&&(x.state=Sp,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[p])}if(zN(function(){n.state===vp&&(n.state=LN,n.timer.restart(o,n.delay,n.time),o(f))}),n.state=w2,n.on.call("start",t,t.__data__,n.index,n.group),n.state===w2){for(n.state=vp,s=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(x=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(s[++m]=x);s.length=m+1}}function o(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(u),n.state=Q2,1),m=-1,g=s.length;++m<g;)s[m].call(t,p);n.state===Q2&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Sp,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function wp(t,e){var n=t.__transition,r,s,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}s=r.state>w2&&r.state<Q2,r.state=Sp,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function Vne(t){return this.each(function(){wp(this,t)})}function Dne(t,e){var n,r;return function(){var s=Js(this,t),i=s.tween;if(i!==n){r=n=i;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}s.tween=r}}function Bne(t,e,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Js(this,t),a=i.tween;if(a!==r){s=(r=a).slice();for(var o={name:e,value:n},u=0,f=s.length;u<f;++u)if(s[u].name===e){s[u]=o;break}u===f&&s.push(o)}i.tween=s}}function Une(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=js(this.node(),n).tween,s=0,i=r.length,a;s<i;++s)if((a=r[s]).name===t)return a.value;return null}return this.each((e==null?Dne:Bne)(n,t,e))}function rk(t,e,n){var r=t._id;return t.each(function(){var s=Js(this,r);(s.value||(s.value={}))[e]=n.apply(this,arguments)}),function(s){return js(s,r).value[e]}}function dZ(t,e){var n;return(typeof e=="number"?Sa:e instanceof Ef?AN:(n=Ef(e))?(e=n,AN):Tne)(t,e)}function Gne(t){return function(){this.removeAttribute(t)}}function Wne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ine(t,e,n){var r,s=n+"",i;return function(){var a=this.getAttribute(t);return a===s?null:a===r?i:i=e(r=a,n)}}function Hne(t,e,n){var r,s=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===s?null:a===r?i:i=e(r=a,n)}}function Fne(t,e,n){var r,s,i;return function(){var a,o=n(this),u;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=o+"",a===u?null:a===r&&u===s?i:(s=u,i=e(r=a,o)))}}function Kne(t,e,n){var r,s,i;return function(){var a,o=n(this),u;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=o+"",a===u?null:a===r&&u===s?i:(s=u,i=e(r=a,o)))}}function Jne(t,e){var n=Um(t),r=n==="transform"?Nne:dZ;return this.attrTween(t,typeof e=="function"?(n.local?Kne:Fne)(n,r,rk(this,"attr."+t,e)):e==null?(n.local?Wne:Gne)(n):(n.local?Hne:Ine)(n,r,e))}function ere(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function tre(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function nre(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&tre(t,i)),n}return s._value=e,s}function rre(t,e){var n,r;function s(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ere(t,i)),n}return s._value=e,s}function sre(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Um(t);return this.tween(n,(r.local?nre:rre)(r,e))}function ire(t,e){return function(){nk(this,t).delay=+e.apply(this,arguments)}}function are(t,e){return e=+e,function(){nk(this,t).delay=e}}function lre(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ire:are)(e,t)):js(this.node(),e).delay}function ore(t,e){return function(){Js(this,t).duration=+e.apply(this,arguments)}}function cre(t,e){return e=+e,function(){Js(this,t).duration=e}}function ure(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ore:cre)(e,t)):js(this.node(),e).duration}function fre(t,e){if(typeof e!="function")throw new Error;return function(){Js(this,t).ease=e}}function dre(t){var e=this._id;return arguments.length?this.each(fre(e,t)):js(this.node(),e).ease}function hre(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Js(this,t).ease=n}}function pre(t){if(typeof t!="function")throw new Error;return this.each(hre(this._id,t))}function mre(t){typeof t!="function"&&(t=D7(t));for(var e=this._groups,n=e.length,r=new Array(n),s=0;s<n;++s)for(var i=e[s],a=i.length,o=r[s]=[],u,f=0;f<a;++f)(u=i[f])&&t.call(u,u.__data__,f,i)&&o.push(u);return new Zi(r,this._parents,this._name,this._id)}function Ore(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,s=n.length,i=Math.min(r,s),a=new Array(r),o=0;o<i;++o)for(var u=e[o],f=n[o],p=u.length,m=a[o]=new Array(p),g,x=0;x<p;++x)(g=u[x]||f[x])&&(m[x]=g);for(;o<r;++o)a[o]=e[o];return new Zi(a,this._parents,this._name,this._id)}function gre(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function xre(t,e,n){var r,s,i=gre(e)?nk:Js;return function(){var a=i(this,t),o=a.on;o!==r&&(s=(r=o).copy()).on(e,n),a.on=s}}function bre(t,e){var n=this._id;return arguments.length<2?js(this.node(),n).on.on(t):this.each(xre(n,t,e))}function yre(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function vre(){return this.on("end.remove",yre(this._id))}function Sre(t){var e=this._name,n=this._id;typeof t!="function"&&(t=KQ(t));for(var r=this._groups,s=r.length,i=new Array(s),a=0;a<s;++a)for(var o=r[a],u=o.length,f=i[a]=new Array(u),p,m,g=0;g<u;++g)(p=o[g])&&(m=t.call(p,p.__data__,g,o))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,Wm(f[g],e,n,g,f,js(p,n)));return new Zi(i,this._parents,e,n)}function wre(t){var e=this._name,n=this._id;typeof t!="function"&&(t=V7(t));for(var r=this._groups,s=r.length,i=[],a=[],o=0;o<s;++o)for(var u=r[o],f=u.length,p,m=0;m<f;++m)if(p=u[m]){for(var g=t.call(p,p.__data__,m,u),x,v=js(p,n),y=0,w=g.length;y<w;++y)(x=g[y])&&Wm(x,e,n,y,g,v);i.push(g),a.push(p)}return new Zi(i,a,e,n)}var Qre=Kf.prototype.constructor;function kre(){return new Qre(this._groups,this._parents)}function $re(t,e){var n,r,s;return function(){var i=Oc(this,t),a=(this.style.removeProperty(t),Oc(this,t));return i===a?null:i===n&&a===r?s:s=e(n=i,r=a)}}function hZ(t){return function(){this.style.removeProperty(t)}}function Tre(t,e,n){var r,s=n+"",i;return function(){var a=Oc(this,t);return a===s?null:a===r?i:i=e(r=a,n)}}function _re(t,e,n){var r,s,i;return function(){var a=Oc(this,t),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(t),Oc(this,t))),a===u?null:a===r&&u===s?i:(s=u,i=e(r=a,o))}}function Pre(t,e){var n,r,s,i="style."+e,a="end."+i,o;return function(){var u=Js(this,t),f=u.on,p=u.value[i]==null?o||(o=hZ(e)):void 0;(f!==n||s!==p)&&(r=(n=f).copy()).on(a,s=p),u.on=r}}function jre(t,e,n){var r=(t+="")=="transform"?jne:dZ;return e==null?this.styleTween(t,$re(t,r)).on("end.style."+t,hZ(t)):typeof e=="function"?this.styleTween(t,_re(t,r,rk(this,"style."+t,e))).each(Pre(this._id,t)):this.styleTween(t,Tre(t,r,e),n).on("end.style."+t,null)}function Nre(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Cre(t,e,n){var r,s;function i(){var a=e.apply(this,arguments);return a!==s&&(r=(s=a)&&Nre(t,a,n)),r}return i._value=e,i}function Ere(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Cre(t,e,n??""))}function Rre(t){return function(){this.textContent=t}}function Are(t){return function(){var e=t(this);this.textContent=e??""}}function qre(t){return this.tween("text",typeof t=="function"?Are(rk(this,"text",t)):Rre(t==null?"":t+""))}function Xre(t){return function(e){this.textContent=t.call(this,e)}}function Mre(t){var e,n;function r(){var s=t.apply(this,arguments);return s!==n&&(e=(n=s)&&Xre(s)),e}return r._value=t,r}function zre(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Mre(t))}function Zre(){for(var t=this._name,e=this._id,n=pZ(),r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],o=a.length,u,f=0;f<o;++f)if(u=a[f]){var p=js(u,e);Wm(u,t,n,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Zi(r,this._parents,t,n)}function Lre(){var t,e,n=this,r=n._id,s=n.size();return new Promise(function(i,a){var o={value:a},u={value:function(){--s===0&&i()}};n.each(function(){var f=Js(this,r),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(u)),f.on=e}),s===0&&i()})}var Yre=0;function Zi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function pZ(){return++Yre}var wi=Kf.prototype;Zi.prototype={constructor:Zi,select:Sre,selectAll:wre,selectChild:wi.selectChild,selectChildren:wi.selectChildren,filter:mre,merge:Ore,selection:kre,transition:Zre,call:wi.call,nodes:wi.nodes,node:wi.node,size:wi.size,empty:wi.empty,each:wi.each,on:bre,attr:Jne,attrTween:sre,style:jre,styleTween:Ere,text:qre,textTween:zre,remove:vre,tween:Une,delay:lre,duration:ure,ease:dre,easeVarying:pre,end:Lre,[Symbol.iterator]:wi[Symbol.iterator]};function Vre(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Dre={time:null,delay:0,duration:250,ease:Vre};function Bre(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ure(t){var e,n;t instanceof Zi?(e=t._id,t=t._name):(e=pZ(),(n=Dre).time=tk(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var a=r[i],o=a.length,u,f=0;f<o;++f)(u=a[f])&&Wm(u,t,e,f,a,n||Bre(u,e));return new Zi(r,this._parents,t,e)}Kf.prototype.interrupt=Vne;Kf.prototype.transition=Ure;const Hh=t=>()=>t;function Gre(t,{sourceEvent:e,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function Ri(t,e,n){this.k=t,this.x=e,this.y=n}Ri.prototype={constructor:Ri,scale:function(t){return t===1?this:new Ri(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ri(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xi=new Ri(1,0,0);Ri.prototype;function Xx(t){t.stopImmediatePropagation()}function Xu(t){t.preventDefault(),t.stopImmediatePropagation()}function Wre(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ire(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function YN(){return this.__zoom||Xi}function Hre(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Fre(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kre(t,e,n){var r=t.invertX(e[0][0])-n[0][0],s=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function mZ(){var t=Wre,e=Ire,n=Kre,r=Hre,s=Fre,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],o=250,u=Ane,f=Bm("start","zoom","end"),p,m,g,x=500,v=150,y=0,w=10;function Q(E){E.property("__zoom",YN).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",Z).filter(s).on("touchstart.zoom",R).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Q.transform=function(E,U,A,I){var F=E.selection?E.selection():E;F.property("__zoom",YN),E!==F?T(E,U,A,I):F.interrupt().each(function(){N(this,arguments).event(I).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},Q.scaleBy=function(E,U,A,I){Q.scaleTo(E,function(){var F=this.__zoom.k,G=typeof U=="function"?U.apply(this,arguments):U;return F*G},A,I)},Q.scaleTo=function(E,U,A,I){Q.transform(E,function(){var F=e.apply(this,arguments),G=this.__zoom,J=A==null?_(F):typeof A=="function"?A.apply(this,arguments):A,X=G.invert(J),B=typeof U=="function"?U.apply(this,arguments):U;return n($(k(G,B),J,X),F,a)},A,I)},Q.translateBy=function(E,U,A,I){Q.transform(E,function(){return n(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof A=="function"?A.apply(this,arguments):A),e.apply(this,arguments),a)},null,I)},Q.translateTo=function(E,U,A,I,F){Q.transform(E,function(){var G=e.apply(this,arguments),J=this.__zoom,X=I==null?_(G):typeof I=="function"?I.apply(this,arguments):I;return n(Xi.translate(X[0],X[1]).scale(J.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof A=="function"?-A.apply(this,arguments):-A),G,a)},I,F)};function k(E,U){return U=Math.max(i[0],Math.min(i[1],U)),U===E.k?E:new Ri(U,E.x,E.y)}function $(E,U,A){var I=U[0]-A[0]*E.k,F=U[1]-A[1]*E.k;return I===E.x&&F===E.y?E:new Ri(E.k,I,F)}function _(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function T(E,U,A,I){E.on("start.zoom",function(){N(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(I).end()}).tween("zoom",function(){var F=this,G=arguments,J=N(F,G).event(I),X=e.apply(F,G),B=A==null?_(X):typeof A=="function"?A.apply(F,G):A,te=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),V=F.__zoom,W=typeof U=="function"?U.apply(F,G):U,ee=u(V.invert(B).concat(te/V.k),W.invert(B).concat(te/W.k));return function(re){if(re===1)re=W;else{var ue=ee(re),pe=te/ue[2];re=new Ri(pe,B[0]-ue[0]*pe,B[1]-ue[1]*pe)}J.zoom(null,re)}})}function N(E,U,A){return!A&&E.__zooming||new C(E,U)}function C(E,U){this.that=E,this.args=U,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,U),this.taps=0}C.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,U){return this.mouse&&E!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var U=Br(this.that).datum();f.call(E,this.that,new Gre(E,{sourceEvent:this.sourceEvent,target:Q,transform:this.that.__zoom,dispatch:f}),U)}};function q(E,...U){if(!t.apply(this,arguments))return;var A=N(this,U).event(E),I=this.__zoom,F=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),G=xs(E);if(A.wheel)(A.mouse[0][0]!==G[0]||A.mouse[0][1]!==G[1])&&(A.mouse[1]=I.invert(A.mouse[0]=G)),clearTimeout(A.wheel);else{if(I.k===F)return;A.mouse=[G,I.invert(G)],wp(this),A.start()}Xu(E),A.wheel=setTimeout(J,v),A.zoom("mouse",n($(k(I,F),A.mouse[0],A.mouse[1]),A.extent,a));function J(){A.wheel=null,A.end()}}function z(E,...U){if(g||!t.apply(this,arguments))return;var A=E.currentTarget,I=N(this,U,!0).event(E),F=Br(E.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",te,!0),G=xs(E,A),J=E.clientX,X=E.clientY;eZ(E.view),Xx(E),I.mouse=[G,this.__zoom.invert(G)],wp(this),I.start();function B(V){if(Xu(V),!I.moved){var W=V.clientX-J,ee=V.clientY-X;I.moved=W*W+ee*ee>y}I.event(V).zoom("mouse",n($(I.that.__zoom,I.mouse[0]=xs(V,A),I.mouse[1]),I.extent,a))}function te(V){F.on("mousemove.zoom mouseup.zoom",null),tZ(V.view,I.moved),Xu(V),I.event(V).end()}}function Z(E,...U){if(t.apply(this,arguments)){var A=this.__zoom,I=xs(E.changedTouches?E.changedTouches[0]:E,this),F=A.invert(I),G=A.k*(E.shiftKey?.5:2),J=n($(k(A,G),I,F),e.apply(this,U),a);Xu(E),o>0?Br(this).transition().duration(o).call(T,J,I,E):Br(this).call(Q.transform,J,I,E)}}function R(E,...U){if(t.apply(this,arguments)){var A=E.touches,I=A.length,F=N(this,U,E.changedTouches.length===I).event(E),G,J,X,B;for(Xx(E),J=0;J<I;++J)X=A[J],B=xs(X,this),B=[B,this.__zoom.invert(B),X.identifier],F.touch0?!F.touch1&&F.touch0[2]!==B[2]&&(F.touch1=B,F.taps=0):(F.touch0=B,G=!0,F.taps=1+!!p);p&&(p=clearTimeout(p)),G&&(F.taps<2&&(m=B[0],p=setTimeout(function(){p=null},x)),wp(this),F.start())}}function Y(E,...U){if(this.__zooming){var A=N(this,U).event(E),I=E.changedTouches,F=I.length,G,J,X,B;for(Xu(E),G=0;G<F;++G)J=I[G],X=xs(J,this),A.touch0&&A.touch0[2]===J.identifier?A.touch0[0]=X:A.touch1&&A.touch1[2]===J.identifier&&(A.touch1[0]=X);if(J=A.that.__zoom,A.touch1){var te=A.touch0[0],V=A.touch0[1],W=A.touch1[0],ee=A.touch1[1],re=(re=W[0]-te[0])*re+(re=W[1]-te[1])*re,ue=(ue=ee[0]-V[0])*ue+(ue=ee[1]-V[1])*ue;J=k(J,Math.sqrt(re/ue)),X=[(te[0]+W[0])/2,(te[1]+W[1])/2],B=[(V[0]+ee[0])/2,(V[1]+ee[1])/2]}else if(A.touch0)X=A.touch0[0],B=A.touch0[1];else return;A.zoom("touch",n($(J,X,B),A.extent,a))}}function L(E,...U){if(this.__zooming){var A=N(this,U).event(E),I=E.changedTouches,F=I.length,G,J;for(Xx(E),g&&clearTimeout(g),g=setTimeout(function(){g=null},x),G=0;G<F;++G)J=I[G],A.touch0&&A.touch0[2]===J.identifier?delete A.touch0:A.touch1&&A.touch1[2]===J.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(J=xs(J,this),Math.hypot(m[0]-J[0],m[1]-J[1])<w)){var X=Br(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return Q.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Hh(+E),Q):r},Q.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Hh(!!E),Q):t},Q.touchable=function(E){return arguments.length?(s=typeof E=="function"?E:Hh(!!E),Q):s},Q.extent=function(E){return arguments.length?(e=typeof E=="function"?E:Hh([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),Q):e},Q.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],Q):[i[0],i[1]]},Q.translateExtent=function(E){return arguments.length?(a[0][0]=+E[0][0],a[1][0]=+E[1][0],a[0][1]=+E[0][1],a[1][1]=+E[1][1],Q):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},Q.constrain=function(E){return arguments.length?(n=E,Q):n},Q.duration=function(E){return arguments.length?(o=+E,Q):o},Q.interpolate=function(E){return arguments.length?(u=E,Q):u},Q.on=function(){var E=f.on.apply(f,arguments);return E===f?Q:E},Q.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,Q):Math.sqrt(y)},Q.tapDistance=function(E){return arguments.length?(w=+E,Q):w},Q}const Im=j.createContext(null),Jre=Im.Provider,Li={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,e)=>`Couldn't create edge for ${t?"target":"source"} handle id: "${t?e.targetHandle:e.sourceHandle}", edge id: ${e.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},OZ=Li.error001();function zt(t,e){const n=j.useContext(Im);if(n===null)throw new Error(OZ);return L7(n,t,e)}const Qn=()=>{const t=j.useContext(Im);if(t===null)throw new Error(OZ);return j.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe,destroy:t.destroy}),[t])},ese=t=>t.userSelectionActive?"none":"all";function Hm({position:t,children:e,className:n,style:r,...s}){const i=zt(ese),a=`${t}`.split("-");return oe.createElement("div",{className:zn(["react-flow__panel",n,...a]),style:{...r,pointerEvents:i},...s},e)}function tse({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:oe.createElement(Hm,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},oe.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const nse=({x:t,y:e,label:n,labelStyle:r={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:o=2,children:u,className:f,...p})=>{const m=j.useRef(null),[g,x]=j.useState({x:0,y:0,width:0,height:0}),v=zn(["react-flow__edge-textwrapper",f]);return j.useEffect(()=>{if(m.current){const y=m.current.getBBox();x({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:oe.createElement("g",{transform:`translate(${t-g.width/2} ${e-g.height/2})`,className:v,visibility:g.width?"visible":"hidden",...p},s&&oe.createElement("rect",{width:g.width+2*a[0],x:-a[0],y:-a[1],height:g.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:o,ry:o}),oe.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:m,style:r},n),u)};var rse=j.memo(nse);const sk=t=>({width:t.offsetWidth,height:t.offsetHeight}),xc=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),ik=(t={x:0,y:0},e)=>({x:xc(t.x,e[0][0],e[1][0]),y:xc(t.y,e[0][1],e[1][1])}),VN=(t,e,n)=>t<e?xc(Math.abs(t-e),1,50)/50:t>n?-xc(Math.abs(t-n),1,50)/50:0,gZ=(t,e)=>{const n=VN(t.x,35,e.width-35)*20,r=VN(t.y,35,e.height-35)*20;return[n,r]},xZ=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},bZ=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Af=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),yZ=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),DN=t=>({...t.positionAbsolute||{x:0,y:0},width:t.width||0,height:t.height||0}),sse=(t,e)=>yZ(bZ(Af(t),Af(e))),k2=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},ise=t=>Fr(t.width)&&Fr(t.height)&&Fr(t.x)&&Fr(t.y),Fr=t=>!isNaN(t)&&isFinite(t),ln=Symbol.for("internals"),vZ=["Enter"," ","Escape"],ase=(t,e)=>{},lse=t=>"nativeEvent"in t;function $2(t){var s,i;const e=lse(t)?t.nativeEvent:t,n=((i=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:i[0])||t.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const SZ=t=>"clientX"in t,ja=(t,e)=>{var i,a;const n=SZ(t),r=n?t.clientX:(i=t.touches)==null?void 0:i[0].clientX,s=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:s-((e==null?void 0:e.top)??0)}},fm=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0},ed=({id:t,path:e,labelX:n,labelY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:x=20})=>oe.createElement(oe.Fragment,null,oe.createElement("path",{id:t,style:p,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:m,markerStart:g}),x&&oe.createElement("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:x,className:"react-flow__edge-interaction"}),s&&Fr(n)&&Fr(r)?oe.createElement(rse,{x:n,y:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:f}):null);ed.displayName="BaseEdge";function Mu(t,e,n){return n===void 0?n:r=>{const s=e().edges.find(i=>i.id===t);s&&n(r,{...s})}}function wZ({sourceX:t,sourceY:e,targetX:n,targetY:r}){const s=Math.abs(n-t)/2,i=n<t?n+s:n-s,a=Math.abs(r-e)/2,o=r<e?r+a:r-a;return[i,o,s,a]}function QZ({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:a,targetControlY:o}){const u=t*.125+s*.375+a*.375+n*.125,f=e*.125+i*.375+o*.375+r*.125,p=Math.abs(u-t),m=Math.abs(f-e);return[u,f,p,m]}var Yi;(function(t){t.Strict="strict",t.Loose="loose"})(Yi||(Yi={}));var vl;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(vl||(vl={}));var qf;(function(t){t.Partial="partial",t.Full="full"})(qf||(qf={}));var ka;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ka||(ka={}));var dm;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(dm||(dm={}));var Me;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Me||(Me={}));function BN({pos:t,x1:e,y1:n,x2:r,y2:s}){return t===Me.Left||t===Me.Right?[.5*(e+r),n]:[e,.5*(n+s)]}function kZ({sourceX:t,sourceY:e,sourcePosition:n=Me.Bottom,targetX:r,targetY:s,targetPosition:i=Me.Top}){const[a,o]=BN({pos:n,x1:t,y1:e,x2:r,y2:s}),[u,f]=BN({pos:i,x1:r,y1:s,x2:t,y2:e}),[p,m,g,x]=QZ({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:a,sourceControlY:o,targetControlX:u,targetControlY:f});return[`M${t},${e} C${a},${o} ${u},${f} ${r},${s}`,p,m,g,x]}const ak=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Me.Bottom,targetPosition:i=Me.Top,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,interactionWidth:y})=>{const[w,Q,k]=kZ({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i});return oe.createElement(ed,{path:w,labelX:Q,labelY:k,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,interactionWidth:y})});ak.displayName="SimpleBezierEdge";const UN={[Me.Left]:{x:-1,y:0},[Me.Right]:{x:1,y:0},[Me.Top]:{x:0,y:-1},[Me.Bottom]:{x:0,y:1}},ose=({source:t,sourcePosition:e=Me.Bottom,target:n})=>e===Me.Left||e===Me.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},GN=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function cse({source:t,sourcePosition:e=Me.Bottom,target:n,targetPosition:r=Me.Top,center:s,offset:i}){const a=UN[e],o=UN[r],u={x:t.x+a.x*i,y:t.y+a.y*i},f={x:n.x+o.x*i,y:n.y+o.y*i},p=ose({source:u,sourcePosition:e,target:f}),m=p.x!==0?"x":"y",g=p[m];let x=[],v,y;const w={x:0,y:0},Q={x:0,y:0},[k,$,_,T]=wZ({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[m]*o[m]===-1){v=s.x??k,y=s.y??$;const C=[{x:v,y:u.y},{x:v,y:f.y}],q=[{x:u.x,y},{x:f.x,y}];a[m]===g?x=m==="x"?C:q:x=m==="x"?q:C}else{const C=[{x:u.x,y:f.y}],q=[{x:f.x,y:u.y}];if(m==="x"?x=a.x===g?q:C:x=a.y===g?C:q,e===r){const L=Math.abs(t[m]-n[m]);if(L<=i){const E=Math.min(i-1,i-L);a[m]===g?w[m]=(u[m]>t[m]?-1:1)*E:Q[m]=(f[m]>n[m]?-1:1)*E}}if(e!==r){const L=m==="x"?"y":"x",E=a[m]===o[L],U=u[L]>f[L],A=u[L]<f[L];(a[m]===1&&(!E&&U||E&&A)||a[m]!==1&&(!E&&A||E&&U))&&(x=m==="x"?C:q)}const z={x:u.x+w.x,y:u.y+w.y},Z={x:f.x+Q.x,y:f.y+Q.y},R=Math.max(Math.abs(z.x-x[0].x),Math.abs(Z.x-x[0].x)),Y=Math.max(Math.abs(z.y-x[0].y),Math.abs(Z.y-x[0].y));R>=Y?(v=(z.x+Z.x)/2,y=x[0].y):(v=x[0].x,y=(z.y+Z.y)/2)}return[[t,{x:u.x+w.x,y:u.y+w.y},...x,{x:f.x+Q.x,y:f.y+Q.y},n],v,y,_,T]}function use(t,e,n,r){const s=Math.min(GN(t,e)/2,GN(e,n)/2,r),{x:i,y:a}=e;if(t.x===i&&i===n.x||t.y===a&&a===n.y)return`L${i} ${a}`;if(t.y===a){const f=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${i+s*f},${a}Q ${i},${a} ${i},${a+s*p}`}const o=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${i},${a+s*u}Q ${i},${a} ${i+s*o},${a}`}function T2({sourceX:t,sourceY:e,sourcePosition:n=Me.Bottom,targetX:r,targetY:s,targetPosition:i=Me.Top,borderRadius:a=5,centerX:o,centerY:u,offset:f=20}){const[p,m,g,x,v]=cse({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:o,y:u},offset:f});return[p.reduce((w,Q,k)=>{let $="";return k>0&&k<p.length-1?$=use(p[k-1],Q,p[k+1],a):$=`${k===0?"M":"L"}${Q.x} ${Q.y}`,w+=$,w},""),m,g,x,v]}const Fm=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:f,style:p,sourcePosition:m=Me.Bottom,targetPosition:g=Me.Top,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[Q,k,$]=T2({sourceX:t,sourceY:e,sourcePosition:m,targetX:n,targetY:r,targetPosition:g,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return oe.createElement(ed,{path:Q,labelX:k,labelY:$,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:x,markerStart:v,interactionWidth:w})});Fm.displayName="SmoothStepEdge";const lk=j.memo(t=>{var e;return oe.createElement(Fm,{...t,pathOptions:j.useMemo(()=>{var n;return{borderRadius:0,offset:(n=t.pathOptions)==null?void 0:n.offset}},[(e=t.pathOptions)==null?void 0:e.offset])})});lk.displayName="StepEdge";function fse({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[s,i,a,o]=wZ({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,s,i,a,o]}const ok=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:x})=>{const[v,y,w]=fse({sourceX:t,sourceY:e,targetX:n,targetY:r});return oe.createElement(ed,{path:v,labelX:y,labelY:w,label:s,labelStyle:i,labelShowBg:a,labelBgStyle:o,labelBgPadding:u,labelBgBorderRadius:f,style:p,markerEnd:m,markerStart:g,interactionWidth:x})});ok.displayName="StraightEdge";function Fh(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function WN({pos:t,x1:e,y1:n,x2:r,y2:s,c:i}){switch(t){case Me.Left:return[e-Fh(e-r,i),n];case Me.Right:return[e+Fh(r-e,i),n];case Me.Top:return[e,n-Fh(n-s,i)];case Me.Bottom:return[e,n+Fh(s-n,i)]}}function $Z({sourceX:t,sourceY:e,sourcePosition:n=Me.Bottom,targetX:r,targetY:s,targetPosition:i=Me.Top,curvature:a=.25}){const[o,u]=WN({pos:n,x1:t,y1:e,x2:r,y2:s,c:a}),[f,p]=WN({pos:i,x1:r,y1:s,x2:t,y2:e,c:a}),[m,g,x,v]=QZ({sourceX:t,sourceY:e,targetX:r,targetY:s,sourceControlX:o,sourceControlY:u,targetControlX:f,targetControlY:p});return[`M${t},${e} C${o},${u} ${f},${p} ${r},${s}`,m,g,x,v]}const hm=j.memo(({sourceX:t,sourceY:e,targetX:n,targetY:r,sourcePosition:s=Me.Bottom,targetPosition:i=Me.Top,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,pathOptions:y,interactionWidth:w})=>{const[Q,k,$]=$Z({sourceX:t,sourceY:e,sourcePosition:s,targetX:n,targetY:r,targetPosition:i,curvature:y==null?void 0:y.curvature});return oe.createElement(ed,{path:Q,labelX:k,labelY:$,label:a,labelStyle:o,labelShowBg:u,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:x,markerStart:v,interactionWidth:w})});hm.displayName="BezierEdge";const ck=j.createContext(null),dse=ck.Provider;ck.Consumer;const hse=()=>j.useContext(ck),pse=t=>"id"in t&&"source"in t&&"target"in t,mse=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`reactflow__edge-${t}${e||""}-${n}${r||""}`,_2=(t,e)=>typeof t>"u"?"":typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`,Ose=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),TZ=(t,e)=>{if(!t.source||!t.target)return e;let n;return pse(t)?n={...t}:n={...t,id:mse(t)},Ose(n,e)?e:e.concat(n)},P2=({x:t,y:e},[n,r,s],i,[a,o])=>{const u={x:(t-n)/s,y:(e-r)/s};return i?{x:a*Math.round(u.x/a),y:o*Math.round(u.y/o)}:u},_Z=({x:t,y:e},[n,r,s])=>({x:t*s+n,y:e*s+r}),kl=(t,e=[0,0])=>{if(!t)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(t.width??0)*e[0],r=(t.height??0)*e[1],s={x:t.position.x-n,y:t.position.y-r};return{...s,positionAbsolute:t.positionAbsolute?{x:t.positionAbsolute.x-n,y:t.positionAbsolute.y-r}:s}},Km=(t,e=[0,0])=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,s)=>{const{x:i,y:a}=kl(s,e).positionAbsolute;return bZ(r,Af({x:i,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return yZ(n)},PZ=(t,e,[n,r,s]=[0,0,1],i=!1,a=!1,o=[0,0])=>{const u={x:(e.x-n)/s,y:(e.y-r)/s,width:e.width/s,height:e.height/s},f=[];return t.forEach(p=>{const{width:m,height:g,selectable:x=!0,hidden:v=!1}=p;if(a&&!x||v)return!1;const{positionAbsolute:y}=kl(p,o),w={x:y.x,y:y.y,width:m||0,height:g||0},Q=k2(u,w),k=typeof m>"u"||typeof g>"u"||m===null||g===null,$=i&&Q>0,_=(m||0)*(g||0);(k||$||Q>=_||p.dragging)&&f.push(p)}),f},jZ=(t,e)=>{const n=t.map(r=>r.id);return e.filter(r=>n.includes(r.source)||n.includes(r.target))},NZ=(t,e,n,r,s,i=.1)=>{const a=e/(t.width*(1+i)),o=n/(t.height*(1+i)),u=Math.min(a,o),f=xc(u,r,s),p=t.x+t.width/2,m=t.y+t.height/2,g=e/2-p*f,x=n/2-m*f;return{x:g,y:x,zoom:f}},fl=(t,e=0)=>t.transition().duration(e);function IN(t,e,n,r){return(e[n]||[]).reduce((s,i)=>{var a,o;return`${t.id}-${i.id}-${n}`!==r&&s.push({id:i.id||null,type:n,nodeId:t.id,x:(((a=t.positionAbsolute)==null?void 0:a.x)??0)+i.x+i.width/2,y:(((o=t.positionAbsolute)==null?void 0:o.y)??0)+i.y+i.height/2}),s},[])}function gse(t,e,n,r,s,i){const{x:a,y:o}=ja(t),f=e.elementsFromPoint(a,o).find(v=>v.classList.contains("react-flow__handle"));if(f){const v=f.getAttribute("data-nodeid");if(v){const y=uk(void 0,f),w=f.getAttribute("data-handleid"),Q=i({nodeId:v,id:w,type:y});if(Q){const k=s.find($=>$.nodeId===v&&$.type===y&&$.id===w);return{handle:{id:w,type:y,nodeId:v,x:(k==null?void 0:k.x)||n.x,y:(k==null?void 0:k.y)||n.y},validHandleResult:Q}}}}let p=[],m=1/0;if(s.forEach(v=>{const y=Math.sqrt((v.x-n.x)**2+(v.y-n.y)**2);if(y<=r){const w=i(v);y<=m&&(y<m?p=[{handle:v,validHandleResult:w}]:y===m&&p.push({handle:v,validHandleResult:w}),m=y)}}),!p.length)return{handle:null,validHandleResult:CZ()};if(p.length===1)return p[0];const g=p.some(({validHandleResult:v})=>v.isValid),x=p.some(({handle:v})=>v.type==="target");return p.find(({handle:v,validHandleResult:y})=>x?v.type==="target":g?y.isValid:!0)||p[0]}const xse={source:null,target:null,sourceHandle:null,targetHandle:null},CZ=()=>({handleDomNode:null,isValid:!1,connection:xse,endHandle:null});function EZ(t,e,n,r,s,i,a){const o=s==="target",u=a.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),f={...CZ(),handleDomNode:u};if(u){const p=uk(void 0,u),m=u.getAttribute("data-nodeid"),g=u.getAttribute("data-handleid"),x=u.classList.contains("connectable"),v=u.classList.contains("connectableend"),y={source:o?m:n,sourceHandle:o?g:r,target:o?n:m,targetHandle:o?r:g};f.connection=y,x&&v&&(e===Yi.Strict?o&&p==="source"||!o&&p==="target":m!==n||g!==r)&&(f.endHandle={nodeId:m,handleId:g,type:p},f.isValid=i(y))}return f}function bse({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((s,i)=>{if(i[ln]){const{handleBounds:a}=i[ln];let o=[],u=[];a&&(o=IN(i,a,"source",`${e}-${n}-${r}`),u=IN(i,a,"target",`${e}-${n}-${r}`)),s.push(...o,...u)}return s},[])}function uk(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Mx(t){t==null||t.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function yse(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}function RZ({event:t,handleId:e,nodeId:n,onConnect:r,isTarget:s,getState:i,setState:a,isValidConnection:o,edgeUpdaterType:u,onReconnectEnd:f}){const p=xZ(t.target),{connectionMode:m,domNode:g,autoPanOnConnect:x,connectionRadius:v,onConnectStart:y,panBy:w,getNodes:Q,cancelConnection:k}=i();let $=0,_;const{x:T,y:N}=ja(t),C=p==null?void 0:p.elementFromPoint(T,N),q=uk(u,C),z=g==null?void 0:g.getBoundingClientRect();if(!z||!q)return;let Z,R=ja(t,z),Y=!1,L=null,E=!1,U=null;const A=bse({nodes:Q(),nodeId:n,handleId:e,handleType:q}),I=()=>{if(!x)return;const[J,X]=gZ(R,z);w({x:J,y:X}),$=requestAnimationFrame(I)};a({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:e,connectionHandleType:q,connectionStartHandle:{nodeId:n,handleId:e,type:q},connectionEndHandle:null}),y==null||y(t,{nodeId:n,handleId:e,handleType:q});function F(J){const{transform:X}=i();R=ja(J,z);const{handle:B,validHandleResult:te}=gse(J,p,P2(R,X,!1,[1,1]),v,A,V=>EZ(V,m,n,e,s?"target":"source",o,p));if(_=B,Y||(I(),Y=!0),U=te.handleDomNode,L=te.connection,E=te.isValid,a({connectionPosition:_&&E?_Z({x:_.x,y:_.y},X):R,connectionStatus:yse(!!_,E),connectionEndHandle:te.endHandle}),!_&&!E&&!U)return Mx(Z);L.source!==L.target&&U&&(Mx(Z),Z=U,U.classList.add("connecting","react-flow__handle-connecting"),U.classList.toggle("valid",E),U.classList.toggle("react-flow__handle-valid",E))}function G(J){var X,B;(_||U)&&L&&E&&(r==null||r(L)),(B=(X=i()).onConnectEnd)==null||B.call(X,J),u&&(f==null||f(J)),Mx(Z),k(),cancelAnimationFrame($),Y=!1,E=!1,L=null,U=null,p.removeEventListener("mousemove",F),p.removeEventListener("mouseup",G),p.removeEventListener("touchmove",F),p.removeEventListener("touchend",G)}p.addEventListener("mousemove",F),p.addEventListener("mouseup",G),p.addEventListener("touchmove",F),p.addEventListener("touchend",G)}const HN=()=>!0,vse=t=>({connectionStartHandle:t.connectionStartHandle,connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName}),Sse=(t,e,n)=>r=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:a}=r;return{connecting:(s==null?void 0:s.nodeId)===t&&(s==null?void 0:s.handleId)===e&&(s==null?void 0:s.type)===n||(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.handleId)===e&&(i==null?void 0:i.type)===n,clickConnecting:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.handleId)===e&&(a==null?void 0:a.type)===n}},AZ=j.forwardRef(({type:t="source",position:e=Me.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:a,onConnect:o,children:u,className:f,onMouseDown:p,onTouchStart:m,...g},x)=>{var z,Z;const v=a||null,y=t==="target",w=Qn(),Q=hse(),{connectOnClick:k,noPanClassName:$}=zt(vse,_n),{connecting:_,clickConnecting:T}=zt(Sse(Q,v,t),_n);Q||(Z=(z=w.getState()).onError)==null||Z.call(z,"010",Li.error010());const N=R=>{const{defaultEdgeOptions:Y,onConnect:L,hasDefaultEdges:E}=w.getState(),U={...Y,...R};if(E){const{edges:A,setEdges:I}=w.getState();I(TZ(U,A))}L==null||L(U),o==null||o(U)},C=R=>{if(!Q)return;const Y=SZ(R);s&&(Y&&R.button===0||!Y)&&RZ({event:R,handleId:v,nodeId:Q,onConnect:N,isTarget:y,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||HN}),Y?p==null||p(R):m==null||m(R)},q=R=>{const{onClickConnectStart:Y,onClickConnectEnd:L,connectionClickStartHandle:E,connectionMode:U,isValidConnection:A}=w.getState();if(!Q||!E&&!s)return;if(!E){Y==null||Y(R,{nodeId:Q,handleId:v,handleType:t}),w.setState({connectionClickStartHandle:{nodeId:Q,type:t,handleId:v}});return}const I=xZ(R.target),F=n||A||HN,{connection:G,isValid:J}=EZ({nodeId:Q,id:v,type:t},U,E.nodeId,E.handleId||null,E.type,F,I);J&&N(G),L==null||L(R),w.setState({connectionClickStartHandle:null})};return oe.createElement("div",{"data-handleid":v,"data-nodeid":Q,"data-handlepos":e,"data-id":`${Q}-${v}-${t}`,className:zn(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",$,f,{source:!y,target:y,connectable:r,connectablestart:s,connectableend:i,connecting:T,connectionindicator:r&&(s&&!_||i&&_)}]),onMouseDown:C,onTouchStart:C,onClick:k?q:void 0,ref:x,...g},u)});AZ.displayName="Handle";var bc=j.memo(AZ);const qZ=({data:t,isConnectable:e,targetPosition:n=Me.Top,sourcePosition:r=Me.Bottom})=>oe.createElement(oe.Fragment,null,oe.createElement(bc,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,oe.createElement(bc,{type:"source",position:r,isConnectable:e}));qZ.displayName="DefaultNode";var j2=j.memo(qZ);const XZ=({data:t,isConnectable:e,sourcePosition:n=Me.Bottom})=>oe.createElement(oe.Fragment,null,t==null?void 0:t.label,oe.createElement(bc,{type:"source",position:n,isConnectable:e}));XZ.displayName="InputNode";var MZ=j.memo(XZ);const zZ=({data:t,isConnectable:e,targetPosition:n=Me.Top})=>oe.createElement(oe.Fragment,null,oe.createElement(bc,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label);zZ.displayName="OutputNode";var ZZ=j.memo(zZ);const fk=()=>null;fk.displayName="GroupNode";const wse=t=>({selectedNodes:t.getNodes().filter(e=>e.selected),selectedEdges:t.edges.filter(e=>e.selected).map(e=>({...e}))}),Kh=t=>t.id;function Qse(t,e){return _n(t.selectedNodes.map(Kh),e.selectedNodes.map(Kh))&&_n(t.selectedEdges.map(Kh),e.selectedEdges.map(Kh))}const LZ=j.memo(({onSelectionChange:t})=>{const e=Qn(),{selectedNodes:n,selectedEdges:r}=zt(wse,Qse);return j.useEffect(()=>{const s={nodes:n,edges:r};t==null||t(s),e.getState().onSelectionChange.forEach(i=>i(s))},[n,r,t]),null});LZ.displayName="SelectionListener";const kse=t=>!!t.onSelectionChange;function $se({onSelectionChange:t}){const e=zt(kse);return t||e?oe.createElement(LZ,{onSelectionChange:t}):null}const Tse=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset});function Eo(t,e){j.useEffect(()=>{typeof t<"u"&&e(t)},[t])}function nt(t,e,n){j.useEffect(()=>{typeof e<"u"&&n({[t]:e})},[e])}const _se=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:s,onConnectStart:i,onConnectEnd:a,onClickConnectStart:o,onClickConnectEnd:u,nodesDraggable:f,nodesConnectable:p,nodesFocusable:m,edgesFocusable:g,edgesUpdatable:x,elevateNodesOnSelect:v,minZoom:y,maxZoom:w,nodeExtent:Q,onNodesChange:k,onEdgesChange:$,elementsSelectable:_,connectionMode:T,snapGrid:N,snapToGrid:C,translateExtent:q,connectOnClick:z,defaultEdgeOptions:Z,fitView:R,fitViewOptions:Y,onNodesDelete:L,onEdgesDelete:E,onNodeDrag:U,onNodeDragStart:A,onNodeDragStop:I,onSelectionDrag:F,onSelectionDragStart:G,onSelectionDragStop:J,noPanClassName:X,nodeOrigin:B,rfId:te,autoPanOnConnect:V,autoPanOnNodeDrag:W,onError:ee,connectionRadius:re,isValidConnection:ue,nodeDragThreshold:pe})=>{const{setNodes:Se,setEdges:Ye,setDefaultNodesAndEdges:Le,setMinZoom:We,setMaxZoom:Xe,setTranslateExtent:Qe,setNodeExtent:ct,reset:be}=zt(Tse,_n),we=Qn();return j.useEffect(()=>{const ut=r==null?void 0:r.map(on=>({...on,...Z}));return Le(n,ut),()=>{be()}},[]),nt("defaultEdgeOptions",Z,we.setState),nt("connectionMode",T,we.setState),nt("onConnect",s,we.setState),nt("onConnectStart",i,we.setState),nt("onConnectEnd",a,we.setState),nt("onClickConnectStart",o,we.setState),nt("onClickConnectEnd",u,we.setState),nt("nodesDraggable",f,we.setState),nt("nodesConnectable",p,we.setState),nt("nodesFocusable",m,we.setState),nt("edgesFocusable",g,we.setState),nt("edgesUpdatable",x,we.setState),nt("elementsSelectable",_,we.setState),nt("elevateNodesOnSelect",v,we.setState),nt("snapToGrid",C,we.setState),nt("snapGrid",N,we.setState),nt("onNodesChange",k,we.setState),nt("onEdgesChange",$,we.setState),nt("connectOnClick",z,we.setState),nt("fitViewOnInit",R,we.setState),nt("fitViewOnInitOptions",Y,we.setState),nt("onNodesDelete",L,we.setState),nt("onEdgesDelete",E,we.setState),nt("onNodeDrag",U,we.setState),nt("onNodeDragStart",A,we.setState),nt("onNodeDragStop",I,we.setState),nt("onSelectionDrag",F,we.setState),nt("onSelectionDragStart",G,we.setState),nt("onSelectionDragStop",J,we.setState),nt("noPanClassName",X,we.setState),nt("nodeOrigin",B,we.setState),nt("rfId",te,we.setState),nt("autoPanOnConnect",V,we.setState),nt("autoPanOnNodeDrag",W,we.setState),nt("onError",ee,we.setState),nt("connectionRadius",re,we.setState),nt("isValidConnection",ue,we.setState),nt("nodeDragThreshold",pe,we.setState),Eo(t,Se),Eo(e,Ye),Eo(y,We),Eo(w,Xe),Eo(q,Qe),Eo(Q,ct),null},FN={display:"none"},Pse={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},YZ="react-flow__node-desc",VZ="react-flow__edge-desc",jse="react-flow__aria-live",Nse=t=>t.ariaLiveMessage;function Cse({rfId:t}){const e=zt(Nse);return oe.createElement("div",{id:`${jse}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Pse},e)}function Ese({rfId:t,disableKeyboardA11y:e}){return oe.createElement(oe.Fragment,null,oe.createElement("div",{id:`${YZ}-${t}`,style:FN},"Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),oe.createElement("div",{id:`${VZ}-${t}`,style:FN},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!e&&oe.createElement(Cse,{rfId:t}))}var Xf=(t=null,e={actInsideInputWithModifier:!0})=>{const[n,r]=j.useState(!1),s=j.useRef(!1),i=j.useRef(new Set([])),[a,o]=j.useMemo(()=>{if(t!==null){const f=(Array.isArray(t)?t:[t]).filter(m=>typeof m=="string").map(m=>m.split("+")),p=f.reduce((m,g)=>m.concat(...g),[]);return[f,p]}return[[],[]]},[t]);return j.useEffect(()=>{const u=typeof document<"u"?document:null,f=(e==null?void 0:e.target)||u;if(t!==null){const p=x=>{if(s.current=x.ctrlKey||x.metaKey||x.shiftKey,(!s.current||s.current&&!e.actInsideInputWithModifier)&&$2(x))return!1;const y=JN(x.code,o);i.current.add(x[y]),KN(a,i.current,!1)&&(x.preventDefault(),r(!0))},m=x=>{if((!s.current||s.current&&!e.actInsideInputWithModifier)&&$2(x))return!1;const y=JN(x.code,o);KN(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(x[y]),x.key==="Meta"&&i.current.clear(),s.current=!1},g=()=>{i.current.clear(),r(!1)};return f==null||f.addEventListener("keydown",p),f==null||f.addEventListener("keyup",m),window.addEventListener("blur",g),()=>{f==null||f.removeEventListener("keydown",p),f==null||f.removeEventListener("keyup",m),window.removeEventListener("blur",g)}}},[t,r]),n};function KN(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(s=>e.has(s)))}function JN(t,e){return e.includes(t)?"code":"key"}function DZ(t,e,n,r){var o,u;const s=t.parentNode||t.parentId;if(!s)return n;const i=e.get(s),a=kl(i,r);return DZ(i,e,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((o=i[ln])==null?void 0:o.z)??0)>(n.z??0)?((u=i[ln])==null?void 0:u.z)??0:n.z??0},r)}function BZ(t,e,n){t.forEach(r=>{var i;const s=r.parentNode||r.parentId;if(s&&!t.has(s))throw new Error(`Parent node ${s} not found`);if(s||n!=null&&n[r.id]){const{x:a,y:o,z:u}=DZ(r,t,{...r.position,z:((i=r[ln])==null?void 0:i.z)??0},e);r.positionAbsolute={x:a,y:o},r[ln].z=u,n!=null&&n[r.id]&&(r[ln].isParent=!0)}})}function zx(t,e,n,r){const s=new Map,i={},a=r?1e3:0;return t.forEach(o=>{var x;const u=(Fr(o.zIndex)?o.zIndex:0)+(o.selected?a:0),f=e.get(o.id),p={...o,positionAbsolute:{x:o.position.x,y:o.position.y}},m=o.parentNode||o.parentId;m&&(i[m]=!0);const g=(f==null?void 0:f.type)&&(f==null?void 0:f.type)!==o.type;Object.defineProperty(p,ln,{enumerable:!1,value:{handleBounds:g||(x=f==null?void 0:f[ln])==null?void 0:x.handleBounds,z:u}}),s.set(o.id,p)}),BZ(s,n,i),s}function UZ(t,e={}){const{getNodes:n,width:r,height:s,minZoom:i,maxZoom:a,d3Zoom:o,d3Selection:u,fitViewOnInitDone:f,fitViewOnInit:p,nodeOrigin:m}=t(),g=e.initial&&!f&&p;if(o&&u&&(g||!e.initial)){const v=n().filter(w=>{var k;const Q=e.includeHiddenNodes?w.width&&w.height:!w.hidden;return(k=e.nodes)!=null&&k.length?Q&&e.nodes.some($=>$.id===w.id):Q}),y=v.every(w=>w.width&&w.height);if(v.length>0&&y){const w=Km(v,m),{x:Q,y:k,zoom:$}=NZ(w,r,s,e.minZoom??i,e.maxZoom??a,e.padding??.1),_=Xi.translate(Q,k).scale($);return typeof e.duration=="number"&&e.duration>0?o.transform(fl(u,e.duration),_):o.transform(u,_),!0}}return!1}function Rse(t,e){return t.forEach(n=>{const r=e.get(n.id);r&&e.set(r.id,{...r,[ln]:r[ln],selected:n.selected})}),new Map(e)}function Ase(t,e){return e.map(n=>{const r=t.find(s=>s.id===n.id);return r&&(n.selected=r.selected),n})}function Jh({changedNodes:t,changedEdges:e,get:n,set:r}){const{nodeInternals:s,edges:i,onNodesChange:a,onEdgesChange:o,hasDefaultNodes:u,hasDefaultEdges:f}=n();t!=null&&t.length&&(u&&r({nodeInternals:Rse(t,s)}),a==null||a(t)),e!=null&&e.length&&(f&&r({edges:Ase(e,i)}),o==null||o(e))}const Ro=()=>{},qse={zoomIn:Ro,zoomOut:Ro,zoomTo:Ro,getZoom:()=>1,setViewport:Ro,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ro,fitBounds:Ro,project:t=>t,screenToFlowPosition:t=>t,flowToScreenPosition:t=>t,viewportInitialized:!1},Xse=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection}),Mse=()=>{const t=Qn(),{d3Zoom:e,d3Selection:n}=zt(Xse,_n);return j.useMemo(()=>n&&e?{zoomIn:s=>e.scaleBy(fl(n,s==null?void 0:s.duration),1.2),zoomOut:s=>e.scaleBy(fl(n,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>e.scaleTo(fl(n,i==null?void 0:i.duration),s),getZoom:()=>t.getState().transform[2],setViewport:(s,i)=>{const[a,o,u]=t.getState().transform,f=Xi.translate(s.x??a,s.y??o).scale(s.zoom??u);e.transform(fl(n,i==null?void 0:i.duration),f)},getViewport:()=>{const[s,i,a]=t.getState().transform;return{x:s,y:i,zoom:a}},fitView:s=>UZ(t.getState,s),setCenter:(s,i,a)=>{const{width:o,height:u,maxZoom:f}=t.getState(),p=typeof(a==null?void 0:a.zoom)<"u"?a.zoom:f,m=o/2-s*p,g=u/2-i*p,x=Xi.translate(m,g).scale(p);e.transform(fl(n,a==null?void 0:a.duration),x)},fitBounds:(s,i)=>{const{width:a,height:o,minZoom:u,maxZoom:f}=t.getState(),{x:p,y:m,zoom:g}=NZ(s,a,o,u,f,(i==null?void 0:i.padding)??.1),x=Xi.translate(p,m).scale(g);e.transform(fl(n,i==null?void 0:i.duration),x)},project:s=>{const{transform:i,snapToGrid:a,snapGrid:o}=t.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),P2(s,i,a,o)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:a,snapGrid:o,domNode:u}=t.getState();if(!u)return s;const{x:f,y:p}=u.getBoundingClientRect(),m={x:s.x-f,y:s.y-p};return P2(m,i,a,o)},flowToScreenPosition:s=>{const{transform:i,domNode:a}=t.getState();if(!a)return s;const{x:o,y:u}=a.getBoundingClientRect(),f=_Z(s,i);return{x:f.x+o,y:f.y+u}},viewportInitialized:!0}:qse,[e,n])};function dk(){const t=Mse(),e=Qn(),n=j.useCallback(()=>e.getState().getNodes().map(y=>({...y})),[]),r=j.useCallback(y=>e.getState().nodeInternals.get(y),[]),s=j.useCallback(()=>{const{edges:y=[]}=e.getState();return y.map(w=>({...w}))},[]),i=j.useCallback(y=>{const{edges:w=[]}=e.getState();return w.find(Q=>Q.id===y)},[]),a=j.useCallback(y=>{const{getNodes:w,setNodes:Q,hasDefaultNodes:k,onNodesChange:$}=e.getState(),_=w(),T=typeof y=="function"?y(_):y;if(k)Q(T);else if($){const N=T.length===0?_.map(C=>({type:"remove",id:C.id})):T.map(C=>({item:C,type:"reset"}));$(N)}},[]),o=j.useCallback(y=>{const{edges:w=[],setEdges:Q,hasDefaultEdges:k,onEdgesChange:$}=e.getState(),_=typeof y=="function"?y(w):y;if(k)Q(_);else if($){const T=_.length===0?w.map(N=>({type:"remove",id:N.id})):_.map(N=>({item:N,type:"reset"}));$(T)}},[]),u=j.useCallback(y=>{const w=Array.isArray(y)?y:[y],{getNodes:Q,setNodes:k,hasDefaultNodes:$,onNodesChange:_}=e.getState();if($){const N=[...Q(),...w];k(N)}else if(_){const T=w.map(N=>({item:N,type:"add"}));_(T)}},[]),f=j.useCallback(y=>{const w=Array.isArray(y)?y:[y],{edges:Q=[],setEdges:k,hasDefaultEdges:$,onEdgesChange:_}=e.getState();if($)k([...Q,...w]);else if(_){const T=w.map(N=>({item:N,type:"add"}));_(T)}},[]),p=j.useCallback(()=>{const{getNodes:y,edges:w=[],transform:Q}=e.getState(),[k,$,_]=Q;return{nodes:y().map(T=>({...T})),edges:w.map(T=>({...T})),viewport:{x:k,y:$,zoom:_}}},[]),m=j.useCallback(({nodes:y,edges:w})=>{const{nodeInternals:Q,getNodes:k,edges:$,hasDefaultNodes:_,hasDefaultEdges:T,onNodesDelete:N,onEdgesDelete:C,onNodesChange:q,onEdgesChange:z}=e.getState(),Z=(y||[]).map(U=>U.id),R=(w||[]).map(U=>U.id),Y=k().reduce((U,A)=>{const I=A.parentNode||A.parentId,F=!Z.includes(A.id)&&I&&U.find(J=>J.id===I);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(Z.includes(A.id)||F)&&U.push(A),U},[]),L=$.filter(U=>typeof U.deletable=="boolean"?U.deletable:!0),E=L.filter(U=>R.includes(U.id));if(Y||E){const U=jZ(Y,L),A=[...E,...U],I=A.reduce((F,G)=>(F.includes(G.id)||F.push(G.id),F),[]);if((T||_)&&(T&&e.setState({edges:$.filter(F=>!I.includes(F.id))}),_&&(Y.forEach(F=>{Q.delete(F.id)}),e.setState({nodeInternals:new Map(Q)}))),I.length>0&&(C==null||C(A),z&&z(I.map(F=>({id:F,type:"remove"})))),Y.length>0&&(N==null||N(Y),q)){const F=Y.map(G=>({id:G.id,type:"remove"}));q(F)}}},[]),g=j.useCallback(y=>{const w=ise(y),Q=w?null:e.getState().nodeInternals.get(y.id);return!w&&!Q?[null,null,w]:[w?y:DN(Q),Q,w]},[]),x=j.useCallback((y,w=!0,Q)=>{const[k,$,_]=g(y);return k?(Q||e.getState().getNodes()).filter(T=>{if(!_&&(T.id===$.id||!T.positionAbsolute))return!1;const N=DN(T),C=k2(N,k);return w&&C>0||C>=k.width*k.height}):[]},[]),v=j.useCallback((y,w,Q=!0)=>{const[k]=g(y);if(!k)return!1;const $=k2(k,w);return Q&&$>0||$>=k.width*k.height},[]);return j.useMemo(()=>({...t,getNodes:n,getNode:r,getEdges:s,getEdge:i,setNodes:a,setEdges:o,addNodes:u,addEdges:f,toObject:p,deleteElements:m,getIntersectingNodes:x,isNodeIntersecting:v}),[t,n,r,s,i,a,o,u,f,p,m,x,v])}const zse={actInsideInputWithModifier:!1};var Zse=({deleteKeyCode:t,multiSelectionKeyCode:e})=>{const n=Qn(),{deleteElements:r}=dk(),s=Xf(t,zse),i=Xf(e);j.useEffect(()=>{if(s){const{edges:a,getNodes:o}=n.getState(),u=o().filter(p=>p.selected),f=a.filter(p=>p.selected);r({nodes:u,edges:f}),n.setState({nodesSelectionActive:!1})}},[s]),j.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])};function Lse(t){const e=Qn();j.useEffect(()=>{let n;const r=()=>{var i,a;if(!t.current)return;const s=sk(t.current);(s.height===0||s.width===0)&&((a=(i=e.getState()).onError)==null||a.call(i,"004",Li.error004())),e.setState({width:s.width||500,height:s.height||500})};return r(),window.addEventListener("resize",r),t.current&&(n=new ResizeObserver(()=>r()),n.observe(t.current)),()=>{window.removeEventListener("resize",r),n&&t.current&&n.unobserve(t.current)}},[])}const hk={position:"absolute",width:"100%",height:"100%",top:0,left:0},Yse=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ep=t=>({x:t.x,y:t.y,zoom:t.k}),Ao=(t,e)=>t.target.closest(`.${e}`),e4=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),t4=t=>{const e=t.ctrlKey&&fm()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e},Vse=t=>({d3Zoom:t.d3Zoom,d3Selection:t.d3Selection,d3ZoomHandler:t.d3ZoomHandler,userSelectionActive:t.userSelectionActive}),Dse=({onMove:t,onMoveStart:e,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:o=.5,panOnScrollMode:u=vl.Free,zoomOnDoubleClick:f=!0,elementsSelectable:p,panOnDrag:m=!0,defaultViewport:g,translateExtent:x,minZoom:v,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:Q=!0,children:k,noWheelClassName:$,noPanClassName:_})=>{const T=j.useRef(),N=Qn(),C=j.useRef(!1),q=j.useRef(!1),z=j.useRef(null),Z=j.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:Y,d3ZoomHandler:L,userSelectionActive:E}=zt(Vse,_n),U=Xf(w),A=j.useRef(0),I=j.useRef(!1),F=j.useRef();return Lse(z),j.useEffect(()=>{if(z.current){const G=z.current.getBoundingClientRect(),J=mZ().scaleExtent([v,y]).translateExtent(x),X=Br(z.current).call(J),B=Xi.translate(g.x,g.y).scale(xc(g.zoom,v,y)),te=[[0,0],[G.width,G.height]],V=J.constrain()(B,te,x);J.transform(X,V),J.wheelDelta(t4),N.setState({d3Zoom:J,d3Selection:X,d3ZoomHandler:X.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:z.current.closest(".react-flow")})}},[]),j.useEffect(()=>{Y&&R&&(a&&!U&&!E?Y.on("wheel.zoom",G=>{if(Ao(G,$))return!1;G.preventDefault(),G.stopImmediatePropagation();const J=Y.property("__zoom").k||1;if(G.ctrlKey&&i){const ue=xs(G),pe=t4(G),Se=J*Math.pow(2,pe);R.scaleTo(Y,Se,ue,G);return}const X=G.deltaMode===1?20:1;let B=u===vl.Vertical?0:G.deltaX*X,te=u===vl.Horizontal?0:G.deltaY*X;!fm()&&G.shiftKey&&u!==vl.Vertical&&(B=G.deltaY*X,te=0),R.translateBy(Y,-(B/J)*o,-(te/J)*o,{internal:!0});const V=ep(Y.property("__zoom")),{onViewportChangeStart:W,onViewportChange:ee,onViewportChangeEnd:re}=N.getState();clearTimeout(F.current),I.current||(I.current=!0,e==null||e(G,V),W==null||W(V)),I.current&&(t==null||t(G,V),ee==null||ee(V),F.current=setTimeout(()=>{n==null||n(G,V),re==null||re(V),I.current=!1},150))},{passive:!1}):typeof L<"u"&&Y.on("wheel.zoom",function(G,J){if(!Q&&G.type==="wheel"&&!G.ctrlKey||Ao(G,$))return null;G.preventDefault(),L.call(this,G,J)},{passive:!1}))},[E,a,u,Y,R,L,U,i,Q,$,e,t,n]),j.useEffect(()=>{R&&R.on("start",G=>{var B,te;if(!G.sourceEvent||G.sourceEvent.internal)return null;A.current=(B=G.sourceEvent)==null?void 0:B.button;const{onViewportChangeStart:J}=N.getState(),X=ep(G.transform);C.current=!0,Z.current=X,((te=G.sourceEvent)==null?void 0:te.type)==="mousedown"&&N.setState({paneDragging:!0}),J==null||J(X),e==null||e(G.sourceEvent,X)})},[R,e]),j.useEffect(()=>{R&&(E&&!C.current?R.on("zoom",null):E||R.on("zoom",G=>{var X;const{onViewportChange:J}=N.getState();if(N.setState({transform:[G.transform.x,G.transform.y,G.transform.k]}),q.current=!!(r&&e4(m,A.current??0)),(t||J)&&!((X=G.sourceEvent)!=null&&X.internal)){const B=ep(G.transform);J==null||J(B),t==null||t(G.sourceEvent,B)}}))},[E,R,t,m,r]),j.useEffect(()=>{R&&R.on("end",G=>{if(!G.sourceEvent||G.sourceEvent.internal)return null;const{onViewportChangeEnd:J}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),r&&e4(m,A.current??0)&&!q.current&&r(G.sourceEvent),q.current=!1,(n||J)&&Yse(Z.current,G.transform)){const X=ep(G.transform);Z.current=X,clearTimeout(T.current),T.current=setTimeout(()=>{J==null||J(X),n==null||n(G.sourceEvent,X)},a?150:0)}})},[R,a,m,n,r]),j.useEffect(()=>{R&&R.filter(G=>{const J=U||s,X=i&&G.ctrlKey;if((m===!0||Array.isArray(m)&&m.includes(1))&&G.button===1&&G.type==="mousedown"&&(Ao(G,"react-flow__node")||Ao(G,"react-flow__edge")))return!0;if(!m&&!J&&!a&&!f&&!i||E||!f&&G.type==="dblclick"||Ao(G,$)&&G.type==="wheel"||Ao(G,_)&&(G.type!=="wheel"||a&&G.type==="wheel"&&!U)||!i&&G.ctrlKey&&G.type==="wheel"||!J&&!a&&!X&&G.type==="wheel"||!m&&(G.type==="mousedown"||G.type==="touchstart")||Array.isArray(m)&&!m.includes(G.button)&&G.type==="mousedown")return!1;const B=Array.isArray(m)&&m.includes(G.button)||!G.button||G.button<=1;return(!G.ctrlKey||G.type==="wheel")&&B})},[E,R,s,i,a,f,m,p,U]),oe.createElement("div",{className:"react-flow__renderer",ref:z,style:hk},k)},Bse=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Use(){const{userSelectionActive:t,userSelectionRect:e}=zt(Bse,_n);return t&&e?oe.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}function n4(t,e){const n=e.parentNode||e.parentId,r=t.find(s=>s.id===n);if(r){const s=e.position.x+e.width-r.width,i=e.position.y+e.height-r.height;if(s>0||i>0||e.position.x<0||e.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,s>0&&(r.style.width+=s),i>0&&(r.style.height+=i),e.position.x<0){const a=Math.abs(e.position.x);r.position.x=r.position.x-a,r.style.width+=a,e.position.x=0}if(e.position.y<0){const a=Math.abs(e.position.y);r.position.y=r.position.y-a,r.style.height+=a,e.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function GZ(t,e){if(t.some(r=>r.type==="reset"))return t.filter(r=>r.type==="reset").map(r=>r.item);const n=t.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,s)=>{const i=t.filter(o=>o.id===s.id);if(i.length===0)return r.push(s),r;const a={...s};for(const o of i)if(o)switch(o.type){case"select":{a.selected=o.selected;break}case"position":{typeof o.position<"u"&&(a.position=o.position),typeof o.positionAbsolute<"u"&&(a.positionAbsolute=o.positionAbsolute),typeof o.dragging<"u"&&(a.dragging=o.dragging),a.expandParent&&n4(r,a);break}case"dimensions":{typeof o.dimensions<"u"&&(a.width=o.dimensions.width,a.height=o.dimensions.height),typeof o.updateStyle<"u"&&(a.style={...a.style||{},...o.dimensions}),typeof o.resizing=="boolean"&&(a.resizing=o.resizing),a.expandParent&&n4(r,a);break}case"remove":return r}return r.push(a),r},n)}function WZ(t,e){return GZ(t,e)}function Gse(t,e){return GZ(t,e)}const wa=(t,e)=>({id:t,type:"select",selected:e});function Uo(t,e){return t.reduce((n,r)=>{const s=e.includes(r.id);return!r.selected&&s?(r.selected=!0,n.push(wa(r.id,!0))):r.selected&&!s&&(r.selected=!1,n.push(wa(r.id,!1))),n},[])}const Zx=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},Wse=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging}),IZ=j.memo(({isSelecting:t,selectionMode:e=qf.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:o,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:p,children:m})=>{const g=j.useRef(null),x=Qn(),v=j.useRef(0),y=j.useRef(0),w=j.useRef(),{userSelectionActive:Q,elementsSelectable:k,dragging:$}=zt(Wse,_n),_=()=>{x.setState({userSelectionActive:!1,userSelectionRect:null}),v.current=0,y.current=0},T=L=>{i==null||i(L),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},N=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}a==null||a(L)},C=o?L=>o(L):void 0,q=L=>{const{resetSelectedElements:E,domNode:U}=x.getState();if(w.current=U==null?void 0:U.getBoundingClientRect(),!k||!t||L.button!==0||L.target!==g.current||!w.current)return;const{x:A,y:I}=ja(L,w.current);E(),x.setState({userSelectionRect:{width:0,height:0,startX:A,startY:I,x:A,y:I}}),r==null||r(L)},z=L=>{const{userSelectionRect:E,nodeInternals:U,edges:A,transform:I,onNodesChange:F,onEdgesChange:G,nodeOrigin:J,getNodes:X}=x.getState();if(!t||!w.current||!E)return;x.setState({userSelectionActive:!0,nodesSelectionActive:!1});const B=ja(L,w.current),te=E.startX??0,V=E.startY??0,W={...E,x:B.x<te?B.x:te,y:B.y<V?B.y:V,width:Math.abs(B.x-te),height:Math.abs(B.y-V)},ee=X(),re=PZ(U,W,I,e===qf.Partial,!0,J),ue=jZ(re,A).map(Se=>Se.id),pe=re.map(Se=>Se.id);if(v.current!==pe.length){v.current=pe.length;const Se=Uo(ee,pe);Se.length&&(F==null||F(Se))}if(y.current!==ue.length){y.current=ue.length;const Se=Uo(A,ue);Se.length&&(G==null||G(Se))}x.setState({userSelectionRect:W})},Z=L=>{if(L.button!==0)return;const{userSelectionRect:E}=x.getState();!Q&&E&&L.target===g.current&&(T==null||T(L)),x.setState({nodesSelectionActive:v.current>0}),_(),s==null||s(L)},R=L=>{Q&&(x.setState({nodesSelectionActive:v.current>0}),s==null||s(L)),_()},Y=k&&(t||Q);return oe.createElement("div",{className:zn(["react-flow__pane",{dragging:$,selection:t}]),onClick:Y?void 0:Zx(T,g),onContextMenu:Zx(N,g),onWheel:Zx(C,g),onMouseEnter:Y?void 0:u,onMouseDown:Y?q:void 0,onMouseMove:Y?z:f,onMouseUp:Y?Z:void 0,onMouseLeave:Y?R:p,ref:g,style:hk},m,oe.createElement(Use,null))});IZ.displayName="Pane";function HZ(t,e){const n=t.parentNode||t.parentId;if(!n)return!1;const r=e.get(n);return r?r.selected?!0:HZ(r,e):!1}function r4(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Ise(t,e,n,r){return Array.from(t.values()).filter(s=>(s.selected||s.id===r)&&(!s.parentNode||s.parentId||!HZ(s,t))&&(s.draggable||e&&typeof s.draggable>"u")).map(s=>{var i,a;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:n.y-(((a=s.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function Hse(t,e){return!e||e==="parent"?e:[e[0],[e[1][0]-(t.width||0),e[1][1]-(t.height||0)]]}function FZ(t,e,n,r,s=[0,0],i){const a=Hse(t,t.extent||r);let o=a;const u=t.parentNode||t.parentId;if(t.extent==="parent"&&!t.expandParent)if(u&&t.width&&t.height){const m=n.get(u),{x:g,y:x}=kl(m,s).positionAbsolute;o=m&&Fr(g)&&Fr(x)&&Fr(m.width)&&Fr(m.height)?[[g+t.width*s[0],x+t.height*s[1]],[g+m.width-t.width+t.width*s[0],x+m.height-t.height+t.height*s[1]]]:o}else i==null||i("005",Li.error005()),o=a;else if(t.extent&&u&&t.extent!=="parent"){const m=n.get(u),{x:g,y:x}=kl(m,s).positionAbsolute;o=[[t.extent[0][0]+g,t.extent[0][1]+x],[t.extent[1][0]+g,t.extent[1][1]+x]]}let f={x:0,y:0};if(u){const m=n.get(u);f=kl(m,s).positionAbsolute}const p=o&&o!=="parent"?ik(e,o):e;return{position:{x:p.x-f.x,y:p.y-f.y},positionAbsolute:p}}function Lx({nodeId:t,dragItems:e,nodeInternals:n}){const r=e.map(s=>({...n.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[t?r.find(s=>s.id===t):r[0],r]}const s4=(t,e,n,r)=>{const s=e.querySelectorAll(t);if(!s||!s.length)return null;const i=Array.from(s),a=e.getBoundingClientRect(),o={x:a.width*r[0],y:a.height*r[1]};return i.map(u=>{const f=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(f.left-a.left-o.x)/n,y:(f.top-a.top-o.y)/n,...sk(u)}})};function zu(t,e,n){return n===void 0?n:r=>{const s=e().nodeInternals.get(t);s&&n(r,{...s})}}function N2({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:a,nodeInternals:o,onError:u}=e.getState(),f=o.get(t);if(!f){u==null||u("012",Li.error012(t));return}e.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&a)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var p;return(p=r==null?void 0:r.current)==null?void 0:p.blur()})):s([t])}function Fse(){const t=Qn();return j.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:s,snapToGrid:i}=t.getState(),a=n.touches?n.touches[0].clientX:n.clientX,o=n.touches?n.touches[0].clientY:n.clientY,u={x:(a-r[0])/r[2],y:(o-r[1])/r[2]};return{xSnapped:i?s[0]*Math.round(u.x/s[0]):u.x,ySnapped:i?s[1]*Math.round(u.y/s[1]):u.y,...u}},[])}function Yx(t){return(e,n,r)=>t==null?void 0:t(e,r)}function KZ({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,selectNodesOnDrag:a}){const o=Qn(),[u,f]=j.useState(!1),p=j.useRef([]),m=j.useRef({x:null,y:null}),g=j.useRef(0),x=j.useRef(null),v=j.useRef({x:0,y:0}),y=j.useRef(null),w=j.useRef(!1),Q=j.useRef(!1),k=j.useRef(!1),$=Fse();return j.useEffect(()=>{if(t!=null&&t.current){const _=Br(t.current),T=({x:q,y:z})=>{const{nodeInternals:Z,onNodeDrag:R,onSelectionDrag:Y,updateNodePositions:L,nodeExtent:E,snapGrid:U,snapToGrid:A,nodeOrigin:I,onError:F}=o.getState();m.current={x:q,y:z};let G=!1,J={x:0,y:0,x2:0,y2:0};if(p.current.length>1&&E){const B=Km(p.current,I);J=Af(B)}if(p.current=p.current.map(B=>{const te={x:q-B.distance.x,y:z-B.distance.y};A&&(te.x=U[0]*Math.round(te.x/U[0]),te.y=U[1]*Math.round(te.y/U[1]));const V=[[E[0][0],E[0][1]],[E[1][0],E[1][1]]];p.current.length>1&&E&&!B.extent&&(V[0][0]=B.positionAbsolute.x-J.x+E[0][0],V[1][0]=B.positionAbsolute.x+(B.width??0)-J.x2+E[1][0],V[0][1]=B.positionAbsolute.y-J.y+E[0][1],V[1][1]=B.positionAbsolute.y+(B.height??0)-J.y2+E[1][1]);const W=FZ(B,te,Z,V,I,F);return G=G||B.position.x!==W.position.x||B.position.y!==W.position.y,B.position=W.position,B.positionAbsolute=W.positionAbsolute,B}),!G)return;L(p.current,!0,!0),f(!0);const X=s?R:Yx(Y);if(X&&y.current){const[B,te]=Lx({nodeId:s,dragItems:p.current,nodeInternals:Z});X(y.current,B,te)}},N=()=>{if(!x.current)return;const[q,z]=gZ(v.current,x.current);if(q!==0||z!==0){const{transform:Z,panBy:R}=o.getState();m.current.x=(m.current.x??0)-q/Z[2],m.current.y=(m.current.y??0)-z/Z[2],R({x:q,y:z})&&T(m.current)}g.current=requestAnimationFrame(N)},C=q=>{var I;const{nodeInternals:z,multiSelectionActive:Z,nodesDraggable:R,unselectNodesAndEdges:Y,onNodeDragStart:L,onSelectionDragStart:E}=o.getState();Q.current=!0;const U=s?L:Yx(E);(!a||!i)&&!Z&&s&&((I=z.get(s))!=null&&I.selected||Y()),s&&i&&a&&N2({id:s,store:o,nodeRef:t});const A=$(q);if(m.current=A,p.current=Ise(z,R,A,s),U&&p.current){const[F,G]=Lx({nodeId:s,dragItems:p.current,nodeInternals:z});U(q.sourceEvent,F,G)}};if(e)_.on(".drag",null);else{const q=cne().on("start",z=>{const{domNode:Z,nodeDragThreshold:R}=o.getState();R===0&&C(z),k.current=!1;const Y=$(z);m.current=Y,x.current=(Z==null?void 0:Z.getBoundingClientRect())||null,v.current=ja(z.sourceEvent,x.current)}).on("drag",z=>{var L,E;const Z=$(z),{autoPanOnNodeDrag:R,nodeDragThreshold:Y}=o.getState();if(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1&&(k.current=!0),!k.current){if(!w.current&&Q.current&&R&&(w.current=!0,N()),!Q.current){const U=Z.xSnapped-(((L=m==null?void 0:m.current)==null?void 0:L.x)??0),A=Z.ySnapped-(((E=m==null?void 0:m.current)==null?void 0:E.y)??0);Math.sqrt(U*U+A*A)>Y&&C(z)}(m.current.x!==Z.xSnapped||m.current.y!==Z.ySnapped)&&p.current&&Q.current&&(y.current=z.sourceEvent,v.current=ja(z.sourceEvent,x.current),T(Z))}}).on("end",z=>{if(!(!Q.current||k.current)&&(f(!1),w.current=!1,Q.current=!1,cancelAnimationFrame(g.current),p.current)){const{updateNodePositions:Z,nodeInternals:R,onNodeDragStop:Y,onSelectionDragStop:L}=o.getState(),E=s?Y:Yx(L);if(Z(p.current,!1,!1),E){const[U,A]=Lx({nodeId:s,dragItems:p.current,nodeInternals:R});E(z.sourceEvent,U,A)}}}).filter(z=>{const Z=z.target;return!z.button&&(!n||!r4(Z,`.${n}`,t))&&(!r||r4(Z,r,t))});return _.call(q),()=>{_.on(".drag",null)}}}},[t,e,n,r,i,o,s,a,$]),u}function JZ(){const t=Qn();return j.useCallback(n=>{const{nodeInternals:r,nodeExtent:s,updateNodePositions:i,getNodes:a,snapToGrid:o,snapGrid:u,onError:f,nodesDraggable:p}=t.getState(),m=a().filter(k=>k.selected&&(k.draggable||p&&typeof k.draggable>"u")),g=o?u[0]:5,x=o?u[1]:5,v=n.isShiftPressed?4:1,y=n.x*g*v,w=n.y*x*v,Q=m.map(k=>{if(k.positionAbsolute){const $={x:k.positionAbsolute.x+y,y:k.positionAbsolute.y+w};o&&($.x=u[0]*Math.round($.x/u[0]),$.y=u[1]*Math.round($.y/u[1]));const{positionAbsolute:_,position:T}=FZ(k,$,r,s,void 0,f);k.position=T,k.positionAbsolute=_}return k});i(Q,!0,!1)},[])}const sc={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Zu=t=>{const e=({id:n,type:r,data:s,xPos:i,yPos:a,xPosOrigin:o,yPosOrigin:u,selected:f,onClick:p,onMouseEnter:m,onMouseMove:g,onMouseLeave:x,onContextMenu:v,onDoubleClick:y,style:w,className:Q,isDraggable:k,isSelectable:$,isConnectable:_,isFocusable:T,selectNodesOnDrag:N,sourcePosition:C,targetPosition:q,hidden:z,resizeObserver:Z,dragHandle:R,zIndex:Y,isParent:L,noDragClassName:E,noPanClassName:U,initialized:A,disableKeyboardA11y:I,ariaLabel:F,rfId:G,hasHandleBounds:J})=>{const X=Qn(),B=j.useRef(null),te=j.useRef(null),V=j.useRef(C),W=j.useRef(q),ee=j.useRef(r),re=$||k||p||m||g||x,ue=JZ(),pe=zu(n,X.getState,m),Se=zu(n,X.getState,g),Ye=zu(n,X.getState,x),Le=zu(n,X.getState,v),We=zu(n,X.getState,y),Xe=be=>{const{nodeDragThreshold:we}=X.getState();if($&&(!N||!k||we>0)&&N2({id:n,store:X,nodeRef:B}),p){const ut=X.getState().nodeInternals.get(n);ut&&p(be,{...ut})}},Qe=be=>{if(!$2(be)&&!I)if(vZ.includes(be.key)&&$){const we=be.key==="Escape";N2({id:n,store:X,unselect:we,nodeRef:B})}else k&&f&&Object.prototype.hasOwnProperty.call(sc,be.key)&&(X.setState({ariaLiveMessage:`Moved selected node ${be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),ue({x:sc[be.key].x,y:sc[be.key].y,isShiftPressed:be.shiftKey}))};j.useEffect(()=>()=>{te.current&&(Z==null||Z.unobserve(te.current),te.current=null)},[]),j.useEffect(()=>{if(B.current&&!z){const be=B.current;(!A||!J||te.current!==be)&&(te.current&&(Z==null||Z.unobserve(te.current)),Z==null||Z.observe(be),te.current=be)}},[z,A,J]),j.useEffect(()=>{const be=ee.current!==r,we=V.current!==C,ut=W.current!==q;B.current&&(be||we||ut)&&(be&&(ee.current=r),we&&(V.current=C),ut&&(W.current=q),X.getState().updateNodeDimensions([{id:n,nodeElement:B.current,forceUpdate:!0}]))},[n,r,C,q]);const ct=KZ({nodeRef:B,disabled:z||!k,noDragClassName:E,handleSelector:R,nodeId:n,isSelectable:$,selectNodesOnDrag:N});return z?null:oe.createElement("div",{className:zn(["react-flow__node",`react-flow__node-${r}`,{[U]:k},Q,{selected:f,selectable:$,parent:L,dragging:ct}]),ref:B,style:{zIndex:Y,transform:`translate(${o}px,${u}px)`,pointerEvents:re?"all":"none",visibility:A?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:pe,onMouseMove:Se,onMouseLeave:Ye,onContextMenu:Le,onClick:Xe,onDoubleClick:We,onKeyDown:T?Qe:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":I?void 0:`${YZ}-${G}`,"aria-label":F},oe.createElement(dse,{value:n},oe.createElement(t,{id:n,data:s,type:r,xPos:i,yPos:a,selected:f,isConnectable:_,sourcePosition:C,targetPosition:q,dragging:ct,dragHandle:R,zIndex:Y})))};return e.displayName="NodeWrapper",j.memo(e)};const Kse=t=>{const e=t.getNodes().filter(n=>n.selected);return{...Km(e,t.nodeOrigin),transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`,userSelectionActive:t.userSelectionActive}};function Jse({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Qn(),{width:s,height:i,x:a,y:o,transformString:u,userSelectionActive:f}=zt(Kse,_n),p=JZ(),m=j.useRef(null);if(j.useEffect(()=>{var v;n||(v=m.current)==null||v.focus({preventScroll:!0})},[n]),KZ({nodeRef:m}),f||!s||!i)return null;const g=t?v=>{const y=r.getState().getNodes().filter(w=>w.selected);t(v,y)}:void 0,x=v=>{Object.prototype.hasOwnProperty.call(sc,v.key)&&p({x:sc[v.key].x,y:sc[v.key].y,isShiftPressed:v.shiftKey})};return oe.createElement("div",{className:zn(["react-flow__nodesselection","react-flow__container",e]),style:{transform:u}},oe.createElement("div",{ref:m,className:"react-flow__nodesselection-rect",onContextMenu:g,tabIndex:n?void 0:-1,onKeyDown:n?void 0:x,style:{width:s,height:i,top:o,left:a}}))}var eie=j.memo(Jse);const tie=t=>t.nodesSelectionActive,eL=({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:o,onMove:u,onMoveStart:f,onMoveEnd:p,selectionKeyCode:m,selectionOnDrag:g,selectionMode:x,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:Q,zoomActivationKeyCode:k,elementsSelectable:$,zoomOnScroll:_,zoomOnPinch:T,panOnScroll:N,panOnScrollSpeed:C,panOnScrollMode:q,zoomOnDoubleClick:z,panOnDrag:Z,defaultViewport:R,translateExtent:Y,minZoom:L,maxZoom:E,preventScrolling:U,onSelectionContextMenu:A,noWheelClassName:I,noPanClassName:F,disableKeyboardA11y:G})=>{const J=zt(tie),X=Xf(m),B=Xf(Q),te=B||Z,V=B||N,W=X||g&&te!==!0;return Zse({deleteKeyCode:o,multiSelectionKeyCode:w}),oe.createElement(Dse,{onMove:u,onMoveStart:f,onMoveEnd:p,onPaneContextMenu:i,elementsSelectable:$,zoomOnScroll:_,zoomOnPinch:T,panOnScroll:V,panOnScrollSpeed:C,panOnScrollMode:q,zoomOnDoubleClick:z,panOnDrag:!X&&te,defaultViewport:R,translateExtent:Y,minZoom:L,maxZoom:E,zoomActivationKeyCode:k,preventScrolling:U,noWheelClassName:I,noPanClassName:F},oe.createElement(IZ,{onSelectionStart:v,onSelectionEnd:y,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:te,isSelecting:!!W,selectionMode:x},t,J&&oe.createElement(eie,{onSelectionContextMenu:A,noPanClassName:F,disableKeyboardA11y:G})))};eL.displayName="FlowRenderer";var nie=j.memo(eL);function rie(t){return zt(j.useCallback(n=>t?PZ(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[t]))}function sie(t){const e={input:Zu(t.input||MZ),default:Zu(t.default||j2),output:Zu(t.output||ZZ),group:Zu(t.group||fk)},n={},r=Object.keys(t).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Zu(t[i]||j2),s),n);return{...e,...r}}const iie=({x:t,y:e,width:n,height:r,origin:s})=>!n||!r?{x:t,y:e}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:t,y:e}:{x:t-n*s[0],y:e-r*s[1]},aie=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,updateNodeDimensions:t.updateNodeDimensions,onError:t.onError}),tL=t=>{const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,updateNodeDimensions:i,onError:a}=zt(aie,_n),o=rie(t.onlyRenderVisibleElements),u=j.useRef(),f=j.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const p=new ResizeObserver(m=>{const g=m.map(x=>({id:x.target.getAttribute("data-id"),nodeElement:x.target,forceUpdate:!0}));i(g)});return u.current=p,p},[]);return j.useEffect(()=>()=>{var p;(p=u==null?void 0:u.current)==null||p.disconnect()},[]),oe.createElement("div",{className:"react-flow__nodes",style:hk},o.map(p=>{var T,N,C;let m=p.type||"default";t.nodeTypes[m]||(a==null||a("003",Li.error003(m)),m="default");const g=t.nodeTypes[m]||t.nodeTypes.default,x=!!(p.draggable||e&&typeof p.draggable>"u"),v=!!(p.selectable||s&&typeof p.selectable>"u"),y=!!(p.connectable||n&&typeof p.connectable>"u"),w=!!(p.focusable||r&&typeof p.focusable>"u"),Q=t.nodeExtent?ik(p.positionAbsolute,t.nodeExtent):p.positionAbsolute,k=(Q==null?void 0:Q.x)??0,$=(Q==null?void 0:Q.y)??0,_=iie({x:k,y:$,width:p.width??0,height:p.height??0,origin:t.nodeOrigin});return oe.createElement(g,{key:p.id,id:p.id,className:p.className,style:p.style,type:m,data:p.data,sourcePosition:p.sourcePosition||Me.Bottom,targetPosition:p.targetPosition||Me.Top,hidden:p.hidden,xPos:k,yPos:$,xPosOrigin:_.x,yPosOrigin:_.y,selectNodesOnDrag:t.selectNodesOnDrag,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,selected:!!p.selected,isDraggable:x,isSelectable:v,isConnectable:y,isFocusable:w,resizeObserver:f,dragHandle:p.dragHandle,zIndex:((T=p[ln])==null?void 0:T.z)??0,isParent:!!((N=p[ln])!=null&&N.isParent),noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,initialized:!!p.width&&!!p.height,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,ariaLabel:p.ariaLabel,hasHandleBounds:!!((C=p[ln])!=null&&C.handleBounds)})}))};tL.displayName="NodeRenderer";var lie=j.memo(tL);const oie=(t,e,n)=>n===Me.Left?t-e:n===Me.Right?t+e:t,cie=(t,e,n)=>n===Me.Top?t-e:n===Me.Bottom?t+e:t,i4="react-flow__edgeupdater",a4=({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:a,type:o})=>oe.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:a,className:zn([i4,`${i4}-${o}`]),cx:oie(e,r,t),cy:cie(n,r,t),r,stroke:"transparent",fill:"transparent"}),uie=()=>!0;var qo=t=>{const e=({id:n,className:r,type:s,data:i,onClick:a,onEdgeDoubleClick:o,selected:u,animated:f,label:p,labelStyle:m,labelShowBg:g,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:y,style:w,source:Q,target:k,sourceX:$,sourceY:_,targetX:T,targetY:N,sourcePosition:C,targetPosition:q,elementsSelectable:z,hidden:Z,sourceHandleId:R,targetHandleId:Y,onContextMenu:L,onMouseEnter:E,onMouseMove:U,onMouseLeave:A,reconnectRadius:I,onReconnect:F,onReconnectStart:G,onReconnectEnd:J,markerEnd:X,markerStart:B,rfId:te,ariaLabel:V,isFocusable:W,isReconnectable:ee,pathOptions:re,interactionWidth:ue,disableKeyboardA11y:pe})=>{const Se=j.useRef(null),[Ye,Le]=j.useState(!1),[We,Xe]=j.useState(!1),Qe=Qn(),ct=j.useMemo(()=>`url('#${_2(B,te)}')`,[B,te]),be=j.useMemo(()=>`url('#${_2(X,te)}')`,[X,te]);if(Z)return null;const we=ft=>{var $e;const{edges:Et,addSelectedEdges:ke,unselectNodesAndEdges:Ie,multiSelectionActive:en}=Qe.getState(),at=Et.find($t=>$t.id===n);at&&(z&&(Qe.setState({nodesSelectionActive:!1}),at.selected&&en?(Ie({nodes:[],edges:[at]}),($e=Se.current)==null||$e.blur()):ke([n])),a&&a(ft,at))},ut=Mu(n,Qe.getState,o),on=Mu(n,Qe.getState,L),Gt=Mu(n,Qe.getState,E),Yt=Mu(n,Qe.getState,U),Je=Mu(n,Qe.getState,A),rt=(ft,Et)=>{if(ft.button!==0)return;const{edges:ke,isValidConnection:Ie}=Qe.getState(),en=Et?k:Q,at=(Et?Y:R)||null,$e=Et?"target":"source",$t=Ie||uie,tn=Et,Pn=ke.find(dn=>dn.id===n);Xe(!0),G==null||G(ft,Pn,$e);const Fn=dn=>{Xe(!1),J==null||J(dn,Pn,$e)};RZ({event:ft,handleId:at,nodeId:en,onConnect:dn=>F==null?void 0:F(Pn,dn),isTarget:tn,getState:Qe.getState,setState:Qe.setState,isValidConnection:$t,edgeUpdaterType:$e,onReconnectEnd:Fn})},Wt=ft=>rt(ft,!0),me=ft=>rt(ft,!1),ye=()=>Le(!0),Ze=()=>Le(!1),Fe=!z&&!a,Xt=ft=>{var Et;if(!pe&&vZ.includes(ft.key)&&z){const{unselectNodesAndEdges:ke,addSelectedEdges:Ie,edges:en}=Qe.getState();ft.key==="Escape"?((Et=Se.current)==null||Et.blur(),ke({edges:[en.find($e=>$e.id===n)]})):Ie([n])}};return oe.createElement("g",{className:zn(["react-flow__edge",`react-flow__edge-${s}`,r,{selected:u,animated:f,inactive:Fe,updating:Ye}]),onClick:we,onDoubleClick:ut,onContextMenu:on,onMouseEnter:Gt,onMouseMove:Yt,onMouseLeave:Je,onKeyDown:W?Xt:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${Q} to ${k}`,"aria-describedby":W?`${VZ}-${te}`:void 0,ref:Se},!We&&oe.createElement(t,{id:n,source:Q,target:k,selected:u,animated:f,label:p,labelStyle:m,labelShowBg:g,labelBgStyle:x,labelBgPadding:v,labelBgBorderRadius:y,data:i,style:w,sourceX:$,sourceY:_,targetX:T,targetY:N,sourcePosition:C,targetPosition:q,sourceHandleId:R,targetHandleId:Y,markerStart:ct,markerEnd:be,pathOptions:re,interactionWidth:ue}),ee&&oe.createElement(oe.Fragment,null,(ee==="source"||ee===!0)&&oe.createElement(a4,{position:C,centerX:$,centerY:_,radius:I,onMouseDown:Wt,onMouseEnter:ye,onMouseOut:Ze,type:"source"}),(ee==="target"||ee===!0)&&oe.createElement(a4,{position:q,centerX:T,centerY:N,radius:I,onMouseDown:me,onMouseEnter:ye,onMouseOut:Ze,type:"target"})))};return e.displayName="EdgeWrapper",j.memo(e)};function fie(t){const e={default:qo(t.default||hm),straight:qo(t.bezier||ok),step:qo(t.step||lk),smoothstep:qo(t.step||Fm),simplebezier:qo(t.simplebezier||ak)},n={},r=Object.keys(t).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=qo(t[i]||hm),s),n);return{...e,...r}}function l4(t,e,n=null){const r=((n==null?void 0:n.x)||0)+e.x,s=((n==null?void 0:n.y)||0)+e.y,i=(n==null?void 0:n.width)||e.width,a=(n==null?void 0:n.height)||e.height;switch(t){case Me.Top:return{x:r+i/2,y:s};case Me.Right:return{x:r+i,y:s+a/2};case Me.Bottom:return{x:r+i/2,y:s+a};case Me.Left:return{x:r,y:s+a/2}}}function o4(t,e){return t?t.length===1||!e?t[0]:e&&t.find(n=>n.id===e)||null:null}const die=(t,e,n,r,s,i)=>{const a=l4(n,t,e),o=l4(i,r,s);return{sourceX:a.x,sourceY:a.y,targetX:o.x,targetY:o.y}};function hie({sourcePos:t,targetPos:e,sourceWidth:n,sourceHeight:r,targetWidth:s,targetHeight:i,width:a,height:o,transform:u}){const f={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x+n,e.x+s),y2:Math.max(t.y+r,e.y+i)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const p=Af({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:a/u[2],height:o/u[2]}),m=Math.max(0,Math.min(p.x2,f.x2)-Math.max(p.x,f.x)),g=Math.max(0,Math.min(p.y2,f.y2)-Math.max(p.y,f.y));return Math.ceil(m*g)>0}function c4(t){var r,s,i,a,o;const e=((r=t==null?void 0:t[ln])==null?void 0:r.handleBounds)||null,n=e&&(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&typeof((s=t==null?void 0:t.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=t==null?void 0:t.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((a=t==null?void 0:t.positionAbsolute)==null?void 0:a.x)||0,y:((o=t==null?void 0:t.positionAbsolute)==null?void 0:o.y)||0,width:(t==null?void 0:t.width)||0,height:(t==null?void 0:t.height)||0},e,!!n]}const pie=[{level:0,isMaxLevel:!0,edges:[]}];function mie(t,e,n=!1){let r=-1;const s=t.reduce((a,o)=>{var p,m;const u=Fr(o.zIndex);let f=u?o.zIndex:0;if(n){const g=e.get(o.target),x=e.get(o.source),v=o.selected||(g==null?void 0:g.selected)||(x==null?void 0:x.selected),y=Math.max(((p=x==null?void 0:x[ln])==null?void 0:p.z)||0,((m=g==null?void 0:g[ln])==null?void 0:m.z)||0,1e3);f=(u?o.zIndex:0)+(v?y:0)}return a[f]?a[f].push(o):a[f]=[o],r=f>r?f:r,a},{}),i=Object.entries(s).map(([a,o])=>{const u=+a;return{edges:o,level:u,isMaxLevel:u===r}});return i.length===0?pie:i}function Oie(t,e,n){const r=zt(j.useCallback(s=>t?s.edges.filter(i=>{const a=e.get(i.source),o=e.get(i.target);return(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&hie({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:o.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:o.width,targetHeight:o.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[t,e]));return mie(r,e,n)}const gie=({color:t="none",strokeWidth:e=1})=>oe.createElement("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),xie=({color:t="none",strokeWidth:e=1})=>oe.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),u4={[dm.Arrow]:gie,[dm.ArrowClosed]:xie};function bie(t){const e=Qn();return j.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(u4,t)?u4[t]:((i=(s=e.getState()).onError)==null||i.call(s,"009",Li.error009(t)),null)},[t])}const yie=({id:t,type:e,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:o="auto-start-reverse"})=>{const u=bie(e);return u?oe.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:o,refX:"0",refY:"0"},oe.createElement(u,{color:n,strokeWidth:a})):null},vie=({defaultColor:t,rfId:e})=>n=>{const r=[];return n.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const o=_2(a,e);r.includes(o)||(s.push({id:o,color:a.color||t,...a}),r.push(o))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},nL=({defaultColor:t,rfId:e})=>{const n=zt(j.useCallback(vie({defaultColor:t,rfId:e}),[t,e]),(r,s)=>!(r.length!==s.length||r.some((i,a)=>i.id!==s[a].id)));return oe.createElement("defs",null,n.map(r=>oe.createElement(yie,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};nL.displayName="MarkerDefinitions";var Sie=j.memo(nL);const wie=t=>({nodesConnectable:t.nodesConnectable,edgesFocusable:t.edgesFocusable,edgesUpdatable:t.edgesUpdatable,elementsSelectable:t.elementsSelectable,width:t.width,height:t.height,connectionMode:t.connectionMode,nodeInternals:t.nodeInternals,onError:t.onError}),rL=({defaultMarkerColor:t,onlyRenderVisibleElements:e,elevateEdgesOnSelect:n,rfId:r,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:a,onEdgeMouseEnter:o,onEdgeMouseMove:u,onEdgeMouseLeave:f,onEdgeClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:x,onReconnectEnd:v,reconnectRadius:y,children:w,disableKeyboardA11y:Q})=>{const{edgesFocusable:k,edgesUpdatable:$,elementsSelectable:_,width:T,height:N,connectionMode:C,nodeInternals:q,onError:z}=zt(wie,_n),Z=Oie(e,q,n);return T?oe.createElement(oe.Fragment,null,Z.map(({level:R,edges:Y,isMaxLevel:L})=>oe.createElement("svg",{key:R,style:{zIndex:R},width:T,height:N,className:"react-flow__edges react-flow__container"},L&&oe.createElement(Sie,{defaultColor:t,rfId:r}),oe.createElement("g",null,Y.map(E=>{const[U,A,I]=c4(q.get(E.source)),[F,G,J]=c4(q.get(E.target));if(!I||!J)return null;let X=E.type||"default";s[X]||(z==null||z("011",Li.error011(X)),X="default");const B=s[X]||s.default,te=C===Yi.Strict?G.target:(G.target??[]).concat(G.source??[]),V=o4(A.source,E.sourceHandle),W=o4(te,E.targetHandle),ee=(V==null?void 0:V.position)||Me.Bottom,re=(W==null?void 0:W.position)||Me.Top,ue=!!(E.focusable||k&&typeof E.focusable>"u"),pe=E.reconnectable||E.updatable,Se=typeof g<"u"&&(pe||$&&typeof pe>"u");if(!V||!W)return z==null||z("008",Li.error008(V,E)),null;const{sourceX:Ye,sourceY:Le,targetX:We,targetY:Xe}=die(U,V,ee,F,W,re);return oe.createElement(B,{key:E.id,id:E.id,className:zn([E.className,i]),type:X,data:E.data,selected:!!E.selected,animated:!!E.animated,hidden:!!E.hidden,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,style:E.style,source:E.source,target:E.target,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerEnd:E.markerEnd,markerStart:E.markerStart,sourceX:Ye,sourceY:Le,targetX:We,targetY:Xe,sourcePosition:ee,targetPosition:re,elementsSelectable:_,onContextMenu:a,onMouseEnter:o,onMouseMove:u,onMouseLeave:f,onClick:p,onEdgeDoubleClick:m,onReconnect:g,onReconnectStart:x,onReconnectEnd:v,reconnectRadius:y,rfId:r,ariaLabel:E.ariaLabel,isFocusable:ue,isReconnectable:Se,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth,disableKeyboardA11y:Q})})))),w):null};rL.displayName="EdgeRenderer";var Qie=j.memo(rL);const kie=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function $ie({children:t}){const e=zt(kie);return oe.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:e}},t)}function Tie(t){const e=dk(),n=j.useRef(!1);j.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const _ie={[Me.Left]:Me.Right,[Me.Right]:Me.Left,[Me.Top]:Me.Bottom,[Me.Bottom]:Me.Top},sL=({nodeId:t,handleType:e,style:n,type:r=ka.Bezier,CustomComponent:s,connectionStatus:i})=>{var N,C,q;const{fromNode:a,handleId:o,toX:u,toY:f,connectionMode:p}=zt(j.useCallback(z=>({fromNode:z.nodeInternals.get(t),handleId:z.connectionHandleId,toX:(z.connectionPosition.x-z.transform[0])/z.transform[2],toY:(z.connectionPosition.y-z.transform[1])/z.transform[2],connectionMode:z.connectionMode}),[t]),_n),m=(N=a==null?void 0:a[ln])==null?void 0:N.handleBounds;let g=m==null?void 0:m[e];if(p===Yi.Loose&&(g=g||(m==null?void 0:m[e==="source"?"target":"source"])),!a||!g)return null;const x=o?g.find(z=>z.id===o):g[0],v=x?x.x+x.width/2:(a.width??0)/2,y=x?x.y+x.height/2:a.height??0,w=(((C=a.positionAbsolute)==null?void 0:C.x)??0)+v,Q=(((q=a.positionAbsolute)==null?void 0:q.y)??0)+y,k=x==null?void 0:x.position,$=k?_ie[k]:null;if(!k||!$)return null;if(s)return oe.createElement(s,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:x,fromX:w,fromY:Q,toX:u,toY:f,fromPosition:k,toPosition:$,connectionStatus:i});let _="";const T={sourceX:w,sourceY:Q,sourcePosition:k,targetX:u,targetY:f,targetPosition:$};return r===ka.Bezier?[_]=$Z(T):r===ka.Step?[_]=T2({...T,borderRadius:0}):r===ka.SmoothStep?[_]=T2(T):r===ka.SimpleBezier?[_]=kZ(T):_=`M${w},${Q} ${u},${f}`,oe.createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};sL.displayName="ConnectionLine";const Pie=t=>({nodeId:t.connectionNodeId,handleType:t.connectionHandleType,nodesConnectable:t.nodesConnectable,connectionStatus:t.connectionStatus,width:t.width,height:t.height});function jie({containerStyle:t,style:e,type:n,component:r}){const{nodeId:s,handleType:i,nodesConnectable:a,width:o,height:u,connectionStatus:f}=zt(Pie,_n);return!(s&&i&&o&&a)?null:oe.createElement("svg",{style:t,width:o,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},oe.createElement("g",{className:zn(["react-flow__connection",f])},oe.createElement(sL,{nodeId:s,handleType:i,style:e,type:n,CustomComponent:r,connectionStatus:f})))}function f4(t,e){return j.useRef(null),Qn(),j.useMemo(()=>e(t),[t])}const iL=({nodeTypes:t,edgeTypes:e,onMove:n,onMoveStart:r,onMoveEnd:s,onInit:i,onNodeClick:a,onEdgeClick:o,onNodeDoubleClick:u,onEdgeDoubleClick:f,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:g,onNodeContextMenu:x,onSelectionContextMenu:v,onSelectionStart:y,onSelectionEnd:w,connectionLineType:Q,connectionLineStyle:k,connectionLineComponent:$,connectionLineContainerStyle:_,selectionKeyCode:T,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:q,panActivationKeyCode:z,zoomActivationKeyCode:Z,deleteKeyCode:R,onlyRenderVisibleElements:Y,elementsSelectable:L,selectNodesOnDrag:E,defaultViewport:U,translateExtent:A,minZoom:I,maxZoom:F,preventScrolling:G,defaultMarkerColor:J,zoomOnScroll:X,zoomOnPinch:B,panOnScroll:te,panOnScrollSpeed:V,panOnScrollMode:W,zoomOnDoubleClick:ee,panOnDrag:re,onPaneClick:ue,onPaneMouseEnter:pe,onPaneMouseMove:Se,onPaneMouseLeave:Ye,onPaneScroll:Le,onPaneContextMenu:We,onEdgeContextMenu:Xe,onEdgeMouseEnter:Qe,onEdgeMouseMove:ct,onEdgeMouseLeave:be,onReconnect:we,onReconnectStart:ut,onReconnectEnd:on,reconnectRadius:Gt,noDragClassName:Yt,noWheelClassName:Je,noPanClassName:rt,elevateEdgesOnSelect:Wt,disableKeyboardA11y:me,nodeOrigin:ye,nodeExtent:Ze,rfId:Fe})=>{const Xt=f4(t,sie),ft=f4(e,fie);return Tie(i),oe.createElement(nie,{onPaneClick:ue,onPaneMouseEnter:pe,onPaneMouseMove:Se,onPaneMouseLeave:Ye,onPaneContextMenu:We,onPaneScroll:Le,deleteKeyCode:R,selectionKeyCode:T,selectionOnDrag:N,selectionMode:C,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:q,panActivationKeyCode:z,zoomActivationKeyCode:Z,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:s,zoomOnScroll:X,zoomOnPinch:B,zoomOnDoubleClick:ee,panOnScroll:te,panOnScrollSpeed:V,panOnScrollMode:W,panOnDrag:re,defaultViewport:U,translateExtent:A,minZoom:I,maxZoom:F,onSelectionContextMenu:v,preventScrolling:G,noDragClassName:Yt,noWheelClassName:Je,noPanClassName:rt,disableKeyboardA11y:me},oe.createElement($ie,null,oe.createElement(Qie,{edgeTypes:ft,onEdgeClick:o,onEdgeDoubleClick:f,onlyRenderVisibleElements:Y,onEdgeContextMenu:Xe,onEdgeMouseEnter:Qe,onEdgeMouseMove:ct,onEdgeMouseLeave:be,onReconnect:we,onReconnectStart:ut,onReconnectEnd:on,reconnectRadius:Gt,defaultMarkerColor:J,noPanClassName:rt,elevateEdgesOnSelect:!!Wt,disableKeyboardA11y:me,rfId:Fe},oe.createElement(jie,{style:k,type:Q,component:$,containerStyle:_})),oe.createElement("div",{className:"react-flow__edgelabel-renderer"}),oe.createElement(lie,{nodeTypes:Xt,onNodeClick:a,onNodeDoubleClick:u,onNodeMouseEnter:p,onNodeMouseMove:m,onNodeMouseLeave:g,onNodeContextMenu:x,selectNodesOnDrag:E,onlyRenderVisibleElements:Y,noPanClassName:rt,noDragClassName:Yt,disableKeyboardA11y:me,nodeOrigin:ye,nodeExtent:Ze,rfId:Fe})))};iL.displayName="GraphView";var Nie=j.memo(iL);const C2=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],xa={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:C2,nodeExtent:C2,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Yi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:ase,isValidConnection:void 0},Cie=()=>vee((t,e)=>({...xa,setNodes:n=>{const{nodeInternals:r,nodeOrigin:s,elevateNodesOnSelect:i}=e();t({nodeInternals:zx(n,r,s,i)})},getNodes:()=>Array.from(e().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=e();t({edges:n.map(s=>({...r,...s}))})},setDefaultNodesAndEdges:(n,r)=>{const s=typeof n<"u",i=typeof r<"u",a=s?zx(n,new Map,e().nodeOrigin,e().elevateNodesOnSelect):new Map;t({nodeInternals:a,edges:i?r:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:o,domNode:u,nodeOrigin:f}=e(),p=u==null?void 0:u.querySelector(".react-flow__viewport");if(!p)return;const m=window.getComputedStyle(p),{m22:g}=new window.DOMMatrixReadOnly(m.transform),x=n.reduce((y,w)=>{const Q=s.get(w.id);if(Q!=null&&Q.hidden)s.set(Q.id,{...Q,[ln]:{...Q[ln],handleBounds:void 0}});else if(Q){const k=sk(w.nodeElement);!!(k.width&&k.height&&(Q.width!==k.width||Q.height!==k.height||w.forceUpdate))&&(s.set(Q.id,{...Q,[ln]:{...Q[ln],handleBounds:{source:s4(".source",w.nodeElement,g,f),target:s4(".target",w.nodeElement,g,f)}},...k}),y.push({id:Q.id,type:"dimensions",dimensions:k}))}return y},[]);BZ(s,f);const v=a||i&&!a&&UZ(e,{initial:!0,...o});t({nodeInternals:new Map(s),fitViewOnInitDone:v}),(x==null?void 0:x.length)>0&&(r==null||r(x))},updateNodePositions:(n,r=!0,s=!1)=>{const{triggerNodeChanges:i}=e(),a=n.map(o=>{const u={id:o.id,type:"position",dragging:s};return r&&(u.positionAbsolute=o.positionAbsolute,u.position=o.position),u});i(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:a,getNodes:o,elevateNodesOnSelect:u}=e();if(n!=null&&n.length){if(i){const f=WZ(n,o()),p=zx(f,s,a,u);t({nodeInternals:p})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let a,o=null;r?a=n.map(u=>wa(u,!0)):(a=Uo(i(),n),o=Uo(s,[])),Jh({changedNodes:a,changedEdges:o,get:e,set:t})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:s,getNodes:i}=e();let a,o=null;r?a=n.map(u=>wa(u,!0)):(a=Uo(s,n),o=Uo(i(),[])),Jh({changedNodes:o,changedEdges:a,get:e,set:t})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:s,getNodes:i}=e(),a=n||i(),o=r||s,u=a.map(p=>(p.selected=!1,wa(p.id,!1))),f=o.map(p=>wa(p.id,!1));Jh({changedNodes:u,changedEdges:f,get:e,set:t})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:s}=e();r==null||r.scaleExtent([n,s]),t({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:s}=e();r==null||r.scaleExtent([s,n]),t({maxZoom:n})},setTranslateExtent:n=>{var r;(r=e().d3Zoom)==null||r.translateExtent(n),t({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=e(),i=r().filter(o=>o.selected).map(o=>wa(o.id,!1)),a=n.filter(o=>o.selected).map(o=>wa(o.id,!1));Jh({changedNodes:i,changedEdges:a,get:e,set:t})},setNodeExtent:n=>{const{nodeInternals:r}=e();r.forEach(s=>{s.positionAbsolute=ik(s.position,n)}),t({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:s,height:i,d3Zoom:a,d3Selection:o,translateExtent:u}=e();if(!a||!o||!n.x&&!n.y)return!1;const f=Xi.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),p=[[0,0],[s,i]],m=a==null?void 0:a.constrain()(f,p,u);return a.transform(o,m),r[0]!==m.x||r[1]!==m.y||r[2]!==m.k},cancelConnection:()=>t({connectionNodeId:xa.connectionNodeId,connectionHandleId:xa.connectionHandleId,connectionHandleType:xa.connectionHandleType,connectionStatus:xa.connectionStatus,connectionStartHandle:xa.connectionStartHandle,connectionEndHandle:xa.connectionEndHandle}),reset:()=>t({...xa})}),Object.is),aL=({children:t})=>{const e=j.useRef(null);return e.current||(e.current=Cie()),oe.createElement(Jre,{value:e.current},t)};aL.displayName="ReactFlowProvider";const lL=({children:t})=>j.useContext(Im)?oe.createElement(oe.Fragment,null,t):oe.createElement(aL,null,t);lL.displayName="ReactFlowWrapper";const Eie={input:MZ,default:j2,output:ZZ,group:fk},Rie={default:hm,straight:ok,step:lk,smoothstep:Fm,simplebezier:ak},Aie=[0,0],qie=[15,15],Xie={x:0,y:0,zoom:1},Mie={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},oL=j.forwardRef(({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i=Eie,edgeTypes:a=Rie,onNodeClick:o,onEdgeClick:u,onInit:f,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:x,onConnectStart:v,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:Q,onNodeMouseEnter:k,onNodeMouseMove:$,onNodeMouseLeave:_,onNodeContextMenu:T,onNodeDoubleClick:N,onNodeDragStart:C,onNodeDrag:q,onNodeDragStop:z,onNodesDelete:Z,onEdgesDelete:R,onSelectionChange:Y,onSelectionDragStart:L,onSelectionDrag:E,onSelectionDragStop:U,onSelectionContextMenu:A,onSelectionStart:I,onSelectionEnd:F,connectionMode:G=Yi.Strict,connectionLineType:J=ka.Bezier,connectionLineStyle:X,connectionLineComponent:B,connectionLineContainerStyle:te,deleteKeyCode:V="Backspace",selectionKeyCode:W="Shift",selectionOnDrag:ee=!1,selectionMode:re=qf.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:pe=fm()?"Meta":"Control",zoomActivationKeyCode:Se=fm()?"Meta":"Control",snapToGrid:Ye=!1,snapGrid:Le=qie,onlyRenderVisibleElements:We=!1,selectNodesOnDrag:Xe=!0,nodesDraggable:Qe,nodesConnectable:ct,nodesFocusable:be,nodeOrigin:we=Aie,edgesFocusable:ut,edgesUpdatable:on,elementsSelectable:Gt,defaultViewport:Yt=Xie,minZoom:Je=.5,maxZoom:rt=2,translateExtent:Wt=C2,preventScrolling:me=!0,nodeExtent:ye,defaultMarkerColor:Ze="#b1b1b7",zoomOnScroll:Fe=!0,zoomOnPinch:Xt=!0,panOnScroll:ft=!1,panOnScrollSpeed:Et=.5,panOnScrollMode:ke=vl.Free,zoomOnDoubleClick:Ie=!0,panOnDrag:en=!0,onPaneClick:at,onPaneMouseEnter:$e,onPaneMouseMove:$t,onPaneMouseLeave:tn,onPaneScroll:Pn,onPaneContextMenu:Fn,children:pr,onEdgeContextMenu:dn,onEdgeDoubleClick:Kn,onEdgeMouseEnter:hn,onEdgeMouseMove:jn,onEdgeMouseLeave:ti,onEdgeUpdate:ls,onEdgeUpdateStart:Jn,onEdgeUpdateEnd:Cr,onReconnect:os,onReconnectStart:ni,onReconnectEnd:mr,reconnectRadius:Er=10,edgeUpdaterRadius:Rr=10,onNodesChange:Oe,onEdgesChange:Ne,noDragClassName:De="nodrag",noWheelClassName:et="nowheel",noPanClassName:tt="nopan",fitView:cs=!1,fitViewOptions:Cs,connectOnClick:Rc=!0,attributionPosition:Ac,proOptions:Va,defaultEdgeOptions:ri,elevateNodesOnSelect:Ui=!0,elevateEdgesOnSelect:Es=!1,disableKeyboardA11y:us=!1,autoPanOnConnect:si=!0,autoPanOnNodeDrag:Rs=!0,connectionRadius:nn=20,isValidConnection:Bl,onError:Ul,style:fs,id:ds,nodeDragThreshold:Gl,...Wl},Il)=>{const Da=ds||"1";return oe.createElement("div",{...Wl,style:{...fs,...Mie},ref:Il,className:zn(["react-flow",s]),"data-testid":"rf__wrapper",id:ds},oe.createElement(lL,null,oe.createElement(Nie,{onInit:f,onMove:p,onMoveStart:m,onMoveEnd:g,onNodeClick:o,onEdgeClick:u,onNodeMouseEnter:k,onNodeMouseMove:$,onNodeMouseLeave:_,onNodeContextMenu:T,onNodeDoubleClick:N,nodeTypes:i,edgeTypes:a,connectionLineType:J,connectionLineStyle:X,connectionLineComponent:B,connectionLineContainerStyle:te,selectionKeyCode:W,selectionOnDrag:ee,selectionMode:re,deleteKeyCode:V,multiSelectionKeyCode:pe,panActivationKeyCode:ue,zoomActivationKeyCode:Se,onlyRenderVisibleElements:We,selectNodesOnDrag:Xe,defaultViewport:Yt,translateExtent:Wt,minZoom:Je,maxZoom:rt,preventScrolling:me,zoomOnScroll:Fe,zoomOnPinch:Xt,zoomOnDoubleClick:Ie,panOnScroll:ft,panOnScrollSpeed:Et,panOnScrollMode:ke,panOnDrag:en,onPaneClick:at,onPaneMouseEnter:$e,onPaneMouseMove:$t,onPaneMouseLeave:tn,onPaneScroll:Pn,onPaneContextMenu:Fn,onSelectionContextMenu:A,onSelectionStart:I,onSelectionEnd:F,onEdgeContextMenu:dn,onEdgeDoubleClick:Kn,onEdgeMouseEnter:hn,onEdgeMouseMove:jn,onEdgeMouseLeave:ti,onReconnect:os??ls,onReconnectStart:ni??Jn,onReconnectEnd:mr??Cr,reconnectRadius:Er??Rr,defaultMarkerColor:Ze,noDragClassName:De,noWheelClassName:et,noPanClassName:tt,elevateEdgesOnSelect:Es,rfId:Da,disableKeyboardA11y:us,nodeOrigin:we,nodeExtent:ye}),oe.createElement(_se,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:v,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:Q,nodesDraggable:Qe,nodesConnectable:ct,nodesFocusable:be,edgesFocusable:ut,edgesUpdatable:on,elementsSelectable:Gt,elevateNodesOnSelect:Ui,minZoom:Je,maxZoom:rt,nodeExtent:ye,onNodesChange:Oe,onEdgesChange:Ne,snapToGrid:Ye,snapGrid:Le,connectionMode:G,translateExtent:Wt,connectOnClick:Rc,defaultEdgeOptions:ri,fitView:cs,fitViewOptions:Cs,onNodesDelete:Z,onEdgesDelete:R,onNodeDragStart:C,onNodeDrag:q,onNodeDragStop:z,onSelectionDrag:E,onSelectionDragStart:L,onSelectionDragStop:U,noPanClassName:tt,nodeOrigin:we,rfId:Da,autoPanOnConnect:si,autoPanOnNodeDrag:Rs,onError:Ul,connectionRadius:nn,isValidConnection:Bl,nodeDragThreshold:Gl}),oe.createElement($se,{onSelectionChange:Y}),pr,oe.createElement(tse,{proOptions:Va,position:Ac}),oe.createElement(Ese,{rfId:Da,disableKeyboardA11y:us})))});oL.displayName="ReactFlow";function cL(t){return e=>{const[n,r]=j.useState(e),s=j.useCallback(i=>r(a=>t(i,a)),[]);return[n,r,s]}}const zie=cL(WZ),Zie=cL(Gse),uL=({id:t,x:e,y:n,width:r,height:s,style:i,color:a,strokeColor:o,strokeWidth:u,className:f,borderRadius:p,shapeRendering:m,onClick:g,selected:x})=>{const{background:v,backgroundColor:y}=i||{},w=a||v||y;return oe.createElement("rect",{className:zn(["react-flow__minimap-node",{selected:x},f]),x:e,y:n,rx:p,ry:p,width:r,height:s,fill:w,stroke:o,strokeWidth:u,shapeRendering:m,onClick:g?Q=>g(Q,t):void 0})};uL.displayName="MiniMapNode";var Lie=j.memo(uL);const Yie=t=>t.nodeOrigin,Vie=t=>t.getNodes().filter(e=>!e.hidden&&e.width&&e.height),Vx=t=>t instanceof Function?t:()=>t;function Die({nodeStrokeColor:t="transparent",nodeColor:e="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s=2,nodeComponent:i=Lie,onClick:a}){const o=zt(Vie,_n),u=zt(Yie),f=Vx(e),p=Vx(t),m=Vx(n),g=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return oe.createElement(oe.Fragment,null,o.map(x=>{const{x:v,y}=kl(x,u).positionAbsolute;return oe.createElement(i,{key:x.id,x:v,y,width:x.width,height:x.height,style:x.style,selected:x.selected,className:m(x),color:f(x),borderRadius:r,strokeColor:p(x),strokeWidth:s,shapeRendering:g,onClick:a,id:x.id})}))}var Bie=j.memo(Die);const Uie=200,Gie=150,Wie=t=>{const e=t.getNodes(),n={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:n,boundingRect:e.length>0?sse(Km(e,t.nodeOrigin),n):n,rfId:t.rfId}},Iie="react-flow__minimap-desc";function fL({style:t,className:e,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,nodeComponent:o,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:f="none",maskStrokeWidth:p=1,position:m="bottom-right",onClick:g,onNodeClick:x,pannable:v=!1,zoomable:y=!1,ariaLabel:w="React Flow mini map",inversePan:Q=!1,zoomStep:k=10,offsetScale:$=5}){const _=Qn(),T=j.useRef(null),{boundingRect:N,viewBB:C,rfId:q}=zt(Wie,_n),z=(t==null?void 0:t.width)??Uie,Z=(t==null?void 0:t.height)??Gie,R=N.width/z,Y=N.height/Z,L=Math.max(R,Y),E=L*z,U=L*Z,A=$*L,I=N.x-(E-N.width)/2-A,F=N.y-(U-N.height)/2-A,G=E+A*2,J=U+A*2,X=`${Iie}-${q}`,B=j.useRef(0);B.current=L,j.useEffect(()=>{if(T.current){const W=Br(T.current),ee=pe=>{const{transform:Se,d3Selection:Ye,d3Zoom:Le}=_.getState();if(pe.sourceEvent.type!=="wheel"||!Ye||!Le)return;const We=-pe.sourceEvent.deltaY*(pe.sourceEvent.deltaMode===1?.05:pe.sourceEvent.deltaMode?1:.002)*k,Xe=Se[2]*Math.pow(2,We);Le.scaleTo(Ye,Xe)},re=pe=>{const{transform:Se,d3Selection:Ye,d3Zoom:Le,translateExtent:We,width:Xe,height:Qe}=_.getState();if(pe.sourceEvent.type!=="mousemove"||!Ye||!Le)return;const ct=B.current*Math.max(1,Se[2])*(Q?-1:1),be={x:Se[0]-pe.sourceEvent.movementX*ct,y:Se[1]-pe.sourceEvent.movementY*ct},we=[[0,0],[Xe,Qe]],ut=Xi.translate(be.x,be.y).scale(Se[2]),on=Le.constrain()(ut,we,We);Le.transform(Ye,on)},ue=mZ().on("zoom",v?re:null).on("zoom.wheel",y?ee:null);return W.call(ue),()=>{W.on("zoom",null)}}},[v,y,Q,k]);const te=g?W=>{const ee=xs(W);g(W,{x:ee[0],y:ee[1]})}:void 0,V=x?(W,ee)=>{const re=_.getState().nodeInternals.get(ee);x(W,re)}:void 0;return oe.createElement(Hm,{position:m,style:t,className:zn(["react-flow__minimap",e]),"data-testid":"rf__minimap"},oe.createElement("svg",{width:z,height:Z,viewBox:`${I} ${F} ${G} ${J}`,role:"img","aria-labelledby":X,ref:T,onClick:te},w&&oe.createElement("title",{id:X},w),oe.createElement(Bie,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:a,nodeComponent:o}),oe.createElement("path",{className:"react-flow__minimap-mask",d:`M${I-A},${F-A}h${G+A*2}v${J+A*2}h${-G-A*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:u,fillRule:"evenodd",stroke:f,strokeWidth:p,pointerEvents:"none"})))}fL.displayName="MiniMap";var Hie=j.memo(fL);function Fie(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},oe.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Kie(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},oe.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Jie(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},oe.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function eae(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},oe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function tae(){return oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},oe.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Iu=({children:t,className:e,...n})=>oe.createElement("button",{type:"button",className:zn(["react-flow__controls-button",e]),...n},t);Iu.displayName="ControlButton";const nae=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom}),dL=({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:a,onFitView:o,onInteractiveChange:u,className:f,children:p,position:m="bottom-left"})=>{const g=Qn(),[x,v]=j.useState(!1),{isInteractive:y,minZoomReached:w,maxZoomReached:Q}=zt(nae,_n),{zoomIn:k,zoomOut:$,fitView:_}=dk();if(j.useEffect(()=>{v(!0)},[]),!x)return null;const T=()=>{k(),i==null||i()},N=()=>{$(),a==null||a()},C=()=>{_(s),o==null||o()},q=()=>{g.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),u==null||u(!y)};return oe.createElement(Hm,{className:zn(["react-flow__controls",f]),position:m,style:t,"data-testid":"rf__controls"},e&&oe.createElement(oe.Fragment,null,oe.createElement(Iu,{onClick:T,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:Q},oe.createElement(Fie,null)),oe.createElement(Iu,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},oe.createElement(Kie,null))),n&&oe.createElement(Iu,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},oe.createElement(Jie,null)),r&&oe.createElement(Iu,{className:"react-flow__controls-interactive",onClick:q,title:"toggle interactivity","aria-label":"toggle interactivity"},y?oe.createElement(tae,null):oe.createElement(eae,null)),p)};dL.displayName="Controls";var rae=j.memo(dL),Jr;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Jr||(Jr={}));function sae({color:t,dimensions:e,lineWidth:n}){return oe.createElement("path",{stroke:t,strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function iae({color:t,radius:e}){return oe.createElement("circle",{cx:e,cy:e,r:e,fill:t})}const aae={[Jr.Dots]:"#91919a",[Jr.Lines]:"#eee",[Jr.Cross]:"#e2e2e2"},lae={[Jr.Dots]:1,[Jr.Lines]:1,[Jr.Cross]:6},oae=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function hL({id:t,variant:e=Jr.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=2,color:a,style:o,className:u}){const f=j.useRef(null),{transform:p,patternId:m}=zt(oae,_n),g=a||aae[e],x=r||lae[e],v=e===Jr.Dots,y=e===Jr.Cross,w=Array.isArray(n)?n:[n,n],Q=[w[0]*p[2]||1,w[1]*p[2]||1],k=x*p[2],$=y?[k,k]:Q,_=v?[k/i,k/i]:[$[0]/i,$[1]/i];return oe.createElement("svg",{className:zn(["react-flow__background",u]),style:{...o,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},oe.createElement("pattern",{id:m+t,x:p[0]%Q[0],y:p[1]%Q[1],width:Q[0],height:Q[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},v?oe.createElement(iae,{color:g,radius:k/i}):oe.createElement(sae,{dimensions:$,color:g,lineWidth:s})),oe.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${m+t})`}))}hL.displayName="Background";var cae=j.memo(hL);function pk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dx,d4;function uae(){if(d4)return Dx;d4=1;function t(){this.__data__=[],this.size=0}return Dx=t,Dx}var Bx,h4;function Pc(){if(h4)return Bx;h4=1;function t(e,n){return e===n||e!==e&&n!==n}return Bx=t,Bx}var Ux,p4;function Jm(){if(p4)return Ux;p4=1;var t=Pc();function e(n,r){for(var s=n.length;s--;)if(t(n[s][0],r))return s;return-1}return Ux=e,Ux}var Gx,m4;function fae(){if(m4)return Gx;m4=1;var t=Jm(),e=Array.prototype,n=e.splice;function r(s){var i=this.__data__,a=t(i,s);if(a<0)return!1;var o=i.length-1;return a==o?i.pop():n.call(i,a,1),--this.size,!0}return Gx=r,Gx}var Wx,O4;function dae(){if(O4)return Wx;O4=1;var t=Jm();function e(n){var r=this.__data__,s=t(r,n);return s<0?void 0:r[s][1]}return Wx=e,Wx}var Ix,g4;function hae(){if(g4)return Ix;g4=1;var t=Jm();function e(n){return t(this.__data__,n)>-1}return Ix=e,Ix}var Hx,x4;function pae(){if(x4)return Hx;x4=1;var t=Jm();function e(n,r){var s=this.__data__,i=t(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return Hx=e,Hx}var Fx,b4;function eO(){if(b4)return Fx;b4=1;var t=uae(),e=fae(),n=dae(),r=hae(),s=pae();function i(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var f=a[o];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,Fx=i,Fx}var Kx,y4;function mae(){if(y4)return Kx;y4=1;var t=eO();function e(){this.__data__=new t,this.size=0}return Kx=e,Kx}var Jx,v4;function Oae(){if(v4)return Jx;v4=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Jx=t,Jx}var e1,S4;function gae(){if(S4)return e1;S4=1;function t(e){return this.__data__.get(e)}return e1=t,e1}var t1,w4;function xae(){if(w4)return t1;w4=1;function t(e){return this.__data__.has(e)}return t1=t,t1}var n1,Q4;function pL(){if(Q4)return n1;Q4=1;var t=typeof Oh=="object"&&Oh&&Oh.Object===Object&&Oh;return n1=t,n1}var r1,k4;function Ns(){if(k4)return r1;k4=1;var t=pL(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return r1=n,r1}var s1,$4;function jc(){if($4)return s1;$4=1;var t=Ns(),e=t.Symbol;return s1=e,s1}var i1,T4;function bae(){if(T4)return i1;T4=1;var t=jc(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,s=t?t.toStringTag:void 0;function i(a){var o=n.call(a,s),u=a[s];try{a[s]=void 0;var f=!0}catch{}var p=r.call(a);return f&&(o?a[s]=u:delete a[s]),p}return i1=i,i1}var a1,_4;function yae(){if(_4)return a1;_4=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return a1=n,a1}var l1,P4;function Ll(){if(P4)return l1;P4=1;var t=jc(),e=bae(),n=yae(),r="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?s:r:i&&i in Object(o)?e(o):n(o)}return l1=a,l1}var o1,j4;function is(){if(j4)return o1;j4=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return o1=t,o1}var c1,N4;function td(){if(N4)return c1;N4=1;var t=Ll(),e=is(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function a(o){if(!e(o))return!1;var u=t(o);return u==r||u==s||u==n||u==i}return c1=a,c1}var u1,C4;function vae(){if(C4)return u1;C4=1;var t=Ns(),e=t["__core-js_shared__"];return u1=e,u1}var f1,E4;function Sae(){if(E4)return f1;E4=1;var t=vae(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return f1=n,f1}var d1,R4;function mL(){if(R4)return d1;R4=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return d1=n,d1}var h1,A4;function wae(){if(A4)return h1;A4=1;var t=td(),e=Sae(),n=is(),r=mL(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,u=a.toString,f=o.hasOwnProperty,p=RegExp("^"+u.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||e(g))return!1;var x=t(g)?p:i;return x.test(r(g))}return h1=m,h1}var p1,q4;function Qae(){if(q4)return p1;q4=1;function t(e,n){return e==null?void 0:e[n]}return p1=t,p1}var m1,X4;function Yl(){if(X4)return m1;X4=1;var t=wae(),e=Qae();function n(r,s){var i=e(r,s);return t(i)?i:void 0}return m1=n,m1}var O1,M4;function mk(){if(M4)return O1;M4=1;var t=Yl(),e=Ns(),n=t(e,"Map");return O1=n,O1}var g1,z4;function tO(){if(z4)return g1;z4=1;var t=Yl(),e=t(Object,"create");return g1=e,g1}var x1,Z4;function kae(){if(Z4)return x1;Z4=1;var t=tO();function e(){this.__data__=t?t(null):{},this.size=0}return x1=e,x1}var b1,L4;function $ae(){if(L4)return b1;L4=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return b1=t,b1}var y1,Y4;function Tae(){if(Y4)return y1;Y4=1;var t=tO(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var a=this.__data__;if(t){var o=a[i];return o===e?void 0:o}return r.call(a,i)?a[i]:void 0}return y1=s,y1}var v1,V4;function _ae(){if(V4)return v1;V4=1;var t=tO(),e=Object.prototype,n=e.hasOwnProperty;function r(s){var i=this.__data__;return t?i[s]!==void 0:n.call(i,s)}return v1=r,v1}var S1,D4;function Pae(){if(D4)return S1;D4=1;var t=tO(),e="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&s===void 0?e:s,this}return S1=n,S1}var w1,B4;function jae(){if(B4)return w1;B4=1;var t=kae(),e=$ae(),n=Tae(),r=_ae(),s=Pae();function i(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var f=a[o];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,w1=i,w1}var Q1,U4;function Nae(){if(U4)return Q1;U4=1;var t=jae(),e=eO(),n=mk();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Q1=r,Q1}var k1,G4;function Cae(){if(G4)return k1;G4=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return k1=t,k1}var $1,W4;function nO(){if(W4)return $1;W4=1;var t=Cae();function e(n,r){var s=n.__data__;return t(r)?s[typeof r=="string"?"string":"hash"]:s.map}return $1=e,$1}var T1,I4;function Eae(){if(I4)return T1;I4=1;var t=nO();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return T1=e,T1}var _1,H4;function Rae(){if(H4)return _1;H4=1;var t=nO();function e(n){return t(this,n).get(n)}return _1=e,_1}var P1,F4;function Aae(){if(F4)return P1;F4=1;var t=nO();function e(n){return t(this,n).has(n)}return P1=e,P1}var j1,K4;function qae(){if(K4)return j1;K4=1;var t=nO();function e(n,r){var s=t(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return j1=e,j1}var N1,J4;function Ok(){if(J4)return N1;J4=1;var t=Nae(),e=Eae(),n=Rae(),r=Aae(),s=qae();function i(a){var o=-1,u=a==null?0:a.length;for(this.clear();++o<u;){var f=a[o];this.set(f[0],f[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,N1=i,N1}var C1,eC;function Xae(){if(eC)return C1;eC=1;var t=eO(),e=mk(),n=Ok(),r=200;function s(i,a){var o=this.__data__;if(o instanceof t){var u=o.__data__;if(!e||u.length<r-1)return u.push([i,a]),this.size=++o.size,this;o=this.__data__=new n(u)}return o.set(i,a),this.size=o.size,this}return C1=s,C1}var E1,tC;function rO(){if(tC)return E1;tC=1;var t=eO(),e=mae(),n=Oae(),r=gae(),s=xae(),i=Xae();function a(o){var u=this.__data__=new t(o);this.size=u.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=s,a.prototype.set=i,E1=a,E1}var R1,nC;function gk(){if(nC)return R1;nC=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s&&n(e[r],r,e)!==!1;);return e}return R1=t,R1}var A1,rC;function OL(){if(rC)return A1;rC=1;var t=Yl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return A1=e,A1}var q1,sC;function sO(){if(sC)return q1;sC=1;var t=OL();function e(n,r,s){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return q1=e,q1}var X1,iC;function iO(){if(iC)return X1;iC=1;var t=sO(),e=Pc(),n=Object.prototype,r=n.hasOwnProperty;function s(i,a,o){var u=i[a];(!(r.call(i,a)&&e(u,o))||o===void 0&&!(a in i))&&t(i,a,o)}return X1=s,X1}var M1,aC;function nd(){if(aC)return M1;aC=1;var t=iO(),e=sO();function n(r,s,i,a){var o=!i;i||(i={});for(var u=-1,f=s.length;++u<f;){var p=s[u],m=a?a(i[p],r[p],p,i,r):void 0;m===void 0&&(m=r[p]),o?e(i,p,m):t(i,p,m)}return i}return M1=n,M1}var z1,lC;function Mae(){if(lC)return z1;lC=1;function t(e,n){for(var r=-1,s=Array(e);++r<e;)s[r]=n(r);return s}return z1=t,z1}var Z1,oC;function ei(){if(oC)return Z1;oC=1;function t(e){return e!=null&&typeof e=="object"}return Z1=t,Z1}var L1,cC;function zae(){if(cC)return L1;cC=1;var t=Ll(),e=ei(),n="[object Arguments]";function r(s){return e(s)&&t(s)==n}return L1=r,L1}var Y1,uC;function rd(){if(uC)return Y1;uC=1;var t=zae(),e=ei(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!s.call(a,"callee")};return Y1=i,Y1}var V1,fC;function yn(){if(fC)return V1;fC=1;var t=Array.isArray;return V1=t,V1}var Hu={exports:{}},D1,dC;function Zae(){if(dC)return D1;dC=1;function t(){return!1}return D1=t,D1}Hu.exports;var hC;function Nc(){return hC||(hC=1,(function(t,e){var n=Ns(),r=Zae(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===s,o=a?n.Buffer:void 0,u=o?o.isBuffer:void 0,f=u||r;t.exports=f})(Hu,Hu.exports)),Hu.exports}var B1,pC;function aO(){if(pC)return B1;pC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<s}return B1=n,B1}var U1,mC;function xk(){if(mC)return U1;mC=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return U1=e,U1}var G1,OC;function Lae(){if(OC)return G1;OC=1;var t=Ll(),e=xk(),n=ei(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",a="[object Date]",o="[object Error]",u="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",x="[object Set]",v="[object String]",y="[object WeakMap]",w="[object ArrayBuffer]",Q="[object DataView]",k="[object Float32Array]",$="[object Float64Array]",_="[object Int8Array]",T="[object Int16Array]",N="[object Int32Array]",C="[object Uint8Array]",q="[object Uint8ClampedArray]",z="[object Uint16Array]",Z="[object Uint32Array]",R={};R[k]=R[$]=R[_]=R[T]=R[N]=R[C]=R[q]=R[z]=R[Z]=!0,R[r]=R[s]=R[w]=R[i]=R[Q]=R[a]=R[o]=R[u]=R[f]=R[p]=R[m]=R[g]=R[x]=R[v]=R[y]=!1;function Y(L){return n(L)&&e(L.length)&&!!R[t(L)]}return G1=Y,G1}var W1,gC;function lO(){if(gC)return W1;gC=1;function t(e){return function(n){return e(n)}}return W1=t,W1}var Fu={exports:{}};Fu.exports;var xC;function bk(){return xC||(xC=1,(function(t,e){var n=pL(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i&&n.process,o=(function(){try{var u=s&&s.require&&s.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(Fu,Fu.exports)),Fu.exports}var I1,bC;function sd(){if(bC)return I1;bC=1;var t=Lae(),e=lO(),n=bk(),r=n&&n.isTypedArray,s=r?e(r):t;return I1=s,I1}var H1,yC;function gL(){if(yC)return H1;yC=1;var t=Mae(),e=rd(),n=yn(),r=Nc(),s=aO(),i=sd(),a=Object.prototype,o=a.hasOwnProperty;function u(f,p){var m=n(f),g=!m&&e(f),x=!m&&!g&&r(f),v=!m&&!g&&!x&&i(f),y=m||g||x||v,w=y?t(f.length,String):[],Q=w.length;for(var k in f)(p||o.call(f,k))&&!(y&&(k=="length"||x&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,Q)))&&w.push(k);return w}return H1=u,H1}var F1,vC;function oO(){if(vC)return F1;vC=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||t;return n===s}return F1=e,F1}var K1,SC;function xL(){if(SC)return K1;SC=1;function t(e,n){return function(r){return e(n(r))}}return K1=t,K1}var J1,wC;function Yae(){if(wC)return J1;wC=1;var t=xL(),e=t(Object.keys,Object);return J1=e,J1}var eb,QC;function yk(){if(QC)return eb;QC=1;var t=oO(),e=Yae(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!t(i))return e(i);var a=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&a.push(o);return a}return eb=s,eb}var tb,kC;function Di(){if(kC)return tb;kC=1;var t=td(),e=xk();function n(r){return r!=null&&e(r.length)&&!t(r)}return tb=n,tb}var nb,$C;function Ya(){if($C)return nb;$C=1;var t=gL(),e=yk(),n=Di();function r(s){return n(s)?t(s):e(s)}return nb=r,nb}var rb,TC;function Vae(){if(TC)return rb;TC=1;var t=nd(),e=Ya();function n(r,s){return r&&t(s,e(s),r)}return rb=n,rb}var sb,_C;function Dae(){if(_C)return sb;_C=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return sb=t,sb}var ib,PC;function Bae(){if(PC)return ib;PC=1;var t=is(),e=oO(),n=Dae(),r=Object.prototype,s=r.hasOwnProperty;function i(a){if(!t(a))return n(a);var o=e(a),u=[];for(var f in a)f=="constructor"&&(o||!s.call(a,f))||u.push(f);return u}return ib=i,ib}var ab,jC;function Vl(){if(jC)return ab;jC=1;var t=gL(),e=Bae(),n=Di();function r(s){return n(s)?t(s,!0):e(s)}return ab=r,ab}var lb,NC;function Uae(){if(NC)return lb;NC=1;var t=nd(),e=Vl();function n(r,s){return r&&t(s,e(s),r)}return lb=n,lb}var Ku={exports:{}};Ku.exports;var CC;function bL(){return CC||(CC=1,(function(t,e){var n=Ns(),r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,a=i?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function u(f,p){if(p)return f.slice();var m=f.length,g=o?o(m):new f.constructor(m);return f.copy(g),g}t.exports=u})(Ku,Ku.exports)),Ku.exports}var ob,EC;function yL(){if(EC)return ob;EC=1;function t(e,n){var r=-1,s=e.length;for(n||(n=Array(s));++r<s;)n[r]=e[r];return n}return ob=t,ob}var cb,RC;function vL(){if(RC)return cb;RC=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=0,a=[];++r<s;){var o=e[r];n(o,r,e)&&(a[i++]=o)}return a}return cb=t,cb}var ub,AC;function SL(){if(AC)return ub;AC=1;function t(){return[]}return ub=t,ub}var fb,qC;function vk(){if(qC)return fb;qC=1;var t=vL(),e=SL(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(a){return a==null?[]:(a=Object(a),t(s(a),function(o){return r.call(a,o)}))}:e;return fb=i,fb}var db,XC;function Gae(){if(XC)return db;XC=1;var t=nd(),e=vk();function n(r,s){return t(r,e(r),s)}return db=n,db}var hb,MC;function Sk(){if(MC)return hb;MC=1;function t(e,n){for(var r=-1,s=n.length,i=e.length;++r<s;)e[i+r]=n[r];return e}return hb=t,hb}var pb,zC;function cO(){if(zC)return pb;zC=1;var t=xL(),e=t(Object.getPrototypeOf,Object);return pb=e,pb}var mb,ZC;function wL(){if(ZC)return mb;ZC=1;var t=Sk(),e=cO(),n=vk(),r=SL(),s=Object.getOwnPropertySymbols,i=s?function(a){for(var o=[];a;)t(o,n(a)),a=e(a);return o}:r;return mb=i,mb}var Ob,LC;function Wae(){if(LC)return Ob;LC=1;var t=nd(),e=wL();function n(r,s){return t(r,e(r),s)}return Ob=n,Ob}var gb,YC;function QL(){if(YC)return gb;YC=1;var t=Sk(),e=yn();function n(r,s,i){var a=s(r);return e(r)?a:t(a,i(r))}return gb=n,gb}var xb,VC;function kL(){if(VC)return xb;VC=1;var t=QL(),e=vk(),n=Ya();function r(s){return t(s,n,e)}return xb=r,xb}var bb,DC;function Iae(){if(DC)return bb;DC=1;var t=QL(),e=wL(),n=Vl();function r(s){return t(s,n,e)}return bb=r,bb}var yb,BC;function Hae(){if(BC)return yb;BC=1;var t=Yl(),e=Ns(),n=t(e,"DataView");return yb=n,yb}var vb,UC;function Fae(){if(UC)return vb;UC=1;var t=Yl(),e=Ns(),n=t(e,"Promise");return vb=n,vb}var Sb,GC;function $L(){if(GC)return Sb;GC=1;var t=Yl(),e=Ns(),n=t(e,"Set");return Sb=n,Sb}var wb,WC;function Kae(){if(WC)return wb;WC=1;var t=Yl(),e=Ns(),n=t(e,"WeakMap");return wb=n,wb}var Qb,IC;function Cc(){if(IC)return Qb;IC=1;var t=Hae(),e=mk(),n=Fae(),r=$L(),s=Kae(),i=Ll(),a=mL(),o="[object Map]",u="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",x=a(t),v=a(e),y=a(n),w=a(r),Q=a(s),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=o||n&&k(n.resolve())!=f||r&&k(new r)!=p||s&&k(new s)!=m)&&(k=function($){var _=i($),T=_==u?$.constructor:void 0,N=T?a(T):"";if(N)switch(N){case x:return g;case v:return o;case y:return f;case w:return p;case Q:return m}return _}),Qb=k,Qb}var kb,HC;function Jae(){if(HC)return kb;HC=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var s=r.length,i=new r.constructor(s);return s&&typeof r[0]=="string"&&e.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return kb=n,kb}var $b,FC;function TL(){if(FC)return $b;FC=1;var t=Ns(),e=t.Uint8Array;return $b=e,$b}var Tb,KC;function wk(){if(KC)return Tb;KC=1;var t=TL();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Tb=e,Tb}var _b,JC;function ele(){if(JC)return _b;JC=1;var t=wk();function e(n,r){var s=r?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return _b=e,_b}var Pb,e3;function tle(){if(e3)return Pb;e3=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Pb=e,Pb}var jb,t3;function nle(){if(t3)return jb;t3=1;var t=jc(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(s){return n?Object(n.call(s)):{}}return jb=r,jb}var Nb,n3;function _L(){if(n3)return Nb;n3=1;var t=wk();function e(n,r){var s=r?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return Nb=e,Nb}var Cb,r3;function rle(){if(r3)return Cb;r3=1;var t=wk(),e=ele(),n=tle(),r=nle(),s=_L(),i="[object Boolean]",a="[object Date]",o="[object Map]",u="[object Number]",f="[object RegExp]",p="[object Set]",m="[object String]",g="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",w="[object Float64Array]",Q="[object Int8Array]",k="[object Int16Array]",$="[object Int32Array]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",N="[object Uint16Array]",C="[object Uint32Array]";function q(z,Z,R){var Y=z.constructor;switch(Z){case x:return t(z);case i:case a:return new Y(+z);case v:return e(z,R);case y:case w:case Q:case k:case $:case _:case T:case N:case C:return s(z,R);case o:return new Y;case u:case m:return new Y(z);case f:return n(z);case p:return new Y;case g:return r(z)}}return Cb=q,Cb}var Eb,s3;function PL(){if(s3)return Eb;s3=1;var t=is(),e=Object.create,n=(function(){function r(){}return function(s){if(!t(s))return{};if(e)return e(s);r.prototype=s;var i=new r;return r.prototype=void 0,i}})();return Eb=n,Eb}var Rb,i3;function jL(){if(i3)return Rb;i3=1;var t=PL(),e=cO(),n=oO();function r(s){return typeof s.constructor=="function"&&!n(s)?t(e(s)):{}}return Rb=r,Rb}var Ab,a3;function sle(){if(a3)return Ab;a3=1;var t=Cc(),e=ei(),n="[object Map]";function r(s){return e(s)&&t(s)==n}return Ab=r,Ab}var qb,l3;function ile(){if(l3)return qb;l3=1;var t=sle(),e=lO(),n=bk(),r=n&&n.isMap,s=r?e(r):t;return qb=s,qb}var Xb,o3;function ale(){if(o3)return Xb;o3=1;var t=Cc(),e=ei(),n="[object Set]";function r(s){return e(s)&&t(s)==n}return Xb=r,Xb}var Mb,c3;function lle(){if(c3)return Mb;c3=1;var t=ale(),e=lO(),n=bk(),r=n&&n.isSet,s=r?e(r):t;return Mb=s,Mb}var zb,u3;function NL(){if(u3)return zb;u3=1;var t=rO(),e=gk(),n=iO(),r=Vae(),s=Uae(),i=bL(),a=yL(),o=Gae(),u=Wae(),f=kL(),p=Iae(),m=Cc(),g=Jae(),x=rle(),v=jL(),y=yn(),w=Nc(),Q=ile(),k=is(),$=lle(),_=Ya(),T=Vl(),N=1,C=2,q=4,z="[object Arguments]",Z="[object Array]",R="[object Boolean]",Y="[object Date]",L="[object Error]",E="[object Function]",U="[object GeneratorFunction]",A="[object Map]",I="[object Number]",F="[object Object]",G="[object RegExp]",J="[object Set]",X="[object String]",B="[object Symbol]",te="[object WeakMap]",V="[object ArrayBuffer]",W="[object DataView]",ee="[object Float32Array]",re="[object Float64Array]",ue="[object Int8Array]",pe="[object Int16Array]",Se="[object Int32Array]",Ye="[object Uint8Array]",Le="[object Uint8ClampedArray]",We="[object Uint16Array]",Xe="[object Uint32Array]",Qe={};Qe[z]=Qe[Z]=Qe[V]=Qe[W]=Qe[R]=Qe[Y]=Qe[ee]=Qe[re]=Qe[ue]=Qe[pe]=Qe[Se]=Qe[A]=Qe[I]=Qe[F]=Qe[G]=Qe[J]=Qe[X]=Qe[B]=Qe[Ye]=Qe[Le]=Qe[We]=Qe[Xe]=!0,Qe[L]=Qe[E]=Qe[te]=!1;function ct(be,we,ut,on,Gt,Yt){var Je,rt=we&N,Wt=we&C,me=we&q;if(ut&&(Je=Gt?ut(be,on,Gt,Yt):ut(be)),Je!==void 0)return Je;if(!k(be))return be;var ye=y(be);if(ye){if(Je=g(be),!rt)return a(be,Je)}else{var Ze=m(be),Fe=Ze==E||Ze==U;if(w(be))return i(be,rt);if(Ze==F||Ze==z||Fe&&!Gt){if(Je=Wt||Fe?{}:v(be),!rt)return Wt?u(be,s(Je,be)):o(be,r(Je,be))}else{if(!Qe[Ze])return Gt?be:{};Je=x(be,Ze,rt)}}Yt||(Yt=new t);var Xt=Yt.get(be);if(Xt)return Xt;Yt.set(be,Je),$(be)?be.forEach(function(ke){Je.add(ct(ke,we,ut,ke,be,Yt))}):Q(be)&&be.forEach(function(ke,Ie){Je.set(Ie,ct(ke,we,ut,Ie,be,Yt))});var ft=me?Wt?p:f:Wt?T:_,Et=ye?void 0:ft(be);return e(Et||be,function(ke,Ie){Et&&(Ie=ke,ke=be[Ie]),n(Je,Ie,ct(ke,we,ut,Ie,be,Yt))}),Je}return zb=ct,zb}var Zb,f3;function ole(){if(f3)return Zb;f3=1;var t=NL(),e=4;function n(r){return t(r,e)}return Zb=n,Zb}var Lb,d3;function Qk(){if(d3)return Lb;d3=1;function t(e){return function(){return e}}return Lb=t,Lb}var Yb,h3;function cle(){if(h3)return Yb;h3=1;function t(e){return function(n,r,s){for(var i=-1,a=Object(n),o=s(n),u=o.length;u--;){var f=o[e?u:++i];if(r(a[f],f,a)===!1)break}return n}}return Yb=t,Yb}var Vb,p3;function kk(){if(p3)return Vb;p3=1;var t=cle(),e=t();return Vb=e,Vb}var Db,m3;function $k(){if(m3)return Db;m3=1;var t=kk(),e=Ya();function n(r,s){return r&&t(r,s,e)}return Db=n,Db}var Bb,O3;function ule(){if(O3)return Bb;O3=1;var t=Di();function e(n,r){return function(s,i){if(s==null)return s;if(!t(s))return n(s,i);for(var a=s.length,o=r?a:-1,u=Object(s);(r?o--:++o<a)&&i(u[o],o,u)!==!1;);return s}}return Bb=e,Bb}var Ub,g3;function uO(){if(g3)return Ub;g3=1;var t=$k(),e=ule(),n=e(t);return Ub=n,Ub}var Gb,x3;function Dl(){if(x3)return Gb;x3=1;function t(e){return e}return Gb=t,Gb}var Wb,b3;function CL(){if(b3)return Wb;b3=1;var t=Dl();function e(n){return typeof n=="function"?n:t}return Wb=e,Wb}var Ib,y3;function EL(){if(y3)return Ib;y3=1;var t=gk(),e=uO(),n=CL(),r=yn();function s(i,a){var o=r(i)?t:e;return o(i,n(a))}return Ib=s,Ib}var Hb,v3;function RL(){return v3||(v3=1,Hb=EL()),Hb}var Fb,S3;function fle(){if(S3)return Fb;S3=1;var t=uO();function e(n,r){var s=[];return t(n,function(i,a,o){r(i,a,o)&&s.push(i)}),s}return Fb=e,Fb}var Kb,w3;function dle(){if(w3)return Kb;w3=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Kb=e,Kb}var Jb,Q3;function hle(){if(Q3)return Jb;Q3=1;function t(e){return this.__data__.has(e)}return Jb=t,Jb}var ey,k3;function AL(){if(k3)return ey;k3=1;var t=Ok(),e=dle(),n=hle();function r(s){var i=-1,a=s==null?0:s.length;for(this.__data__=new t;++i<a;)this.add(s[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,ey=r,ey}var ty,$3;function ple(){if($3)return ty;$3=1;function t(e,n){for(var r=-1,s=e==null?0:e.length;++r<s;)if(n(e[r],r,e))return!0;return!1}return ty=t,ty}var ny,T3;function qL(){if(T3)return ny;T3=1;function t(e,n){return e.has(n)}return ny=t,ny}var ry,_3;function XL(){if(_3)return ry;_3=1;var t=AL(),e=ple(),n=qL(),r=1,s=2;function i(a,o,u,f,p,m){var g=u&r,x=a.length,v=o.length;if(x!=v&&!(g&&v>x))return!1;var y=m.get(a),w=m.get(o);if(y&&w)return y==o&&w==a;var Q=-1,k=!0,$=u&s?new t:void 0;for(m.set(a,o),m.set(o,a);++Q<x;){var _=a[Q],T=o[Q];if(f)var N=g?f(T,_,Q,o,a,m):f(_,T,Q,a,o,m);if(N!==void 0){if(N)continue;k=!1;break}if($){if(!e(o,function(C,q){if(!n($,q)&&(_===C||p(_,C,u,f,m)))return $.push(q)})){k=!1;break}}else if(!(_===T||p(_,T,u,f,m))){k=!1;break}}return m.delete(a),m.delete(o),k}return ry=i,ry}var sy,P3;function mle(){if(P3)return sy;P3=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s,i){r[++n]=[i,s]}),r}return sy=t,sy}var iy,j3;function Tk(){if(j3)return iy;j3=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(s){r[++n]=s}),r}return iy=t,iy}var ay,N3;function Ole(){if(N3)return ay;N3=1;var t=jc(),e=TL(),n=Pc(),r=XL(),s=mle(),i=Tk(),a=1,o=2,u="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",x="[object RegExp]",v="[object Set]",y="[object String]",w="[object Symbol]",Q="[object ArrayBuffer]",k="[object DataView]",$=t?t.prototype:void 0,_=$?$.valueOf:void 0;function T(N,C,q,z,Z,R,Y){switch(q){case k:if(N.byteLength!=C.byteLength||N.byteOffset!=C.byteOffset)return!1;N=N.buffer,C=C.buffer;case Q:return!(N.byteLength!=C.byteLength||!R(new e(N),new e(C)));case u:case f:case g:return n(+N,+C);case p:return N.name==C.name&&N.message==C.message;case x:case y:return N==C+"";case m:var L=s;case v:var E=z&a;if(L||(L=i),N.size!=C.size&&!E)return!1;var U=Y.get(N);if(U)return U==C;z|=o,Y.set(N,C);var A=r(L(N),L(C),z,Z,R,Y);return Y.delete(N),A;case w:if(_)return _.call(N)==_.call(C)}return!1}return ay=T,ay}var ly,C3;function gle(){if(C3)return ly;C3=1;var t=kL(),e=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,a,o,u,f,p){var m=o&e,g=t(i),x=g.length,v=t(a),y=v.length;if(x!=y&&!m)return!1;for(var w=x;w--;){var Q=g[w];if(!(m?Q in a:r.call(a,Q)))return!1}var k=p.get(i),$=p.get(a);if(k&&$)return k==a&&$==i;var _=!0;p.set(i,a),p.set(a,i);for(var T=m;++w<x;){Q=g[w];var N=i[Q],C=a[Q];if(u)var q=m?u(C,N,Q,a,i,p):u(N,C,Q,i,a,p);if(!(q===void 0?N===C||f(N,C,o,u,p):q)){_=!1;break}T||(T=Q=="constructor")}if(_&&!T){var z=i.constructor,Z=a.constructor;z!=Z&&"constructor"in i&&"constructor"in a&&!(typeof z=="function"&&z instanceof z&&typeof Z=="function"&&Z instanceof Z)&&(_=!1)}return p.delete(i),p.delete(a),_}return ly=s,ly}var oy,E3;function xle(){if(E3)return oy;E3=1;var t=rO(),e=XL(),n=Ole(),r=gle(),s=Cc(),i=yn(),a=Nc(),o=sd(),u=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,x=g.hasOwnProperty;function v(y,w,Q,k,$,_){var T=i(y),N=i(w),C=T?p:s(y),q=N?p:s(w);C=C==f?m:C,q=q==f?m:q;var z=C==m,Z=q==m,R=C==q;if(R&&a(y)){if(!a(w))return!1;T=!0,z=!1}if(R&&!z)return _||(_=new t),T||o(y)?e(y,w,Q,k,$,_):n(y,w,C,Q,k,$,_);if(!(Q&u)){var Y=z&&x.call(y,"__wrapped__"),L=Z&&x.call(w,"__wrapped__");if(Y||L){var E=Y?y.value():y,U=L?w.value():w;return _||(_=new t),$(E,U,Q,k,_)}}return R?(_||(_=new t),r(y,w,Q,k,$,_)):!1}return oy=v,oy}var cy,R3;function ML(){if(R3)return cy;R3=1;var t=xle(),e=ei();function n(r,s,i,a,o){return r===s?!0:r==null||s==null||!e(r)&&!e(s)?r!==r&&s!==s:t(r,s,i,a,n,o)}return cy=n,cy}var uy,A3;function ble(){if(A3)return uy;A3=1;var t=rO(),e=ML(),n=1,r=2;function s(i,a,o,u){var f=o.length,p=f,m=!u;if(i==null)return!p;for(i=Object(i);f--;){var g=o[f];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<p;){g=o[f];var x=g[0],v=i[x],y=g[1];if(m&&g[2]){if(v===void 0&&!(x in i))return!1}else{var w=new t;if(u)var Q=u(v,y,x,i,a,w);if(!(Q===void 0?e(y,v,n|r,u,w):Q))return!1}}return!0}return uy=s,uy}var fy,q3;function zL(){if(q3)return fy;q3=1;var t=is();function e(n){return n===n&&!t(n)}return fy=e,fy}var dy,X3;function yle(){if(X3)return dy;X3=1;var t=zL(),e=Ya();function n(r){for(var s=e(r),i=s.length;i--;){var a=s[i],o=r[a];s[i]=[a,o,t(o)]}return s}return dy=n,dy}var hy,M3;function ZL(){if(M3)return hy;M3=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return hy=t,hy}var py,z3;function vle(){if(z3)return py;z3=1;var t=ble(),e=yle(),n=ZL();function r(s){var i=e(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(a){return a===s||t(a,s,i)}}return py=r,py}var my,Z3;function Ec(){if(Z3)return my;Z3=1;var t=Ll(),e=ei(),n="[object Symbol]";function r(s){return typeof s=="symbol"||e(s)&&t(s)==n}return my=r,my}var Oy,L3;function _k(){if(L3)return Oy;L3=1;var t=yn(),e=Ec(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,a){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||a!=null&&i in Object(a)}return Oy=s,Oy}var gy,Y3;function Sle(){if(Y3)return gy;Y3=1;var t=Ok(),e="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var a=arguments,o=s?s.apply(this,a):a[0],u=i.cache;if(u.has(o))return u.get(o);var f=r.apply(this,a);return i.cache=u.set(o,f)||u,f};return i.cache=new(n.Cache||t),i}return n.Cache=t,gy=n,gy}var xy,V3;function wle(){if(V3)return xy;V3=1;var t=Sle(),e=500;function n(r){var s=t(r,function(a){return i.size===e&&i.clear(),a}),i=s.cache;return s}return xy=n,xy}var by,D3;function Qle(){if(D3)return by;D3=1;var t=wle(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(a,o,u,f){i.push(u?f.replace(n,"$1"):o||a)}),i});return by=r,by}var yy,B3;function fO(){if(B3)return yy;B3=1;function t(e,n){for(var r=-1,s=e==null?0:e.length,i=Array(s);++r<s;)i[r]=n(e[r],r,e);return i}return yy=t,yy}var vy,U3;function kle(){if(U3)return vy;U3=1;var t=jc(),e=fO(),n=yn(),r=Ec(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return i?i.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return vy=a,vy}var Sy,G3;function LL(){if(G3)return Sy;G3=1;var t=kle();function e(n){return n==null?"":t(n)}return Sy=e,Sy}var wy,W3;function dO(){if(W3)return wy;W3=1;var t=yn(),e=_k(),n=Qle(),r=LL();function s(i,a){return t(i)?i:e(i,a)?[i]:n(r(i))}return wy=s,wy}var Qy,I3;function id(){if(I3)return Qy;I3=1;var t=Ec();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Qy=e,Qy}var ky,H3;function hO(){if(H3)return ky;H3=1;var t=dO(),e=id();function n(r,s){s=t(s,r);for(var i=0,a=s.length;r!=null&&i<a;)r=r[e(s[i++])];return i&&i==a?r:void 0}return ky=n,ky}var $y,F3;function $le(){if(F3)return $y;F3=1;var t=hO();function e(n,r,s){var i=n==null?void 0:t(n,r);return i===void 0?s:i}return $y=e,$y}var Ty,K3;function Tle(){if(K3)return Ty;K3=1;function t(e,n){return e!=null&&n in Object(e)}return Ty=t,Ty}var _y,J3;function YL(){if(J3)return _y;J3=1;var t=dO(),e=rd(),n=yn(),r=aO(),s=xk(),i=id();function a(o,u,f){u=t(u,o);for(var p=-1,m=u.length,g=!1;++p<m;){var x=i(u[p]);if(!(g=o!=null&&f(o,x)))break;o=o[x]}return g||++p!=m?g:(m=o==null?0:o.length,!!m&&s(m)&&r(x,m)&&(n(o)||e(o)))}return _y=a,_y}var Py,eE;function VL(){if(eE)return Py;eE=1;var t=Tle(),e=YL();function n(r,s){return r!=null&&e(r,s,t)}return Py=n,Py}var jy,tE;function _le(){if(tE)return jy;tE=1;var t=ML(),e=$le(),n=VL(),r=_k(),s=zL(),i=ZL(),a=id(),o=1,u=2;function f(p,m){return r(p)&&s(m)?i(a(p),m):function(g){var x=e(g,p);return x===void 0&&x===m?n(g,p):t(m,x,o|u)}}return jy=f,jy}var Ny,nE;function DL(){if(nE)return Ny;nE=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Ny=t,Ny}var Cy,rE;function Ple(){if(rE)return Cy;rE=1;var t=hO();function e(n){return function(r){return t(r,n)}}return Cy=e,Cy}var Ey,sE;function jle(){if(sE)return Ey;sE=1;var t=DL(),e=Ple(),n=_k(),r=id();function s(i){return n(i)?t(r(i)):e(i)}return Ey=s,Ey}var Ry,iE;function Bi(){if(iE)return Ry;iE=1;var t=vle(),e=_le(),n=Dl(),r=yn(),s=jle();function i(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):s(a)}return Ry=i,Ry}var Ay,aE;function BL(){if(aE)return Ay;aE=1;var t=vL(),e=fle(),n=Bi(),r=yn();function s(i,a){var o=r(i)?t:e;return o(i,n(a,3))}return Ay=s,Ay}var qy,lE;function Nle(){if(lE)return qy;lE=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,s){return r!=null&&e.call(r,s)}return qy=n,qy}var Xy,oE;function UL(){if(oE)return Xy;oE=1;var t=Nle(),e=YL();function n(r,s){return r!=null&&e(r,s,t)}return Xy=n,Xy}var My,cE;function Cle(){if(cE)return My;cE=1;var t=yk(),e=Cc(),n=rd(),r=yn(),s=Di(),i=Nc(),a=oO(),o=sd(),u="[object Map]",f="[object Set]",p=Object.prototype,m=p.hasOwnProperty;function g(x){if(x==null)return!0;if(s(x)&&(r(x)||typeof x=="string"||typeof x.splice=="function"||i(x)||o(x)||n(x)))return!x.length;var v=e(x);if(v==u||v==f)return!x.size;if(a(x))return!t(x).length;for(var y in x)if(m.call(x,y))return!1;return!0}return My=g,My}var zy,uE;function GL(){if(uE)return zy;uE=1;function t(e){return e===void 0}return zy=t,zy}var Zy,fE;function WL(){if(fE)return Zy;fE=1;var t=uO(),e=Di();function n(r,s){var i=-1,a=e(r)?Array(r.length):[];return t(r,function(o,u,f){a[++i]=s(o,u,f)}),a}return Zy=n,Zy}var Ly,dE;function IL(){if(dE)return Ly;dE=1;var t=fO(),e=Bi(),n=WL(),r=yn();function s(i,a){var o=r(i)?t:n;return o(i,e(a,3))}return Ly=s,Ly}var Yy,hE;function Ele(){if(hE)return Yy;hE=1;function t(e,n,r,s){var i=-1,a=e==null?0:e.length;for(s&&a&&(r=e[++i]);++i<a;)r=n(r,e[i],i,e);return r}return Yy=t,Yy}var Vy,pE;function Rle(){if(pE)return Vy;pE=1;function t(e,n,r,s,i){return i(e,function(a,o,u){r=s?(s=!1,a):n(r,a,o,u)}),r}return Vy=t,Vy}var Dy,mE;function HL(){if(mE)return Dy;mE=1;var t=Ele(),e=uO(),n=Bi(),r=Rle(),s=yn();function i(a,o,u){var f=s(a)?t:r,p=arguments.length<3;return f(a,n(o,4),u,p,e)}return Dy=i,Dy}var By,OE;function Ale(){if(OE)return By;OE=1;var t=Ll(),e=yn(),n=ei(),r="[object String]";function s(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return By=s,By}var Uy,gE;function qle(){if(gE)return Uy;gE=1;var t=DL(),e=t("length");return Uy=e,Uy}var Gy,xE;function Xle(){if(xE)return Gy;xE=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,i="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+s+i+"]");function u(f){return o.test(f)}return Gy=u,Gy}var Wy,bE;function Mle(){if(bE)return Wy;bE=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=e+n+r,i="\\ufe0e\\ufe0f",a="["+t+"]",o="["+s+"]",u="\\ud83c[\\udffb-\\udfff]",f="(?:"+o+"|"+u+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",v=f+"?",y="["+i+"]?",w="(?:"+x+"(?:"+[p,m,g].join("|")+")"+y+v+")*",Q=y+v+w,k="(?:"+[p+o+"?",o,m,g,a].join("|")+")",$=RegExp(u+"(?="+u+")|"+k+Q,"g");function _(T){for(var N=$.lastIndex=0;$.test(T);)++N;return N}return Wy=_,Wy}var Iy,yE;function zle(){if(yE)return Iy;yE=1;var t=qle(),e=Xle(),n=Mle();function r(s){return e(s)?n(s):t(s)}return Iy=r,Iy}var Hy,vE;function Zle(){if(vE)return Hy;vE=1;var t=yk(),e=Cc(),n=Di(),r=Ale(),s=zle(),i="[object Map]",a="[object Set]";function o(u){if(u==null)return 0;if(n(u))return r(u)?s(u):u.length;var f=e(u);return f==i||f==a?u.size:t(u).length}return Hy=o,Hy}var Fy,SE;function Lle(){if(SE)return Fy;SE=1;var t=gk(),e=PL(),n=$k(),r=Bi(),s=cO(),i=yn(),a=Nc(),o=td(),u=is(),f=sd();function p(m,g,x){var v=i(m),y=v||a(m)||f(m);if(g=r(g,4),x==null){var w=m&&m.constructor;y?x=v?new w:[]:u(m)?x=o(w)?e(s(m)):{}:x={}}return(y?t:n)(m,function(Q,k,$){return g(x,Q,k,$)}),x}return Fy=p,Fy}var Ky,wE;function Yle(){if(wE)return Ky;wE=1;var t=jc(),e=rd(),n=yn(),r=t?t.isConcatSpreadable:void 0;function s(i){return n(i)||e(i)||!!(r&&i&&i[r])}return Ky=s,Ky}var Jy,QE;function Pk(){if(QE)return Jy;QE=1;var t=Sk(),e=Yle();function n(r,s,i,a,o){var u=-1,f=r.length;for(i||(i=e),o||(o=[]);++u<f;){var p=r[u];s>0&&i(p)?s>1?n(p,s-1,i,a,o):t(o,p):a||(o[o.length]=p)}return o}return Jy=n,Jy}var ev,kE;function Vle(){if(kE)return ev;kE=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return ev=t,ev}var tv,$E;function FL(){if($E)return tv;$E=1;var t=Vle(),e=Math.max;function n(r,s,i){return s=e(s===void 0?r.length-1:s,0),function(){for(var a=arguments,o=-1,u=e(a.length-s,0),f=Array(u);++o<u;)f[o]=a[s+o];o=-1;for(var p=Array(s+1);++o<s;)p[o]=a[o];return p[s]=i(f),t(r,this,p)}}return tv=n,tv}var nv,TE;function Dle(){if(TE)return nv;TE=1;var t=Qk(),e=OL(),n=Dl(),r=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return nv=r,nv}var rv,_E;function Ble(){if(_E)return rv;_E=1;var t=800,e=16,n=Date.now;function r(s){var i=0,a=0;return function(){var o=n(),u=e-(o-a);if(a=o,u>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return rv=r,rv}var sv,PE;function KL(){if(PE)return sv;PE=1;var t=Dle(),e=Ble(),n=e(t);return sv=n,sv}var iv,jE;function pO(){if(jE)return iv;jE=1;var t=Dl(),e=FL(),n=KL();function r(s,i){return n(e(s,i,t),s+"")}return iv=r,iv}var av,NE;function JL(){if(NE)return av;NE=1;function t(e,n,r,s){for(var i=e.length,a=r+(s?1:-1);s?a--:++a<i;)if(n(e[a],a,e))return a;return-1}return av=t,av}var lv,CE;function Ule(){if(CE)return lv;CE=1;function t(e){return e!==e}return lv=t,lv}var ov,EE;function Gle(){if(EE)return ov;EE=1;function t(e,n,r){for(var s=r-1,i=e.length;++s<i;)if(e[s]===n)return s;return-1}return ov=t,ov}var cv,RE;function Wle(){if(RE)return cv;RE=1;var t=JL(),e=Ule(),n=Gle();function r(s,i,a){return i===i?n(s,i,a):t(s,e,a)}return cv=r,cv}var uv,AE;function Ile(){if(AE)return uv;AE=1;var t=Wle();function e(n,r){var s=n==null?0:n.length;return!!s&&t(n,r,0)>-1}return uv=e,uv}var fv,qE;function Hle(){if(qE)return fv;qE=1;function t(e,n,r){for(var s=-1,i=e==null?0:e.length;++s<i;)if(r(n,e[s]))return!0;return!1}return fv=t,fv}var dv,XE;function Fle(){if(XE)return dv;XE=1;function t(){}return dv=t,dv}var hv,ME;function Kle(){if(ME)return hv;ME=1;var t=$L(),e=Fle(),n=Tk(),r=1/0,s=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return hv=s,hv}var pv,zE;function Jle(){if(zE)return pv;zE=1;var t=AL(),e=Ile(),n=Hle(),r=qL(),s=Kle(),i=Tk(),a=200;function o(u,f,p){var m=-1,g=e,x=u.length,v=!0,y=[],w=y;if(p)v=!1,g=n;else if(x>=a){var Q=f?null:s(u);if(Q)return i(Q);v=!1,g=r,w=new t}else w=f?[]:y;e:for(;++m<x;){var k=u[m],$=f?f(k):k;if(k=p||k!==0?k:0,v&&$===$){for(var _=w.length;_--;)if(w[_]===$)continue e;f&&w.push($),y.push(k)}else g(w,$,p)||(w!==y&&w.push($),y.push(k))}return y}return pv=o,pv}var mv,ZE;function e6(){if(ZE)return mv;ZE=1;var t=Di(),e=ei();function n(r){return e(r)&&t(r)}return mv=n,mv}var Ov,LE;function eoe(){if(LE)return Ov;LE=1;var t=Pk(),e=pO(),n=Jle(),r=e6(),s=e(function(i){return n(t(i,1,r,!0))});return Ov=s,Ov}var gv,YE;function toe(){if(YE)return gv;YE=1;var t=fO();function e(n,r){return t(r,function(s){return n[s]})}return gv=e,gv}var xv,VE;function t6(){if(VE)return xv;VE=1;var t=toe(),e=Ya();function n(r){return r==null?[]:t(r,e(r))}return xv=n,xv}var bv,DE;function as(){if(DE)return bv;DE=1;var t;if(typeof pk=="function")try{t={clone:ole(),constant:Qk(),each:RL(),filter:BL(),has:UL(),isArray:yn(),isEmpty:Cle(),isFunction:td(),isUndefined:GL(),keys:Ya(),map:IL(),reduce:HL(),size:Zle(),transform:Lle(),union:eoe(),values:t6()}}catch{}return t||(t=window._),bv=t,bv}var yv,BE;function jk(){if(BE)return yv;BE=1;var t=as();yv=s;var e="\0",n="\0",r="";function s(p){this._isDirected=t.has(p,"directed")?p.directed:!0,this._isMultigraph=t.has(p,"multigraph")?p.multigraph:!1,this._isCompound=t.has(p,"compound")?p.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(p){return this._label=p,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(p){return t.isFunction(p)||(p=t.constant(p)),this._defaultNodeLabelFn=p,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return t.keys(this._nodes)},s.prototype.sources=function(){var p=this;return t.filter(this.nodes(),function(m){return t.isEmpty(p._in[m])})},s.prototype.sinks=function(){var p=this;return t.filter(this.nodes(),function(m){return t.isEmpty(p._out[m])})},s.prototype.setNodes=function(p,m){var g=arguments,x=this;return t.each(p,function(v){g.length>1?x.setNode(v,m):x.setNode(v)}),this},s.prototype.setNode=function(p,m){return t.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=m),this):(this._nodes[p]=arguments.length>1?m:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=n,this._children[p]={},this._children[n][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},s.prototype.node=function(p){return this._nodes[p]},s.prototype.hasNode=function(p){return t.has(this._nodes,p)},s.prototype.removeNode=function(p){var m=this;if(t.has(this._nodes,p)){var g=function(x){m.removeEdge(m._edgeObjs[x])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],t.each(this.children(p),function(x){m.setParent(x)}),delete this._children[p]),t.each(t.keys(this._in[p]),g),delete this._in[p],delete this._preds[p],t.each(t.keys(this._out[p]),g),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},s.prototype.setParent=function(p,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(m))m=n;else{m+="";for(var g=m;!t.isUndefined(g);g=this.parent(g))if(g===p)throw new Error("Setting "+m+" as parent of "+p+" would create a cycle");this.setNode(m)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=m,this._children[m][p]=!0,this},s.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},s.prototype.parent=function(p){if(this._isCompound){var m=this._parent[p];if(m!==n)return m}},s.prototype.children=function(p){if(t.isUndefined(p)&&(p=n),this._isCompound){var m=this._children[p];if(m)return t.keys(m)}else{if(p===n)return this.nodes();if(this.hasNode(p))return[]}},s.prototype.predecessors=function(p){var m=this._preds[p];if(m)return t.keys(m)},s.prototype.successors=function(p){var m=this._sucs[p];if(m)return t.keys(m)},s.prototype.neighbors=function(p){var m=this.predecessors(p);if(m)return t.union(m,this.successors(p))},s.prototype.isLeaf=function(p){var m;return this.isDirected()?m=this.successors(p):m=this.neighbors(p),m.length===0},s.prototype.filterNodes=function(p){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;t.each(this._nodes,function(y,w){p(w)&&m.setNode(w,y)}),t.each(this._edgeObjs,function(y){m.hasNode(y.v)&&m.hasNode(y.w)&&m.setEdge(y,g.edge(y))});var x={};function v(y){var w=g.parent(y);return w===void 0||m.hasNode(w)?(x[y]=w,w):w in x?x[w]:v(w)}return this._isCompound&&t.each(m.nodes(),function(y){m.setParent(y,v(y))}),m},s.prototype.setDefaultEdgeLabel=function(p){return t.isFunction(p)||(p=t.constant(p)),this._defaultEdgeLabelFn=p,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return t.values(this._edgeObjs)},s.prototype.setPath=function(p,m){var g=this,x=arguments;return t.reduce(p,function(v,y){return x.length>1?g.setEdge(v,y,m):g.setEdge(v,y),y}),this},s.prototype.setEdge=function(){var p,m,g,x,v=!1,y=arguments[0];typeof y=="object"&&y!==null&&"v"in y?(p=y.v,m=y.w,g=y.name,arguments.length===2&&(x=arguments[1],v=!0)):(p=y,m=arguments[1],g=arguments[3],arguments.length>2&&(x=arguments[2],v=!0)),p=""+p,m=""+m,t.isUndefined(g)||(g=""+g);var w=o(this._isDirected,p,m,g);if(t.has(this._edgeLabels,w))return v&&(this._edgeLabels[w]=x),this;if(!t.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(m),this._edgeLabels[w]=v?x:this._defaultEdgeLabelFn(p,m,g);var Q=u(this._isDirected,p,m,g);return p=Q.v,m=Q.w,Object.freeze(Q),this._edgeObjs[w]=Q,i(this._preds[m],p),i(this._sucs[p],m),this._in[m][w]=Q,this._out[p][w]=Q,this._edgeCount++,this},s.prototype.edge=function(p,m,g){var x=arguments.length===1?f(this._isDirected,arguments[0]):o(this._isDirected,p,m,g);return this._edgeLabels[x]},s.prototype.hasEdge=function(p,m,g){var x=arguments.length===1?f(this._isDirected,arguments[0]):o(this._isDirected,p,m,g);return t.has(this._edgeLabels,x)},s.prototype.removeEdge=function(p,m,g){var x=arguments.length===1?f(this._isDirected,arguments[0]):o(this._isDirected,p,m,g),v=this._edgeObjs[x];return v&&(p=v.v,m=v.w,delete this._edgeLabels[x],delete this._edgeObjs[x],a(this._preds[m],p),a(this._sucs[p],m),delete this._in[m][x],delete this._out[p][x],this._edgeCount--),this},s.prototype.inEdges=function(p,m){var g=this._in[p];if(g){var x=t.values(g);return m?t.filter(x,function(v){return v.v===m}):x}},s.prototype.outEdges=function(p,m){var g=this._out[p];if(g){var x=t.values(g);return m?t.filter(x,function(v){return v.w===m}):x}},s.prototype.nodeEdges=function(p,m){var g=this.inEdges(p,m);if(g)return g.concat(this.outEdges(p,m))};function i(p,m){p[m]?p[m]++:p[m]=1}function a(p,m){--p[m]||delete p[m]}function o(p,m,g,x){var v=""+m,y=""+g;if(!p&&v>y){var w=v;v=y,y=w}return v+r+y+r+(t.isUndefined(x)?e:x)}function u(p,m,g,x){var v=""+m,y=""+g;if(!p&&v>y){var w=v;v=y,y=w}var Q={v,w:y};return x&&(Q.name=x),Q}function f(p,m){return o(p,m.v,m.w,m.name)}return yv}var vv,UE;function noe(){return UE||(UE=1,vv="2.1.8"),vv}var Sv,GE;function roe(){return GE||(GE=1,Sv={Graph:jk(),version:noe()}),Sv}var wv,WE;function soe(){if(WE)return wv;WE=1;var t=as(),e=jk();wv={write:n,read:i};function n(a){var o={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:s(a)};return t.isUndefined(a.graph())||(o.value=t.clone(a.graph())),o}function r(a){return t.map(a.nodes(),function(o){var u=a.node(o),f=a.parent(o),p={v:o};return t.isUndefined(u)||(p.value=u),t.isUndefined(f)||(p.parent=f),p})}function s(a){return t.map(a.edges(),function(o){var u=a.edge(o),f={v:o.v,w:o.w};return t.isUndefined(o.name)||(f.name=o.name),t.isUndefined(u)||(f.value=u),f})}function i(a){var o=new e(a.options).setGraph(a.value);return t.each(a.nodes,function(u){o.setNode(u.v,u.value),u.parent&&o.setParent(u.v,u.parent)}),t.each(a.edges,function(u){o.setEdge({v:u.v,w:u.w,name:u.name},u.value)}),o}return wv}var Qv,IE;function ioe(){if(IE)return Qv;IE=1;var t=as();Qv=e;function e(n){var r={},s=[],i;function a(o){t.has(r,o)||(r[o]=!0,i.push(o),t.each(n.successors(o),a),t.each(n.predecessors(o),a))}return t.each(n.nodes(),function(o){i=[],a(o),i.length&&s.push(i)}),s}return Qv}var kv,HE;function n6(){if(HE)return kv;HE=1;var t=as();kv=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(n){return n.key})},e.prototype.has=function(n){return t.has(this._keyIndices,n)},e.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(n,r){var s=this._keyIndices;if(n=String(n),!t.has(s,n)){var i=this._arr,a=i.length;return s[n]=a,i.push({key:n,priority:r}),this._decrease(a),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},e.prototype.decrease=function(n,r){var s=this._keyIndices[n];if(r>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[s].priority+" New: "+r);this._arr[s].priority=r,this._decrease(s)},e.prototype._heapify=function(n){var r=this._arr,s=2*n,i=s+1,a=n;s<r.length&&(a=r[s].priority<r[a].priority?s:a,i<r.length&&(a=r[i].priority<r[a].priority?i:a),a!==n&&(this._swap(n,a),this._heapify(a)))},e.prototype._decrease=function(n){for(var r=this._arr,s=r[n].priority,i;n!==0&&(i=n>>1,!(r[i].priority<s));)this._swap(n,i),n=i},e.prototype._swap=function(n,r){var s=this._arr,i=this._keyIndices,a=s[n],o=s[r];s[n]=o,s[r]=a,i[o.key]=n,i[a.key]=r},kv}var $v,FE;function r6(){if(FE)return $v;FE=1;var t=as(),e=n6();$v=r;var n=t.constant(1);function r(i,a,o,u){return s(i,String(a),o||n,u||function(f){return i.outEdges(f)})}function s(i,a,o,u){var f={},p=new e,m,g,x=function(v){var y=v.v!==m?v.v:v.w,w=f[y],Q=o(v),k=g.distance+Q;if(Q<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+v+" Weight: "+Q);k<w.distance&&(w.distance=k,w.predecessor=m,p.decrease(y,k))};for(i.nodes().forEach(function(v){var y=v===a?0:Number.POSITIVE_INFINITY;f[v]={distance:y},p.add(v,y)});p.size()>0&&(m=p.removeMin(),g=f[m],g.distance!==Number.POSITIVE_INFINITY);)u(m).forEach(x);return f}return $v}var Tv,KE;function aoe(){if(KE)return Tv;KE=1;var t=r6(),e=as();Tv=n;function n(r,s,i){return e.transform(r.nodes(),function(a,o){a[o]=t(r,o,s,i)},{})}return Tv}var _v,JE;function s6(){if(JE)return _v;JE=1;var t=as();_v=e;function e(n){var r=0,s=[],i={},a=[];function o(u){var f=i[u]={onStack:!0,lowlink:r,index:r++};if(s.push(u),n.successors(u).forEach(function(g){t.has(i,g)?i[g].onStack&&(f.lowlink=Math.min(f.lowlink,i[g].index)):(o(g),f.lowlink=Math.min(f.lowlink,i[g].lowlink))}),f.lowlink===f.index){var p=[],m;do m=s.pop(),i[m].onStack=!1,p.push(m);while(u!==m);a.push(p)}}return n.nodes().forEach(function(u){t.has(i,u)||o(u)}),a}return _v}var Pv,eR;function loe(){if(eR)return Pv;eR=1;var t=as(),e=s6();Pv=n;function n(r){return t.filter(e(r),function(s){return s.length>1||s.length===1&&r.hasEdge(s[0],s[0])})}return Pv}var jv,tR;function ooe(){if(tR)return jv;tR=1;var t=as();jv=n;var e=t.constant(1);function n(s,i,a){return r(s,i||e,a||function(o){return s.outEdges(o)})}function r(s,i,a){var o={},u=s.nodes();return u.forEach(function(f){o[f]={},o[f][f]={distance:0},u.forEach(function(p){f!==p&&(o[f][p]={distance:Number.POSITIVE_INFINITY})}),a(f).forEach(function(p){var m=p.v===f?p.w:p.v,g=i(p);o[f][m]={distance:g,predecessor:f}})}),u.forEach(function(f){var p=o[f];u.forEach(function(m){var g=o[m];u.forEach(function(x){var v=g[f],y=p[x],w=g[x],Q=v.distance+y.distance;Q<w.distance&&(w.distance=Q,w.predecessor=y.predecessor)})})}),o}return jv}var Nv,nR;function i6(){if(nR)return Nv;nR=1;var t=as();Nv=e,e.CycleException=n;function e(r){var s={},i={},a=[];function o(u){if(t.has(i,u))throw new n;t.has(s,u)||(i[u]=!0,s[u]=!0,t.each(r.predecessors(u),o),delete i[u],a.push(u))}if(t.each(r.sinks(),o),t.size(s)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,Nv}var Cv,rR;function coe(){if(rR)return Cv;rR=1;var t=i6();Cv=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return Cv}var Ev,sR;function a6(){if(sR)return Ev;sR=1;var t=as();Ev=e;function e(r,s,i){t.isArray(s)||(s=[s]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),o=[],u={};return t.each(s,function(f){if(!r.hasNode(f))throw new Error("Graph does not have node: "+f);n(r,f,i==="post",u,a,o)}),o}function n(r,s,i,a,o,u){t.has(a,s)||(a[s]=!0,i||u.push(s),t.each(o(s),function(f){n(r,f,i,a,o,u)}),i&&u.push(s))}return Ev}var Rv,iR;function uoe(){if(iR)return Rv;iR=1;var t=a6();Rv=e;function e(n,r){return t(n,r,"post")}return Rv}var Av,aR;function foe(){if(aR)return Av;aR=1;var t=a6();Av=e;function e(n,r){return t(n,r,"pre")}return Av}var qv,lR;function doe(){if(lR)return qv;lR=1;var t=as(),e=jk(),n=n6();qv=r;function r(s,i){var a=new e,o={},u=new n,f;function p(g){var x=g.v===f?g.w:g.v,v=u.priority(x);if(v!==void 0){var y=i(g);y<v&&(o[x]=f,u.decrease(x,y))}}if(s.nodeCount()===0)return a;t.each(s.nodes(),function(g){u.add(g,Number.POSITIVE_INFINITY),a.setNode(g)}),u.decrease(s.nodes()[0],0);for(var m=!1;u.size()>0;){if(f=u.removeMin(),t.has(o,f))a.setEdge(f,o[f]);else{if(m)throw new Error("Input graph is not connected: "+s);m=!0}s.nodeEdges(f).forEach(p)}return a}return qv}var Xv,oR;function hoe(){return oR||(oR=1,Xv={components:ioe(),dijkstra:r6(),dijkstraAll:aoe(),findCycles:loe(),floydWarshall:ooe(),isAcyclic:coe(),postorder:uoe(),preorder:foe(),prim:doe(),tarjan:s6(),topsort:i6()}),Xv}var Mv,cR;function poe(){if(cR)return Mv;cR=1;var t=roe();return Mv={Graph:t.Graph,json:soe(),alg:hoe(),version:t.version},Mv}var zv,uR;function $s(){if(uR)return zv;uR=1;var t;if(typeof pk=="function")try{t=poe()}catch{}return t||(t=window.graphlib),zv=t,zv}var Zv,fR;function moe(){if(fR)return Zv;fR=1;var t=NL(),e=1,n=4;function r(s){return t(s,e|n)}return Zv=r,Zv}var Lv,dR;function mO(){if(dR)return Lv;dR=1;var t=Pc(),e=Di(),n=aO(),r=is();function s(i,a,o){if(!r(o))return!1;var u=typeof a;return(u=="number"?e(o)&&n(a,o.length):u=="string"&&a in o)?t(o[a],i):!1}return Lv=s,Lv}var Yv,hR;function Ooe(){if(hR)return Yv;hR=1;var t=pO(),e=Pc(),n=mO(),r=Vl(),s=Object.prototype,i=s.hasOwnProperty,a=t(function(o,u){o=Object(o);var f=-1,p=u.length,m=p>2?u[2]:void 0;for(m&&n(u[0],u[1],m)&&(p=1);++f<p;)for(var g=u[f],x=r(g),v=-1,y=x.length;++v<y;){var w=x[v],Q=o[w];(Q===void 0||e(Q,s[w])&&!i.call(o,w))&&(o[w]=g[w])}return o});return Yv=a,Yv}var Vv,pR;function goe(){if(pR)return Vv;pR=1;var t=Bi(),e=Di(),n=Ya();function r(s){return function(i,a,o){var u=Object(i);if(!e(i)){var f=t(a,3);i=n(i),a=function(m){return f(u[m],m,u)}}var p=s(i,a,o);return p>-1?u[f?i[p]:p]:void 0}}return Vv=r,Vv}var Dv,mR;function xoe(){if(mR)return Dv;mR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Dv=e,Dv}var Bv,OR;function boe(){if(OR)return Bv;OR=1;var t=xoe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Bv=n,Bv}var Uv,gR;function yoe(){if(gR)return Uv;gR=1;var t=boe(),e=is(),n=Ec(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=i.test(f);return m||a.test(f)?o(f.slice(2),m?2:8):s.test(f)?r:+f}return Uv=u,Uv}var Gv,xR;function l6(){if(xR)return Gv;xR=1;var t=yoe(),e=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*n}return s===s?s:0}return Gv=r,Gv}var Wv,bR;function voe(){if(bR)return Wv;bR=1;var t=l6();function e(n){var r=t(n),s=r%1;return r===r?s?r-s:r:0}return Wv=e,Wv}var Iv,yR;function Soe(){if(yR)return Iv;yR=1;var t=JL(),e=Bi(),n=voe(),r=Math.max;function s(i,a,o){var u=i==null?0:i.length;if(!u)return-1;var f=o==null?0:n(o);return f<0&&(f=r(u+f,0)),t(i,e(a,3),f)}return Iv=s,Iv}var Hv,vR;function woe(){if(vR)return Hv;vR=1;var t=goe(),e=Soe(),n=t(e);return Hv=n,Hv}var Fv,SR;function o6(){if(SR)return Fv;SR=1;var t=Pk();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return Fv=e,Fv}var Kv,wR;function Qoe(){if(wR)return Kv;wR=1;var t=kk(),e=CL(),n=Vl();function r(s,i){return s==null?s:t(s,e(i),n)}return Kv=r,Kv}var Jv,QR;function koe(){if(QR)return Jv;QR=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Jv=t,Jv}var eS,kR;function $oe(){if(kR)return eS;kR=1;var t=sO(),e=$k(),n=Bi();function r(s,i){var a={};return i=n(i,3),e(s,function(o,u,f){t(a,u,i(o,u,f))}),a}return eS=r,eS}var tS,$R;function Nk(){if($R)return tS;$R=1;var t=Ec();function e(n,r,s){for(var i=-1,a=n.length;++i<a;){var o=n[i],u=r(o);if(u!=null&&(f===void 0?u===u&&!t(u):s(u,f)))var f=u,p=o}return p}return tS=e,tS}var nS,TR;function Toe(){if(TR)return nS;TR=1;function t(e,n){return e>n}return nS=t,nS}var rS,_R;function _oe(){if(_R)return rS;_R=1;var t=Nk(),e=Toe(),n=Dl();function r(s){return s&&s.length?t(s,n,e):void 0}return rS=r,rS}var sS,PR;function c6(){if(PR)return sS;PR=1;var t=sO(),e=Pc();function n(r,s,i){(i!==void 0&&!e(r[s],i)||i===void 0&&!(s in r))&&t(r,s,i)}return sS=n,sS}var iS,jR;function Poe(){if(jR)return iS;jR=1;var t=Ll(),e=cO(),n=ei(),r="[object Object]",s=Function.prototype,i=Object.prototype,a=s.toString,o=i.hasOwnProperty,u=a.call(Object);function f(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var g=o.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==u}return iS=f,iS}var aS,NR;function u6(){if(NR)return aS;NR=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return aS=t,aS}var lS,CR;function joe(){if(CR)return lS;CR=1;var t=nd(),e=Vl();function n(r){return t(r,e(r))}return lS=n,lS}var oS,ER;function Noe(){if(ER)return oS;ER=1;var t=c6(),e=bL(),n=_L(),r=yL(),s=jL(),i=rd(),a=yn(),o=e6(),u=Nc(),f=td(),p=is(),m=Poe(),g=sd(),x=u6(),v=joe();function y(w,Q,k,$,_,T,N){var C=x(w,k),q=x(Q,k),z=N.get(q);if(z){t(w,k,z);return}var Z=T?T(C,q,k+"",w,Q,N):void 0,R=Z===void 0;if(R){var Y=a(q),L=!Y&&u(q),E=!Y&&!L&&g(q);Z=q,Y||L||E?a(C)?Z=C:o(C)?Z=r(C):L?(R=!1,Z=e(q,!0)):E?(R=!1,Z=n(q,!0)):Z=[]:m(q)||i(q)?(Z=C,i(C)?Z=v(C):(!p(C)||f(C))&&(Z=s(q))):R=!1}R&&(N.set(q,Z),_(Z,q,$,T,N),N.delete(q)),t(w,k,Z)}return oS=y,oS}var cS,RR;function Coe(){if(RR)return cS;RR=1;var t=rO(),e=c6(),n=kk(),r=Noe(),s=is(),i=Vl(),a=u6();function o(u,f,p,m,g){u!==f&&n(f,function(x,v){if(g||(g=new t),s(x))r(u,f,v,p,o,m,g);else{var y=m?m(a(u,v),x,v+"",u,f,g):void 0;y===void 0&&(y=x),e(u,v,y)}},i)}return cS=o,cS}var uS,AR;function Eoe(){if(AR)return uS;AR=1;var t=pO(),e=mO();function n(r){return t(function(s,i){var a=-1,o=i.length,u=o>1?i[o-1]:void 0,f=o>2?i[2]:void 0;for(u=r.length>3&&typeof u=="function"?(o--,u):void 0,f&&e(i[0],i[1],f)&&(u=o<3?void 0:u,o=1),s=Object(s);++a<o;){var p=i[a];p&&r(s,p,a,u)}return s})}return uS=n,uS}var fS,qR;function Roe(){if(qR)return fS;qR=1;var t=Coe(),e=Eoe(),n=e(function(r,s,i){t(r,s,i)});return fS=n,fS}var dS,XR;function f6(){if(XR)return dS;XR=1;function t(e,n){return e<n}return dS=t,dS}var hS,MR;function Aoe(){if(MR)return hS;MR=1;var t=Nk(),e=f6(),n=Dl();function r(s){return s&&s.length?t(s,n,e):void 0}return hS=r,hS}var pS,zR;function qoe(){if(zR)return pS;zR=1;var t=Nk(),e=Bi(),n=f6();function r(s,i){return s&&s.length?t(s,e(i,2),n):void 0}return pS=r,pS}var mS,ZR;function Xoe(){if(ZR)return mS;ZR=1;var t=Ns(),e=function(){return t.Date.now()};return mS=e,mS}var OS,LR;function Moe(){if(LR)return OS;LR=1;var t=iO(),e=dO(),n=aO(),r=is(),s=id();function i(a,o,u,f){if(!r(a))return a;o=e(o,a);for(var p=-1,m=o.length,g=m-1,x=a;x!=null&&++p<m;){var v=s(o[p]),y=u;if(v==="__proto__"||v==="constructor"||v==="prototype")return a;if(p!=g){var w=x[v];y=f?f(w,v,x):void 0,y===void 0&&(y=r(w)?w:n(o[p+1])?[]:{})}t(x,v,y),x=x[v]}return a}return OS=i,OS}var gS,YR;function zoe(){if(YR)return gS;YR=1;var t=hO(),e=Moe(),n=dO();function r(s,i,a){for(var o=-1,u=i.length,f={};++o<u;){var p=i[o],m=t(s,p);a(m,p)&&e(f,n(p,s),m)}return f}return gS=r,gS}var xS,VR;function Zoe(){if(VR)return xS;VR=1;var t=zoe(),e=VL();function n(r,s){return t(r,s,function(i,a){return e(r,a)})}return xS=n,xS}var bS,DR;function Loe(){if(DR)return bS;DR=1;var t=o6(),e=FL(),n=KL();function r(s){return n(e(s,void 0,t),s+"")}return bS=r,bS}var yS,BR;function Yoe(){if(BR)return yS;BR=1;var t=Zoe(),e=Loe(),n=e(function(r,s){return r==null?{}:t(r,s)});return yS=n,yS}var vS,UR;function Voe(){if(UR)return vS;UR=1;var t=Math.ceil,e=Math.max;function n(r,s,i,a){for(var o=-1,u=e(t((s-r)/(i||1)),0),f=Array(u);u--;)f[a?u:++o]=r,r+=i;return f}return vS=n,vS}var SS,GR;function Doe(){if(GR)return SS;GR=1;var t=Voe(),e=mO(),n=l6();function r(s){return function(i,a,o){return o&&typeof o!="number"&&e(i,a,o)&&(a=o=void 0),i=n(i),a===void 0?(a=i,i=0):a=n(a),o=o===void 0?i<a?1:-1:n(o),t(i,a,o,s)}}return SS=r,SS}var wS,WR;function Boe(){if(WR)return wS;WR=1;var t=Doe(),e=t();return wS=e,wS}var QS,IR;function Uoe(){if(IR)return QS;IR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return QS=t,QS}var kS,HR;function Goe(){if(HR)return kS;HR=1;var t=Ec();function e(n,r){if(n!==r){var s=n!==void 0,i=n===null,a=n===n,o=t(n),u=r!==void 0,f=r===null,p=r===r,m=t(r);if(!f&&!m&&!o&&n>r||o&&u&&p&&!f&&!m||i&&u&&p||!s&&p||!a)return 1;if(!i&&!o&&!m&&n<r||m&&s&&a&&!i&&!o||f&&s&&a||!u&&a||!p)return-1}return 0}return kS=e,kS}var $S,FR;function Woe(){if(FR)return $S;FR=1;var t=Goe();function e(n,r,s){for(var i=-1,a=n.criteria,o=r.criteria,u=a.length,f=s.length;++i<u;){var p=t(a[i],o[i]);if(p){if(i>=f)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return n.index-r.index}return $S=e,$S}var TS,KR;function Ioe(){if(KR)return TS;KR=1;var t=fO(),e=hO(),n=Bi(),r=WL(),s=Uoe(),i=lO(),a=Woe(),o=Dl(),u=yn();function f(p,m,g){m.length?m=t(m,function(y){return u(y)?function(w){return e(w,y.length===1?y[0]:y)}:y}):m=[o];var x=-1;m=t(m,i(n));var v=r(p,function(y,w,Q){var k=t(m,function($){return $(y)});return{criteria:k,index:++x,value:y}});return s(v,function(y,w){return a(y,w,g)})}return TS=f,TS}var _S,JR;function Hoe(){if(JR)return _S;JR=1;var t=Pk(),e=Ioe(),n=pO(),r=mO(),s=n(function(i,a){if(i==null)return[];var o=a.length;return o>1&&r(i,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(i,t(a,1),[])});return _S=s,_S}var PS,eA;function Foe(){if(eA)return PS;eA=1;var t=LL(),e=0;function n(r){var s=++e;return t(r)+s}return PS=n,PS}var jS,tA;function Koe(){if(tA)return jS;tA=1;function t(e,n,r){for(var s=-1,i=e.length,a=n.length,o={};++s<i;){var u=s<a?n[s]:void 0;r(o,e[s],u)}return o}return jS=t,jS}var NS,nA;function Joe(){if(nA)return NS;nA=1;var t=iO(),e=Koe();function n(r,s){return e(r||[],s||[],t)}return NS=n,NS}var CS,rA;function Ut(){if(rA)return CS;rA=1;var t;if(typeof pk=="function")try{t={cloneDeep:moe(),constant:Qk(),defaults:Ooe(),each:RL(),filter:BL(),find:woe(),flatten:o6(),forEach:EL(),forIn:Qoe(),has:UL(),isUndefined:GL(),last:koe(),map:IL(),mapValues:$oe(),max:_oe(),merge:Roe(),min:Aoe(),minBy:qoe(),now:Xoe(),pick:Yoe(),range:Boe(),reduce:HL(),sortBy:Hoe(),uniqueId:Foe(),values:t6(),zipObject:Joe()}}catch{}return t||(t=window._),CS=t,CS}var ES,sA;function ece(){if(sA)return ES;sA=1,ES=t;function t(){var r={};r._next=r._prev=r,this._sentinel=r}t.prototype.dequeue=function(){var r=this._sentinel,s=r._prev;if(s!==r)return e(s),s},t.prototype.enqueue=function(r){var s=this._sentinel;r._prev&&r._next&&e(r),r._next=s._next,s._next._prev=r,s._next=r,r._prev=s},t.prototype.toString=function(){for(var r=[],s=this._sentinel,i=s._prev;i!==s;)r.push(JSON.stringify(i,n)),i=i._prev;return"["+r.join(", ")+"]"};function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,s){if(r!=="_next"&&r!=="_prev")return s}return ES}var RS,iA;function tce(){if(iA)return RS;iA=1;var t=Ut(),e=$s().Graph,n=ece();RS=s;var r=t.constant(1);function s(f,p){if(f.nodeCount()<=1)return[];var m=o(f,p||r),g=i(m.graph,m.buckets,m.zeroIdx);return t.flatten(t.map(g,function(x){return f.outEdges(x.v,x.w)}),!0)}function i(f,p,m){for(var g=[],x=p[p.length-1],v=p[0],y;f.nodeCount();){for(;y=v.dequeue();)a(f,p,m,y);for(;y=x.dequeue();)a(f,p,m,y);if(f.nodeCount()){for(var w=p.length-2;w>0;--w)if(y=p[w].dequeue(),y){g=g.concat(a(f,p,m,y,!0));break}}}return g}function a(f,p,m,g,x){var v=x?[]:void 0;return t.forEach(f.inEdges(g.v),function(y){var w=f.edge(y),Q=f.node(y.v);x&&v.push({v:y.v,w:y.w}),Q.out-=w,u(p,m,Q)}),t.forEach(f.outEdges(g.v),function(y){var w=f.edge(y),Q=y.w,k=f.node(Q);k.in-=w,u(p,m,k)}),f.removeNode(g.v),v}function o(f,p){var m=new e,g=0,x=0;t.forEach(f.nodes(),function(w){m.setNode(w,{v:w,in:0,out:0})}),t.forEach(f.edges(),function(w){var Q=m.edge(w.v,w.w)||0,k=p(w),$=Q+k;m.setEdge(w.v,w.w,$),x=Math.max(x,m.node(w.v).out+=k),g=Math.max(g,m.node(w.w).in+=k)});var v=t.range(x+g+3).map(function(){return new n}),y=g+1;return t.forEach(m.nodes(),function(w){u(v,y,m.node(w))}),{graph:m,buckets:v,zeroIdx:y}}function u(f,p,m){m.out?m.in?f[m.out-m.in+p].enqueue(m):f[f.length-1].enqueue(m):f[0].enqueue(m)}return RS}var AS,aA;function nce(){if(aA)return AS;aA=1;var t=Ut(),e=tce();AS={run:n,undo:s};function n(i){var a=i.graph().acyclicer==="greedy"?e(i,o(i)):r(i);t.forEach(a,function(u){var f=i.edge(u);i.removeEdge(u),f.forwardName=u.name,f.reversed=!0,i.setEdge(u.w,u.v,f,t.uniqueId("rev"))});function o(u){return function(f){return u.edge(f).weight}}}function r(i){var a=[],o={},u={};function f(p){t.has(u,p)||(u[p]=!0,o[p]=!0,t.forEach(i.outEdges(p),function(m){t.has(o,m.w)?a.push(m):f(m.w)}),delete o[p])}return t.forEach(i.nodes(),f),a}function s(i){t.forEach(i.edges(),function(a){var o=i.edge(a);if(o.reversed){i.removeEdge(a);var u=o.forwardName;delete o.reversed,delete o.forwardName,i.setEdge(a.w,a.v,o,u)}})}return AS}var qS,lA;function hr(){if(lA)return qS;lA=1;var t=Ut(),e=$s().Graph;qS={addDummyNode:n,simplify:r,asNonCompoundGraph:s,successorWeights:i,predecessorWeights:a,intersectRect:o,buildLayerMatrix:u,normalizeRanks:f,removeEmptyRanks:p,addBorderNode:m,maxRank:g,partition:x,time:v,notime:y};function n(w,Q,k,$){var _;do _=t.uniqueId($);while(w.hasNode(_));return k.dummy=Q,w.setNode(_,k),_}function r(w){var Q=new e().setGraph(w.graph());return t.forEach(w.nodes(),function(k){Q.setNode(k,w.node(k))}),t.forEach(w.edges(),function(k){var $=Q.edge(k.v,k.w)||{weight:0,minlen:1},_=w.edge(k);Q.setEdge(k.v,k.w,{weight:$.weight+_.weight,minlen:Math.max($.minlen,_.minlen)})}),Q}function s(w){var Q=new e({multigraph:w.isMultigraph()}).setGraph(w.graph());return t.forEach(w.nodes(),function(k){w.children(k).length||Q.setNode(k,w.node(k))}),t.forEach(w.edges(),function(k){Q.setEdge(k,w.edge(k))}),Q}function i(w){var Q=t.map(w.nodes(),function(k){var $={};return t.forEach(w.outEdges(k),function(_){$[_.w]=($[_.w]||0)+w.edge(_).weight}),$});return t.zipObject(w.nodes(),Q)}function a(w){var Q=t.map(w.nodes(),function(k){var $={};return t.forEach(w.inEdges(k),function(_){$[_.v]=($[_.v]||0)+w.edge(_).weight}),$});return t.zipObject(w.nodes(),Q)}function o(w,Q){var k=w.x,$=w.y,_=Q.x-k,T=Q.y-$,N=w.width/2,C=w.height/2;if(!_&&!T)throw new Error("Not possible to find intersection inside of the rectangle");var q,z;return Math.abs(T)*N>Math.abs(_)*C?(T<0&&(C=-C),q=C*_/T,z=C):(_<0&&(N=-N),q=N,z=N*T/_),{x:k+q,y:$+z}}function u(w){var Q=t.map(t.range(g(w)+1),function(){return[]});return t.forEach(w.nodes(),function(k){var $=w.node(k),_=$.rank;t.isUndefined(_)||(Q[_][$.order]=k)}),Q}function f(w){var Q=t.min(t.map(w.nodes(),function(k){return w.node(k).rank}));t.forEach(w.nodes(),function(k){var $=w.node(k);t.has($,"rank")&&($.rank-=Q)})}function p(w){var Q=t.min(t.map(w.nodes(),function(T){return w.node(T).rank})),k=[];t.forEach(w.nodes(),function(T){var N=w.node(T).rank-Q;k[N]||(k[N]=[]),k[N].push(T)});var $=0,_=w.graph().nodeRankFactor;t.forEach(k,function(T,N){t.isUndefined(T)&&N%_!==0?--$:$&&t.forEach(T,function(C){w.node(C).rank+=$})})}function m(w,Q,k,$){var _={width:0,height:0};return arguments.length>=4&&(_.rank=k,_.order=$),n(w,"border",_,Q)}function g(w){return t.max(t.map(w.nodes(),function(Q){var k=w.node(Q).rank;if(!t.isUndefined(k))return k}))}function x(w,Q){var k={lhs:[],rhs:[]};return t.forEach(w,function($){Q($)?k.lhs.push($):k.rhs.push($)}),k}function v(w,Q){var k=t.now();try{return Q()}finally{console.log(w+" time: "+(t.now()-k)+"ms")}}function y(w,Q){return Q()}return qS}var XS,oA;function rce(){if(oA)return XS;oA=1;var t=Ut(),e=hr();XS={run:n,undo:s};function n(i){i.graph().dummyChains=[],t.forEach(i.edges(),function(a){r(i,a)})}function r(i,a){var o=a.v,u=i.node(o).rank,f=a.w,p=i.node(f).rank,m=a.name,g=i.edge(a),x=g.labelRank;if(p!==u+1){i.removeEdge(a);var v,y,w;for(w=0,++u;u<p;++w,++u)g.points=[],y={width:0,height:0,edgeLabel:g,edgeObj:a,rank:u},v=e.addDummyNode(i,"edge",y,"_d"),u===x&&(y.width=g.width,y.height=g.height,y.dummy="edge-label",y.labelpos=g.labelpos),i.setEdge(o,v,{weight:g.weight},m),w===0&&i.graph().dummyChains.push(v),o=v;i.setEdge(o,f,{weight:g.weight},m)}}function s(i){t.forEach(i.graph().dummyChains,function(a){var o=i.node(a),u=o.edgeLabel,f;for(i.setEdge(o.edgeObj,u);o.dummy;)f=i.successors(a)[0],i.removeNode(a),u.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(u.x=o.x,u.y=o.y,u.width=o.width,u.height=o.height),a=f,o=i.node(a)})}return XS}var MS,cA;function pm(){if(cA)return MS;cA=1;var t=Ut();MS={longestPath:e,slack:n};function e(r){var s={};function i(a){var o=r.node(a);if(t.has(s,a))return o.rank;s[a]=!0;var u=t.min(t.map(r.outEdges(a),function(f){return i(f.w)-r.edge(f).minlen}));return(u===Number.POSITIVE_INFINITY||u===void 0||u===null)&&(u=0),o.rank=u}t.forEach(r.sources(),i)}function n(r,s){return r.node(s.w).rank-r.node(s.v).rank-r.edge(s).minlen}return MS}var zS,uA;function d6(){if(uA)return zS;uA=1;var t=Ut(),e=$s().Graph,n=pm().slack;zS=r;function r(o){var u=new e({directed:!1}),f=o.nodes()[0],p=o.nodeCount();u.setNode(f,{});for(var m,g;s(u,o)<p;)m=i(u,o),g=u.hasNode(m.v)?n(o,m):-n(o,m),a(u,o,g);return u}function s(o,u){function f(p){t.forEach(u.nodeEdges(p),function(m){var g=m.v,x=p===g?m.w:g;!o.hasNode(x)&&!n(u,m)&&(o.setNode(x,{}),o.setEdge(p,x,{}),f(x))})}return t.forEach(o.nodes(),f),o.nodeCount()}function i(o,u){return t.minBy(u.edges(),function(f){if(o.hasNode(f.v)!==o.hasNode(f.w))return n(u,f)})}function a(o,u,f){t.forEach(o.nodes(),function(p){u.node(p).rank+=f})}return zS}var ZS,fA;function sce(){if(fA)return ZS;fA=1;var t=Ut(),e=d6(),n=pm().slack,r=pm().longestPath,s=$s().alg.preorder,i=$s().alg.postorder,a=hr().simplify;ZS=o,o.initLowLimValues=m,o.initCutValues=u,o.calcCutValue=p,o.leaveEdge=x,o.enterEdge=v,o.exchangeEdges=y;function o($){$=a($),r($);var _=e($);m(_),u(_,$);for(var T,N;T=x(_);)N=v(_,$,T),y(_,$,T,N)}function u($,_){var T=i($,$.nodes());T=T.slice(0,T.length-1),t.forEach(T,function(N){f($,_,N)})}function f($,_,T){var N=$.node(T),C=N.parent;$.edge(T,C).cutvalue=p($,_,T)}function p($,_,T){var N=$.node(T),C=N.parent,q=!0,z=_.edge(T,C),Z=0;return z||(q=!1,z=_.edge(C,T)),Z=z.weight,t.forEach(_.nodeEdges(T),function(R){var Y=R.v===T,L=Y?R.w:R.v;if(L!==C){var E=Y===q,U=_.edge(R).weight;if(Z+=E?U:-U,Q($,T,L)){var A=$.edge(T,L).cutvalue;Z+=E?-A:A}}}),Z}function m($,_){arguments.length<2&&(_=$.nodes()[0]),g($,{},1,_)}function g($,_,T,N,C){var q=T,z=$.node(N);return _[N]=!0,t.forEach($.neighbors(N),function(Z){t.has(_,Z)||(T=g($,_,T,Z,N))}),z.low=q,z.lim=T++,C?z.parent=C:delete z.parent,T}function x($){return t.find($.edges(),function(_){return $.edge(_).cutvalue<0})}function v($,_,T){var N=T.v,C=T.w;_.hasEdge(N,C)||(N=T.w,C=T.v);var q=$.node(N),z=$.node(C),Z=q,R=!1;q.lim>z.lim&&(Z=z,R=!0);var Y=t.filter(_.edges(),function(L){return R===k($,$.node(L.v),Z)&&R!==k($,$.node(L.w),Z)});return t.minBy(Y,function(L){return n(_,L)})}function y($,_,T,N){var C=T.v,q=T.w;$.removeEdge(C,q),$.setEdge(N.v,N.w,{}),m($),u($,_),w($,_)}function w($,_){var T=t.find($.nodes(),function(C){return!_.node(C).parent}),N=s($,T);N=N.slice(1),t.forEach(N,function(C){var q=$.node(C).parent,z=_.edge(C,q),Z=!1;z||(z=_.edge(q,C),Z=!0),_.node(C).rank=_.node(q).rank+(Z?z.minlen:-z.minlen)})}function Q($,_,T){return $.hasEdge(_,T)}function k($,_,T){return T.low<=_.lim&&_.lim<=T.lim}return ZS}var LS,dA;function ice(){if(dA)return LS;dA=1;var t=pm(),e=t.longestPath,n=d6(),r=sce();LS=s;function s(u){switch(u.graph().ranker){case"network-simplex":o(u);break;case"tight-tree":a(u);break;case"longest-path":i(u);break;default:o(u)}}var i=e;function a(u){e(u),n(u)}function o(u){r(u)}return LS}var YS,hA;function ace(){if(hA)return YS;hA=1;var t=Ut();YS=e;function e(s){var i=r(s);t.forEach(s.graph().dummyChains,function(a){for(var o=s.node(a),u=o.edgeObj,f=n(s,i,u.v,u.w),p=f.path,m=f.lca,g=0,x=p[g],v=!0;a!==u.w;){if(o=s.node(a),v){for(;(x=p[g])!==m&&s.node(x).maxRank<o.rank;)g++;x===m&&(v=!1)}if(!v){for(;g<p.length-1&&s.node(x=p[g+1]).minRank<=o.rank;)g++;x=p[g]}s.setParent(a,x),a=s.successors(a)[0]}})}function n(s,i,a,o){var u=[],f=[],p=Math.min(i[a].low,i[o].low),m=Math.max(i[a].lim,i[o].lim),g,x;g=a;do g=s.parent(g),u.push(g);while(g&&(i[g].low>p||m>i[g].lim));for(x=g,g=o;(g=s.parent(g))!==x;)f.push(g);return{path:u.concat(f.reverse()),lca:x}}function r(s){var i={},a=0;function o(u){var f=a;t.forEach(s.children(u),o),i[u]={low:f,lim:a++}}return t.forEach(s.children(),o),i}return YS}var VS,pA;function lce(){if(pA)return VS;pA=1;var t=Ut(),e=hr();VS={run:n,cleanup:a};function n(o){var u=e.addDummyNode(o,"root",{},"_root"),f=s(o),p=t.max(t.values(f))-1,m=2*p+1;o.graph().nestingRoot=u,t.forEach(o.edges(),function(x){o.edge(x).minlen*=m});var g=i(o)+1;t.forEach(o.children(),function(x){r(o,u,m,g,p,f,x)}),o.graph().nodeRankFactor=m}function r(o,u,f,p,m,g,x){var v=o.children(x);if(!v.length){x!==u&&o.setEdge(u,x,{weight:0,minlen:f});return}var y=e.addBorderNode(o,"_bt"),w=e.addBorderNode(o,"_bb"),Q=o.node(x);o.setParent(y,x),Q.borderTop=y,o.setParent(w,x),Q.borderBottom=w,t.forEach(v,function(k){r(o,u,f,p,m,g,k);var $=o.node(k),_=$.borderTop?$.borderTop:k,T=$.borderBottom?$.borderBottom:k,N=$.borderTop?p:2*p,C=_!==T?1:m-g[x]+1;o.setEdge(y,_,{weight:N,minlen:C,nestingEdge:!0}),o.setEdge(T,w,{weight:N,minlen:C,nestingEdge:!0})}),o.parent(x)||o.setEdge(u,y,{weight:0,minlen:m+g[x]})}function s(o){var u={};function f(p,m){var g=o.children(p);g&&g.length&&t.forEach(g,function(x){f(x,m+1)}),u[p]=m}return t.forEach(o.children(),function(p){f(p,1)}),u}function i(o){return t.reduce(o.edges(),function(u,f){return u+o.edge(f).weight},0)}function a(o){var u=o.graph();o.removeNode(u.nestingRoot),delete u.nestingRoot,t.forEach(o.edges(),function(f){var p=o.edge(f);p.nestingEdge&&o.removeEdge(f)})}return VS}var DS,mA;function oce(){if(mA)return DS;mA=1;var t=Ut(),e=hr();DS=n;function n(s){function i(a){var o=s.children(a),u=s.node(a);if(o.length&&t.forEach(o,i),t.has(u,"minRank")){u.borderLeft=[],u.borderRight=[];for(var f=u.minRank,p=u.maxRank+1;f<p;++f)r(s,"borderLeft","_bl",a,u,f),r(s,"borderRight","_br",a,u,f)}}t.forEach(s.children(),i)}function r(s,i,a,o,u,f){var p={width:0,height:0,rank:f,borderType:i},m=u[i][f-1],g=e.addDummyNode(s,"border",p,a);u[i][f]=g,s.setParent(g,o),m&&s.setEdge(m,g,{weight:1})}return DS}var BS,OA;function cce(){if(OA)return BS;OA=1;var t=Ut();BS={adjust:e,undo:n};function e(f){var p=f.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&r(f)}function n(f){var p=f.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&i(f),(p==="lr"||p==="rl")&&(o(f),r(f))}function r(f){t.forEach(f.nodes(),function(p){s(f.node(p))}),t.forEach(f.edges(),function(p){s(f.edge(p))})}function s(f){var p=f.width;f.width=f.height,f.height=p}function i(f){t.forEach(f.nodes(),function(p){a(f.node(p))}),t.forEach(f.edges(),function(p){var m=f.edge(p);t.forEach(m.points,a),t.has(m,"y")&&a(m)})}function a(f){f.y=-f.y}function o(f){t.forEach(f.nodes(),function(p){u(f.node(p))}),t.forEach(f.edges(),function(p){var m=f.edge(p);t.forEach(m.points,u),t.has(m,"x")&&u(m)})}function u(f){var p=f.x;f.x=f.y,f.y=p}return BS}var US,gA;function uce(){if(gA)return US;gA=1;var t=Ut();US=e;function e(n){var r={},s=t.filter(n.nodes(),function(f){return!n.children(f).length}),i=t.max(t.map(s,function(f){return n.node(f).rank})),a=t.map(t.range(i+1),function(){return[]});function o(f){if(!t.has(r,f)){r[f]=!0;var p=n.node(f);a[p.rank].push(f),t.forEach(n.successors(f),o)}}var u=t.sortBy(s,function(f){return n.node(f).rank});return t.forEach(u,o),a}return US}var GS,xA;function fce(){if(xA)return GS;xA=1;var t=Ut();GS=e;function e(r,s){for(var i=0,a=1;a<s.length;++a)i+=n(r,s[a-1],s[a]);return i}function n(r,s,i){for(var a=t.zipObject(i,t.map(i,function(g,x){return x})),o=t.flatten(t.map(s,function(g){return t.sortBy(t.map(r.outEdges(g),function(x){return{pos:a[x.w],weight:r.edge(x).weight}}),"pos")}),!0),u=1;u<i.length;)u<<=1;var f=2*u-1;u-=1;var p=t.map(new Array(f),function(){return 0}),m=0;return t.forEach(o.forEach(function(g){var x=g.pos+u;p[x]+=g.weight;for(var v=0;x>0;)x%2&&(v+=p[x+1]),x=x-1>>1,p[x]+=g.weight;m+=g.weight*v})),m}return GS}var WS,bA;function dce(){if(bA)return WS;bA=1;var t=Ut();WS=e;function e(n,r){return t.map(r,function(s){var i=n.inEdges(s);if(i.length){var a=t.reduce(i,function(o,u){var f=n.edge(u),p=n.node(u.v);return{sum:o.sum+f.weight*p.order,weight:o.weight+f.weight}},{sum:0,weight:0});return{v:s,barycenter:a.sum/a.weight,weight:a.weight}}else return{v:s}})}return WS}var IS,yA;function hce(){if(yA)return IS;yA=1;var t=Ut();IS=e;function e(s,i){var a={};t.forEach(s,function(u,f){var p=a[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:f};t.isUndefined(u.barycenter)||(p.barycenter=u.barycenter,p.weight=u.weight)}),t.forEach(i.edges(),function(u){var f=a[u.v],p=a[u.w];!t.isUndefined(f)&&!t.isUndefined(p)&&(p.indegree++,f.out.push(a[u.w]))});var o=t.filter(a,function(u){return!u.indegree});return n(o)}function n(s){var i=[];function a(f){return function(p){p.merged||(t.isUndefined(p.barycenter)||t.isUndefined(f.barycenter)||p.barycenter>=f.barycenter)&&r(f,p)}}function o(f){return function(p){p.in.push(f),--p.indegree===0&&s.push(p)}}for(;s.length;){var u=s.pop();i.push(u),t.forEach(u.in.reverse(),a(u)),t.forEach(u.out,o(u))}return t.map(t.filter(i,function(f){return!f.merged}),function(f){return t.pick(f,["vs","i","barycenter","weight"])})}function r(s,i){var a=0,o=0;s.weight&&(a+=s.barycenter*s.weight,o+=s.weight),i.weight&&(a+=i.barycenter*i.weight,o+=i.weight),s.vs=i.vs.concat(s.vs),s.barycenter=a/o,s.weight=o,s.i=Math.min(i.i,s.i),i.merged=!0}return IS}var HS,vA;function pce(){if(vA)return HS;vA=1;var t=Ut(),e=hr();HS=n;function n(i,a){var o=e.partition(i,function(y){return t.has(y,"barycenter")}),u=o.lhs,f=t.sortBy(o.rhs,function(y){return-y.i}),p=[],m=0,g=0,x=0;u.sort(s(!!a)),x=r(p,f,x),t.forEach(u,function(y){x+=y.vs.length,p.push(y.vs),m+=y.barycenter*y.weight,g+=y.weight,x=r(p,f,x)});var v={vs:t.flatten(p,!0)};return g&&(v.barycenter=m/g,v.weight=g),v}function r(i,a,o){for(var u;a.length&&(u=t.last(a)).i<=o;)a.pop(),i.push(u.vs),o++;return o}function s(i){return function(a,o){return a.barycenter<o.barycenter?-1:a.barycenter>o.barycenter?1:i?o.i-a.i:a.i-o.i}}return HS}var FS,SA;function mce(){if(SA)return FS;SA=1;var t=Ut(),e=dce(),n=hce(),r=pce();FS=s;function s(o,u,f,p){var m=o.children(u),g=o.node(u),x=g?g.borderLeft:void 0,v=g?g.borderRight:void 0,y={};x&&(m=t.filter(m,function(T){return T!==x&&T!==v}));var w=e(o,m);t.forEach(w,function(T){if(o.children(T.v).length){var N=s(o,T.v,f,p);y[T.v]=N,t.has(N,"barycenter")&&a(T,N)}});var Q=n(w,f);i(Q,y);var k=r(Q,p);if(x&&(k.vs=t.flatten([x,k.vs,v],!0),o.predecessors(x).length)){var $=o.node(o.predecessors(x)[0]),_=o.node(o.predecessors(v)[0]);t.has(k,"barycenter")||(k.barycenter=0,k.weight=0),k.barycenter=(k.barycenter*k.weight+$.order+_.order)/(k.weight+2),k.weight+=2}return k}function i(o,u){t.forEach(o,function(f){f.vs=t.flatten(f.vs.map(function(p){return u[p]?u[p].vs:p}),!0)})}function a(o,u){t.isUndefined(o.barycenter)?(o.barycenter=u.barycenter,o.weight=u.weight):(o.barycenter=(o.barycenter*o.weight+u.barycenter*u.weight)/(o.weight+u.weight),o.weight+=u.weight)}return FS}var KS,wA;function Oce(){if(wA)return KS;wA=1;var t=Ut(),e=$s().Graph;KS=n;function n(s,i,a){var o=r(s),u=new e({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(f){return s.node(f)});return t.forEach(s.nodes(),function(f){var p=s.node(f),m=s.parent(f);(p.rank===i||p.minRank<=i&&i<=p.maxRank)&&(u.setNode(f),u.setParent(f,m||o),t.forEach(s[a](f),function(g){var x=g.v===f?g.w:g.v,v=u.edge(x,f),y=t.isUndefined(v)?0:v.weight;u.setEdge(x,f,{weight:s.edge(g).weight+y})}),t.has(p,"minRank")&&u.setNode(f,{borderLeft:p.borderLeft[i],borderRight:p.borderRight[i]}))}),u}function r(s){for(var i;s.hasNode(i=t.uniqueId("_root")););return i}return KS}var JS,QA;function gce(){if(QA)return JS;QA=1;var t=Ut();JS=e;function e(n,r,s){var i={},a;t.forEach(s,function(o){for(var u=n.parent(o),f,p;u;){if(f=n.parent(u),f?(p=i[f],i[f]=u):(p=a,a=u),p&&p!==u){r.setEdge(p,u);return}u=f}})}return JS}var ew,kA;function xce(){if(kA)return ew;kA=1;var t=Ut(),e=uce(),n=fce(),r=mce(),s=Oce(),i=gce(),a=$s().Graph,o=hr();ew=u;function u(g){var x=o.maxRank(g),v=f(g,t.range(1,x+1),"inEdges"),y=f(g,t.range(x-1,-1,-1),"outEdges"),w=e(g);m(g,w);for(var Q=Number.POSITIVE_INFINITY,k,$=0,_=0;_<4;++$,++_){p($%2?v:y,$%4>=2),w=o.buildLayerMatrix(g);var T=n(g,w);T<Q&&(_=0,k=t.cloneDeep(w),Q=T)}m(g,k)}function f(g,x,v){return t.map(x,function(y){return s(g,y,v)})}function p(g,x){var v=new a;t.forEach(g,function(y){var w=y.graph().root,Q=r(y,w,v,x);t.forEach(Q.vs,function(k,$){y.node(k).order=$}),i(y,v,Q.vs)})}function m(g,x){t.forEach(x,function(v){t.forEach(v,function(y,w){g.node(y).order=w})})}return ew}var tw,$A;function bce(){if($A)return tw;$A=1;var t=Ut(),e=$s().Graph,n=hr();tw={positionX:v,findType1Conflicts:r,findType2Conflicts:s,addConflict:a,hasConflict:o,verticalAlignment:u,horizontalCompaction:f,alignCoordinates:g,findSmallestWidthAlignment:m,balance:x};function r(Q,k){var $={};function _(T,N){var C=0,q=0,z=T.length,Z=t.last(N);return t.forEach(N,function(R,Y){var L=i(Q,R),E=L?Q.node(L).order:z;(L||R===Z)&&(t.forEach(N.slice(q,Y+1),function(U){t.forEach(Q.predecessors(U),function(A){var I=Q.node(A),F=I.order;(F<C||E<F)&&!(I.dummy&&Q.node(U).dummy)&&a($,A,U)})}),q=Y+1,C=E)}),N}return t.reduce(k,_),$}function s(Q,k){var $={};function _(N,C,q,z,Z){var R;t.forEach(t.range(C,q),function(Y){R=N[Y],Q.node(R).dummy&&t.forEach(Q.predecessors(R),function(L){var E=Q.node(L);E.dummy&&(E.order<z||E.order>Z)&&a($,L,R)})})}function T(N,C){var q=-1,z,Z=0;return t.forEach(C,function(R,Y){if(Q.node(R).dummy==="border"){var L=Q.predecessors(R);L.length&&(z=Q.node(L[0]).order,_(C,Z,Y,q,z),Z=Y,q=z)}_(C,Z,C.length,z,N.length)}),C}return t.reduce(k,T),$}function i(Q,k){if(Q.node(k).dummy)return t.find(Q.predecessors(k),function($){return Q.node($).dummy})}function a(Q,k,$){if(k>$){var _=k;k=$,$=_}var T=Q[k];T||(Q[k]=T={}),T[$]=!0}function o(Q,k,$){if(k>$){var _=k;k=$,$=_}return t.has(Q[k],$)}function u(Q,k,$,_){var T={},N={},C={};return t.forEach(k,function(q){t.forEach(q,function(z,Z){T[z]=z,N[z]=z,C[z]=Z})}),t.forEach(k,function(q){var z=-1;t.forEach(q,function(Z){var R=_(Z);if(R.length){R=t.sortBy(R,function(A){return C[A]});for(var Y=(R.length-1)/2,L=Math.floor(Y),E=Math.ceil(Y);L<=E;++L){var U=R[L];N[Z]===Z&&z<C[U]&&!o($,Z,U)&&(N[U]=Z,N[Z]=T[Z]=T[U],z=C[U])}}})}),{root:T,align:N}}function f(Q,k,$,_,T){var N={},C=p(Q,k,$,T),q=T?"borderLeft":"borderRight";function z(Y,L){for(var E=C.nodes(),U=E.pop(),A={};U;)A[U]?Y(U):(A[U]=!0,E.push(U),E=E.concat(L(U))),U=E.pop()}function Z(Y){N[Y]=C.inEdges(Y).reduce(function(L,E){return Math.max(L,N[E.v]+C.edge(E))},0)}function R(Y){var L=C.outEdges(Y).reduce(function(U,A){return Math.min(U,N[A.w]-C.edge(A))},Number.POSITIVE_INFINITY),E=Q.node(Y);L!==Number.POSITIVE_INFINITY&&E.borderType!==q&&(N[Y]=Math.max(N[Y],L))}return z(Z,C.predecessors.bind(C)),z(R,C.successors.bind(C)),t.forEach(_,function(Y){N[Y]=N[$[Y]]}),N}function p(Q,k,$,_){var T=new e,N=Q.graph(),C=y(N.nodesep,N.edgesep,_);return t.forEach(k,function(q){var z;t.forEach(q,function(Z){var R=$[Z];if(T.setNode(R),z){var Y=$[z],L=T.edge(Y,R);T.setEdge(Y,R,Math.max(C(Q,Z,z),L||0))}z=Z})}),T}function m(Q,k){return t.minBy(t.values(k),function($){var _=Number.NEGATIVE_INFINITY,T=Number.POSITIVE_INFINITY;return t.forIn($,function(N,C){var q=w(Q,C)/2;_=Math.max(N+q,_),T=Math.min(N-q,T)}),_-T})}function g(Q,k){var $=t.values(k),_=t.min($),T=t.max($);t.forEach(["u","d"],function(N){t.forEach(["l","r"],function(C){var q=N+C,z=Q[q],Z;if(z!==k){var R=t.values(z);Z=C==="l"?_-t.min(R):T-t.max(R),Z&&(Q[q]=t.mapValues(z,function(Y){return Y+Z}))}})})}function x(Q,k){return t.mapValues(Q.ul,function($,_){if(k)return Q[k.toLowerCase()][_];var T=t.sortBy(t.map(Q,_));return(T[1]+T[2])/2})}function v(Q){var k=n.buildLayerMatrix(Q),$=t.merge(r(Q,k),s(Q,k)),_={},T;t.forEach(["u","d"],function(C){T=C==="u"?k:t.values(k).reverse(),t.forEach(["l","r"],function(q){q==="r"&&(T=t.map(T,function(Y){return t.values(Y).reverse()}));var z=(C==="u"?Q.predecessors:Q.successors).bind(Q),Z=u(Q,T,$,z),R=f(Q,T,Z.root,Z.align,q==="r");q==="r"&&(R=t.mapValues(R,function(Y){return-Y})),_[C+q]=R})});var N=m(Q,_);return g(_,N),x(_,Q.graph().align)}function y(Q,k,$){return function(_,T,N){var C=_.node(T),q=_.node(N),z=0,Z;if(z+=C.width/2,t.has(C,"labelpos"))switch(C.labelpos.toLowerCase()){case"l":Z=-C.width/2;break;case"r":Z=C.width/2;break}if(Z&&(z+=$?Z:-Z),Z=0,z+=(C.dummy?k:Q)/2,z+=(q.dummy?k:Q)/2,z+=q.width/2,t.has(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":Z=q.width/2;break;case"r":Z=-q.width/2;break}return Z&&(z+=$?Z:-Z),Z=0,z}}function w(Q,k){return Q.node(k).width}return tw}var nw,TA;function yce(){if(TA)return nw;TA=1;var t=Ut(),e=hr(),n=bce().positionX;nw=r;function r(i){i=e.asNonCompoundGraph(i),s(i),t.forEach(n(i),function(a,o){i.node(o).x=a})}function s(i){var a=e.buildLayerMatrix(i),o=i.graph().ranksep,u=0;t.forEach(a,function(f){var p=t.max(t.map(f,function(m){return i.node(m).height}));t.forEach(f,function(m){i.node(m).y=u+p/2}),u+=p+o})}return nw}var rw,_A;function vce(){if(_A)return rw;_A=1;var t=Ut(),e=nce(),n=rce(),r=ice(),s=hr().normalizeRanks,i=ace(),a=hr().removeEmptyRanks,o=lce(),u=oce(),f=cce(),p=xce(),m=yce(),g=hr(),x=$s().Graph;rw=v;function v(V,W){var ee=W&&W.debugTiming?g.time:g.notime;ee("layout",function(){var re=ee("  buildLayoutGraph",function(){return z(V)});ee("  runLayout",function(){y(re,ee)}),ee("  updateInputGraph",function(){w(V,re)})})}function y(V,W){W("    makeSpaceForEdgeLabels",function(){Z(V)}),W("    removeSelfEdges",function(){G(V)}),W("    acyclic",function(){e.run(V)}),W("    nestingGraph.run",function(){o.run(V)}),W("    rank",function(){r(g.asNonCompoundGraph(V))}),W("    injectEdgeLabelProxies",function(){R(V)}),W("    removeEmptyRanks",function(){a(V)}),W("    nestingGraph.cleanup",function(){o.cleanup(V)}),W("    normalizeRanks",function(){s(V)}),W("    assignRankMinMax",function(){Y(V)}),W("    removeEdgeLabelProxies",function(){L(V)}),W("    normalize.run",function(){n.run(V)}),W("    parentDummyChains",function(){i(V)}),W("    addBorderSegments",function(){u(V)}),W("    order",function(){p(V)}),W("    insertSelfEdges",function(){J(V)}),W("    adjustCoordinateSystem",function(){f.adjust(V)}),W("    position",function(){m(V)}),W("    positionSelfEdges",function(){X(V)}),W("    removeBorderNodes",function(){F(V)}),W("    normalize.undo",function(){n.undo(V)}),W("    fixupEdgeLabelCoords",function(){A(V)}),W("    undoCoordinateSystem",function(){f.undo(V)}),W("    translateGraph",function(){E(V)}),W("    assignNodeIntersects",function(){U(V)}),W("    reversePoints",function(){I(V)}),W("    acyclic.undo",function(){e.undo(V)})}function w(V,W){t.forEach(V.nodes(),function(ee){var re=V.node(ee),ue=W.node(ee);re&&(re.x=ue.x,re.y=ue.y,W.children(ee).length&&(re.width=ue.width,re.height=ue.height))}),t.forEach(V.edges(),function(ee){var re=V.edge(ee),ue=W.edge(ee);re.points=ue.points,t.has(ue,"x")&&(re.x=ue.x,re.y=ue.y)}),V.graph().width=W.graph().width,V.graph().height=W.graph().height}var Q=["nodesep","edgesep","ranksep","marginx","marginy"],k={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},$=["acyclicer","ranker","rankdir","align"],_=["width","height"],T={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},q=["labelpos"];function z(V){var W=new x({multigraph:!0,compound:!0}),ee=te(V.graph());return W.setGraph(t.merge({},k,B(ee,Q),t.pick(ee,$))),t.forEach(V.nodes(),function(re){var ue=te(V.node(re));W.setNode(re,t.defaults(B(ue,_),T)),W.setParent(re,V.parent(re))}),t.forEach(V.edges(),function(re){var ue=te(V.edge(re));W.setEdge(re,t.merge({},C,B(ue,N),t.pick(ue,q)))}),W}function Z(V){var W=V.graph();W.ranksep/=2,t.forEach(V.edges(),function(ee){var re=V.edge(ee);re.minlen*=2,re.labelpos.toLowerCase()!=="c"&&(W.rankdir==="TB"||W.rankdir==="BT"?re.width+=re.labeloffset:re.height+=re.labeloffset)})}function R(V){t.forEach(V.edges(),function(W){var ee=V.edge(W);if(ee.width&&ee.height){var re=V.node(W.v),ue=V.node(W.w),pe={rank:(ue.rank-re.rank)/2+re.rank,e:W};g.addDummyNode(V,"edge-proxy",pe,"_ep")}})}function Y(V){var W=0;t.forEach(V.nodes(),function(ee){var re=V.node(ee);re.borderTop&&(re.minRank=V.node(re.borderTop).rank,re.maxRank=V.node(re.borderBottom).rank,W=t.max(W,re.maxRank))}),V.graph().maxRank=W}function L(V){t.forEach(V.nodes(),function(W){var ee=V.node(W);ee.dummy==="edge-proxy"&&(V.edge(ee.e).labelRank=ee.rank,V.removeNode(W))})}function E(V){var W=Number.POSITIVE_INFINITY,ee=0,re=Number.POSITIVE_INFINITY,ue=0,pe=V.graph(),Se=pe.marginx||0,Ye=pe.marginy||0;function Le(We){var Xe=We.x,Qe=We.y,ct=We.width,be=We.height;W=Math.min(W,Xe-ct/2),ee=Math.max(ee,Xe+ct/2),re=Math.min(re,Qe-be/2),ue=Math.max(ue,Qe+be/2)}t.forEach(V.nodes(),function(We){Le(V.node(We))}),t.forEach(V.edges(),function(We){var Xe=V.edge(We);t.has(Xe,"x")&&Le(Xe)}),W-=Se,re-=Ye,t.forEach(V.nodes(),function(We){var Xe=V.node(We);Xe.x-=W,Xe.y-=re}),t.forEach(V.edges(),function(We){var Xe=V.edge(We);t.forEach(Xe.points,function(Qe){Qe.x-=W,Qe.y-=re}),t.has(Xe,"x")&&(Xe.x-=W),t.has(Xe,"y")&&(Xe.y-=re)}),pe.width=ee-W+Se,pe.height=ue-re+Ye}function U(V){t.forEach(V.edges(),function(W){var ee=V.edge(W),re=V.node(W.v),ue=V.node(W.w),pe,Se;ee.points?(pe=ee.points[0],Se=ee.points[ee.points.length-1]):(ee.points=[],pe=ue,Se=re),ee.points.unshift(g.intersectRect(re,pe)),ee.points.push(g.intersectRect(ue,Se))})}function A(V){t.forEach(V.edges(),function(W){var ee=V.edge(W);if(t.has(ee,"x"))switch((ee.labelpos==="l"||ee.labelpos==="r")&&(ee.width-=ee.labeloffset),ee.labelpos){case"l":ee.x-=ee.width/2+ee.labeloffset;break;case"r":ee.x+=ee.width/2+ee.labeloffset;break}})}function I(V){t.forEach(V.edges(),function(W){var ee=V.edge(W);ee.reversed&&ee.points.reverse()})}function F(V){t.forEach(V.nodes(),function(W){if(V.children(W).length){var ee=V.node(W),re=V.node(ee.borderTop),ue=V.node(ee.borderBottom),pe=V.node(t.last(ee.borderLeft)),Se=V.node(t.last(ee.borderRight));ee.width=Math.abs(Se.x-pe.x),ee.height=Math.abs(ue.y-re.y),ee.x=pe.x+ee.width/2,ee.y=re.y+ee.height/2}}),t.forEach(V.nodes(),function(W){V.node(W).dummy==="border"&&V.removeNode(W)})}function G(V){t.forEach(V.edges(),function(W){if(W.v===W.w){var ee=V.node(W.v);ee.selfEdges||(ee.selfEdges=[]),ee.selfEdges.push({e:W,label:V.edge(W)}),V.removeEdge(W)}})}function J(V){var W=g.buildLayerMatrix(V);t.forEach(W,function(ee){var re=0;t.forEach(ee,function(ue,pe){var Se=V.node(ue);Se.order=pe+re,t.forEach(Se.selfEdges,function(Ye){g.addDummyNode(V,"selfedge",{width:Ye.label.width,height:Ye.label.height,rank:Se.rank,order:pe+ ++re,e:Ye.e,label:Ye.label},"_se")}),delete Se.selfEdges})})}function X(V){t.forEach(V.nodes(),function(W){var ee=V.node(W);if(ee.dummy==="selfedge"){var re=V.node(ee.e.v),ue=re.x+re.width/2,pe=re.y,Se=ee.x-ue,Ye=re.height/2;V.setEdge(ee.e,ee.label),V.removeNode(W),ee.label.points=[{x:ue+2*Se/3,y:pe-Ye},{x:ue+5*Se/6,y:pe-Ye},{x:ue+Se,y:pe},{x:ue+5*Se/6,y:pe+Ye},{x:ue+2*Se/3,y:pe+Ye}],ee.label.x=ee.x,ee.label.y=ee.y}})}function B(V,W){return t.mapValues(t.pick(V,W),Number)}function te(V){var W={};return t.forEach(V,function(ee,re){W[re.toLowerCase()]=ee}),W}return rw}var sw,PA;function Sce(){if(PA)return sw;PA=1;var t=Ut(),e=hr(),n=$s().Graph;sw={debugOrdering:r};function r(s){var i=e.buildLayerMatrix(s),a=new n({compound:!0,multigraph:!0}).setGraph({});return t.forEach(s.nodes(),function(o){a.setNode(o,{label:o}),a.setParent(o,"layer"+s.node(o).rank)}),t.forEach(s.edges(),function(o){a.setEdge(o.v,o.w,{},o.name)}),t.forEach(i,function(o,u){var f="layer"+u;a.setNode(f,{rank:"same"}),t.reduce(o,function(p,m){return a.setEdge(p,m,{style:"invis"}),m})}),a}return sw}var iw,jA;function wce(){return jA||(jA=1,iw="0.8.5"),iw}var aw,NA;function Qce(){return NA||(NA=1,aw={graphlib:$s(),layout:vce(),debug:Sce(),util:{time:hr().time,notime:hr().notime},version:wce()}),aw}var kce=Qce();const CA=mm(kce),Dr=({content:t,children:e})=>d.jsxs("div",{className:"relative group flex items-center",children:[e,d.jsx("div",{className:"absolute top-full mt-2 w-max max-w-xs bg-gray-900 text-white text-xs rounded-md py-1.5 px-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50 ring-1 ring-white/10 shadow-lg",children:t})]}),$ce=({data:t,selected:e,xPos:n,yPos:r})=>{var k,$;const{label:s,module:i,promptInfo:a,hasPrompt:o,colors:u,onClick:f,editMode:p,onEdit:m,isHighlighted:g}=t,x=!!(a!=null&&a.code),v=!!(a!=null&&a.test),y=!!(a!=null&&a.example),w=()=>{f&&f(i)},Q=_=>{_.stopPropagation(),m&&m(i)};return d.jsxs(d.Fragment,{children:[d.jsx(bc,{type:"target",position:Me.Top,className:"!bg-blue-400 !w-2 !h-2"}),d.jsx(Dr,{content:d.jsxs("div",{className:"max-w-xs",children:[d.jsx("div",{className:"font-medium",children:i.filename}),d.jsx("div",{className:"text-xs text-surface-400 mt-1",children:i.filepath}),d.jsxs("div",{className:"text-xs mt-2",children:[(k=i.description)==null?void 0:k.substring(0,100),"..."]}),o&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-surface-700/50",children:[d.jsxs("div",{className:"text-xs text-emerald-400 flex items-center gap-1 mb-1",children:[d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Prompt exists"]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs mt-1",children:[d.jsxs("span",{className:x?"text-green-400":"text-surface-500",children:[x?"":""," Code"]}),d.jsxs("span",{className:v?"text-yellow-400":"text-surface-500",children:[v?"":""," Test"]}),d.jsxs("span",{className:y?"text-blue-400":"text-surface-500",children:[y?"":""," Example"]})]})]})]}),children:d.jsxs("div",{onClick:w,className:`
            relative px-4 py-3 rounded-xl border cursor-pointer
            transition-all duration-200 hover:scale-105 group
            ${u.bg} ${u.border} ${u.hover}
            ${o?"ring-2 ring-emerald-500/50":""}
            ${e?"ring-2 ring-accent-500":""}
            ${g?"ring-2 ring-red-500 animate-pulse":""}
          `,style:{width:200,minHeight:85},children:[p&&d.jsx("button",{onClick:Q,className:"absolute -top-2 -left-2 w-6 h-6 bg-accent-600 hover:bg-accent-500 rounded-full flex items-center justify-center shadow-lg z-20 opacity-0 group-hover:opacity-100 transition-opacity",title:"Edit module",children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),o&&d.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center shadow-lg z-10",children:d.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),o&&d.jsxs("div",{className:"absolute -bottom-1.5 right-1 flex gap-0.5 z-10",children:[d.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex items-center justify-center text-[8px] font-bold ${x?"bg-green-500 text-white":"bg-surface-700 text-surface-500"}`,title:x?"Code exists":"No code file",children:"C"}),d.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex items-center justify-center text-[8px] font-bold ${v?"bg-yellow-500 text-white":"bg-surface-700 text-surface-500"}`,title:v?"Test exists":"No test file",children:"T"}),d.jsx("div",{className:`w-3.5 h-3.5 rounded-full flex items-center justify-center text-[8px] font-bold ${y?"bg-blue-500 text-white":"bg-surface-700 text-surface-500"}`,title:y?"Example exists":"No example file",children:"E"})]}),d.jsx("p",{className:"font-medium text-sm text-white truncate w-full",children:s}),!1,d.jsx("p",{className:`text-xs ${u.text} truncate w-full`,children:(($=i.interface)==null?void 0:$.type)||"module"}),d.jsxs("p",{className:"text-xs text-surface-500 truncate w-full",children:["Priority: ",i.priority]})]})}),d.jsx(bc,{type:"source",position:Me.Bottom,className:"!bg-blue-400 !w-2 !h-2"})]})},Tce=j.memo($ce),EA=200,RA=85,_ce=t=>{const e=t.tags||[],n=["frontend","react","nextjs","ui","page","component","css","html"],r=["backend","api","database","sqlalchemy","fastapi","python","server"];return e.some(s=>n.includes(s.toLowerCase()))?"frontend":e.some(s=>r.includes(s.toLowerCase()))?"backend":"shared"},Pce=t=>{switch(t){case"frontend":return{bg:"bg-orange-500/20",border:"border-orange-500/50",hover:"hover:border-orange-400",text:"text-orange-300"};case"backend":return{bg:"bg-blue-500/20",border:"border-blue-500/50",hover:"hover:border-blue-400",text:"text-blue-300"};default:return{bg:"bg-green-500/20",border:"border-green-500/50",hover:"hover:border-green-400",text:"text-green-300"}}},AA=(t,e,n="TB")=>{const r=new CA.graphlib.Graph;return r.setGraph({rankdir:n,nodesep:50,ranksep:100,edgesep:20}),r.setDefaultEdgeLabel(()=>({})),t.forEach(i=>{r.setNode(i.id,{width:EA,height:RA})}),e.forEach(i=>{r.setEdge(i.source,i.target)}),CA.layout(r),{nodes:t.map(i=>{const a=r.node(i.id);return{...i,position:{x:a.x-EA/2,y:a.y-RA/2}}}),edges:e}},jce={moduleNode:Tce},Nce=({architecture:t,prdContent:e,appName:n,onRegenerate:r,onModuleClick:s,onGeneratePrompts:i,isGeneratingPrompts:a=!1,existingPrompts:o=new Set,promptsInfo:u=[],editMode:f=!1,onModuleEdit:p,onModuleDelete:m,onDependencyAdd:g,onDependencyRemove:x,onPositionsChange:v,highlightedModules:y=new Set})=>{const[w,Q]=j.useState(!1),[k,$]=j.useState(null),_=j.useMemo(()=>{const V=new Map;for(const W of u){const ee=W.prompt.split("/").pop()||"";V.set(ee,W)}return V},[u]),{initialNodes:T,initialEdges:N}=j.useMemo(()=>{const V=t.some(ue=>ue.position),W=t.map(ue=>{const pe=_ce(ue),Se=o.has(ue.filename),Ye=y.has(ue.filename);return{id:ue.filename,type:"moduleNode",position:ue.position||{x:0,y:0},data:{label:ue.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,""),module:ue,promptInfo:_.get(ue.filename),hasPrompt:Se,colors:Pce(pe),onClick:s,editMode:f,onEdit:p,onDelete:m,isHighlighted:Ye}}}),ee=new Set(t.map(ue=>ue.filename)),re=t.flatMap(ue=>ue.dependencies.filter(pe=>ee.has(pe)).map(pe=>({id:`${pe}->${ue.filename}`,source:pe,target:ue.filename,type:"smoothstep",style:{stroke:"#60a5fa",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#60a5fa",width:20,height:20},animated:!1,selectable:f,focusable:f,deletable:f,interactionWidth:20})));if(!V){const ue=AA(W,re,"TB");return{initialNodes:ue.nodes,initialEdges:ue.edges}}return{initialNodes:W,initialEdges:re}},[t,o,_,s,f,p,m,y]),[C,q,z]=zie(T),[Z,R,Y]=Zie(N),L=j.useCallback(()=>{const V=AA(C,Z,"TB");q(V.nodes),R(V.edges)},[C,Z,q,R]),E=j.useCallback(V=>{!f||!V.source||!V.target||(g==null||g(V.target,V.source),R(W=>TZ({...V,id:`${V.source}->${V.target}`,type:"smoothstep",style:{stroke:"#60a5fa",strokeWidth:2},markerEnd:{type:"arrowclosed",color:"#60a5fa",width:20,height:20},animated:!1},W)))},[f,g,R]),U=j.useCallback(V=>{if(f)for(const W of V)x==null||x(W.target,W.source)},[f,x]),A=j.useCallback((V,W)=>{f&&($(null),R(ee=>ee.map(re=>({...re,selected:re.id===W.id,style:{...re.style,stroke:re.id===W.id?"#ef4444":"#60a5fa",strokeWidth:re.id===W.id?3:2},markerEnd:re.markerEnd?{...re.markerEnd,color:re.id===W.id?"#ef4444":"#60a5fa"}:void 0}))))},[f,R]),I=j.useCallback((V,W)=>{f&&(V.preventDefault(),$({x:V.clientX,y:V.clientY,edge:W}))},[f]),F=j.useCallback(()=>{if(!k)return;const V=k.edge;x==null||x(V.target,V.source),R(W=>W.filter(ee=>ee.id!==V.id)),$(null)},[k,x,R]),G=j.useCallback(()=>{$(null)},[]),J=j.useCallback(V=>{if(f)for(const W of V)m==null||m(W.id)},[f,m]),X=j.useCallback((V,W,ee)=>{if(!f)return;const re=new Map;ee.forEach(ue=>{re.set(ue.id,{x:ue.position.x,y:ue.position.y})}),v==null||v(re)},[f,v]),B=oe.useRef(t),te=j.useCallback(V=>V.map(W=>({filename:W.filename,dependencies:[...W.dependencies].sort().join(",")})).sort((W,ee)=>W.filename.localeCompare(ee.filename)).map(W=>`${W.filename}:${W.dependencies}`).join("|"),[]);return oe.useEffect(()=>{const V=te(B.current),W=te(t),ee=V!==W;B.current=t,(ee||!f)&&(q(T),R(N))},[T,N,q,R,f,t,te]),d.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 overflow-hidden h-full flex flex-col",children:[d.jsxs("div",{className:"bg-surface-800/80 border-b border-surface-700/50 flex-shrink-0",children:[d.jsxs("div",{className:"flex justify-between items-center p-3",children:[d.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>Q(!w),children:[d.jsx("h3",{className:"font-semibold text-sm text-white",children:n||"Product Requirements Document"}),d.jsxs("p",{className:"text-xs text-surface-400",children:[t.length," modules"]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 ml-4",children:[i&&d.jsx(Dr,{content:"Generate prompt files for all modules",children:d.jsxs("button",{onClick:i,disabled:a,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a?d.jsx(cf,{className:"w-3.5 h-3.5 animate-spin"}):d.jsx(VJ,{className:"w-3.5 h-3.5"}),d.jsx("span",{children:a?"Generating...":"Generate Prompts"})]})}),d.jsx(Dr,{content:"Regenerate architecture from PRD",children:d.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 transition-colors",children:[d.jsx(X7,{className:"w-3.5 h-3.5"}),d.jsx("span",{children:"Regenerate"})]})}),d.jsx(Dr,{content:w?"Collapse":"Expand",children:d.jsx("button",{onClick:()=>Q(!w),className:"p-1.5 rounded-lg hover:bg-surface-700 transition-colors",children:w?d.jsx(rm,{className:"w-4 h-4 text-surface-400"}):d.jsx(sm,{className:"w-4 h-4 text-surface-400"})})})]})]}),w&&d.jsx("div",{className:"border-t border-surface-700/50",children:d.jsx("pre",{className:"p-3 text-xs text-surface-300 whitespace-pre-wrap overflow-auto max-h-[200px] font-mono",children:e||"No PRD content available"})})]}),d.jsx("div",{className:"flex-1 min-h-0",children:d.jsxs(oL,{nodes:C,edges:Z,onNodesChange:z,onEdgesChange:Y,onConnect:f?E:void 0,onEdgeClick:f?A:void 0,onEdgeContextMenu:f?I:void 0,onPaneClick:G,onNodeDragStop:f?X:void 0,onEdgesDelete:f?U:void 0,onNodesDelete:f?J:void 0,nodeTypes:jce,fitView:!0,fitViewOptions:{padding:.2},minZoom:.1,maxZoom:2,defaultEdgeOptions:{style:{stroke:"#60a5fa",strokeWidth:2},type:"smoothstep",markerEnd:{type:"arrowclosed",color:"#60a5fa",width:20,height:20},interactionWidth:20},connectionMode:f?Yi.Loose:Yi.Strict,deleteKeyCode:f?["Backspace","Delete"]:null,edgesUpdatable:f,edgesFocusable:f,elementsSelectable:f,selectNodesOnDrag:!1,proOptions:{hideAttribution:!0},children:[d.jsx(cae,{variant:Jr.Dots,gap:20,size:1,color:"#374151"}),d.jsx(rae,{className:"!bg-surface-800 !border-surface-700 !rounded-lg [&>button]:!bg-surface-700 [&>button]:!border-surface-600 [&>button]:!text-surface-300 [&>button:hover]:!bg-surface-600"}),d.jsx(Hie,{className:"!bg-surface-800 !border-surface-700 !rounded-lg",nodeColor:V=>{const W=V.data;return W.hasPrompt?"#10b981":W.colors.bg.includes("orange")?"#f97316":W.colors.bg.includes("blue")?"#3b82f6":"#22c55e"},maskColor:"rgba(0, 0, 0, 0.6)"}),d.jsx(Hm,{position:"bottom-right",className:"!m-4",children:d.jsxs("div",{className:"bg-surface-800/90 rounded-lg p-3 border border-surface-700/50 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("p",{className:"text-xs text-surface-400 font-medium",children:"Legend"}),d.jsx("button",{onClick:L,className:"text-[10px] px-2 py-0.5 bg-surface-700 hover:bg-surface-600 text-surface-300 rounded transition-colors",title:"Reset layout",children:"Re-layout"})]}),d.jsxs("div",{className:"space-y-1.5",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded bg-orange-500/40 border border-orange-500/50"}),d.jsx("span",{className:"text-xs text-surface-300",children:"Frontend"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded bg-blue-500/40 border border-blue-500/50"}),d.jsx("span",{className:"text-xs text-surface-300",children:"Backend"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded bg-green-500/40 border border-green-500/50"}),d.jsx("span",{className:"text-xs text-surface-300",children:"Shared"})]}),d.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-surface-700/50 mt-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500 flex items-center justify-center",children:d.jsx("svg",{className:"w-2 h-2 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),d.jsx("span",{className:"text-xs text-surface-300",children:"Prompt exists"})]}),d.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-surface-700/50 mt-1",children:[d.jsxs("div",{className:"flex gap-0.5",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 flex items-center justify-center text-[7px] font-bold text-white",children:"C"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500 flex items-center justify-center text-[7px] font-bold text-white",children:"T"}),d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 flex items-center justify-center text-[7px] font-bold text-white",children:"E"})]}),d.jsx("span",{className:"text-xs text-surface-300",children:"Code/Test/Example"})]}),d.jsxs("div",{className:"flex items-center gap-2 pt-1 border-t border-surface-700/50 mt-1",children:[d.jsx("div",{className:"flex items-center",children:d.jsxs("svg",{className:"w-6 h-3",viewBox:"0 0 24 12",children:[d.jsx("defs",{children:d.jsx("marker",{id:"arrow-legend",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:d.jsx("path",{d:"M0,0 L0,6 L9,3 z",fill:"#60a5fa"})})}),d.jsx("line",{x1:"0",y1:"6",x2:"20",y2:"6",stroke:"#60a5fa",strokeWidth:"2",markerEnd:"url(#arrow-legend)"})]})}),d.jsx("span",{className:"text-xs text-surface-300",children:"Arrow shows dependency direction"})]}),f&&d.jsx("div",{className:"pt-1 border-t border-surface-700/50 mt-1",children:d.jsxs("p",{className:"text-[10px] text-surface-400 leading-relaxed",children:[d.jsx("span",{className:"text-orange-400",children:"Edit mode:"})," Right-click edge to delete, or click + Delete/Backspace"]})})]})]})})]})}),k&&d.jsxs("div",{className:"fixed z-50 bg-surface-800 border border-surface-700 rounded-lg shadow-xl py-1 min-w-[150px]",style:{top:k.y,left:k.x},onClick:V=>V.stopPropagation(),children:[d.jsxs("button",{onClick:F,className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-surface-700 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Edge"]}),d.jsx("div",{className:"px-4 py-2 text-xs text-surface-500 border-t border-surface-700",children:d.jsxs("div",{className:"font-mono",children:[k.edge.source,"  ",k.edge.target]})})]})]})},Cce=({type:t,name:e})=>t==="directory"?d.jsx(z7,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".prompt")?d.jsx(M7,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".py")?d.jsx($x,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".ts")||e.endsWith(".tsx")?d.jsx($x,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".js")||e.endsWith(".jsx")?d.jsx($x,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".json")?d.jsx(BJ,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):e.endsWith(".md")?d.jsx(xN,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}):d.jsx(xN,{className:"w-4 h-4 text-surface-400 mr-2 flex-shrink-0"}),h6=({node:t,onSelect:e,filter:n,depth:r})=>{var p;const[s,i]=j.useState(r<2),a=t.type==="directory";if(!(a||!n||n.length===0?!0:n.some(m=>t.name.endsWith(m))))return null;const u=((p=t.children)==null?void 0:p.filter(m=>m.type==="directory"||!n||n.length===0?!0:n.some(g=>m.name.endsWith(g))))||[];if(a&&n&&n.length>0&&u.length===0)return null;const f=()=>{a?i(!s):e(t.path)};return d.jsxs("div",{children:[d.jsxs("div",{className:`flex items-center py-1 px-2 cursor-pointer rounded transition-colors ${a?"hover:bg-surface-700":"hover:bg-accent-600/20"}`,style:{paddingLeft:`${r*16+8}px`},onClick:f,children:[a&&d.jsx("span",{className:"mr-1 text-surface-400",children:s?d.jsx(sm,{className:"w-4 h-4"}):d.jsx(rm,{className:"w-4 h-4 rotate-90"})}),d.jsx(Cce,{type:t.type,name:t.name}),d.jsx("span",{className:`text-sm ${a?"text-surface-200":"text-surface-300"}`,children:t.name})]}),a&&s&&u.map((m,g)=>d.jsx(h6,{node:m,onSelect:e,filter:n,depth:r+1},m.path||g))]})},qA=({onSelect:t,onClose:e,filter:n,title:r="Select File"})=>{const[s,i]=j.useState(null),[a,o]=j.useState(!0),[u,f]=j.useState(null),[p,m]=j.useState(""),g=n?Array.isArray(n)?n:[n]:void 0;j.useEffect(()=>{x()},[]);const x=async()=>{o(!0),f(null);try{const w=await qe.getFileTree("",5);i(w)}catch(w){f(w.message||"Failed to load file tree")}finally{o(!1)}},v=w=>{t(w)},y=a?d.jsx("div",{className:"bg-surface-800 rounded-lg p-4 border border-surface-700",children:d.jsx("div",{className:"text-surface-400 text-center",children:"Loading files..."})}):u?d.jsxs("div",{className:"bg-surface-800 rounded-lg p-4 border border-surface-700",children:[d.jsx("div",{className:"text-red-400 text-center",children:u}),d.jsx("button",{onClick:x,className:"mt-2 w-full py-1 bg-surface-700 hover:bg-surface-600 rounded text-sm",children:"Retry"})]}):d.jsxs("div",{className:"bg-surface-800 rounded-lg border border-surface-700 overflow-hidden",children:[d.jsxs("div",{className:"p-3 border-b border-surface-700 flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-medium text-surface-200",children:r}),e&&d.jsx("button",{onClick:e,className:"p-1 hover:bg-surface-700 rounded text-surface-400 hover:text-white transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"p-3 border-b border-surface-700/50",children:[d.jsx("input",{type:"text",placeholder:"Search files...",value:p,onChange:w=>m(w.target.value),className:"w-full px-3 py-1.5 bg-surface-900 border border-surface-600 rounded text-sm text-surface-200 placeholder-surface-500 focus:outline-none focus:border-accent-500"}),g&&g.length>0&&d.jsxs("div",{className:"mt-2 text-xs text-surface-500",children:["Showing: ",g.join(", ")]})]}),d.jsx("div",{className:"max-h-80 overflow-y-auto p-2",children:s?d.jsx(h6,{node:s,onSelect:v,filter:g,depth:0}):d.jsx("div",{className:"text-surface-500 text-center py-4",children:"No files found"})})]});return e?d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:w=>{w.target===w.currentTarget&&e()},children:d.jsx("div",{className:"w-full max-w-md mx-4",children:y})}):y},Ece=({isOpen:t,progress:e,results:n,onClose:r,onCancel:s})=>{if(!t)return null;const i=n!==null&&e===null,a=(n==null?void 0:n.filter(u=>u.success).length)||0,o=(n==null?void 0:n.filter(u=>!u.success).length)||0;return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i?r:void 0}),d.jsxs("div",{className:"relative glass rounded-2xl border border-surface-700/50 p-6 max-w-md w-full mx-4 shadow-2xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:i?"Generation Complete":"Generating Prompts"}),i&&d.jsx("button",{onClick:r,className:"p-1.5 hover:bg-surface-700 rounded-lg transition-colors",children:d.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e&&!i&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"relative h-2 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-emerald-500 to-emerald-400 transition-all duration-300",style:{width:`${e.current/e.total*100}%`}})}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsxs("span",{className:"text-surface-400",children:["Generating prompt ",e.current," of ",e.total]}),d.jsxs("span",{className:"text-white font-medium",children:[Math.round(e.current/e.total*100),"%"]})]}),d.jsxs("div",{className:"flex items-center gap-2 p-3 bg-surface-800/50 rounded-lg",children:[d.jsx(cf,{className:"w-4 h-4 text-emerald-400 animate-spin"}),d.jsx("span",{className:"text-sm text-surface-300 truncate",children:e.currentModule})]}),s&&d.jsx("button",{onClick:s,className:"w-full px-4 py-2.5 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-xl font-medium transition-colors",children:"Stop Generation"})]}),i&&n&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-4 p-3 bg-surface-800/50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),d.jsxs("span",{className:"text-sm text-surface-300",children:[a," succeeded"]})]}),o>0&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),d.jsxs("span",{className:"text-sm text-surface-300",children:[o," failed"]})]})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:n.map((u,f)=>d.jsxs("div",{className:`flex items-start gap-2 p-2 rounded-lg ${u.success?"bg-emerald-500/10":"bg-red-500/10"}`,children:[d.jsx("div",{className:"flex-shrink-0 mt-0.5",children:u.success?d.jsx(YJ,{className:"w-4 h-4 text-emerald-400"}):d.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("span",{className:`text-sm ${u.success?"text-emerald-300":"text-red-300"}`,children:[u.module,".prompt"]}),u.error&&d.jsx("p",{className:"text-xs text-red-400 mt-1 truncate",children:u.error})]})]},f))}),d.jsx("button",{onClick:r,className:"w-full px-4 py-2.5 bg-accent-600 hover:bg-accent-500 text-white rounded-xl font-medium transition-colors",children:"Close"})]})]})]})};function XA(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const MA=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`modal-option-${t.name}`;if(t.type==="checkbox")return d.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[d.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:XA(t.name)}),d.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return d.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:XA(t.name)}),d.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),d.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:f=>n(parseFloat(f.target.value)),className:`flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500
              [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-500
              [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent-500/30
              [&::-webkit-slider-thumb]:hover:bg-accent-400 [&::-webkit-slider-thumb]:transition-colors`}),d.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return null},Rce=({isOpen:t,modules:e,existingPrompts:n=new Set,globalOptions:r,onGlobalOptionsChange:s,onClose:i,onConfirm:a})=>{const[o,u]=j.useState(!1),[f,p]=j.useState(()=>e.map((T,N)=>{const C=n.has(T.filename);return{module:T,selected:!C,order:N,hasExistingPrompt:C}}));oe.useEffect(()=>{p(e.map((T,N)=>{const C=n.has(T.filename);return{module:T,selected:!C,order:N,hasExistingPrompt:C}}))},[e,n]);const m=j.useCallback(T=>{p(N=>N.map((C,q)=>q===T?{...C,selected:!C.selected}:C))},[]),g=j.useCallback(T=>{T!==0&&p(N=>{const C=[...N];return[C[T-1],C[T]]=[C[T],C[T-1]],C})},[]),x=j.useCallback(T=>{p(N=>{if(T===N.length-1)return N;const C=[...N];return[C[T],C[T+1]]=[C[T+1],C[T]],C})},[]),v=j.useCallback(()=>{p(T=>T.map(N=>({...N,selected:!0})))},[]),y=j.useCallback(()=>{p(T=>T.map(N=>({...N,selected:!1})))},[]),w=j.useCallback(()=>{p(T=>T.map(N=>({...N,selected:!N.hasExistingPrompt})))},[]),Q=j.useCallback(()=>{const T=f.filter(N=>N.selected).map(N=>N.module);a(T)},[f,a]),k=T=>T.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,""),$=T=>{const N=T.filename.match(/_([A-Za-z]+)\.prompt$/);return(N==null?void 0:N[1])||"Unknown"},_=f.filter(T=>T.selected).length;return t?d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i}),d.jsxs("div",{className:"relative bg-surface-900 rounded-2xl border border-surface-700 shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-surface-700",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Configure Prompt Generation"}),d.jsx("p",{className:"text-sm text-surface-400 mt-1",children:"Select modules and set the generation order. Prompts will be generated from top to bottom."})]}),d.jsxs("div",{className:"px-4 py-2 border-b border-surface-700/50 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:w,className:"px-2 py-1 text-xs text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 rounded transition-colors font-medium",children:"Select Missing"}),d.jsx("button",{onClick:v,className:"px-2 py-1 text-xs text-surface-300 hover:text-white hover:bg-surface-700 rounded transition-colors",children:"Select All"}),d.jsx("button",{onClick:y,className:"px-2 py-1 text-xs text-surface-300 hover:text-white hover:bg-surface-700 rounded transition-colors",children:"Deselect All"})]}),d.jsxs("span",{className:"text-xs text-surface-400",children:[_," of ",f.length," selected"]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:d.jsx("div",{className:"space-y-1",children:f.map((T,N)=>{var C,q;return d.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg border transition-colors ${T.selected?"bg-surface-800 border-surface-600":"bg-surface-800/30 border-surface-700/30 opacity-60"} ${T.hasExistingPrompt?"ring-1 ring-emerald-500/30":""}`,children:[d.jsx("input",{type:"checkbox",checked:T.selected,onChange:()=>m(N),className:"w-4 h-4 rounded border-surface-600 bg-surface-700 text-accent-500 focus:ring-accent-500 cursor-pointer"}),d.jsx("span",{className:"w-6 text-center text-xs font-mono text-surface-500",children:T.selected?f.filter((z,Z)=>Z<=N&&z.selected).length:"-"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-sm text-white truncate",children:k(T.module)}),d.jsx("span",{className:"px-1.5 py-0.5 text-[10px] font-medium bg-surface-700 text-surface-300 rounded",children:$(T.module)}),T.hasExistingPrompt&&d.jsxs("span",{className:"flex items-center gap-1 px-1.5 py-0.5 text-[10px] font-medium bg-emerald-500/20 text-emerald-400 rounded",children:[d.jsx("svg",{className:"w-2.5 h-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"exists"]})]}),d.jsxs("p",{className:"text-xs text-surface-500 truncate",children:[((C=T.module.description)==null?void 0:C.substring(0,60))||T.module.filepath,(((q=T.module.description)==null?void 0:q.length)||0)>60?"...":""]})]}),d.jsx("span",{className:`px-1.5 py-0.5 text-[10px] font-medium rounded ${T.module.priority==="high"?"bg-red-500/20 text-red-300":T.module.priority==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:T.module.priority||"normal"}),d.jsxs("div",{className:"flex flex-col gap-0.5",children:[d.jsx("button",{onClick:()=>g(N),disabled:N===0,className:"p-1 hover:bg-surface-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move up",children:d.jsx("svg",{className:"w-3 h-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),d.jsx("button",{onClick:()=>x(N),disabled:N===f.length-1,className:"p-1 hover:bg-surface-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move down",children:d.jsx("svg",{className:"w-3 h-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]},T.module.filename)})})}),d.jsxs("div",{className:"border-t border-surface-700/50",children:[d.jsxs("button",{type:"button",onClick:()=>u(!o),className:"w-full px-4 py-3 flex items-center justify-between text-left hover:bg-surface-800/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),(r.strength!==an.strength||r.temperature!==an.temperature||r.time!==an.time||r.local||r.verbose||r.quiet||r.force)&&d.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&d.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[d.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),or.filter(T=>["strength","temperature","time"].includes(T.name)).map(T=>d.jsx(MA,{option:T,value:r[T.name],onChange:N=>s({...r,[T.name]:N}),compact:!0},T.name))]}),d.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),or.filter(T=>["local","verbose","quiet","force"].includes(T.name)).map(T=>d.jsx(MA,{option:T,value:r[T.name],onChange:N=>s({...r,[T.name]:N}),compact:!0},T.name))]})]})]}),d.jsxs("div",{className:"p-4 border-t border-surface-700 flex items-center justify-between",children:[d.jsx("p",{className:"text-xs text-surface-500",children:"Dependencies are not automatically resolved. Ensure correct order."}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 text-sm font-medium text-surface-300 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",children:"Cancel"}),d.jsxs("button",{onClick:Q,disabled:_===0,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${_===0?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-500"}`,children:["Generate ",_," Prompt",_!==1?"s":""]})]})]})]})]}):null},Ace=({editMode:t,hasUnsavedChanges:e,onToggleEditMode:n,onAddModule:r,onSave:s,onDiscard:i,onUndo:a,onRedo:o,canUndo:u,canRedo:f,isSaving:p=!1,onSyncFromPrompts:m})=>d.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800/80 border-b border-surface-700/50",children:[!t&&m&&d.jsxs(d.Fragment,{children:[d.jsx(Dr,{content:"Sync architecture.json from prompt metadata tags",children:d.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-purple-600 text-white hover:bg-purple-500 transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),d.jsx("span",{children:"Sync from Prompts"})]})}),d.jsx("div",{className:"w-px h-6 bg-surface-700"})]}),d.jsx(Dr,{content:t?"Exit edit mode":"Enter edit mode",children:d.jsxs("button",{onClick:n,className:`
            flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors
            ${t?"bg-accent-600 text-white hover:bg-accent-500":"bg-surface-700 text-surface-300 hover:bg-surface-600"}
          `,children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),d.jsx("span",{children:t?"Editing":"Edit"})]})}),t&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-px h-6 bg-surface-700"}),d.jsx(Dr,{content:"Add new module (N)",children:d.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-emerald-600 text-white hover:bg-emerald-500 transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),d.jsx("span",{children:"Add Module"})]})}),d.jsx("div",{className:"w-px h-6 bg-surface-700"}),d.jsx(Dr,{content:"Undo (Ctrl+Z)",children:d.jsx("button",{onClick:a,disabled:!u,className:"p-1.5 rounded-lg text-surface-300 hover:bg-surface-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})}),d.jsx(Dr,{content:"Redo (Ctrl+Shift+Z)",children:d.jsx("button",{onClick:o,disabled:!f,className:"p-1.5 rounded-lg text-surface-300 hover:bg-surface-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 10H11a8 8 0 00-8 8v2m18-10l-6 6m6-6l-6-6"})})})}),e&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-px h-6 bg-surface-700"}),d.jsxs("span",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Unsaved changes"]}),d.jsx(Dr,{content:"Save changes (Ctrl+S)",children:d.jsxs("button",{onClick:s,disabled:p,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-600 text-white hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[p?d.jsxs("svg",{className:"w-3.5 h-3.5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),d.jsx("span",{children:p?"Saving...":"Save"})]})}),d.jsx(Dr,{content:"Discard changes (Escape)",children:d.jsxs("button",{onClick:i,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),d.jsx("span",{children:"Discard"})]})})]})]})]}),qce=["module","component","page","api","graphql","cli","job","message","config"],Xce=({isOpen:t,module:e,allModules:n,onSave:r,onDelete:s,onClose:i})=>{const[a,o]=j.useState(""),[u,f]=j.useState(""),[p,m]=j.useState(""),[g,x]=j.useState(""),[v,y]=j.useState(5),[w,Q]=j.useState(""),[k,$]=j.useState("module"),[_,T]=j.useState([]),[N,C]=j.useState(!1),q=j.useMemo(()=>n.filter(L=>L.filename!==(e==null?void 0:e.filename)),[n,e]);j.useEffect(()=>{var L,E;e&&(o(e.filename),f(e.filepath),m(e.description),x(e.reason),y(e.priority),Q(((L=e.tags)==null?void 0:L.join(", "))||""),$(((E=e.interface)==null?void 0:E.type)||"module"),T(e.dependencies||[]),C(!1))},[e]);const z=j.useMemo(()=>{const L=[];return a.trim()||L.push("Filename is required"),u.trim()||L.push("Filepath is required"),p.trim()||L.push("Description is required"),e&&a!==e.filename&&n.some(E=>E.filename===a)&&L.push("Filename already exists"),L},[a,u,p,e,n]),Z=()=>{if(z.length>0)return;const L={filename:a,filepath:u,description:p,reason:g,priority:v,tags:w.split(",").map(E=>E.trim()).filter(E=>E),dependencies:_,interface:{type:k}};r(L),i()},R=()=>{e&&(s(e.filename),i())},Y=L=>{T(E=>E.includes(L)?E.filter(U=>U!==L):[...E,L])};return!t||!e?null:d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-surface-800 rounded-none sm:rounded-xl border-0 sm:border border-surface-700 w-full h-full sm:h-auto sm:max-w-2xl sm:max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-700",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Edit Module"}),d.jsx("button",{onClick:i,className:"p-1.5 rounded-lg hover:bg-surface-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Filename ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("input",{type:"text",value:a,onChange:L=>o(L.target.value),placeholder:"e.g., user_api_Python.prompt",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Filepath ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("input",{type:"text",value:u,onChange:L=>f(L.target.value),placeholder:"e.g., src/api/user.py",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Description ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("textarea",{value:p,onChange:L=>m(L.target.value),placeholder:"What does this module do?",rows:3,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm resize-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Reason"}),d.jsx("input",{type:"text",value:g,onChange:L=>x(L.target.value),placeholder:"Why is this module needed?",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Priority"}),d.jsx("input",{type:"number",value:v,onChange:L=>y(parseInt(L.target.value)||1),min:1,max:10,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Interface Type"}),d.jsx("select",{value:k,onChange:L=>$(L.target.value),className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",children:qce.map(L=>d.jsx("option",{value:L,children:L},L))})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Tags ",d.jsx("span",{className:"text-surface-500",children:"(comma-separated)"})]}),d.jsx("input",{type:"text",value:w,onChange:L=>Q(L.target.value),placeholder:"e.g., backend, api, python",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Dependencies ",d.jsxs("span",{className:"text-surface-500",children:["(",_.length," selected)"]})]}),d.jsx("div",{className:"bg-surface-900 border border-surface-700 rounded-lg p-2 max-h-40 overflow-y-auto",children:q.length===0?d.jsx("p",{className:"text-sm text-surface-500 text-center py-2",children:"No other modules available"}):d.jsx("div",{className:"space-y-1",children:q.map(L=>d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-surface-800 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:_.includes(L.filename),onChange:()=>Y(L.filename),className:"rounded border-surface-600 bg-surface-800 text-accent-500 focus:ring-accent-500"}),d.jsx("span",{className:"text-sm text-surface-300 truncate",children:L.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,"")})]},L.filename))})})]}),z.length>0&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("ul",{className:"text-sm text-red-400 space-y-1",children:z.map((L,E)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),L]},E))})})]}),d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-surface-700 bg-surface-800/50",children:[d.jsx("div",{children:N?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs text-red-400",children:"Are you sure?"}),d.jsx("button",{onClick:R,className:"px-2 py-1 rounded text-xs font-medium bg-red-600 text-white hover:bg-red-500 transition-colors",children:"Yes, delete"}),d.jsx("button",{onClick:()=>C(!1),className:"px-2 py-1 rounded text-xs font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"})]}):d.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-400 hover:bg-red-500/10 transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Module"]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:i,className:"px-4 py-2 rounded-lg text-sm font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:Z,disabled:z.length>0,className:"px-4 py-2 rounded-lg text-sm font-medium bg-accent-600 text-white hover:bg-accent-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Changes"})]})]})]})})},Mce=["Python","TypeScript","JavaScript","Java","Go","Rust","Ruby","C++"],zce=["module","component","page","api","graphql","cli","job","message","config"],Zce=({isOpen:t,existingModules:e,onAdd:n,onClose:r})=>{const[s,i]=j.useState(""),[a,o]=j.useState("Python"),[u,f]=j.useState(""),[p,m]=j.useState(""),[g,x]=j.useState(""),[v,y]=j.useState(5),[w,Q]=j.useState(""),[k,$]=j.useState("module"),[_,T]=j.useState([]),N=j.useMemo(()=>s.trim()?`${s.trim().toLowerCase().replace(/\s+/g,"_")}_${a}.prompt`:"",[s,a]),C=j.useMemo(()=>{if(!s.trim())return"";const E=s.trim().toLowerCase().replace(/\s+/g,"_"),U=a==="Python"?"py":a==="TypeScript"||a==="JavaScript"?"ts":a.toLowerCase();return`${k==="api"?"src/api/":k==="component"?"src/components/":k==="page"?"src/pages/":"src/"}${E}.${U}`},[s,a,k]),q=u||C,z=j.useMemo(()=>{const E=[];return s.trim()||E.push("Module name is required"),p.trim()||E.push("Description is required"),e.some(U=>U.filename===N)&&E.push("A module with this name and language already exists"),E},[s,p,N,e]),Z=()=>{if(z.length>0)return;const E={filename:N,filepath:q,description:p,reason:g||`Module for ${s}`,priority:v,tags:w.split(",").map(U=>U.trim()).filter(U=>U),dependencies:_,interface:{type:k}};n(E),R(),r()},R=()=>{i(""),o("Python"),f(""),m(""),x(""),y(5),Q(""),$("module"),T([])},Y=()=>{R(),r()},L=E=>{T(U=>U.includes(E)?U.filter(A=>A!==E):[...U,E])};return t?d.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-surface-800 rounded-none sm:rounded-xl border-0 sm:border border-surface-700 w-full h-full sm:h-auto sm:max-w-2xl sm:max-h-[90vh] overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-surface-700",children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"Add New Module"}),d.jsx("button",{onClick:Y,className:"p-1.5 rounded-lg hover:bg-surface-700 transition-colors",children:d.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Module Name ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("input",{type:"text",value:s,onChange:E=>i(E.target.value),placeholder:"e.g., user_api",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Language"}),d.jsx("select",{value:a,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",children:Mce.map(E=>d.jsx("option",{value:E,children:E},E))})]})]}),N&&d.jsxs("div",{className:"bg-surface-900/50 rounded-lg px-3 py-2",children:[d.jsx("span",{className:"text-xs text-surface-500",children:"Generated filename: "}),d.jsx("span",{className:"text-xs text-accent-400 font-mono",children:N})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Filepath ",d.jsx("span",{className:"text-surface-500",children:"(auto-suggested)"})]}),d.jsx("input",{type:"text",value:u,onChange:E=>f(E.target.value),placeholder:C||"e.g., src/api/user.py",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"}),!u&&C&&d.jsxs("p",{className:"text-xs text-surface-500 mt-1",children:["Will use: ",C]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Description ",d.jsx("span",{className:"text-red-400",children:"*"})]}),d.jsx("textarea",{value:p,onChange:E=>m(E.target.value),placeholder:"What does this module do?",rows:3,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm resize-none"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Priority"}),d.jsx("input",{type:"number",value:v,onChange:E=>y(parseInt(E.target.value)||1),min:1,max:10,className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"Interface Type"}),d.jsx("select",{value:k,onChange:E=>$(E.target.value),className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm",children:zce.map(E=>d.jsx("option",{value:E,children:E},E))})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:["Tags ",d.jsx("span",{className:"text-surface-500",children:"(comma-separated)"})]}),d.jsx("input",{type:"text",value:w,onChange:E=>Q(E.target.value),placeholder:"e.g., backend, api, python",className:"w-full px-3 py-2 bg-surface-900 border border-surface-700 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:ring-2 focus:ring-accent-500 text-sm"})]}),e.length>0&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Dependencies ",d.jsxs("span",{className:"text-surface-500",children:["(",_.length," selected)"]})]}),d.jsx("div",{className:"bg-surface-900 border border-surface-700 rounded-lg p-2 max-h-40 overflow-y-auto",children:d.jsx("div",{className:"space-y-1",children:e.map(E=>d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-surface-800 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:_.includes(E.filename),onChange:()=>L(E.filename),className:"rounded border-surface-600 bg-surface-800 text-accent-500 focus:ring-accent-500"}),d.jsx("span",{className:"text-sm text-surface-300 truncate",children:E.filename.replace(/_[A-Za-z]+\.prompt$/,"").replace(/\.prompt$/,"")})]},E.filename))})})]}),z.length>0&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("ul",{className:"text-sm text-red-400 space-y-1",children:z.map((E,U)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),E]},U))})})]}),d.jsxs("div",{className:"flex items-center justify-end gap-2 px-6 py-4 border-t border-surface-700 bg-surface-800/50",children:[d.jsx("button",{onClick:Y,className:"px-4 py-2 rounded-lg text-sm font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:Z,disabled:z.length>0,className:"px-4 py-2 rounded-lg text-sm font-medium bg-emerald-600 text-white hover:bg-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Module"})]})]})}):null},Lce=({isOpen:t,isSyncing:e,result:n,onSync:r,onClose:s})=>{const[i,a]=j.useState(!1);if(!t)return null;const o=n&&n.validation&&!n.validation.valid,u=n!==null;return d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e?void 0:s}),d.jsxs("div",{className:"relative glass rounded-2xl border border-surface-700/50 w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col shadow-2xl m-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700/50",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[d.jsx("svg",{className:"w-6 h-6 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Sync from Prompts"]}),d.jsx("p",{className:"text-sm text-surface-400 mt-1",children:"Update architecture.json from prompt metadata tags"})]}),!e&&d.jsx("button",{onClick:s,className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:d.jsx("svg",{className:"w-5 h-5 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:`rounded-lg p-4 border ${n.success&&n.validation.valid?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:d.jsxs("div",{className:"flex items-start gap-3",children:[n.success&&n.validation.valid?d.jsx("svg",{className:"w-6 h-6 text-green-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):d.jsx("svg",{className:"w-6 h-6 text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:`text-sm font-semibold mb-1 ${n.success&&n.validation.valid?"text-green-300":"text-red-300"}`,children:n.success&&n.validation.valid?"Sync Completed Successfully":o?"Validation Errors Detected":"Sync Failed"}),d.jsxs("p",{className:`text-sm ${n.success&&n.validation.valid?"text-green-200/80":"text-red-200/80"}`,children:["Updated ",n.updated_count," module",n.updated_count!==1?"s":"",n.skipped_count>0&&`, skipped ${n.skipped_count}`]})]})]})}),o&&d.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-medium text-red-300 mb-2",children:"Validation Errors:"}),d.jsx("ul",{className:"text-sm text-red-200/80 space-y-1",children:n.validation.errors.map((f,p)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400 flex-shrink-0",children:""}),d.jsx("span",{children:f.message})]},p))})]}),n.errors&&n.errors.length>0&&d.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[d.jsx("h4",{className:"text-sm font-medium text-yellow-300 mb-2",children:"Sync Warnings:"}),d.jsx("ul",{className:"text-sm text-yellow-200/80 space-y-1",children:n.errors.map((f,p)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-yellow-400 flex-shrink-0",children:""}),d.jsx("span",{children:f})]},p))})]}),n.results&&n.results.length>0&&d.jsxs("button",{onClick:()=>a(!i),className:"w-full px-4 py-2 bg-surface-700 hover:bg-surface-600 rounded-lg text-sm text-white flex items-center justify-between transition-colors",children:[d.jsxs("span",{children:[i?"Hide":"Show"," Detailed Changes"]}),d.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&n.results&&d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:n.results.map((f,p)=>d.jsx(Yce,{result:f},p))})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-surface-800/50 border border-surface-700/50 rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"What this does:"}),d.jsxs("ul",{className:"text-sm text-surface-300 space-y-1.5 list-disc list-inside",children:[d.jsxs("li",{children:["Scans all prompt files for metadata tags (",d.jsx("code",{className:"text-accent-400",children:"<pdd-reason>"}),", ",d.jsx("code",{className:"text-accent-400",children:"<pdd-interface>"}),", ",d.jsx("code",{className:"text-accent-400",children:"<pdd-dependency>"}),")"]}),d.jsx("li",{children:"Updates corresponding entries in architecture.json"}),d.jsx("li",{children:"Validates the updated architecture for circular dependencies"}),d.jsx("li",{children:"Preserves fields not specified in tags (description, priority, tags)"})]})]}),d.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 flex items-start gap-3",children:[d.jsx("svg",{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-blue-300 mb-1",children:"Source of Truth"}),d.jsx("p",{className:"text-sm text-blue-200/80",children:"Prompts are authoritative. Tags in prompt files will override what's in architecture.json."})]})]}),e&&d.jsxs("div",{className:"flex items-center justify-center gap-3 py-8",children:[d.jsxs("svg",{className:"animate-spin h-8 w-8 text-accent-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{className:"text-surface-300",children:"Syncing..."})]})]})}),d.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-surface-700/50",children:u?d.jsx("button",{onClick:s,className:"px-4 py-2 bg-surface-700 hover:bg-surface-600 text-white rounded-lg text-sm font-medium transition-colors",children:"Close"}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:s,disabled:e,className:"px-4 py-2 text-sm text-surface-300 hover:text-white transition-colors disabled:opacity-50",children:"Cancel"}),d.jsxs("button",{onClick:r,disabled:e,className:"px-4 py-2 bg-accent-600 hover:bg-accent-500 text-white rounded-lg text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e&&d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e?"Syncing...":"Sync Now"]})]})})]})]})},Yce=({result:t})=>{const[e,n]=j.useState(!1),r=t.changes&&Object.keys(t.changes).length>0;return d.jsxs("div",{className:"bg-surface-800/50 border border-surface-700/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[t.success?t.updated?d.jsx("svg",{className:"w-4 h-4 text-green-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):d.jsx("svg",{className:"w-4 h-4 text-surface-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm0-2a6 6 0 100-12 6 6 0 000 12z",clipRule:"evenodd"})}):d.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),d.jsx("span",{className:"text-sm font-mono text-white",children:t.filename})]}),r&&d.jsxs("button",{onClick:()=>n(!e),className:"text-xs text-accent-400 hover:text-accent-300 flex items-center gap-1",children:[e?"Hide":"Show"," changes",d.jsx("svg",{className:`w-3 h-3 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),d.jsx("p",{className:"text-xs text-surface-400",children:t.updated?`Updated: ${Object.keys(t.changes).join(", ")}`:t.error||"No changes needed"}),e&&r&&d.jsx("div",{className:"mt-3 pt-3 border-t border-surface-700/30 space-y-2",children:Object.entries(t.changes).map(([s,i])=>d.jsxs("div",{className:"text-xs",children:[d.jsxs("div",{className:"text-surface-400 font-medium mb-1",children:[s,":"]}),d.jsxs("div",{className:"bg-surface-900/50 rounded p-2 space-y-1",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400 flex-shrink-0",children:"-"}),d.jsxs("span",{className:"text-red-300/80 break-all",children:[JSON.stringify(i.old).slice(0,100),JSON.stringify(i.old).length>100?"...":""]})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400 flex-shrink-0",children:"+"}),d.jsxs("span",{className:"text-green-300/80 break-all",children:[JSON.stringify(i.new).slice(0,100),JSON.stringify(i.new).length>100?"...":""]})]})]})]},s))})]})};function Vce(t=[]){const[e,n]=j.useState({past:[],present:t,future:[]}),[r,s]=j.useState(t),i=j.useMemo(()=>JSON.stringify(e.present)!==JSON.stringify(r),[e.present,r]),a=j.useCallback(k=>{n($=>({past:[...$.past.slice(-49),$.present],present:k,future:[]}))},[]),o=j.useCallback(k=>{a([...e.present,k])},[e.present,a]),u=j.useCallback((k,$)=>{const _=e.present.map(T=>T.filename===k?$:k!==$.filename?{...T,dependencies:T.dependencies.map(N=>N===k?$.filename:N)}:T);a(_)},[e.present,a]),f=j.useCallback(k=>{const $=e.present.filter(_=>_.filename!==k).map(_=>({..._,dependencies:_.dependencies.filter(T=>T!==k)}));a($)},[e.present,a]),p=j.useCallback((k,$)=>{const _=e.present.map(T=>T.filename===k?T.dependencies.includes($)?T:{...T,dependencies:[...T.dependencies,$]}:T);a(_)},[e.present,a]),m=j.useCallback((k,$)=>{const _=e.present.map(T=>T.filename===k?{...T,dependencies:T.dependencies.filter(N=>N!==$)}:T);a(_)},[e.present,a]),g=j.useCallback(k=>{n($=>({...$,present:$.present.map(_=>{const T=k.get(_.filename);return T?{..._,position:T}:_})}))},[]),x=j.useCallback(()=>{n(k=>{if(k.past.length===0)return k;const $=k.past[k.past.length-1];return{past:k.past.slice(0,-1),present:$,future:[k.present,...k.future]}})},[]),v=j.useCallback(()=>{n(k=>{if(k.future.length===0)return k;const $=k.future[0];return{past:[...k.past,k.present],present:$,future:k.future.slice(1)}})},[]),y=j.useCallback(k=>{s(k),n({past:[],present:k,future:[]})},[]),w=j.useCallback(()=>{n({past:[],present:r,future:[]})},[r]),Q=j.useCallback(()=>{w()},[w]);return{architecture:e.present,hasUnsavedChanges:i,addModule:o,updateModule:u,deleteModule:f,addDependency:p,removeDependency:m,updatePositions:g,undo:x,redo:v,canUndo:e.past.length>0,canRedo:e.future.length>0,setOriginal:y,reset:w,discardChanges:Q}}function lw(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const zA=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`arch-option-${t.name}`;if(t.type==="checkbox")return d.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[d.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:lw(t.name)}),d.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return d.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:lw(t.name)}),d.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),d.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:f=>n(parseFloat(f.target.value)),className:`flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500
              [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-accent-500
              [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:shadow-accent-500/30
              [&::-webkit-slider-thumb]:hover:bg-accent-400 [&::-webkit-slider-thumb]:transition-colors`}),d.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return d.jsxs("div",{children:[d.jsx("label",{htmlFor:s,className:`block ${r?"text-xs":"text-sm"} font-medium text-white mb-1.5`,children:lw(t.name)}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mb-2`,children:t.description}),d.jsx("input",{type:t.type==="number"?"number":"text",id:s,value:e||"",onChange:i=>n(t.type==="number"?i.target.value?Number(i.target.value):"":i.target.value),placeholder:t.placeholder,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})},Dce=({serverConnected:t,isExecuting:e,onOpenPromptSpace:n,onBatchStart:r,onBatchProgress:s,onBatchComplete:i})=>{const[a,o]=j.useState(null),[u,f]=j.useState(!0),[p,m]=j.useState(null),[g,x]=j.useState("empty"),[v,y]=j.useState(""),[w,Q]=j.useState(""),[k,$]=j.useState(null),[_,T]=j.useState(""),[N,C]=j.useState(null),[q,z]=j.useState(!1),[Z,R]=j.useState(null),[Y,L]=j.useState("architecture.json"),[E,U]=j.useState(null),[A,I]=j.useState(!1),[F,G]=j.useState(null),[J,X]=j.useState(!1),[B,te]=j.useState(null),[V,W]=j.useState(null),[ee,re]=j.useState(!1),[ue,pe]=j.useState(!1),[Se,Ye]=j.useState(!1),[Le,We]=j.useState({strength:an.strength,temperature:an.temperature,time:an.time,verbose:an.verbose,quiet:an.quiet,force:an.force,local:an.local}),Xe=j.useRef(!1),[Qe,ct]=j.useState(!1),[be,we]=j.useState(!1),[ut,on]=j.useState(new Set),[Gt,Yt]=j.useState([]),[Je,rt]=j.useState(!1),[Wt,me]=j.useState(!1),[ye,Ze]=j.useState(!1),[Fe,Xt]=j.useState(null),[ft,Et]=j.useState(!1),[ke,Ie]=j.useState(null),[en,at]=j.useState(new Set),[$e,$t]=j.useState(window.innerWidth<768),[tn,Pn]=j.useState(!1),[Fn,pr]=j.useState(!1),[dn,Kn]=j.useState(null),{architecture:hn,hasUnsavedChanges:jn,addModule:ti,updateModule:ls,deleteModule:Jn,addDependency:Cr,removeDependency:os,updatePositions:ni,undo:mr,redo:Er,canUndo:Rr,canRedo:Oe,setOriginal:Ne,discardChanges:De}=Vce([]);j.useEffect(()=>{a&&Ne(a)},[a,Ne]),j.useEffect(()=>{const fe=()=>$t(window.innerWidth<768);return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]);const et=Je?hn:a,tt=j.useCallback(async()=>{try{const fe=await qe.listPrompts();Yt(fe);const je=new Set(fe.map(dt=>dt.prompt.split("/").pop()||""));on(je)}catch(fe){console.error("Failed to load existing prompts:",fe)}},[]);j.useEffect(()=>{(async()=>{if(!t){f(!1);return}f(!0);try{if((await qe.checkArchitectureExists()).exists){const dt=await qe.getArchitecture();o(dt),x("graph"),await tt()}else x("empty")}catch(je){console.error("Failed to load architecture:",je),x("empty")}finally{f(!1)}})()},[t,tt]);const cs=j.useCallback(async fe=>{try{const je=await qe.getFileContent(fe);if(Z==="prd")Q(je.content),$(fe),g==="empty"&&x("editor");else if(Z==="techStack")T(je.content),C(fe);else if(Z==="architecture")try{const dt=JSON.parse(je.content);o(dt),x("graph"),await tt()}catch(dt){console.error("Failed to parse architecture.json:",dt),alert("Invalid architecture.json format. Please select a valid architecture file.");return}R(null)}catch(je){console.error("Failed to load file:",je)}},[Z,g,tt]),Cs=j.useCallback(async()=>{var fe,je;if(!Y.trim()){U("Please enter a file path");return}U(null);try{const dt=await qe.getFileContent(Y.trim()),kn=JSON.parse(dt.content);o(kn),x("graph"),await tt()}catch(dt){console.error("Failed to load architecture:",dt),(fe=dt.message)!=null&&fe.includes("404")||(je=dt.message)!=null&&je.includes("not found")?U(`File not found: ${Y}`):dt instanceof SyntaxError?U("Invalid JSON format in file"):U(dt.message||"Failed to load architecture file")}},[Y,tt]),Rc=async()=>{if(!w.trim()&&!k){G("Please provide a PRD (Product Requirements Document)");return}I(!0),G(null);try{const fe=await qe.generateArchitecture({prdPath:k||void 0,prdContent:k?void 0:w,techStackPath:N||void 0,techStackContent:N?void 0:_||void 0,appName:v||void 0,globalOptions:Le});if(fe.success){const je=await qe.getArchitecture();o(je),x("graph"),ct(!0)}else G(fe.message||"Generation failed")}catch(fe){console.error("Failed to generate architecture:",fe),G(fe.message||"Failed to generate architecture")}finally{I(!1)}},Ac=async()=>{try{await qe.cancelCommand(),I(!1)}catch(fe){console.error("Failed to cancel:",fe)}},Va=j.useCallback(fe=>{const je=fe.filename.match(/_([A-Za-z]+)\.prompt$/),dt=je?je[1].toLowerCase():void 0,kn=fe.filename.replace(/_[A-Za-z]+\.prompt$/,""),hs={prompt:`prompts/${fe.filename}`,sync_basename:kn,language:dt,code:fe.filepath};n(hs)},[n]),ri=j.useCallback(()=>{ct(!1),x("editor")},[]),Ui=j.useCallback(()=>{!a||a.length===0||pe(!0)},[a]),Es=j.useCallback(async fe=>{if(pe(!1),fe.length===0)return;Xe.current=!1,X(!0),W(null),re(!0);const je=fe.map(dt=>{const kn=dt.filename.match(/^(.+)_([^_]+)\.prompt$/);return{module:(kn==null?void 0:kn[1])||dt.filename.replace(".prompt",""),langOrFramework:(kn==null?void 0:kn[2])||"Python"}});r==null||r("Generating Prompts",je.length);try{const dt=await qe.batchGeneratePrompts({modules:je,architectureFile:"architecture.json",prdFile:k||void 0,techStackFile:N||void 0,globalOptions:Le},(hs,Ba,ad)=>{te({current:hs,total:Ba,currentModule:ad}),s==null||s(hs,Ba,ad)},()=>Xe.current);W(dt);const kn=dt.every(hs=>hs.success);i==null||i(kn)}catch(dt){console.error("Failed to generate prompts:",dt),W([{module:"error",success:!1,error:dt.message||"Failed to generate prompts"}]),i==null||i(!1)}finally{X(!1),te(null)}},[k,N,Le,r,s,i]),us=j.useCallback(async()=>{Xe.current=!0;try{await qe.cancelCommand()}catch(fe){console.error("Failed to cancel command:",fe)}},[]),si=j.useCallback(async()=>{re(!1),W(null),Xe.current=!1,await tt()},[tt]),Rs=j.useCallback(()=>{Kn(null),Pn(!0)},[]),nn=j.useCallback(async()=>{pr(!0);try{const fe=await qe.syncArchitectureFromPrompts({dry_run:!1});if(Kn(fe),fe.success&&fe.validation.valid){const je=await qe.getArchitecture();o(je),await tt()}}catch(fe){console.error("Sync failed:",fe),Kn({success:!1,updated_count:0,skipped_count:0,results:[],validation:{valid:!0,errors:[],warnings:[]},errors:[fe.message||"Unexpected error during sync"]})}finally{pr(!1)}},[tt]),Bl=j.useCallback(()=>{Pn(!1),Kn(null)},[]),Ul=j.useCallback(()=>{if(Je&&jn)if(window.confirm("You have unsaved changes. Discard them?"))De(),Ie(null),at(new Set);else return;rt(!Je)},[Je,jn,De]),fs=j.useCallback(fe=>{Xt(fe),me(!0)},[]),ds=j.useCallback(fe=>{Fe&&ls(Fe.filename,fe),me(!1),Xt(null)},[Fe,ls]),Gl=j.useCallback(fe=>{Jn(fe),me(!1),Xt(null)},[Jn]),Wl=j.useCallback(fe=>{ti(fe)},[ti]),Il=j.useCallback((fe,je)=>{Cr(fe,je)},[Cr]),Da=j.useCallback((fe,je)=>{os(fe,je)},[os]),Hl=j.useCallback(fe=>{ni(fe)},[ni]),Gi=j.useCallback(async()=>{if(!(!hn||hn.length===0)){Et(!0),Ie(null),at(new Set);try{const fe=await qe.validateArchitecture(hn);if(Ie(fe),!fe.valid){const dt=new Set;for(const kn of fe.errors)kn.modules.forEach(hs=>dt.add(hs));at(dt),Et(!1);return}const je=await qe.saveArchitecture(hn);je.success?(o(hn),Ne(hn),rt(!1)):alert("Failed to save: "+(je.error||"Unknown error"))}catch(fe){console.error("Failed to save architecture:",fe),alert("Failed to save: "+fe.message)}finally{Et(!1)}}},[hn,Ne]),Or=j.useCallback(()=>{jn&&!window.confirm("Are you sure you want to discard all changes?")||(De(),Ie(null),at(new Set))},[jn,De]);return j.useEffect(()=>{const fe=je=>{if(Je&&((je.ctrlKey||je.metaKey)&&je.key==="s"&&(je.preventDefault(),jn&&Gi()),(je.ctrlKey||je.metaKey)&&je.key==="z"&&!je.shiftKey&&(je.preventDefault(),Rr&&mr()),(je.ctrlKey||je.metaKey)&&je.key==="z"&&je.shiftKey&&(je.preventDefault(),Oe&&Er()),je.key==="Escape"&&(Wt?(me(!1),Xt(null)):ye?Ze(!1):jn?Or():rt(!1)),je.key==="n"&&!je.ctrlKey&&!je.metaKey&&!Wt&&!ye)){if(je.target.tagName==="INPUT"||je.target.tagName==="TEXTAREA")return;je.preventDefault(),Ze(!0)}};return window.addEventListener("keydown",fe),()=>window.removeEventListener("keydown",fe)},[Je,jn,Rr,Oe,Wt,ye,Gi,Or,mr,Er]),j.useEffect(()=>{const fe=je=>{Je&&jn&&(je.preventDefault(),je.returnValue="")};return window.addEventListener("beforeunload",fe),()=>window.removeEventListener("beforeunload",fe)},[Je,jn]),u?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsxs("div",{className:"flex items-center gap-3 text-surface-400",children:[d.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading architecture..."]})}):g==="empty"?d.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[d.jsxs("div",{className:"glass rounded-2xl p-8 max-w-lg text-center border border-surface-700/50",children:[d.jsx("div",{className:"w-16 h-16 rounded-2xl bg-accent-500/20 flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),d.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No architecture.json found"}),d.jsx("p",{className:"text-surface-400 text-sm mb-6",children:"Generate a new architecture from a PRD, or load an existing architecture.json file."}),d.jsxs("div",{className:"flex gap-3 justify-center mb-4",children:[d.jsx("button",{onClick:()=>x("editor"),className:"px-4 py-2.5 bg-accent-600 hover:bg-accent-500 text-white rounded-xl font-medium transition-colors",disabled:!t,children:"Write PRD"}),d.jsx("button",{onClick:()=>R("prd"),className:"px-4 py-2.5 bg-surface-700 hover:bg-surface-600 text-white rounded-xl font-medium transition-colors",disabled:!t,children:"Load PRD"})]}),d.jsxs("div",{className:"pt-4 border-t border-surface-700/50",children:[d.jsx("p",{className:"text-surface-500 text-xs mb-3",children:"Or load an existing architecture file"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:Y,onChange:fe=>{L(fe.target.value),U(null)},placeholder:"architecture.json",className:"flex-1 px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-sm text-white placeholder-surface-500 focus:outline-none focus:border-accent-500",disabled:!t,onKeyDown:fe=>{fe.key==="Enter"&&Cs()}}),d.jsx("button",{onClick:Cs,className:"px-4 py-2 bg-surface-700 hover:bg-surface-600 text-surface-300 hover:text-white rounded-lg text-sm font-medium transition-colors",disabled:!t,children:"Load"})]}),E&&d.jsx("p",{className:"text-red-400 text-xs mt-2",children:E})]}),!t&&d.jsx("p",{className:"text-yellow-400 text-xs mt-4",children:"Connect to server to enable architecture generation"})]}),Z&&d.jsx(qA,{onSelect:cs,onClose:()=>R(null),filter:".md",title:Z==="prd"?"Select PRD File":"Select Tech Stack File"})]}):d.jsxs("div",{className:"flex gap-4 h-[calc(100vh-200px)] min-h-[500px]",children:[d.jsx("div",{className:`flex-shrink-0 transition-all duration-300 ${Qe?"w-12":"w-80"}`,children:d.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 h-full flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"p-3 border-b border-surface-700/50 flex items-center justify-between",children:[!Qe&&d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("input",{type:"text",value:v,onChange:fe=>y(fe.target.value),placeholder:"Project Name",className:"w-full bg-transparent text-white text-sm font-medium placeholder-surface-500 focus:outline-none"})}),d.jsx("button",{onClick:()=>ct(!Qe),className:"p-1.5 hover:bg-surface-700 rounded-lg transition-colors flex-shrink-0",title:Qe?"Expand sidebar":"Collapse sidebar",children:d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${Qe?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),!Qe&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[d.jsxs("div",{className:"p-2 border-b border-surface-700/50 flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider",children:"PRD"}),d.jsx("button",{onClick:()=>R("prd"),className:"p-1 hover:bg-surface-700 rounded text-surface-400 hover:text-white transition-colors",title:"Browse files",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})]}),k&&d.jsx("div",{className:"px-2 py-1 bg-surface-800/50 text-xs text-surface-400 truncate",children:k}),d.jsx("textarea",{value:w,onChange:fe=>{Q(fe.target.value),$(null)},placeholder:`# Product Requirements

## Overview
Describe your product...

## Features
- Feature 1
- Feature 2`,className:"flex-1 p-3 bg-transparent text-sm text-white placeholder-surface-600 resize-none focus:outline-none font-mono"},k||"prd-manual")]}),d.jsxs("div",{className:"border-t border-surface-700/50",children:[d.jsxs("button",{onClick:()=>{be||(we(!0),requestAnimationFrame(()=>{z(!q),setTimeout(()=>we(!1),150)}))},className:"w-full p-2 flex items-center justify-between text-left hover:bg-surface-800/30 transition-colors",children:[d.jsx("span",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Tech Stack (optional)"}),d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${q?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),q&&d.jsxs("div",{className:`border-t border-surface-700/30 transition-opacity duration-150 ${be?"opacity-50":"opacity-100"}`,children:[d.jsx("div",{className:"p-2 flex items-center justify-end",children:d.jsx("button",{onClick:()=>R("techStack"),className:"p-1 hover:bg-surface-700 rounded text-surface-400 hover:text-white transition-colors",title:"Browse files",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})})}),N&&d.jsx("div",{className:"px-2 py-1 bg-surface-800/50 text-xs text-surface-400 truncate",children:N}),d.jsx("textarea",{value:_,onChange:fe=>{T(fe.target.value),C(null)},placeholder:`Backend: Python, FastAPI
Frontend: React, TypeScript
Database: PostgreSQL`,className:"w-full h-24 p-3 bg-transparent text-sm text-white placeholder-surface-600 resize-none focus:outline-none font-mono"},N||"tech-manual")]})]}),d.jsxs("div",{className:"border-t border-surface-700/50",children:[d.jsxs("button",{onClick:()=>{be||(we(!0),requestAnimationFrame(()=>{Ye(!Se),setTimeout(()=>we(!1),150)}))},className:"w-full p-2 flex items-center justify-between text-left hover:bg-surface-800/30 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),(Le.strength!==an.strength||Le.temperature!==an.temperature||Le.time!==an.time||Le.local||Le.verbose||Le.quiet||Le.force)&&d.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${Se?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Se&&d.jsxs("div",{className:`border-t border-surface-700/30 p-3 space-y-3 transition-opacity duration-150 ${be?"opacity-50":"opacity-100"}`,children:[d.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),or.filter(fe=>["strength","temperature","time"].includes(fe.name)).map(fe=>d.jsx(zA,{option:fe,value:Le[fe.name],onChange:je=>We(dt=>({...dt,[fe.name]:je})),compact:!0},fe.name))]}),d.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),or.filter(fe=>["local","verbose","quiet","force"].includes(fe.name)).map(fe=>d.jsx(zA,{option:fe,value:Le[fe.name],onChange:je=>We(dt=>({...dt,[fe.name]:je})),compact:!0},fe.name))]})]})]}),d.jsxs("div",{className:"p-3 border-t border-surface-700/50",children:[F&&d.jsx("div",{className:"mb-2 p-2 bg-red-500/10 border border-red-500/20 rounded-lg text-xs text-red-400",children:F}),A?d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1 px-4 py-2.5 bg-surface-700 rounded-xl flex items-center justify-center gap-2",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 text-surface-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),d.jsx("span",{className:"text-sm text-surface-400",children:"Generating..."})]}),d.jsx("button",{onClick:Ac,className:"px-3 py-2.5 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-xl text-sm font-medium transition-colors",children:"Stop"})]}):d.jsx("button",{onClick:Rc,disabled:e||!t||!w.trim()&&!k,className:`w-full px-4 py-2.5 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 ${e||!t||!w.trim()&&!k?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white shadow-lg shadow-accent-500/25"}`,children:a?"Regenerate":"Generate Architecture"})]}),d.jsx("div",{className:"border-t border-surface-700/50",children:d.jsxs("div",{className:"p-3",children:[d.jsx("p",{className:"text-xs font-medium text-surface-400 uppercase tracking-wider mb-2",children:"Load Architecture File"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:Y,onChange:fe=>{L(fe.target.value),U(null)},placeholder:"architecture.json",className:"flex-1 px-2 py-1.5 bg-surface-900/50 border border-surface-600 rounded text-xs text-white placeholder-surface-500 focus:outline-none focus:border-accent-500",onKeyDown:fe=>{fe.key==="Enter"&&Cs()}}),d.jsx("button",{onClick:Cs,className:"px-3 py-1.5 bg-surface-700 hover:bg-surface-600 text-surface-300 hover:text-white rounded text-xs font-medium transition-colors",children:"Load"})]}),E&&d.jsx("p",{className:"text-red-400 text-[10px] mt-1",children:E})]})})]})]})}),d.jsxs("div",{className:"flex-1 min-w-0 flex flex-col",children:[g==="graph"&&et&&d.jsx(Ace,{editMode:Je,hasUnsavedChanges:jn,onToggleEditMode:Ul,onAddModule:()=>Ze(!0),onSave:Gi,onDiscard:Or,onUndo:mr,onRedo:Er,canUndo:Rr,canRedo:Oe,isSaving:ft,onSyncFromPrompts:Rs}),ke&&!ke.valid&&d.jsx("div",{className:"bg-red-500/10 border-b border-red-500/30 px-4 py-2",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm text-red-400 font-medium",children:"Cannot save: validation errors"}),d.jsx("ul",{className:"text-xs text-red-300 mt-1 space-y-0.5",children:ke.errors.map((fe,je)=>d.jsx("li",{children:fe.message},je))})]})]})}),d.jsx("div",{className:"flex-1 min-h-0",children:g==="graph"&&et?$e?d.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 h-full overflow-y-auto p-4",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),d.jsx("h3",{className:"text-white font-semibold mb-2",children:"Architecture Graph"}),d.jsx("p",{className:"text-sm text-surface-400 mb-4",children:"The interactive architecture graph is best viewed on desktop devices (screen width > 768px)"}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-surface-500",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("span",{children:"Module list shown below"})]})]}),d.jsx("div",{className:"space-y-3",children:et.map(fe=>d.jsxs("div",{className:"bg-surface-800/50 p-4 rounded-lg border border-surface-700/30 hover:border-surface-600/50 transition-colors",onClick:()=>Va(fe),children:[d.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[d.jsx("div",{className:"font-medium text-white text-sm flex-1",children:fe.filename}),ut.has(`${fe.filename.replace(".py","")}.prompt`)&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-500/10 text-green-400 border border-green-500/20 flex-shrink-0",children:[d.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Prompt exists"]})]}),d.jsx("p",{className:"text-xs text-surface-400 line-clamp-2 mb-3",children:fe.description}),fe.dependencies&&fe.dependencies.length>0&&d.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-surface-500",children:[d.jsx("svg",{className:"w-3.5 h-3.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),d.jsxs("span",{className:"truncate",children:["Depends on: ",fe.dependencies.join(", ")]})]})]},fe.filename))}),!Je&&d.jsx("button",{onClick:()=>Ui(),disabled:J,className:"mt-6 w-full px-4 py-3 bg-gradient-to-r from-accent-600 to-accent-500 hover:from-accent-500 hover:to-accent-400 text-white rounded-xl font-medium transition-all duration-200 shadow-lg shadow-accent-500/25 hover:shadow-accent-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Generating Prompts...":"Generate All Prompts"})]}):d.jsx(Nce,{architecture:et,prdContent:w,appName:v,onRegenerate:ri,onModuleClick:Va,onGeneratePrompts:Ui,isGeneratingPrompts:J,existingPrompts:ut,promptsInfo:Gt,editMode:Je,onModuleEdit:fs,onModuleDelete:Gl,onDependencyAdd:Il,onDependencyRemove:Da,onPositionsChange:Hl,highlightedModules:en}):d.jsx("div",{className:"glass rounded-xl border border-surface-700/50 h-full flex items-center justify-center",children:d.jsxs("div",{className:"text-center text-surface-400",children:[d.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"})}),d.jsx("p",{className:"text-sm",children:"Write your PRD and click Generate to create the architecture"})]})})})]}),Z&&d.jsx(qA,{onSelect:cs,onClose:()=>R(null),filter:".md",title:Z==="prd"?"Select PRD File":"Select Tech Stack File"}),ue&&a&&d.jsx(Rce,{isOpen:ue,modules:a,existingPrompts:ut,globalOptions:Le,onGlobalOptionsChange:We,onClose:()=>pe(!1),onConfirm:Es}),ee&&d.jsx(Ece,{isOpen:ee,progress:B,results:V,onClose:si,onCancel:J?us:void 0}),d.jsx(Xce,{isOpen:Wt,module:Fe,allModules:hn,onSave:ds,onDelete:Gl,onClose:()=>{me(!1),Xt(null)}}),d.jsx(Zce,{isOpen:ye,existingModules:hn,onAdd:Wl,onClose:()=>Ze(!1)}),d.jsx(Lce,{isOpen:tn,isSyncing:Fn,result:dn,onSync:nn,onClose:Bl})]})},Bce=["python","typescript","javascript","java","go","rust","cpp","c","csharp","ruby","swift","kotlin"],ZA={contexts:{default:{paths:["**"],defaults:{generate_output_path:"src/",test_output_path:"tests/",example_output_path:"examples/",default_language:"python"}}}},Bn={generate_output_path:{label:"Code Output Directory",placeholder:"src/"},test_output_path:{label:"Test Output Directory",placeholder:"tests/"},example_output_path:{label:"Example Output Directory",placeholder:"examples/"},prompts_dir:{label:"Prompts Directory",placeholder:"prompts/"},default_language:{label:"Default Language"},strength:{label:"Model Strength",placeholder:"0.75"},temperature:{label:"Temperature",placeholder:"0.0"},budget:{label:"Budget",placeholder:"5.0"}},Uce=({name:t,context:e,isDefault:n,onChange:r,onDelete:s,onRename:i})=>{const[a,o]=j.useState(!0),[u,f]=j.useState(!1),[p,m]=j.useState(!1),[g,x]=j.useState(t),v=($,_)=>{const T={...e.defaults};_===""||_===void 0?delete T[$]:T[$]=_,r(t,{...e,defaults:T})},y=$=>{const _=$.split(",").map(T=>T.trim()).filter(Boolean);r(t,{...e,paths:_})},w=e.paths||[],Q=e.defaults||{},k=()=>{g&&g!==t&&i(t,g),m(!1)};return d.jsxs("div",{className:"glass rounded-xl border border-surface-700/50 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-surface-800/50 transition-colors",onClick:()=>o(!a),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(z7,{className:"w-5 h-5 text-accent-400"}),p&&!n?d.jsx("input",{type:"text",value:g,onChange:$=>x($.target.value),onBlur:k,onKeyDown:$=>{$.key==="Enter"&&k(),$.key==="Escape"&&(x(t),m(!1))},onClick:$=>$.stopPropagation(),className:"px-2 py-1 bg-surface-900 border border-surface-600 rounded text-white text-sm focus:outline-none focus:border-accent-500",autoFocus:!0}):d.jsxs("span",{className:"font-medium text-white",onDoubleClick:$=>{n||($.stopPropagation(),m(!0))},children:[t,n&&d.jsx("span",{className:"ml-2 text-xs text-surface-400",children:"(default)"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[!n&&d.jsx(Dr,{content:"Delete context",children:d.jsx("button",{onClick:$=>{$.stopPropagation(),s(t)},className:"p-1.5 hover:bg-red-500/20 rounded-lg transition-colors text-surface-400 hover:text-red-400",children:d.jsx(UJ,{className:"w-4 h-4"})})}),a?d.jsx(rm,{className:"w-5 h-5 text-surface-400"}):d.jsx(sm,{className:"w-5 h-5 text-surface-400"})]})]}),a&&d.jsxs("div",{className:"p-4 pt-0 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:"File Patterns"}),d.jsx("input",{type:"text",value:w.join(", "),onChange:$=>y($.target.value),placeholder:"**, frontend/**, backend/**",className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"}),d.jsx("p",{className:"mt-1 text-xs text-surface-500",children:"Glob patterns to match files (e.g., frontend/**, **/*.py)"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.generate_output_path.label}),d.jsx("input",{type:"text",value:Q.generate_output_path||"",onChange:$=>v("generate_output_path",$.target.value),placeholder:Bn.generate_output_path.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.test_output_path.label}),d.jsx("input",{type:"text",value:Q.test_output_path||"",onChange:$=>v("test_output_path",$.target.value),placeholder:Bn.test_output_path.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.example_output_path.label}),d.jsx("input",{type:"text",value:Q.example_output_path||"",onChange:$=>v("example_output_path",$.target.value),placeholder:Bn.example_output_path.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.default_language.label}),d.jsxs("select",{value:Q.default_language||"",onChange:$=>v("default_language",$.target.value),className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white focus:outline-none focus:border-accent-500 text-sm",children:[d.jsx("option",{value:"",children:"Select language..."}),Bce.map($=>d.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]})]})]}),d.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 text-sm text-surface-400 hover:text-white transition-colors",children:[u?d.jsx(rm,{className:"w-4 h-4"}):d.jsx(sm,{className:"w-4 h-4"}),"Advanced Options"]}),u&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-3 bg-surface-800/30 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.prompts_dir.label}),d.jsx("input",{type:"text",value:Q.prompts_dir||"",onChange:$=>v("prompts_dir",$.target.value),placeholder:Bn.prompts_dir.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.strength.label}),d.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",value:Q.strength??"",onChange:$=>v("strength",$.target.value?parseFloat($.target.value):void 0),placeholder:Bn.strength.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.temperature.label}),d.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:Q.temperature??"",onChange:$=>v("temperature",$.target.value?parseFloat($.target.value):void 0),placeholder:Bn.temperature.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-1",children:Bn.budget.label}),d.jsx("input",{type:"number",min:"0",step:"1",value:Q.budget??"",onChange:$=>v("budget",$.target.value?parseFloat($.target.value):void 0),placeholder:Bn.budget.placeholder,className:"w-full px-3 py-2 bg-surface-900/50 border border-surface-600 rounded-lg text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 text-sm"})]})]})]})]})},Gce=()=>{const[t,e]=j.useState(null),[n,r]=j.useState(""),[s,i]=j.useState(!0),[a,o]=j.useState(!1),[u,f]=j.useState(null),[p,m]=j.useState(!1),[g,x]=j.useState(null),[v,y]=j.useState(!1),[w,Q]=j.useState(null),k=async()=>{i(!0),f(null);try{console.log("[ProjectSettings] Loading .pddrc configuration...");const Z=await qe.getPddrc();console.log("[ProjectSettings] Loaded config:",Z),Z?(e(Z),r(JSON.stringify(Z))):(console.log("[ProjectSettings] No .pddrc found, using defaults"),e(ZA),r(""))}catch(Z){console.error("[ProjectSettings] Error loading config:",Z),f(Z instanceof Error?Z.message:"Failed to load configuration"),e(ZA)}finally{console.log("[ProjectSettings] Loading complete"),i(!1)}};j.useEffect(()=>{k()},[]),j.useEffect(()=>{(async()=>{try{const R=await qe.getAuthStatus();x(R)}catch{x({authenticated:!1,cached:!1,expires_at:null})}})()},[]);const $=async()=>{y(!0),Q(null);try{const Z=await qe.logout();if(Z.success){Q({success:!0,message:"Tokens cleared. Run any pdd command to re-authenticate with GitHub."});const R=await qe.getAuthStatus();x(R)}else Q(Z)}catch(Z){Q({success:!1,message:Z instanceof Error?Z.message:"Failed to clear tokens"})}finally{y(!1)}},_=j.useCallback(()=>t?JSON.stringify(t)!==n:!1,[t,n]),T=async()=>{if(t){o(!0),f(null);try{const Z=await qe.savePddrc(t);Z.success?(r(JSON.stringify(t)),m(!0),setTimeout(()=>m(!1),3e3)):f(Z.error||"Failed to save configuration")}catch(Z){f(Z instanceof Error?Z.message:"Failed to save configuration")}finally{o(!1)}}},N=(Z,R)=>{t&&e({...t,contexts:{...t.contexts,[Z]:R}})},C=Z=>{if(!t||Z==="default")return;const R={...t.contexts};delete R[Z],e({...t,contexts:R})},q=(Z,R)=>{if(!t||Z==="default"||!R||R===Z)return;if(t.contexts[R]){f(`Context "${R}" already exists`);return}const Y={};for(const[L,E]of Object.entries(t.contexts))L===Z?Y[R]=E:Y[L]=E;e({...t,contexts:Y})},z=()=>{if(!t)return;let Z="new-context",R=1;for(;t.contexts[Z];)Z=`new-context-${R}`,R++;e({...t,contexts:{...t.contexts,[Z]:{paths:[],defaults:{}}}})};return s?d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 bg-surface-900/50 rounded-xl",children:[d.jsx(cf,{className:"w-8 h-8 text-accent-400 animate-spin"}),d.jsx("p",{className:"mt-4 text-surface-400 text-sm",children:"Loading project settings..."})]}):t?d.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent-500/20 flex items-center justify-center",children:d.jsx(Z7,{className:"w-5 h-5 text-accent-400"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Project Settings"}),d.jsx("p",{className:"text-sm text-surface-400",children:"Configure where your code, tests, and examples are saved"})]})]}),d.jsx("button",{onClick:T,disabled:a||!_(),className:`px-4 py-2 rounded-xl font-medium transition-all flex items-center gap-2 ${a||!_()?"bg-surface-700 text-surface-500 cursor-not-allowed":p?"bg-green-600 text-white":"bg-accent-600 hover:bg-accent-500 text-white"}`,children:a?d.jsxs(d.Fragment,{children:[d.jsx(cf,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):p?"Saved!":"Save Changes"})]}),u&&d.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-sm",children:u}),d.jsx("div",{className:"mb-6 p-4 glass rounded-xl border border-surface-700/50",children:d.jsxs("p",{className:"text-sm text-surface-300",children:["Define output paths for different parts of your project. Each ",d.jsx("strong",{children:"context"})," matches file patterns and applies specific settings. The ",d.jsx("strong",{children:"default"})," context matches all files not covered by other contexts."]})}),d.jsx("div",{className:"space-y-4",children:(t==null?void 0:t.contexts)&&Object.entries(t.contexts).map(([Z,R])=>d.jsx(Uce,{name:Z,context:R,isDefault:Z==="default",onChange:N,onDelete:C,onRename:q},Z))}),d.jsxs("button",{onClick:z,className:"mt-4 w-full px-4 py-3 border-2 border-dashed border-surface-600 rounded-xl text-surface-400 hover:text-white hover:border-accent-500 transition-colors flex items-center justify-center gap-2",children:[d.jsx(GJ,{className:"w-5 h-5"}),"Add Context"]}),d.jsxs("div",{className:"mt-8 glass rounded-xl border border-surface-700/50 p-4 sm:p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold text-white",children:"PDD Cloud Authentication"}),d.jsx("p",{className:"text-sm text-surface-400",children:"Manage your GitHub authentication for PDD Cloud"})]})]}),d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-surface-800/50 mb-4",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${g!=null&&g.authenticated?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-white",children:g!=null&&g.authenticated?"Currently Authenticated":"Not Authenticated"}),d.jsx("p",{className:"text-xs text-surface-400",children:g!=null&&g.authenticated?g.cached?"Using cached JWT token":"Using refresh token":"No valid tokens found"})]})]}),d.jsx("p",{className:"text-sm text-surface-300 mb-4",children:"Clear stored tokens to force a fresh GitHub Device Flow login on the next PDD command."}),w&&d.jsx("div",{className:`mb-4 p-3 rounded-lg text-sm ${w.success?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:w.message}),d.jsx("button",{onClick:$,disabled:v,className:"px-4 py-2 bg-red-600/80 hover:bg-red-600 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:v?d.jsxs(d.Fragment,{children:[d.jsx(cf,{className:"w-4 h-4 animate-spin"}),"Clearing..."]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Force Re-authentication"]})}),d.jsx("p",{className:"mt-2 text-xs text-surface-500",children:"Clears JWT cache (~/.pdd/jwt_cache) and refresh token from system keyring."})]}),_()&&d.jsx("div",{className:"mt-4 p-3 bg-yellow-500/20 border border-yellow-500/50 rounded-lg text-yellow-300 text-sm",children:'You have unsaved changes. Click "Save Changes" to persist your configuration.'})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8 gap-4",children:[d.jsx("p",{className:"text-surface-400",children:"Failed to load configuration"}),d.jsx("button",{onClick:k,className:"px-4 py-2 bg-accent-600 hover:bg-accent-500 text-white rounded-lg transition-colors",children:"Retry"})]})};function LA(t,e){const r=Math.floor((new Date().getTime()-t.getTime())/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60),i=r%60;if(s<60)return`${s}m ${i}s`;const a=Math.floor(s/60),o=s%60;return`${a}h ${o}m`}function Wce(t){const e=Math.floor((new Date().getTime()-t.getTime())/1e3);if(e<60)return`${e}s ago`;const n=Math.floor(e/60);if(n<60)return`${n}m ago`;const r=Math.floor(n/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function Ice(t){switch(t){case"queued":return{bg:"bg-yellow-500/20",text:"text-yellow-400",icon:"clock"};case"running":return{bg:"bg-accent-500/20",text:"text-accent-400",icon:"spinner"};case"completed":return{bg:"bg-green-500/20",text:"text-green-400",icon:"check"};case"failed":return{bg:"bg-red-500/20",text:"text-red-400",icon:"x"};case"cancelled":return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"slash"};default:return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"question"}}}const YA=({job:t,isSelected:e,onSelect:n,onCancel:r,onRemove:s,onMarkDone:i,onMarkStatus:a})=>{var g,x;const o=Ice(t.status),u=t.status==="queued"||t.status==="running",f=t.id.startsWith("spawned-"),p=((g=t.metadata)==null?void 0:g.remote)===!0,m=t.progress?Math.round(t.progress.current/t.progress.total*100):null;return d.jsxs("div",{onClick:n,className:`
        relative p-4 rounded-xl border cursor-pointer transition-all duration-200
        ${e?"border-accent-500 bg-accent-500/10 shadow-lg shadow-accent-500/10":"border-surface-700/50 bg-surface-800/50 hover:border-surface-600 hover:bg-surface-800/80"}
      `,children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-3",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-sm font-medium text-white truncate",title:t.displayCommand,children:t.displayCommand}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${o.bg} ${o.text}`,children:[o.icon==="spinner"&&d.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),o.icon==="check"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o.icon==="x"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),o.icon==="clock"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.icon==="slash"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),t.status]}),d.jsx("span",{className:"text-xs text-surface-500",children:u?LA(t.startedAt):t.completedAt?Wce(t.completedAt):LA(t.startedAt)})]})]}),t.cost>0&&d.jsxs("span",{className:"text-xs text-surface-400 font-mono",children:["$",t.cost.toFixed(3)]})]}),u&&m!==null&&d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[d.jsx("span",{className:"text-surface-400 truncate max-w-[70%]",children:((x=t.progress)==null?void 0:x.message)||"Processing..."}),d.jsxs("span",{className:"text-accent-400 font-medium",children:[m,"%"]})]}),d.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-accent-600 to-accent-400 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}),t.status==="running"&&m===null&&d.jsx("div",{className:"mb-3",children:d.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-accent-600 to-accent-400 rounded-full animate-indeterminate"})})}),t.output.length>0&&d.jsx("div",{className:"mb-3 p-2 bg-surface-900/50 rounded-lg",children:d.jsx("p",{className:"text-xs text-surface-400 font-mono truncate",children:t.output[t.output.length-1]})}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[u&&f&&!p&&i&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:v=>{v.stopPropagation(),i(!0)},className:"px-3 py-1.5 text-xs font-medium text-green-400 bg-green-500/10 hover:bg-green-500/20 border border-green-500/20 rounded-lg transition-colors",title:"Mark as successfully completed",children:"Done"}),d.jsx("button",{onClick:v=>{v.stopPropagation(),i(!1)},className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",title:"Mark as failed",children:"Failed"}),s&&d.jsx("button",{onClick:v=>{v.stopPropagation(),s()},className:"px-3 py-1.5 text-xs font-medium text-surface-400 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors",title:"Remove from dashboard (close terminal to stop command)",children:"Dismiss"})]}),u&&p&&a&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:v=>{v.stopPropagation(),a("completed")},className:"px-3 py-1.5 text-xs font-medium text-green-400 bg-green-500/10 hover:bg-green-500/20 border border-green-500/20 rounded-lg transition-colors",title:"Mark as successfully completed",children:"Done"}),d.jsx("button",{onClick:v=>{v.stopPropagation(),a("failed")},className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",title:"Mark as failed",children:"Failed"}),d.jsx("button",{onClick:v=>{v.stopPropagation(),a("cancelled")},className:"px-3 py-1.5 text-xs font-medium text-surface-400 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors",title:"Mark as cancelled",children:"Cancelled"})]}),u&&p&&d.jsx("button",{onClick:v=>{v.stopPropagation(),alert("Cancel Remote is not fully implemented yet. Use the manual status buttons above to mark the job status.")},className:"px-3 py-1.5 text-xs font-medium text-purple-400/50 bg-purple-500/5 border border-purple-500/10 rounded-lg cursor-not-allowed",title:"Coming soon - use manual status buttons for now",children:"Cancel Remote (Coming Soon)"}),u&&!f&&!p&&d.jsx("button",{onClick:v=>{v.stopPropagation(),r()},className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",children:"Cancel"}),!u&&s&&d.jsx("button",{onClick:v=>{v.stopPropagation(),s()},className:"px-3 py-1.5 text-xs font-medium text-surface-400 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors",children:"Remove"}),d.jsx("button",{onClick:v=>{v.stopPropagation(),n()},className:"px-3 py-1.5 text-xs font-medium text-accent-400 bg-accent-500/10 hover:bg-accent-500/20 border border-accent-500/20 rounded-lg transition-colors ml-auto",children:f?"Details":"View Output"})]})]})};function VA(t,e){const r=Math.floor(((e||new Date).getTime()-t.getTime())/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60),i=r%60;if(s<60)return`${s}m ${i}s`;const a=Math.floor(s/60),o=s%60;return`${a}h ${o}m`}const Hce=({job:t,onCancel:e,onClose:n})=>{var v;const r=j.useRef(null),[s,i]=j.useState(!0),[a,o]=j.useState(!1),[u,f]=j.useState(VA(t.startedAt,t.completedAt)),p=t.status==="queued"||t.status==="running",m=t.progress?Math.round(t.progress.current/t.progress.total*100):null;j.useEffect(()=>{if(!p)return;const y=setInterval(()=>{f(VA(t.startedAt,null))},1e3);return()=>clearInterval(y)},[p,t.startedAt]),j.useEffect(()=>{s&&r.current&&(r.current.scrollTop=r.current.scrollHeight)},[t.output,s]);const g=()=>{if(!r.current)return;const{scrollTop:y,scrollHeight:w,clientHeight:Q}=r.current,k=w-y-Q<50;i(k)},x=async()=>{const y=t.output.join(`
`);try{await navigator.clipboard.writeText(y),o(!0),setTimeout(()=>o(!1),2e3)}catch(w){console.error("Failed to copy:",w)}};return d.jsxs("div",{className:"flex flex-col h-full bg-surface-900 rounded-xl border border-surface-700/50 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-surface-800/50 border-b border-surface-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${t.status==="running"?"bg-accent-400 animate-pulse":t.status==="queued"?"bg-yellow-400":t.status==="completed"?"bg-green-400":t.status==="failed"?"bg-red-400":"bg-surface-400"}`}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("h3",{className:"text-sm font-medium text-white truncate",children:t.displayCommand}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-surface-400",children:[d.jsx("span",{className:"capitalize",children:t.status}),d.jsx("span",{children:""}),d.jsx("span",{children:u}),t.cost>0&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:""}),d.jsxs("span",{className:"font-mono",children:["$",t.cost.toFixed(3)]})]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:x,className:"px-3 py-1.5 text-xs font-medium text-surface-300 bg-surface-700/50 hover:bg-surface-700 border border-surface-600/50 rounded-lg transition-colors flex items-center gap-1.5",title:"Copy output",children:a?d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"w-3.5 h-3.5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})}),p&&d.jsx("button",{onClick:e,className:"px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{onClick:n,className:"p-1.5 text-surface-400 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",title:"Close",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),p&&d.jsx("div",{className:"px-4 py-2 bg-surface-800/30 border-b border-surface-700/30",children:m!==null?d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[d.jsx("span",{className:"text-surface-400 truncate max-w-[70%]",children:((v=t.progress)==null?void 0:v.message)||"Processing..."}),d.jsxs("span",{className:"text-accent-400 font-medium",children:[m,"%"]})]}),d.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-accent-600 to-accent-400 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}):d.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-accent-600 to-accent-400 rounded-full animate-indeterminate"})})}),d.jsxs("div",{ref:r,onScroll:g,className:"flex-1 overflow-auto p-4 font-mono text-sm",children:[t.output.length===0?d.jsx("div",{className:"text-surface-500 text-center py-8",children:p?"Waiting for output...":"No output"}):d.jsx("pre",{className:"whitespace-pre-wrap break-words text-surface-300",children:t.output.map((y,w)=>d.jsx("div",{className:`${y.startsWith("[stderr]")?"text-red-400":y.startsWith(">")?"text-accent-400":""}`,children:y},w))}),!s&&t.output.length>0&&d.jsxs("button",{onClick:()=>{i(!0),r.current&&(r.current.scrollTop=r.current.scrollHeight)},className:"fixed bottom-20 right-8 px-3 py-2 bg-accent-600 hover:bg-accent-500 text-white text-xs font-medium rounded-lg shadow-lg transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Scroll to bottom"]})]}),t.status==="failed"&&t.error&&d.jsx("div",{className:"px-4 py-3 bg-red-500/10 border-t border-red-500/20",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-sm text-red-400",children:t.error})]})}),t.status==="completed"&&d.jsx("div",{className:"px-4 py-3 bg-green-500/10 border-t border-green-500/20",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),d.jsx("p",{className:"text-sm text-green-400",children:"Job completed successfully"})]})})]})},Fce=({activeJobs:t,completedJobs:e,selectedJob:n,onSelectJob:r,onCancelJob:s,onRemoveJob:i,onClearCompleted:a,onMarkSpawnedDone:o,onMarkJobStatus:u,batchOperation:f,onCancelBatchOperation:p})=>{const[m,g]=j.useState(!1),x=t.length>0||e.length>0,v=f&&f.status==="running";return!x&&!n&&!v?null:d.jsx("div",{className:"fixed bottom-12 left-0 right-0 z-50 pointer-events-none",children:d.jsxs("div",{className:`
          pointer-events-auto mx-4 mb-2 bg-surface-900/95 backdrop-blur-lg rounded-2xl border border-surface-700/50 shadow-2xl
          transition-all duration-300 ease-in-out
          ${m?"max-h-14":n?"max-h-[65vh]":"max-h-[35vh]"}
        `,children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-700/50 cursor-pointer",onClick:()=>g(!m),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${m?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),d.jsx("h2",{className:"text-sm font-medium text-white",children:"Jobs Dashboard"}),v&&d.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-500/20 text-purple-400 rounded-full flex items-center gap-1",children:[d.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),f.name]}),t.length>0&&d.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-accent-500/20 text-accent-400 rounded-full",children:[t.length," running"]}),e.length>0&&d.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-surface-700 text-surface-400 rounded-full",children:[e.length," completed"]})]}),d.jsx("div",{className:"flex items-center gap-2",onClick:y=>y.stopPropagation(),children:e.length>0&&d.jsx("button",{onClick:a,className:"px-3 py-1.5 text-xs font-medium text-surface-400 hover:text-white hover:bg-surface-700 rounded-lg transition-colors",children:"Clear completed"})})]}),!m&&d.jsxs("div",{className:`flex ${n?"h-[calc(65vh-3.5rem)]":"h-[calc(35vh-3.5rem)]"}`,children:[d.jsxs("div",{className:`${n?"w-80 border-r border-surface-700/50":"w-full"} overflow-y-auto p-4`,children:[v&&f&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xs font-medium text-purple-400 uppercase tracking-wider mb-3",children:"Batch Operation"}),d.jsxs("div",{className:"bg-surface-800/50 rounded-xl p-4 border border-purple-500/20",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-white",children:f.name}),p&&d.jsx("button",{onClick:p,className:"px-2 py-1 text-xs text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",children:"Cancel"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-surface-400 mb-2",children:[d.jsxs("span",{children:[f.current," / ",f.total]}),d.jsx("span",{className:"text-surface-600",children:""}),d.jsx("span",{className:"text-purple-400",children:f.currentItem})]}),d.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-accent-500 transition-all duration-300",style:{width:`${f.current/f.total*100}%`}})})]})]}),t.length>0&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-xs font-medium text-surface-500 uppercase tracking-wider mb-3",children:"Active Jobs"}),d.jsx("div",{className:"space-y-3",children:t.map(y=>d.jsx(YA,{job:y,isSelected:(n==null?void 0:n.id)===y.id,onSelect:()=>r(y.id),onCancel:()=>s(y.id),onRemove:()=>i(y.id),onMarkDone:o?w=>o(y.id,w):void 0,onMarkStatus:u?w=>u(y.id,w):void 0},y.id))})]}),e.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-medium text-surface-500 uppercase tracking-wider mb-3",children:"Recent Jobs"}),d.jsx("div",{className:"space-y-3",children:e.slice(0,10).map(y=>d.jsx(YA,{job:y,isSelected:(n==null?void 0:n.id)===y.id,onSelect:()=>r(y.id),onCancel:()=>{},onRemove:()=>i(y.id)},y.id))})]}),t.length===0&&e.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("svg",{className:"w-12 h-12 text-surface-600 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),d.jsx("p",{className:"text-surface-500 text-sm",children:"No jobs yet"}),d.jsx("p",{className:"text-surface-600 text-xs mt-1",children:"Run a command to see it here"})]})]}),n&&d.jsx("div",{className:"flex-1 p-4",children:d.jsx(Hce,{job:n,onCancel:()=>s(n.id),onClose:()=>r(null)})})]})]})})};function Kce(t,e){if(!t)return"";const r=Math.floor(((e||new Date).getTime()-t.getTime())/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60),i=r%60;if(s<60)return`${s}m ${i}s`;const a=Math.floor(s/60),o=s%60;return`${a}h ${o}m`}function Jce(t){switch(t){case"pending":return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"clock"};case"running":return{bg:"bg-accent-500/20",text:"text-accent-400",icon:"spinner"};case"completed":return{bg:"bg-green-500/20",text:"text-green-400",icon:"check"};case"failed":return{bg:"bg-red-500/20",text:"text-red-400",icon:"x"};case"skipped":return{bg:"bg-yellow-500/20",text:"text-yellow-400",icon:"skip"};default:return{bg:"bg-surface-500/20",text:"text-surface-400",icon:"question"}}}const eue=({task:t,index:e,onRemove:n,onSkip:r,onRetry:s,onRunNow:i,isDraggable:a,onDragStart:o,onDragOver:u,onDrop:f,onDragEnd:p})=>{if(!t)return null;const m=Jce(t.status||"pending"),g=t.status==="running",x=t.status==="pending",v=t.status==="failed",y=t.status==="completed"||t.status==="skipped";return d.jsxs("div",{draggable:a,onDragStart:o,onDragOver:u,onDrop:f,onDragEnd:p,className:`
        relative p-3 rounded-lg border transition-all duration-200
        ${g?"border-accent-500/50 bg-accent-500/10":y?"border-surface-700/30 bg-surface-800/30 opacity-75":"border-surface-700/50 bg-surface-800/50 hover:border-surface-600"}
        ${a?"cursor-grab active:cursor-grabbing":""}
      `,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 pt-0.5",children:[a?d.jsx("div",{className:"text-surface-500 hover:text-surface-400 cursor-grab",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8h16M4 16h16"})})}):d.jsx("div",{className:"w-4"}),d.jsx("span",{className:"text-xs text-surface-500 font-mono w-4 text-center",children:e+1})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"flex items-start justify-between gap-2",children:d.jsx("h4",{className:"text-sm font-medium text-white truncate",title:t.displayCommand||"Task",children:t.displayCommand||"Task"})}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${m.bg} ${m.text}`,children:[m.icon==="spinner"&&d.jsxs("svg",{className:"w-3 h-3 animate-spin",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),m.icon==="check"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),m.icon==="x"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),m.icon==="clock"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.icon==="skip"&&d.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),t.status]}),(g||y)&&t.startedAt&&d.jsx("span",{className:"text-xs text-surface-500",children:Kce(t.startedAt,t.completedAt)}),t.jobId&&d.jsxs("span",{className:"text-xs text-surface-600 font-mono",children:["#",t.jobId.slice(-6)]})]}),t.error&&d.jsx("p",{className:"text-xs text-red-400 mt-1 truncate",title:t.error,children:t.error})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[x&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:w=>{w.stopPropagation(),i()},className:"p-1.5 text-accent-400 hover:bg-accent-500/20 rounded transition-colors",title:"Run now",children:d.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),d.jsx("button",{onClick:w=>{w.stopPropagation(),r()},className:"p-1.5 text-yellow-400 hover:bg-yellow-500/20 rounded transition-colors",title:"Skip this task",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]}),v&&d.jsx("button",{onClick:w=>{w.stopPropagation(),s()},className:"p-1.5 text-accent-400 hover:bg-accent-500/20 rounded transition-colors",title:"Retry this task",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),!g&&d.jsx("button",{onClick:w=>{w.stopPropagation(),n()},className:"p-1.5 text-surface-500 hover:text-red-400 hover:bg-red-500/20 rounded transition-colors",title:"Remove from queue",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),g&&d.jsx("div",{className:"mt-2 h-1 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full w-1/3 bg-gradient-to-r from-accent-600 to-accent-400 rounded-full animate-indeterminate"})})]})},tue=({executionMode:t,isQueueRunning:e,isPaused:n,hasPendingTasks:r,hasCompletedTasks:s,hasAnyTasks:i,progress:a,onSetExecutionMode:o,onStartQueue:u,onPauseQueue:f,onResumeQueue:p,onRunNextTask:m,onClearCompleted:g,onClearAll:x})=>d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-surface-400",children:"Execution Mode"}),d.jsxs("div",{className:"flex items-center bg-surface-800 rounded-lg p-0.5 border border-surface-700",children:[d.jsx("button",{onClick:()=>o("auto"),className:`
              px-3 py-1 text-xs font-medium rounded-md transition-colors
              ${t==="auto"?"bg-accent-600 text-white":"text-surface-400 hover:text-white"}
            `,children:"Auto"}),d.jsx("button",{onClick:()=>o("manual"),className:`
              px-3 py-1 text-xs font-medium rounded-md transition-colors
              ${t==="manual"?"bg-accent-600 text-white":"text-surface-400 hover:text-white"}
            `,children:"Manual"})]})]}),i&&d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsx("span",{className:"text-surface-400",children:"Progress"}),d.jsxs("span",{className:"text-surface-300",children:[a.completed," / ",a.total," completed"]})]}),i&&a.total>0&&d.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-accent-600 to-green-500 rounded-full transition-all duration-300",style:{width:`${a.completed/a.total*100}%`}})}),d.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t==="auto"&&d.jsxs(d.Fragment,{children:[!e&&r&&d.jsxs("button",{onClick:u,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 rounded-lg transition-colors",children:[d.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Start Queue"]}),e&&!n&&d.jsxs("button",{onClick:f,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-yellow-600 text-white hover:bg-yellow-500 rounded-lg transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pause"]}),e&&n&&d.jsxs("button",{onClick:p,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 rounded-lg transition-colors",children:[d.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"Resume"]})]}),t==="manual"&&r&&a.running===0&&d.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-accent-600 text-white hover:bg-accent-500 rounded-lg transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})}),"Run Next"]}),s&&d.jsxs("button",{onClick:g,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium bg-surface-700 text-surface-300 hover:bg-surface-600 rounded-lg transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Clear Completed"]}),i&&d.jsxs("button",{onClick:x,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-lg transition-colors",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]})]}),nue=({tasks:t,executionMode:e,isQueueRunning:n,isPaused:r,progress:s,onSetExecutionMode:i,onStartQueue:a,onPauseQueue:o,onResumeQueue:u,onRunNextTask:f,onRemoveTask:p,onSkipTask:m,onRetryTask:g,onReorderTasks:x,onClearCompleted:v,onClearAll:y})=>{const[w,Q]=j.useState(!1),[k,$]=j.useState(null),_=j.useCallback(R=>Y=>{if(!t||!t[R]||t[R].status!=="pending"){Y.preventDefault();return}$(R),Y.dataTransfer.effectAllowed="move"},[t]),T=j.useCallback(R=>Y=>{Y.preventDefault(),!(k===null||k===R)&&(!t||!t[R]||t[R].status!=="pending"||(Y.dataTransfer.dropEffect="move"))},[k,t]),N=j.useCallback(R=>Y=>{Y.preventDefault(),!(k===null||k===R)&&(!t||!t[R]||t[R].status!=="pending"||(x(k,R),$(null)))},[k,x,t]),C=j.useCallback(()=>{$(null)},[]);if(!Array.isArray(t))return console.error("TaskQueuePanel: tasks is not an array",t),null;const q=t.some(R=>(R==null?void 0:R.status)==="pending"),z=t.some(R=>(R==null?void 0:R.status)==="completed"||(R==null?void 0:R.status)==="failed"||(R==null?void 0:R.status)==="skipped"),Z=t.length>0;return Z?d.jsx("div",{className:"fixed top-16 right-4 z-40 pointer-events-none",style:{width:"380px"},children:d.jsxs("div",{className:`
          pointer-events-auto bg-surface-900/95 backdrop-blur-lg rounded-2xl border border-surface-700/50 shadow-2xl
          transition-all duration-300 ease-in-out
          ${w?"max-h-14":"max-h-[70vh]"}
        `,children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-surface-700/50 cursor-pointer",onClick:()=>Q(!w),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${w?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),d.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Task Queue"]}),n&&!r&&d.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-accent-500/20 text-accent-400 rounded-full flex items-center gap-1",children:[d.jsxs("svg",{className:"animate-spin h-3 w-3",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Running"]}),n&&r&&d.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-yellow-500/20 text-yellow-400 rounded-full",children:"Paused"}),d.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-surface-700 text-surface-400 rounded-full",children:[s.pending," pending"]})]}),d.jsx("div",{className:"flex items-center gap-2",onClick:R=>R.stopPropagation(),children:d.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${e==="auto"?"bg-green-500/20 text-green-400":"bg-surface-700 text-surface-400"}`,children:e==="auto"?"Auto":"Manual"})})]}),!w&&d.jsxs("div",{className:"max-h-[calc(70vh-3.5rem)] overflow-hidden flex flex-col",children:[d.jsx("div",{className:"px-4 py-3 border-b border-surface-700/30",children:d.jsx(tue,{executionMode:e,isQueueRunning:n,isPaused:r,hasPendingTasks:q,hasCompletedTasks:z,hasAnyTasks:Z,progress:s,onSetExecutionMode:i,onStartQueue:a,onPauseQueue:o,onResumeQueue:u,onRunNextTask:f,onClearCompleted:v,onClearAll:y})}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d.jsx("div",{className:"space-y-2",children:t.map((R,Y)=>!R||!R.id?null:d.jsx(eue,{task:R,index:Y,isDraggable:R.status==="pending",onRemove:()=>p(R.id),onSkip:()=>m(R.id),onRetry:()=>g(R.id),onRunNow:f,onDragStart:_(Y),onDragOver:T(Y),onDrop:N(Y),onDragEnd:C},R.id))}),t.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx("svg",{className:"w-12 h-12 text-surface-600 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),d.jsx("p",{className:"text-surface-500 text-sm",children:"Queue is empty"}),d.jsx("p",{className:"text-surface-600 text-xs mt-1",children:"Add tasks to run them in sequence"})]})]})]})]})}):null};function ow(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}const cw=({option:t,value:e,onChange:n,compact:r=!1})=>{const s=`queue-option-${t.name}`;if(t.type==="checkbox")return d.jsxs("label",{htmlFor:s,className:`flex items-start gap-3 ${r?"p-2":"p-3"} rounded-xl bg-surface-800/30 hover:bg-surface-800/50 transition-colors cursor-pointer group`,children:[d.jsx("input",{type:"checkbox",id:s,checked:!!e,onChange:i=>n(i.target.checked),className:"w-4 h-4 mt-0.5 rounded bg-surface-700 border-surface-600 text-accent-500 focus:ring-accent-500 focus:ring-offset-surface-800"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`${r?"text-xs":"text-sm"} font-medium text-white group-hover:text-accent-300 transition-colors`,children:ow(t.name)}),d.jsx("div",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mt-0.5`,children:t.description})]})]});if(t.type==="range"){const i=t.min??0,a=t.max??1,o=t.step??.1,u=e??t.defaultValue??i;return d.jsxs("div",{className:r?"space-y-1.5":"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{htmlFor:s,className:`${r?"text-xs":"text-sm"} font-medium text-white`,children:ow(t.name)}),d.jsx("span",{className:`${r?"text-xs":"text-sm"} font-mono text-accent-400 bg-accent-500/10 px-2 py-0.5 rounded-lg`,children:typeof u=="number"?u.toFixed(2):u})]}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400`,children:t.description}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-[10px] text-surface-500 w-6 text-right",children:i}),d.jsx("input",{type:"range",id:s,min:i,max:a,step:o,value:u,onChange:f=>n(parseFloat(f.target.value)),className:"flex-1 h-2 bg-surface-700 rounded-full appearance-none cursor-pointer accent-accent-500"}),d.jsx("span",{className:"text-[10px] text-surface-500 w-6",children:a})]})]})}return d.jsxs("div",{children:[d.jsxs("label",{htmlFor:s,className:`block ${r?"text-xs":"text-sm"} font-medium text-white mb-1.5`,children:[ow(t.name),t.required&&d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsx("p",{className:`${r?"text-[10px]":"text-xs"} text-surface-400 mb-2`,children:t.description}),d.jsx("input",{type:t.type==="number"?"number":"text",id:s,value:e||"",onChange:i=>n(t.type==="number"?i.target.value?Number(i.target.value):"":i.target.value),placeholder:t.placeholder,required:t.required,className:"w-full px-3 py-2.5 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all"})]})},rue=({isOpen:t,prompt:e,preselectedCommand:n,onAddToQueue:r,onClose:s})=>{var Q;const i=j.useMemo(()=>Object.values(Ta).filter(k=>k.requiresPrompt),[]),[a,o]=j.useState(n||null),[u,f]=j.useState(!1),[p,m]=j.useState({}),g=a?Ta[a]:null;oe.useEffect(()=>{if(!g){m({});return}const k={};g.options.forEach($=>{$.defaultValue!==void 0&&($.type==="checkbox"?k[$.name]=$.defaultValue==="true"||$.defaultValue===!0:($.type==="number"||$.type,k[$.name]=$.defaultValue))}),g.requiresCode&&(e!=null&&e.code)&&(k._code=e.code),g.requiresTest&&(e!=null&&e.test)&&(k._test=e.test),g.name===Te.SUBMIT_EXAMPLE&&(e!=null&&e.example)&&(k["verification-program"]=e.example),or.forEach($=>{k[`_global_${$.name}`]=$.defaultValue}),m(k)},[g,e]),oe.useEffect(()=>{t||(o(n||null),f(!1))},[t,n]);const x=(k,$)=>{m(_=>({..._,[k]:$}))},v=()=>{var Z,R;if(!g||!e)return null;const k=g.name,$=p._code||e.code,_=p._test||e.test,T={};g.options.forEach(Y=>{const L=p[Y.name];L!==""&&L!==void 0&&L!==null&&L!==Y.defaultValue&&(T[Y.name]=L)}),or.forEach(Y=>{const L=p[`_global_${Y.name}`];L!==Y.defaultValue&&L!==void 0&&L!==null&&(T[Y.name]=L)});const N={};if(k===Te.SYNC)N.basename=e.sync_basename,e.context&&(T.context=e.context);else if(k===Te.UPDATE)$?N.args=[e.prompt,$]:N.args=[];else if(k===Te.GENERATE)N.prompt_file=e.prompt;else if(k===Te.TEST)N.prompt_file=e.prompt,N.code_file=$;else if(k===Te.EXAMPLE)N.prompt_file=e.prompt,N.code_file=$;else if(k===Te.FIX)N.prompt_file=e.prompt,N.code_file=$,N.unit_test_files=_,T["error-file"]&&(N.error_file=T["error-file"],delete T["error-file"]);else if(k===Te.SPLIT)N.input_prompt=e.prompt,N.input_code=$,T["example-code"]&&(N.example_code=T["example-code"],delete T["example-code"]);else if(k===Te.CHANGE)T["change-prompt"]&&(N.change_prompt_file=T["change-prompt"],delete T["change-prompt"]),N.input_code=$,N.input_prompt_file=e.prompt;else if(k===Te.DETECT){const Y=T["prompt-files"]||"",L=T["change-file"]||"",E=Y.split(",").map(U=>U.trim()).filter(Boolean);N.args=[...E,L].filter(Boolean),delete T["prompt-files"],delete T["change-file"]}else k===Te.AUTO_DEPS?(N.prompt_file=e.prompt,T["directory-path"]&&(N.directory_path=T["directory-path"],delete T["directory-path"])):k===Te.CONFLICTS?(N.prompt_file=e.prompt,T.prompt2&&(N.prompt2=T.prompt2,delete T.prompt2)):k===Te.PREPROCESS?N.prompt_file=e.prompt:k===Te.CRASH?(N.prompt_file=e.prompt,N.code_file=$,T["program-file"]&&(N.program_file=T["program-file"],delete T["program-file"]),T["error-file"]&&(N.error_file=T["error-file"],delete T["error-file"])):k===Te.VERIFY?(N.prompt_file=e.prompt,N.code_file=$,T["verification-program"]&&(N.verification_program=T["verification-program"],delete T["verification-program"])):k===Te.SUBMIT_EXAMPLE?(N.prompt_file=e.prompt,N.code_file=$,N.unit_test_files=_,N.error_file=".pdd/submit_example_errors.log",T.loop=!0,T["auto-submit"]=!0,T["verification-program"]&&(N.verification_program=T["verification-program"],delete T["verification-program"])):N.prompt_file=e.prompt;const q=(k===Te.SYNC?e.sync_basename:e.prompt)||((R=(Z=e.prompt)==null?void 0:Z.split("/").pop())==null?void 0:R.replace(".prompt",""))||"prompt";let z=`pdd ${g.backendName} ${q}`;return $&&k!==Te.SYNC&&(z+=` ${$.split("/").pop()}`),{request:{command:g.backendName,args:N,options:T},displayCommand:z}},y=()=>{const k=v();!k||!a||!e||(r(a,e,k.request,k.displayCommand),s())},w=or.some(k=>p[`_global_${k.name}`]!==k.defaultValue);return t?Array.isArray(i)?d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:d.jsxs("div",{className:"glass rounded-none sm:rounded-2xl border-0 sm:border border-surface-600/50 shadow-2xl w-full h-full sm:h-auto sm:max-w-md sm:max-h-[90vh] overflow-y-auto animate-scale-in",onClick:k=>k.stopPropagation(),children:[d.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-surface-700/50",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:d.jsx("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add to Task Queue"}),d.jsx("p",{className:"text-xs sm:text-sm text-surface-400",children:"Queue this task for later execution"})]})]})}),d.jsxs("div",{className:"px-4 sm:px-6 py-4 space-y-4 max-h-[50vh] sm:max-h-[60vh] overflow-y-auto",children:[e&&d.jsxs("div",{className:"bg-surface-800/50 rounded-xl px-3 py-2.5 border border-surface-700/50",children:[d.jsx("div",{className:"text-xs text-surface-400 mb-0.5",children:"Target Prompt"}),d.jsx("div",{className:"text-sm text-white font-mono truncate",children:e.sync_basename||((Q=e.prompt)==null?void 0:Q.split("/").pop())||"Unknown"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Command"}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(k=>k&&d.jsxs("button",{onClick:()=>o(k.name),className:`
                    flex items-center gap-2 px-3 py-2.5 rounded-xl text-sm text-left transition-all
                    ${a===k.name?"bg-accent-600 text-white border border-accent-500":"bg-surface-800/50 text-surface-300 border border-surface-700 hover:bg-surface-700/50"}
                  `,children:[d.jsx("span",{children:k.icon||""}),d.jsx("span",{className:"truncate",children:k.shortDescription||k.name})]},k.name))})]}),g&&d.jsxs(d.Fragment,{children:[g.requiresCode&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-white mb-1.5",children:["Code File",d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:p._code||"",onChange:k=>x("_code",k.target.value),placeholder:"e.g., src/calculator.py",className:`w-full px-3 py-2.5 bg-surface-900/50 border rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all ${e!=null&&e.code?"border-green-500/50":"border-yellow-500/50"}`}),(e==null?void 0:e.code)&&d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-400 text-xs px-1.5 py-0.5 rounded bg-green-500/20",children:"detected"})]})]}),g.requiresTest&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-white mb-1.5",children:["Test File",d.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:p._test||"",onChange:k=>x("_test",k.target.value),placeholder:"e.g., tests/test_calculator.py",className:`w-full px-3 py-2.5 bg-surface-900/50 border rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 text-sm transition-all ${e!=null&&e.test?"border-green-500/50":"border-yellow-500/50"}`}),(e==null?void 0:e.test)&&d.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-green-400 text-xs px-1.5 py-0.5 rounded bg-green-500/20",children:"detected"})]})]}),g.options.length>0&&d.jsx("div",{className:"space-y-3",children:g.options.map(k=>d.jsx(cw,{option:k,value:p[k.name],onChange:$=>x(k.name,$)},k.name))}),d.jsxs("div",{className:"border-t border-surface-700/30 pt-3 mt-2",children:[d.jsxs("button",{type:"button",onClick:()=>f(!u),className:"w-full flex items-center justify-between text-left group",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-surface-400 uppercase tracking-wider",children:"Advanced Options"}),w&&d.jsx("span",{className:"w-2 h-2 rounded-full bg-accent-500 animate-pulse",title:"Custom settings applied"})]}),d.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform duration-200 ${u?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&d.jsxs("div",{className:"mt-3 space-y-3 animate-slide-down",children:[d.jsxs("div",{className:"space-y-3 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider",children:"Model Settings"}),or.filter(k=>["strength","temperature","time"].includes(k.name)).map(k=>d.jsx(cw,{option:k,value:p[`_global_${k.name}`],onChange:$=>x(`_global_${k.name}`,$),compact:!0},k.name))]}),d.jsxs("div",{className:"space-y-1 p-3 rounded-xl bg-surface-800/20 border border-surface-700/30",children:[d.jsx("div",{className:"text-[10px] font-medium text-surface-500 uppercase tracking-wider mb-2",children:"Execution Options"}),or.filter(k=>["local","verbose","quiet","force","review-examples"].includes(k.name)).map(k=>d.jsx(cw,{option:k,value:p[`_global_${k.name}`],onChange:$=>x(`_global_${k.name}`,$),compact:!0},k.name))]})]})]})]})]}),d.jsxs("div",{className:"px-4 sm:px-6 py-4 border-t border-surface-700/50 flex flex-col-reverse sm:flex-row justify-end gap-2 sm:gap-3",children:[d.jsx("button",{type:"button",onClick:s,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-surface-700/50 text-surface-300 hover:bg-surface-600 transition-colors",children:"Cancel"}),d.jsxs("button",{type:"button",onClick:y,disabled:!a||!e,className:"w-full sm:w-auto px-4 py-2.5 rounded-xl text-sm font-medium bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white shadow-lg shadow-emerald-500/25 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),d.jsx("span",{children:"Add to Queue"})]})]})]})}):(console.error("AddToQueueModal: availableCommands is not an array"),null):null},sue=({onReauth:t})=>{const[e,n]=j.useState(null),[r,s]=j.useState(!0);if(j.useEffect(()=>{const a=async()=>{try{const u=await qe.getAuthStatus();n(u)}catch{n({authenticated:!1,cached:!1,expires_at:null})}finally{s(!1)}};a();const o=setInterval(a,3e4);return()=>clearInterval(o)},[]),r)return d.jsxs("div",{className:"flex items-center gap-1.5 px-2 sm:px-3 py-1.5 rounded-full bg-surface-800/50",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-surface-500 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),d.jsx("span",{className:"text-xs text-surface-400 hidden sm:inline",children:"Auth..."})]});const i=e==null?void 0:e.authenticated;return d.jsxs("button",{onClick:t,className:`flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-1.5 rounded-full transition-colors ${i?"bg-blue-500/10 text-blue-400 border border-blue-500/20 hover:bg-blue-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20 hover:bg-yellow-500/20"}`,title:i?"Cloud Authenticated - Click to manage authentication":"Not authenticated - Click to login",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),d.jsx("span",{className:"sr-only",children:i?"Cloud Authenticated - Click to manage authentication":"Not authenticated - Click to login"}),d.jsx("span",{className:"hidden xs:inline","aria-hidden":"true",children:i?"Logged In":"Login"}),d.jsx("span",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full ${i?"bg-blue-400":"bg-yellow-400 animate-pulse"}`})]})},iue=({onClose:t})=>{const[e,n]=j.useState(null),[r,s]=j.useState({phase:"idle"}),[i,a]=j.useState(!1),[o,u]=j.useState(!1),f=j.useRef(null);j.useEffect(()=>{(async()=>{try{const y=await qe.getAuthStatus();n(y)}catch{n({authenticated:!1,cached:!1,expires_at:null})}})()},[]),j.useEffect(()=>()=>{f.current&&clearInterval(f.current)},[]);const p=j.useCallback(v=>{f.current&&clearInterval(f.current);const y=async()=>{try{const w=await qe.pollLoginStatus(v);if(w.status==="completed"){f.current&&(clearInterval(f.current),f.current=null),s({phase:"success"});const Q=await qe.getAuthStatus();n(Q)}else w.status==="expired"?(f.current&&(clearInterval(f.current),f.current=null),s({phase:"error",message:w.message||"Authentication timed out. Please try again."})):w.status==="error"&&(f.current&&(clearInterval(f.current),f.current=null),s({phase:"error",message:w.message||"Authentication failed."}))}catch(w){console.error("Poll error:",w)}};y(),f.current=window.setInterval(y,3e3)},[]),m=async()=>{s({phase:"starting"}),a(!1);try{const v=await qe.startLogin({no_browser:o});if(!v.success||!v.user_code||!v.verification_uri||!v.poll_id){s({phase:"error",message:v.error||"Failed to start authentication"});return}const y=Date.now()+(v.expires_in||900)*1e3;s({phase:"waiting",userCode:v.user_code,verificationUri:v.verification_uri,pollId:v.poll_id,expiresAt:y}),p(v.poll_id)}catch(v){s({phase:"error",message:v instanceof Error?v.message:"Failed to start authentication"})}},g=async()=>{if(r.phase==="waiting")try{await navigator.clipboard.writeText(r.userCode),a(!0),setTimeout(()=>a(!1),2e3)}catch(v){console.error("Failed to copy:",v)}},x=()=>{f.current&&(clearInterval(f.current),f.current=null),s({phase:"idle"})};return d.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:t,role:"dialog","aria-modal":"true","aria-labelledby":"reauth-modal-title",children:d.jsxs("div",{className:"bg-gray-800 rounded-none sm:rounded-lg shadow-xl w-full h-full sm:h-auto sm:max-w-md sm:max-h-[90vh] flex flex-col ring-1 ring-white/10 overflow-y-auto",onClick:v=>v.stopPropagation(),children:[d.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[d.jsxs("h2",{id:"reauth-modal-title",className:"text-lg font-semibold text-white flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"PDD Cloud Authentication"]}),d.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 hover:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Close modal",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("main",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-gray-700/50",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${e!=null&&e.authenticated?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-white",children:e!=null&&e.authenticated?"Currently Authenticated":"Not Authenticated"}),d.jsx("p",{className:"text-xs text-gray-400",children:e!=null&&e.authenticated?e.cached?"Using cached JWT token":"Using refresh token":"No valid tokens found"})]})]}),r.phase==="idle"&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-sm text-gray-300",children:["Click the button below to authenticate with GitHub.",!o&&" A browser window will open for you to authorize PDD."]}),d.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer hover:text-gray-300 transition-colors",children:[d.jsx("input",{type:"checkbox",checked:o,onChange:v=>u(v.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-2 focus:ring-blue-500 focus:ring-offset-0 cursor-pointer"}),d.jsx("span",{children:"Don't open browser automatically (I'll open the link manually)"})]})]}),r.phase==="starting"&&d.jsxs("div",{className:"flex items-center justify-center gap-3 py-6",children:[d.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-400",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{className:"text-gray-300",children:"Starting GitHub authentication..."})]}),r.phase==="waiting"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-center space-y-2",children:[d.jsx("p",{className:"text-sm text-gray-300",children:o?"Open the link below in your browser and enter this code on GitHub:":"A browser window has opened. Enter this code on GitHub:"}),d.jsxs("button",{onClick:g,className:"group relative inline-flex items-center gap-2 px-6 py-3 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",title:"Click to copy",children:[d.jsx("span",{className:"text-2xl font-mono font-bold text-white tracking-wider","aria-label":"Device verification code",children:r.userCode}),d.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-white transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),i&&d.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 px-2 py-1 bg-green-600 text-white text-xs rounded",children:"Copied!"})]})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{children:"Waiting for authorization..."})]}),d.jsxs("p",{className:"text-xs text-center text-gray-500",children:[o?"Visit: ":"If the browser didn't open, go to: ",d.jsx("a",{href:r.verificationUri,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:r.verificationUri})]})]}),r.phase==="success"&&d.jsxs("div",{className:"p-4 rounded-lg bg-green-500/20 border border-green-500/30 text-center space-y-2",children:[d.jsx("svg",{className:"w-12 h-12 mx-auto text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-green-300 font-medium",children:"Authentication Successful!"}),d.jsx("p",{className:"text-sm text-green-400/80",children:"You can now use PDD Cloud features."})]}),r.phase==="error"&&d.jsxs("div",{className:"p-4 rounded-lg bg-red-500/20 border border-red-500/30 space-y-3",children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{className:"text-sm text-red-300",children:r.message})]}),d.jsx("button",{onClick:x,className:"w-full px-3 py-2 text-sm bg-red-600/30 hover:bg-red-600/50 text-red-200 rounded transition-colors",children:"Try Again"})]})]}),d.jsxs("footer",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end gap-3 rounded-b-lg",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-md text-sm font-medium bg-gray-600 text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-gray-500 transition-colors",children:r.phase==="success"?"Done":"Close"}),(r.phase==="idle"||r.phase==="error")&&d.jsxs("button",{onClick:m,className:"px-4 py-2 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 transition-colors flex items-center gap-2",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"})}),"Login with GitHub"]})]})]})})};class aue extends j.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:d.jsx("div",{className:"min-h-screen bg-surface-950 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-red-900/20 border border-red-500/50 rounded-xl p-6 max-w-2xl w-full",children:[d.jsx("h1",{className:"text-xl font-bold text-red-400 mb-4",children:"Something went wrong"}),d.jsxs("div",{className:"bg-surface-900 rounded-lg p-4 mb-4 overflow-auto max-h-64",children:[d.jsx("pre",{className:"text-sm text-red-300 whitespace-pre-wrap",children:(e=this.state.error)==null?void 0:e.toString()}),this.state.errorInfo&&d.jsx("pre",{className:"text-xs text-surface-400 mt-2 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]}),d.jsx("button",{onClick:()=>{localStorage.removeItem("pdd-task-queue"),window.location.reload()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-500 transition-colors",children:"Clear Queue Data & Reload"})]})}):this.props.children}}const lue=({sessions:t,selectedSessionId:e,onSelectSession:n,disabled:r=!1,error:s=null,onRefresh:i})=>{const[a,o]=j.useState(!1),u=t.find(p=>p.sessionId===e),f=p=>{try{const m=new Date(p),x=new Date().getTime()-m.getTime(),v=Math.floor(x/6e4),y=Math.floor(x/36e5);return v<1?"just now":v<60?`${v}m ago`:y<24?`${y}h ago`:`${Math.floor(y/24)}d ago`}catch{return"unknown"}};return d.jsxs("div",{className:"flex flex-col gap-1.5",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-1.5 md:gap-2",children:[d.jsx("label",{className:"text-xs sm:text-sm text-surface-300 font-medium whitespace-nowrap",children:"Session:"}),d.jsxs("select",{value:e||"",onChange:p=>n(p.target.value||null),disabled:r||t.length===0,className:"w-full md:w-48 lg:w-56 px-2 sm:px-3 py-1 sm:py-1.5 bg-surface-800 border border-surface-700 rounded-lg text-xs sm:text-sm text-surface-200 focus:outline-none focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx("option",{value:"",children:"-- Select Session --"}),t.map(p=>d.jsxs("option",{value:p.sessionId,children:[p.projectName," @ ",p.metadata.hostname,p.status==="stale"?" (offline)":""]},p.sessionId))]}),t.length===0&&!s&&d.jsx("span",{className:"text-xs text-surface-500",children:"No sessions"}),s&&d.jsx("span",{className:"text-xs text-red-400",children:" Error loading sessions"}),d.jsx("button",{onClick:()=>o(!a),className:"ml-2 px-2 py-0.5 text-xs text-surface-400 hover:text-surface-200 border border-surface-700 hover:border-surface-500 rounded transition-colors",title:"Toggle debug info",children:a?" Hide Debug":" Debug"}),i&&d.jsx("button",{onClick:i,className:"ml-1 px-2 py-0.5 text-xs text-surface-400 hover:text-surface-200 border border-surface-700 hover:border-surface-500 rounded transition-colors",title:"Refresh sessions",children:""}),u&&d.jsxs("div",{className:"w-full md:w-auto mt-1.5 md:mt-0 md:ml-2 flex items-center gap-2 text-xs text-surface-400",children:[d.jsxs("span",{className:`flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium ${u.status==="active"?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20"}`,children:[d.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${u.status==="active"?"bg-green-400":"bg-yellow-400 animate-pulse"}`}),u.status==="active"?"Active":"Offline"]}),d.jsx("span",{className:"hidden lg:inline text-xs text-surface-400",children:f(u.lastHeartbeat)}),d.jsx("span",{className:"hidden xl:inline text-xs text-surface-500 truncate max-w-[150px] lg:max-w-[200px]",title:u.projectPath,children:u.projectPath})]})]}),u&&u.status==="stale"&&d.jsx("div",{className:"mt-2 p-2 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium text-yellow-400",children:"Session Offline"}),d.jsx("p",{className:"text-xs text-yellow-200/70 mt-0.5",children:"This session has not sent a heartbeat recently. The remote machine may not be running. Commands submitted may not be executed."})]})]})}),a&&d.jsxs("div",{className:"mt-2 p-3 bg-surface-900/50 border border-surface-700 rounded-lg text-xs",children:[d.jsx("div",{className:"font-semibold text-surface-300 mb-2",children:" Debug Information"}),d.jsxs("div",{className:"space-y-1 text-surface-400",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-surface-500 min-w-[100px]",children:"Sessions:"}),d.jsxs("span",{children:[t.length," found"]})]}),s&&d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-surface-500 min-w-[100px]",children:"Error:"}),d.jsx("span",{className:"text-red-400 flex-1 break-words",children:s})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-surface-500 min-w-[100px]",children:"Last Fetch:"}),d.jsx("span",{children:new Date().toLocaleTimeString()})]}),d.jsxs("div",{className:"mt-2 pt-2 border-t border-surface-700",children:[d.jsx("div",{className:"text-surface-500 mb-1",children:"Troubleshooting:"}),d.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-surface-400",children:[(s==null?void 0:s.includes("Not authenticated"))&&d.jsx("li",{children:"Not authenticated. Run: pdd auth login"}),(s==null?void 0:s.includes("401"))||(s==null?void 0:s.includes("403"))&&d.jsx("li",{children:"JWT token expired or invalid. Try: source setup_staging_env.sh"}),(s==null?void 0:s.includes("timeout"))||(s==null?void 0:s.includes("network"))&&d.jsx("li",{children:"Network issue. Check cloud connectivity."}),!s&&t.length===0&&d.jsx("li",{children:"No sessions found. Start one with: pdd connect"})]})]})]})]})]})},oue=({mode:t,onModeChange:e,disabled:n=!1})=>d.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[d.jsx("label",{className:"text-xs sm:text-sm text-surface-300 font-medium whitespace-nowrap",children:"Mode:"}),d.jsxs("div",{className:"flex bg-surface-800 border border-surface-700 rounded-lg p-0.5 sm:p-1",children:[d.jsxs("button",{onClick:()=>e("local"),disabled:n,className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-xs sm:text-sm font-medium transition-all ${t==="local"?"bg-blue-500 text-white shadow-sm":"text-surface-400 hover:text-surface-200"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"Execute commands on this machine",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),d.jsx("span",{children:"Local"})]}),d.jsxs("button",{onClick:()=>e("remote"),disabled:n,className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-md text-xs sm:text-sm font-medium transition-all ${t==="remote"?"bg-purple-500 text-white shadow-sm":"text-surface-400 hover:text-surface-200"} disabled:opacity-50 disabled:cursor-not-allowed`,title:"Control a remote session via cloud",children:[d.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),d.jsx("span",{children:"Remote"})]})]}),t==="remote"&&!n&&d.jsxs("span",{className:"hidden sm:flex text-xs text-purple-400 items-center gap-1",children:[d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Commands will execute on the selected remote session"]})]}),cue=()=>{const[t,e]=j.useState(window.innerWidth);return j.useEffect(()=>{const n=()=>e(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),null},uue=3,DA=5;function fue(t={}){const{onJobComplete:e,maxOutputLines:n=1e3}=t,[r,s]=j.useState(new Map),[i,a]=j.useState(null),o=j.useRef(new Map),u=j.useRef(r);u.current=r,j.useEffect(()=>()=>{o.current.forEach(q=>{q.readyState===WebSocket.OPEN&&q.close()}),o.current.clear()},[]);const f=j.useCallback((q,z)=>{s(Z=>{const R=new Map(Z),Y=R.get(q);if(Y){const L=[...Y.output,z];L.length>n&&L.splice(0,L.length-n),R.set(q,{...Y,output:L})}return R})},[n]),p=j.useCallback((q,z,Z,R)=>{s(Y=>{const L=new Map(Y),E=L.get(q);return E&&L.set(q,{...E,progress:{current:z,total:Z,message:R},status:"running"}),L})},[]),m=j.useCallback((q,z,Z,R)=>{s(L=>{const E=new Map(L),U=E.get(q);if(U){let A=[...U.output];if(R!=null&&R.stdout&&typeof R.stdout=="string"&&R.stdout.trim()&&(A.length===0||!A.includes(R.stdout))&&A.push(R.stdout),R!=null&&R.stderr&&typeof R.stderr=="string"&&R.stderr.trim()){const F=`[stderr] ${R.stderr}`;A.includes(F)||A.push(F)}const I={...U,output:A,status:z?"completed":"failed",cost:Z,completedAt:new Date,error:z?null:(R==null?void 0:R.error)||"Job failed"};E.set(q,I),e&&e(I,z)}return E});const Y=o.current.get(q);Y&&Y.readyState===WebSocket.OPEN&&Y.close(),o.current.delete(q)},[e]),g=j.useCallback(async(q,z)=>{const Z=u.current,R=Array.from(Z.values()).filter(Y=>Y.status==="queued"||Y.status==="running").length;if(R>=DA)throw new Error(`Too many jobs queued (${R}/${DA}). Please wait for some to complete.`);R>=uue&&console.warn(`Warning: ${R} jobs already running. New job will be queued.`);try{const Y=await qe.executeCommand(q),L=Y.job_id,E={id:L,command:q.command,displayCommand:z,status:Y.status,progress:null,output:[],cost:0,startedAt:new Date,completedAt:null,error:null};s(A=>{const I=new Map(A);return I.set(L,E),I}),a(L);const U=qe.connectToJobStream(L,{onStdout:A=>f(L,A),onStderr:A=>f(L,`[stderr] ${A}`),onProgress:(A,I,F)=>p(L,A,I,F),onComplete:(A,I,F)=>m(L,A,F,I),onError:A=>{console.error(`WebSocket error for job ${L}:`,A),m(L,!1,0,{error:A.message})},onClose:()=>{const A=u.current.get(L);A&&A.status==="running"&&qe.getJobStatus(L).then(I=>{const F=I.status==="completed";m(L,F,I.cost||0,I)}).catch(()=>{m(L,!1,0,{error:"Connection lost"})})}});return o.current.set(L,U),L}catch(Y){return console.error("Failed to submit job:",Y),null}},[f,p,m]),x=j.useCallback(async q=>{var z,Z;try{const R=r.get(q);if((z=R==null?void 0:R.metadata)!=null&&z.remote&&((Z=R==null?void 0:R.metadata)!=null&&Z.sessionId)){await qe.cancelRemoteCommand({sessionId:R.metadata.sessionId,commandId:q}),s(L=>{const E=new Map(L),U=E.get(q);return U&&E.set(q,{...U,status:"cancelled",completedAt:new Date}),E});return}const Y=o.current.get(q);Y&&Y.readyState===WebSocket.OPEN&&qe.sendCancelRequest(Y),await qe.cancelJob(q),s(L=>{const E=new Map(L),U=E.get(q);return U&&E.set(q,{...U,status:"cancelled",completedAt:new Date}),E})}catch(R){throw console.error("Failed to cancel job:",R),R}},[r]),v=j.useCallback((q,z)=>{s(Z=>{const R=new Map(Z),Y=R.get(q);return Y&&R.set(q,{...Y,...z}),R})},[]),y=j.useCallback(q=>{s(Z=>{const R=new Map(Z);return R.delete(q),R});const z=o.current.get(q);z&&(z.close(),o.current.delete(q)),a(Z=>Z===q?null:Z)},[]),w=j.useCallback(()=>{s(q=>{const z=new Map(q);for(const[Z,R]of z.entries())(R.status==="completed"||R.status==="failed"||R.status==="cancelled")&&z.delete(Z);return z})},[]),Q=j.useCallback((q,z,Z,R)=>{const Y=Z||`spawned-${Date.now()}-${Math.random().toString(36).slice(2,11)}`,L={id:Y,command:z,displayCommand:q,status:"running",progress:null,output:[R!=null&&R.remote?"Command running on remote session.":"Command running in separate terminal window.","","Status will update automatically when command completes."],cost:0,startedAt:new Date,completedAt:null,error:null,metadata:R};return s(E=>{const U=new Map(E);return U.set(Y,L),U}),a(Y),Y},[]),k=j.useCallback((q,z=!0)=>{s(Z=>{const R=new Map(Z),Y=R.get(q);return Y&&(R.set(q,{...Y,status:z?"completed":"failed",completedAt:new Date,output:[...Y.output,z?"Marked as completed by user.":"Marked as failed by user."]}),e&&e({...Y,status:z?"completed":"failed"},z)),R})},[e]),$=j.useCallback((q,z)=>{s(Z=>{const R=new Map(Z),Y=R.get(q);if(Y){const L={completed:" Manually marked as completed by user.",failed:" Manually marked as failed by user.",cancelled:" Manually marked as cancelled by user."};R.set(q,{...Y,status:z,completedAt:new Date,output:[...Y.output,"",L[z]]}),e&&e({...Y,status:z},z==="completed")}return R})},[e]);j.useEffect(()=>{const q=Array.from(r.values()).filter(Z=>Z.id.startsWith("spawned-")&&Z.status==="running");if(q.length===0)return;const z=setInterval(async()=>{for(const Z of q)try{const R=await qe.getSpawnedJobStatus(Z.id);if(R.status==="completed"||R.status==="failed"){const Y=R.status==="completed";s(L=>{const E=new Map(L),U=E.get(Z.id);if(U&&U.status==="running"){const A={...U,status:Y?"completed":"failed",completedAt:new Date,output:[...U.output,"",Y?` Command completed successfully (exit code: ${R.exit_code||0})`:` Command failed (exit code: ${R.exit_code||1})`]};E.set(Z.id,A),e&&e(A,Y)}return E})}}catch{}},2e3);return()=>clearInterval(z)},[r,e]),j.useEffect(()=>{if(!Array.from(r.values()).some(Z=>{var R;return((R=Z.metadata)==null?void 0:R.remote)&&Z.status==="running"}))return;const z=setInterval(async()=>{var Y,L,E;const Z=u.current,R=Array.from(Z.values()).filter(U=>{var A;return((A=U.metadata)==null?void 0:A.remote)&&U.status==="running"});for(const U of R)if((Y=U.metadata)!=null&&Y.sessionId)try{const A=await qe.getRemoteCommandStatus(U.metadata.sessionId,U.id);if(!A)continue;if(console.log(`[RemotePoll] Job ${U.id}:`,A.status,(L=A.response)==null?void 0:L.success),A.status==="processing"&&((E=A.response)!=null&&E.streaming)&&s(I=>{var J,X;const F=new Map(I),G=F.get(U.id);if(G&&G.status==="running"){const B=[];if((J=A.response)!=null&&J.stdout){const te=A.response.stdout.split(`
`).filter(V=>V.trim());B.push(...te)}if((X=A.response)!=null&&X.stderr){const te=A.response.stderr.split(`
`).filter(V=>V.trim());B.push(...te.map(V=>`[stderr] ${V}`))}if(B.length>0){const te=G.output.length<=3&&G.output.some(V=>V.includes("Command running")||V.includes("Status will update"));F.set(U.id,{...G,output:B})}}return F}),A.status==="completed"||A.status==="failed"||A.status==="cancelled"){const I=A.status==="completed",F=A.status==="cancelled";console.log(`[RemotePoll] Job ${U.id} transitioning to:`,A.status);let G=null;s(J=>{var te,V,W,ee,re;const X=new Map(J),B=X.get(U.id);if(B&&(B.status==="running"||B.status==="queued")){const ue=[];if((te=A.response)!=null&&te.stdout){const Se=A.response.stdout.split(`
`).filter(Ye=>Ye.trim());ue.push(...Se)}if((V=A.response)!=null&&V.stderr){const Se=A.response.stderr.split(`
`).filter(Ye=>Ye.trim());ue.push(...Se.map(Ye=>`[stderr] ${Ye}`))}F?ue.push(""," Command was cancelled"):I?ue.push(""," Command completed successfully"):ue.push("",` Command failed: ${((W=A.response)==null?void 0:W.message)||"Unknown error"}`);const pe={...B,status:F?"cancelled":I?"completed":"failed",completedAt:new Date,output:ue.length>0?ue:B.output,cost:((ee=A.response)==null?void 0:ee.cost)||0,error:I?null:((re=A.response)==null?void 0:re.message)||"Command failed"};X.set(U.id,pe),G={job:pe,success:I}}return X}),G&&e&&e(G.job,G.success)}}catch(A){console.warn("Failed to poll remote job status:",A)}},2e3);return()=>clearInterval(z)},[r,e]);const _=Array.from(r.values()).filter(q=>q.status==="queued"||q.status==="running"),T=Array.from(r.values()).filter(q=>q.status==="completed"||q.status==="failed"||q.status==="cancelled"),N=i&&r.get(i)||null,C=_.length>0;return{jobs:r,activeJobs:_,completedJobs:T,selectedJob:N,selectedJobId:i,isAnyJobRunning:C,submitJob:g,cancelJob:x,removeJob:y,clearCompletedJobs:w,setSelectedJobId:a,addSpawnedJob:Q,markSpawnedJobDone:k,markJobStatus:$,updateSpawnedJobStatus:v}}const BA="pdd-task-queue",UA=50;function due(){return`task-${Date.now()}-${Math.random().toString(36).slice(2,11)}`}function hue(t={}){const{onTaskStart:e,onTaskComplete:n,onQueueComplete:r}=t,[s,i]=j.useState([]),[a,o]=j.useState("manual"),[u,f]=j.useState(!1),[p,m]=j.useState(!1),g=j.useRef({tasks:s,executionMode:a,isQueueRunning:u,isPaused:p});g.current={tasks:s,executionMode:a,isQueueRunning:u,isPaused:p};const x=j.useRef({onTaskStart:e,onTaskComplete:n,onQueueComplete:r});x.current={onTaskStart:e,onTaskComplete:n,onQueueComplete:r};const v=j.useRef(null);j.useEffect(()=>{try{const G=localStorage.getItem(BA);if(G){const{tasks:J,executionMode:X}=JSON.parse(G);if(Array.isArray(J)){const B=J.filter(te=>te.status==="pending").map(te=>({...te,createdAt:new Date(te.createdAt)}));i(B)}(X==="auto"||X==="manual")&&o(X)}}catch(G){console.warn("Failed to restore task queue from localStorage:",G)}},[]),j.useEffect(()=>{try{const G=s.filter(J=>J.status==="pending");localStorage.setItem(BA,JSON.stringify({tasks:G,executionMode:a}))}catch(G){console.warn("Failed to save task queue to localStorage:",G)}},[s,a]);const y=j.useCallback((G,J,X,B)=>{const te={id:due(),command:G,prompt:J,request:X,displayCommand:B,status:"pending",createdAt:new Date};return i(V=>V.length>=UA?(console.warn(`Task queue is full (${UA} items). Cannot add more tasks.`),V):[...V,te]),te.id},[]),w=j.useCallback(G=>{i(J=>J.filter(X=>X.id!==G))},[]),Q=j.useCallback((G,J)=>{i(X=>{var V;const B=[...X];if(((V=B[G])==null?void 0:V.status)!=="pending")return X;const[te]=B.splice(G,1);return B.splice(J,0,te),B})},[]),k=j.useCallback(()=>{i([]),f(!1),m(!1)},[]),$=j.useCallback(()=>{i(G=>G.filter(J=>J.status==="pending"||J.status==="running"))},[]),_=j.useCallback((G,J)=>{i(X=>X.map(B=>B.id===G?{...B,...J}:B))},[]),T=j.useCallback(async()=>{var X,B,te,V,W,ee,re,ue;const G=g.current;if(G.isPaused)return;const J=G.tasks.find(pe=>pe.status==="pending");if(!J){f(!1),(B=(X=x.current).onQueueComplete)==null||B.call(X);return}if(!v.current){console.error("submitJob function not set. Cannot run task.");return}_(J.id,{status:"running",startedAt:new Date}),(V=(te=x.current).onTaskStart)==null||V.call(te,J);try{const pe=await v.current(J.request,J.displayCommand);pe?_(J.id,{jobId:pe}):(_(J.id,{status:"failed",completedAt:new Date,error:"Failed to submit job"}),(ee=(W=x.current).onTaskComplete)==null||ee.call(W,{...J,status:"failed"},!1),G.executionMode==="auto"&&G.isQueueRunning&&!G.isPaused&&setTimeout(()=>T(),100))}catch(pe){const Se=pe instanceof Error?pe.message:"Unknown error";_(J.id,{status:"failed",completedAt:new Date,error:Se}),(ue=(re=x.current).onTaskComplete)==null||ue.call(re,{...J,status:"failed"},!1),G.executionMode==="auto"&&G.isQueueRunning&&!G.isPaused&&setTimeout(()=>T(),100)}},[_]),N=j.useCallback((G,J)=>{var V,W;const X=g.current.tasks.find(ee=>ee.jobId===G);if(!X)return;const B=J?"completed":"failed";_(X.id,{status:B,completedAt:new Date,error:J?void 0:"Job failed"}),(W=(V=x.current).onTaskComplete)==null||W.call(V,{...X,status:B},J);const te=g.current;te.executionMode==="auto"&&te.isQueueRunning&&!te.isPaused&&setTimeout(()=>T(),100)},[_,T]),C=j.useCallback(async()=>{f(!0),m(!1),await T()},[T]),q=j.useCallback(()=>{m(!0)},[]),z=j.useCallback(async()=>{m(!1),g.current.tasks.some(J=>J.status==="running")||await T()},[T]),Z=j.useCallback(async()=>{u||f(!0),m(!1),await T()},[T,u]),R=j.useCallback(G=>{var X,B;const J=g.current.tasks.find(te=>te.id===G);if(J&&(_(G,{status:"skipped",completedAt:new Date}),(B=(X=x.current).onTaskComplete)==null||B.call(X,{...J,status:"skipped"},!1),J.status==="running"||J.status==="pending")){const te=g.current;te.executionMode==="auto"&&te.isQueueRunning&&!te.isPaused&&setTimeout(()=>T(),100)}},[_,T]),Y=j.useCallback(G=>{_(G,{status:"pending",jobId:void 0,startedAt:void 0,completedAt:void 0,error:void 0})},[_]),L=j.useCallback(G=>{v.current=G},[]),E=s.filter(G=>G.status==="pending"),U=s.filter(G=>G.status==="completed"||G.status==="failed"||G.status==="skipped"),A=s.find(G=>G.status==="running")||null,I=A!==null,F={total:s.length,completed:U.length,pending:E.length,running:I?1:0};return{tasks:s,executionMode:a,isQueueRunning:u,isPaused:p,runningTask:A,pendingTasks:E,completedTasks:U,progress:F,addTask:y,removeTask:w,reorderTasks:Q,clearQueue:k,clearCompleted:$,skipTask:R,retryTask:Y,setExecutionMode:o,startQueue:C,pauseQueue:q,resumeQueue:z,runNextTask:Z,handleJobComplete:N,setSubmitJob:L}}const p6=j.createContext(null);async function pue(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1}function mue(t,e,n){Notification.permission==="granted"&&new Notification(t,{body:e,icon:"/favicon.ico",silent:!1})}const Oue=({toast:t,onDismiss:e})=>{j.useEffect(()=>{if(t.duration&&t.duration>0){const s=setTimeout(e,t.duration);return()=>clearTimeout(s)}},[t.duration,e]);const r={success:{bg:"bg-green-500/20",border:"border-green-500/30",text:"text-green-400",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},error:{bg:"bg-red-500/20",border:"border-red-500/30",text:"text-red-400",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},info:{bg:"bg-accent-500/20",border:"border-accent-500/30",text:"text-accent-400",icon:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}}[t.type];return d.jsxs("div",{className:`
        flex items-center gap-3 px-4 py-3 rounded-xl border backdrop-blur-lg shadow-lg
        ${r.bg} ${r.border}
      `,style:{animation:"slideIn 0.3s ease-out"},children:[d.jsx("span",{className:r.text,children:r.icon}),d.jsx("p",{className:"text-sm text-white flex-1",children:t.message}),d.jsx("button",{onClick:e,className:"text-surface-400 hover:text-white transition-colors",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},gue=()=>d.jsx("style",{children:`
    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    @keyframes indeterminate {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(400%);
      }
    }
    .animate-indeterminate {
      animation: indeterminate 1.5s ease-in-out infinite;
    }
  `}),xue=({toasts:t,removeToast:e})=>d.jsxs(d.Fragment,{children:[d.jsx(gue,{}),t.length>0&&d.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2 max-w-sm",children:t.map(n=>d.jsx(Oue,{toast:n,onDismiss:()=>e(n.id)},n.id))})]}),bue=({children:t})=>{const[e,n]=j.useState([]),r=j.useCallback(i=>{n(a=>a.filter(o=>o.id!==i))},[]),s=j.useCallback((i,a,o=5e3)=>{const f={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,message:i,type:a,duration:o};n(p=>[...p,f]),document.hidden&&(a==="success"||a==="error")&&mue(a==="success"?"Job Completed":"Job Failed",i)},[]);return j.useEffect(()=>{pue()},[]),d.jsxs(p6.Provider,{value:{addToast:s,removeToast:r},children:[t,d.jsx(xue,{toasts:e,removeToast:r})]})};function yue(){const t=j.useContext(p6);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}const GA=()=>{const t=window.location.hash.slice(1);if(!t)return{view:"architecture"};const[e,...n]=t.split("/"),r=n.length>0?n.join("/"):void 0;return{view:["architecture","prompts","bug","settings"].includes(e)?e:"architecture",promptPath:r}},vue=()=>{const t=GA(),[e,n]=j.useState(t.view),[r,s]=j.useState(t.promptPath),[i,a]=j.useState(null),[o,u]=j.useState(null),[f,p]=j.useState(!1),[m,g]=j.useState("idle"),[x,v]=j.useState(null),[y,w]=j.useState(null),[Q,k]=j.useState(!1),[$,_]=j.useState(""),[T,N]=j.useState(null),[C,q]=j.useState(!1),[z,Z]=j.useState(!1),[R,Y]=j.useState(null),{addToast:L}=yue(),[E,U]=j.useState("local"),[A,I]=j.useState([]),[F,G]=j.useState(null),[J,X]=j.useState(null),B=hue({onTaskStart:me=>{L(`Starting task: ${me.displayCommand}`,"info",3e3)},onTaskComplete:(me,ye)=>{L(`Task ${ye?"completed":"failed"}: ${me.displayCommand}`,ye?"success":"error",5e3)},onQueueComplete:()=>{L("Task queue completed","success",3e3)}}),te=j.useCallback((me,ye)=>{L(`${me.displayCommand} ${ye?"completed successfully":"failed"}`,ye?"success":"error",5e3),B.handleJobComplete(me.id,ye)},[L,B]),{activeJobs:V,completedJobs:W,selectedJob:ee,isAnyJobRunning:re,cancelJob:ue,removeJob:pe,clearCompletedJobs:Se,setSelectedJobId:Ye,addSpawnedJob:Le,markSpawnedJobDone:We,markJobStatus:Xe}=fue({onJobComplete:te}),Qe=j.useCallback(async(me,ye)=>{try{if(E==="remote"&&F){const{commandId:Ze}=await qe.submitRemoteCommand({sessionId:F,type:me.command,payload:{args:me.args,options:me.options}});return Le(`[Remote] ${ye}`,me.command,Ze,{remote:!0,sessionId:F}),Ze}else{const Ze=await qe.spawnTerminal(me);return Ze.success&&Ze.job_id?(Le(ye,me.command,Ze.job_id),Ze.job_id):(console.error("Failed to spawn terminal:",Ze.message),null)}}catch(Ze){return console.error("Failed to submit job:",Ze),null}},[Le,E,F]);j.useEffect(()=>{B.setSubmitJob(Qe)},[B,Qe]);const ct=j.useCallback((me,ye,Ze,Fe)=>{B.addTask(me,ye,Ze,Fe),L(`Added to queue: ${Fe}`,"info",3e3)},[B,L]),be=j.useCallback(me=>{Y(me),Z(!0)},[]);j.useEffect(()=>{qe.getStatus().then(()=>k(!0)).catch(()=>k(!1))},[]),j.useEffect(()=>{o?window.location.hash=`prompts/${o.prompt}`:window.location.hash=e},[e,o]),j.useEffect(()=>{const me=()=>{const{view:ye,promptPath:Ze}=GA();n(ye),Ze?s(Ze):u(null)};return window.addEventListener("hashchange",me),()=>window.removeEventListener("hashchange",me)},[]),j.useEffect(()=>{Q&&r&&qe.listPrompts().then(me=>{const ye=me.find(Ze=>Ze.prompt===r);ye&&u(ye),s(void 0)}).catch(()=>{s(void 0)})},[Q,r]),j.useEffect(()=>{if(!Q)return;const me=async()=>{try{const Ze=await qe.listRemoteSessions();I(Ze),X(null)}catch(Ze){const Fe=Ze instanceof Error?Ze.message:String(Ze);console.error("Failed to fetch remote sessions:",Fe),X(Fe),Fe.includes("Not authenticated")||Fe.includes("401")||Fe.includes("403")||(Fe.includes("timeout")||Fe.includes("network")||Fe.includes("Failed to fetch")?L("Network error: Cannot reach cloud. Check your connection.","error",5e3):L(`Failed to load remote sessions: ${Fe}`,"error",5e3))}};me();const ye=setInterval(me,3e4);return()=>clearInterval(ye)},[Q,L]);const we=async(me,ye,Ze)=>{if(!Q){alert('Server not connected. Run "pdd connect" in your terminal first.');return}const Fe=Ta[me];p(!0),g("running");const Xt=Ze||{},ft=Xt._code||ye.code,Et=Xt._test||ye.test,ke={};for(const[$e,$t]of Object.entries(Xt))if(!($e==="_code"||$e==="_test"))if($e.startsWith("_global_")){const tn=$e.replace("_global_","");ke[tn]=$t}else ke[$e]=$t;const Ie=me===Te.SYNC?ye.sync_basename:ye.prompt,en=Object.keys(ke).length>0?" "+Object.entries(ke).map(([$e,$t])=>typeof $t=="boolean"?$t?`--${$e.replace(/_/g,"-")}`:"":`--${$e.replace(/_/g,"-")} ${$t}`).filter(Boolean).join(" "):"",at=`pdd ${Fe.backendName} ${Ie}${en}`;v(at);try{const $e={};if(me===Te.SYNC)$e.basename=ye.sync_basename,ye.context&&(ke.context=ye.context);else if(me===Te.UPDATE)ft?$e.args=[ye.prompt,ft]:$e.args=[];else if(me===Te.GENERATE)$e.prompt_file=ye.prompt;else if(me===Te.TEST)$e.prompt_file=ye.prompt,$e.code_file=ft;else if(me===Te.EXAMPLE)$e.prompt_file=ye.prompt,$e.code_file=ft;else if(me===Te.FIX)$e.prompt_file=ye.prompt,$e.code_file=ft,$e.unit_test_files=Et,ke["error-file"]&&($e.error_file=ke["error-file"],delete ke["error-file"]);else if(me===Te.SPLIT)$e.input_prompt=ye.prompt,$e.input_code=ft,ke["example-code"]&&($e.example_code=ke["example-code"],delete ke["example-code"]);else if(me===Te.CHANGE)ke["change-prompt"]&&($e.change_prompt_file=ke["change-prompt"],delete ke["change-prompt"]),$e.input_code=ft,$e.input_prompt_file=ye.prompt;else if(me===Te.DETECT){const $t=ke["prompt-files"]||"",tn=ke["change-file"]||"",Pn=$t.split(",").map(Fn=>Fn.trim()).filter(Boolean);$e.args=[...Pn,tn].filter(Boolean),delete ke["prompt-files"],delete ke["change-file"]}else me===Te.AUTO_DEPS?($e.prompt_file=ye.prompt,ke["directory-path"]&&($e.directory_path=ke["directory-path"],delete ke["directory-path"])):me===Te.CONFLICTS?($e.prompt_file=ye.prompt,ke.prompt2&&($e.prompt2=ke.prompt2,delete ke.prompt2)):me===Te.PREPROCESS?$e.prompt_file=ye.prompt:me===Te.CRASH?($e.prompt_file=ye.prompt,$e.code_file=ft,ke["program-file"]&&($e.program_file=ke["program-file"],delete ke["program-file"]),ke["error-file"]&&($e.error_file=ke["error-file"],delete ke["error-file"])):me===Te.VERIFY?($e.prompt_file=ye.prompt,$e.code_file=ft,ke["verification-program"]&&($e.verification_program=ke["verification-program"],delete ke["verification-program"])):me===Te.SUBMIT_EXAMPLE&&($e.prompt_file=ye.prompt,$e.code_file=ft,$e.unit_test_files=Et,$e.error_file=".pdd/submit_example_errors.log",ke.loop=!0,ke["auto-submit"]=!0,ke["verification-program"]&&($e.verification_program=ke["verification-program"],delete ke["verification-program"]));if(E==="remote"&&F){const $t=A.find(tn=>tn.sessionId===F);if(($t==null?void 0:$t.status)==="stale"&&!window.confirm(`Warning: The selected session appears to be offline (stale).

The remote machine may not be running or has lost connection.
The command may not be executed.

Do you want to submit anyway?`)){p(!1),g("idle");return}try{const{commandId:tn}=await qe.submitRemoteCommand({sessionId:F,type:Fe.backendName,payload:{args:$e,options:ke}});Le(`[Remote] ${at}`,Fe.backendName,tn,{remote:!0,sessionId:F}),g("success"),L("Command submitted to remote session","success",3e3)}catch(tn){g("failed"),L(`Failed to submit remote command: ${tn instanceof Error?tn.message:String(tn)}`,"error",5e3)}}else{const $t=await qe.spawnTerminal({command:Fe.backendName,args:$e,options:ke});$t.success?(Le(at,Fe.backendName,$t.job_id),g("success"),L(`Opened terminal: ${at}`,"success",3e3)):(g("failed"),L(`Failed to open terminal: ${$t.message}`,"error",5e3))}setTimeout(()=>{g("idle"),v(null)},3e3)}catch($e){console.error("Failed to execute command:",$e),w({success:!1,message:$e.message||"Failed to execute command",exit_code:1,error_details:$e.message}),g("failed"),L(`Error: ${$e.message}`,"error",5e3),setTimeout(()=>{g("idle"),v(null)},1e4)}finally{p(!1)}},ut=async()=>{if(!Q){alert('Server not connected. Run "pdd connect" in your terminal first.');return}if(!$.trim()){alert("Please enter a GitHub issue URL");return}p(!0),g("running");const me=`pdd bug ${$}`;v(me);try{const ye=await qe.spawnTerminal({command:"bug",args:{args:[$]},options:{}});ye.success?(Le(me,"bug",ye.job_id),g("success"),L(`Opened terminal: ${me}`,"success",3e3)):(g("failed"),L(`Failed to open terminal: ${ye.message}`,"error",5e3)),setTimeout(()=>{g("idle"),v(null)},3e3)}catch(ye){console.error("Failed to execute bug command:",ye),g("failed"),L(`Error: ${ye.message}`,"error",5e3),setTimeout(()=>{g("idle"),v(null)},5e3)}finally{p(!1)}},on=(me,ye)=>{o&&we(me,o,ye)},Gt=async()=>{try{(await qe.cancelCommand()).cancelled&&(g("failed"),v(null),setTimeout(()=>g("idle"),3e3))}catch(me){console.error("Failed to cancel:",me)}},Yt=j.useCallback((me,ye)=>{N({id:`batch-${Date.now()}`,name:me,current:0,total:ye,currentItem:"",status:"running",startedAt:new Date})},[]),Je=j.useCallback((me,ye,Ze)=>{N(Fe=>Fe?{...Fe,current:me,total:ye,currentItem:Ze}:null)},[]),rt=j.useCallback(me=>{N(ye=>ye?{...ye,status:me?"completed":"failed"}:null),setTimeout(()=>N(null),3e3)},[]),Wt=j.useCallback(async()=>{try{await qe.cancelCommand()}catch(me){console.error("Failed to cancel batch operation:",me)}},[]);return o?d.jsx(cee,{prompt:o,onBack:()=>u(null),onRunCommand:on,isExecuting:f,executionStatus:m,lastCommand:x,lastRunResult:y,onCancelCommand:Gt}):d.jsx(aue,{children:d.jsxs("div",{className:"min-h-screen bg-surface-950",children:[d.jsx("header",{className:"glass sticky top-0 z-40 border-b border-surface-700/50",children:d.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12",children:d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-shrink-0",children:[d.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-lg bg-surface-800/80 flex items-center justify-center shadow-glow p-1",children:d.jsxs("svg",{viewBox:"0 0 1024 1024",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsxs("filter",{id:"glow-header",x:"-60%",y:"-60%",width:"220%",height:"220%",children:[d.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"40",result:"blur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"blur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),d.jsxs("g",{stroke:"#00e3ff",strokeWidth:"60",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",filter:"url(#glow-header)",children:[d.jsx("path",{d:"M 260 180 H 600 A 230 230 0 0 1 600 660 H 480 L 260 880 V 180 Z"}),d.jsx("polyline",{points:"505 340 585 420 505 500"})]})]})}),d.jsx("div",{className:"hidden sm:block",children:d.jsx("h1",{className:"text-base sm:text-lg font-bold text-white whitespace-nowrap",children:"Prompt Driven Development"})})]}),d.jsxs("div",{className:"flex gap-1 sm:gap-2 bg-surface-800/50 p-1 rounded-xl max-w-[280px] xs:max-w-none overflow-x-auto scrollbar-hide",children:[d.jsxs("button",{onClick:()=>n("architecture"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="architecture"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[d.jsx(DJ,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Architecture"]}),d.jsxs("button",{onClick:()=>n("prompts"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="prompts"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[d.jsx(M7,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Prompts"]}),d.jsxs("button",{onClick:()=>n("bug"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="bug"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[d.jsx(kx,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Bug"]}),d.jsxs("button",{onClick:()=>n("settings"),className:`px-2 xs:px-3 sm:px-4 py-1 xs:py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 ${e==="settings"?"bg-accent-600 text-white shadow-lg shadow-accent-500/25":"text-surface-300 hover:text-white hover:bg-surface-700"}`,children:[d.jsx(Z7,{className:"hidden sm:inline w-4 h-4 mr-1"}),"Settings"]})]}),d.jsxs("div",{className:"hidden lg:flex items-center gap-2 md:gap-3 px-2 md:px-4 py-1.5 md:py-2 bg-surface-800/30 rounded-xl border border-surface-700/50",children:[d.jsx(lue,{sessions:A,selectedSessionId:F,onSelectSession:G,disabled:!Q,error:J,onRefresh:async()=>{try{const me=await qe.listRemoteSessions();I(me),X(null),L("Sessions refreshed","success",2e3)}catch(me){const ye=me instanceof Error?me.message:String(me);X(ye),L("Failed to refresh sessions","error",3e3)}}}),d.jsx(oue,{mode:E,onModeChange:U,disabled:!F&&E==="remote"})]}),d.jsx("div",{className:"flex lg:hidden items-center",children:d.jsx("button",{onClick:()=>U(E==="local"?"remote":"local"),disabled:!F&&E==="local",className:`px-2 py-1 rounded-lg text-xs font-medium transition-colors ${E==="remote"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-surface-700/50 text-surface-400 border border-surface-600/50"} ${!F&&E==="local"?"opacity-50 cursor-not-allowed":""}`,title:E==="remote"?"Remote mode (click to switch to local)":"Local mode (click to switch to remote)",children:E==="remote"?"":""})}),d.jsxs("div",{className:`flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3 py-1.5 rounded-full transition-colors ${Q?"bg-green-500/10 text-green-400 border border-green-500/20":"bg-yellow-500/10 text-yellow-400 border border-yellow-500/20"}`,children:[d.jsx("span",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full ${Q?"bg-green-400 animate-pulse-slow":"bg-yellow-400 animate-pulse"}`}),d.jsx("span",{className:"hidden xs:inline",children:Q?"Connected":"Offline"})]}),d.jsx(sue,{onReauth:()=>q(!0)})]})})}),m!=="idle"&&d.jsxs("div",{className:`
          px-4 sm:px-6 py-2.5 sm:py-3 text-center text-xs sm:text-sm font-medium border-b animate-slide-down
          ${m==="running"?"bg-accent-500/10 text-accent-300 border-accent-500/20":""}
          ${m==="success"?"bg-green-500/10 text-green-300 border-green-500/20":""}
          ${m==="failed"?"bg-red-500/10 text-red-300 border-red-500/20":""}
        `,children:[m==="running"&&d.jsxs("span",{className:"flex items-center justify-center gap-2 flex-wrap",children:[d.jsxs("svg",{className:"animate-spin h-4 w-4 flex-shrink-0",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.jsx("span",{className:"hidden sm:inline",children:"Running:"}),d.jsx("code",{className:"bg-surface-800/80 px-2 py-0.5 rounded font-mono text-xs max-w-[200px] sm:max-w-none truncate",children:x}),d.jsx("span",{className:"text-surface-400 hidden md:inline",children:"(output in terminal)"}),d.jsx("button",{onClick:async()=>{try{(await qe.cancelCommand()).cancelled&&(g("failed"),v(null),setTimeout(()=>g("idle"),3e3))}catch(me){console.error("Failed to cancel:",me)}},className:"ml-2 sm:ml-4 px-2.5 sm:px-3 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/30 rounded-lg text-xs font-medium transition-colors",children:"Stop"})]}),m==="success"&&d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Command completed successfully"]}),m==="failed"&&d.jsxs("span",{className:"flex items-center justify-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),d.jsx("span",{className:"hidden sm:inline",children:"Command failed or cancelled - check terminal"}),d.jsx("span",{className:"sm:hidden",children:"Command failed"})]})]}),d.jsxs("main",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12 py-4 sm:py-6 pb-16 sm:pb-20",children:[!Q&&d.jsx("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 glass-light rounded-xl border border-yellow-500/20 animate-fade-in",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:d.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-300 text-sm sm:text-base font-medium",children:"Server not connected"}),d.jsxs("p",{className:"text-yellow-200/70 text-xs sm:text-sm mt-1",children:["Run ",d.jsx("code",{className:"bg-surface-800/80 px-1.5 py-0.5 rounded font-mono text-yellow-300",children:"pdd connect"})," in your terminal to enable command execution."]})]})]})}),e==="architecture"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(Dce,{serverConnected:Q,isExecuting:f,onOpenPromptSpace:me=>u(me),onBatchStart:Yt,onBatchProgress:Je,onBatchComplete:rt})}):e==="prompts"?d.jsxs("div",{className:"animate-fade-in",children:[d.jsx("div",{className:"mb-4 sm:mb-6",children:d.jsx("p",{className:"text-surface-400 text-xs sm:text-sm",children:"Select a prompt and click a command to run. Output appears in your terminal."})}),d.jsx(JV,{onSelectPrompt:a,onRunCommand:we,onEditPrompt:u,onCreatePrompt:u,onAddToQueue:be,selectedPrompt:i,isExecuting:f})]}):e==="settings"?d.jsx("div",{className:"animate-fade-in",children:d.jsx(Gce,{})}):d.jsxs("div",{className:"max-w-6xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"mb-6 text-center sm:text-left",children:[d.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white mb-2 flex items-center justify-center sm:justify-start gap-2",children:[d.jsx("span",{className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:d.jsx(kx,{className:"w-5 h-5"})}),"Bug Investigation Agent"]}),d.jsx("p",{className:"text-surface-400 text-sm",children:"Automatically investigate GitHub issues and generate failing test cases with AI-powered analysis."})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-6 border border-surface-700/50",children:[d.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"GitHub Issue URL"}),d.jsx("input",{type:"url",value:$,onChange:me=>_(me.target.value),placeholder:"https://github.com/org/repo/issues/123",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-surface-900/50 border border-surface-600 rounded-xl text-white placeholder-surface-500 focus:outline-none focus:border-accent-500 focus:ring-1 focus:ring-accent-500/50 transition-all text-sm sm:text-base",disabled:f}),d.jsxs("button",{onClick:ut,disabled:f||!Q||!$.trim(),className:`
                      mt-4 w-full px-4 py-2.5 sm:py-3 rounded-xl font-medium transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base
                      ${f||!Q||!$.trim()?"bg-surface-700 text-surface-500 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/25 hover:shadow-red-500/40"}
                    `,children:[d.jsx(kx,{className:"w-4 h-4"}),d.jsx("span",{children:"Start Investigation"})]})]}),d.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[d.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Prerequisites"]}),d.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"1"}),d.jsxs("span",{children:[d.jsx("strong",{className:"text-surface-300",children:"GitHub CLI installed"})," - Install from ",d.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"brew install gh"})," or ",d.jsx("a",{href:"https://cli.github.com",target:"_blank",rel:"noopener noreferrer",className:"text-accent-400 hover:underline",children:"cli.github.com"})]})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"2"}),d.jsxs("span",{children:[d.jsx("strong",{className:"text-surface-300",children:"Authenticated with GitHub"})," - Run ",d.jsx("code",{className:"bg-surface-800 px-1 rounded text-accent-300",children:"gh auth login"})," if needed"]})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"w-4 h-4 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-300 flex-shrink-0 mt-0.5",children:"3"}),d.jsxs("span",{children:[d.jsx("strong",{className:"text-surface-300",children:"Repository cloned locally"})," - The agent works within your local codebase"]})]})]})]}),d.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[d.jsxs("h3",{className:"text-sm font-semibold text-white mb-3 flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"After Investigation"]}),d.jsxs("ul",{className:"space-y-2 text-xs text-surface-400",children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:"1."}),d.jsxs("span",{children:[d.jsx("strong",{className:"text-surface-300",children:"Review the draft PR"})," - The agent creates a draft PR with a failing test"]})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:"2."}),d.jsxs("span",{children:[d.jsx("strong",{className:"text-surface-300",children:"Fix the bug"})," - Implement the fix to make the test pass"]})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-400",children:"3."}),d.jsxs("span",{children:[d.jsx("strong",{className:"text-surface-300",children:"Mark PR ready"})," - Convert from draft to ready for review"]})]})]})]})]}),d.jsxs("div",{className:"glass rounded-2xl p-4 sm:p-5 border border-surface-700/50",children:[d.jsxs("h3",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[d.jsx("svg",{className:"w-4 h-4 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Agent Workflow (9 Steps)"]}),d.jsx("div",{className:"space-y-1",children:[{step:1,name:"Duplicate Check",desc:"Search for existing similar issues"},{step:2,name:"Documentation Check",desc:"Verify if it's a known issue or user error"},{step:3,name:"Triage",desc:"Assess if sufficient information is provided"},{step:4,name:"Reproduce",desc:"Attempt to reproduce the reported bug"},{step:5,name:"Root Cause Analysis",desc:"Identify the underlying cause"},{step:6,name:"Test Plan",desc:"Design a testing strategy"},{step:7,name:"Generate Test",desc:"Create a failing unit test"},{step:8,name:"Verify Test",desc:"Ensure test correctly detects the bug"},{step:9,name:"Create PR",desc:"Open a draft pull request"}].map(me=>d.jsxs("div",{className:"flex items-start gap-3 py-1.5 px-2 rounded-lg hover:bg-surface-800/30 transition-colors",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-surface-700 flex items-center justify-center text-[10px] font-medium text-surface-300 flex-shrink-0",children:me.step}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-xs text-white font-medium",children:me.name}),d.jsx("p",{className:"text-[11px] text-surface-500",children:me.desc})]})]},me.step))}),d.jsx("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:d.jsxs("p",{className:"text-xs text-surface-500",children:[d.jsx("strong",{className:"text-surface-400",children:"Note:"})," The agent may exit early if it detects a duplicate issue, feature request, or insufficient information. Progress is shown in the terminal."]})})]})]})]})]}),d.jsx(Fce,{activeJobs:V,completedJobs:W,selectedJob:ee,onSelectJob:Ye,onCancelJob:ue,onRemoveJob:pe,onClearCompleted:Se,onMarkSpawnedDone:We,onMarkJobStatus:Xe,batchOperation:T,onCancelBatchOperation:Wt}),d.jsx(nue,{tasks:B.tasks,executionMode:B.executionMode,isQueueRunning:B.isQueueRunning,isPaused:B.isPaused,progress:B.progress,onSetExecutionMode:B.setExecutionMode,onStartQueue:B.startQueue,onPauseQueue:B.pauseQueue,onResumeQueue:B.resumeQueue,onRunNextTask:B.runNextTask,onRemoveTask:B.removeTask,onSkipTask:B.skipTask,onRetryTask:B.retryTask,onReorderTasks:B.reorderTasks,onClearCompleted:B.clearCompleted,onClearAll:B.clearQueue}),d.jsx(rue,{isOpen:z,prompt:R,onAddToQueue:ct,onClose:()=>{Z(!1),Y(null)}}),d.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-40 glass border-t border-surface-700/50 px-4 sm:px-6 py-2.5 sm:py-3",children:d.jsxs("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 2xl:px-12 flex items-center justify-center gap-2 text-xs text-surface-500",children:[d.jsx("span",{className:"w-4 h-4 rounded bg-surface-800/80 flex items-center justify-center p-0.5",children:d.jsx("svg",{viewBox:"0 0 1024 1024",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:d.jsxs("g",{stroke:"#00e3ff",strokeWidth:"70",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",children:[d.jsx("path",{d:"M 260 180 H 600 A 230 230 0 0 1 600 660 H 480 L 260 880 V 180 Z"}),d.jsx("polyline",{points:"505 340 585 420 505 500"})]})})}),d.jsx("span",{className:"hidden sm:inline",children:"Prompt Driven Development"}),d.jsx("span",{className:"sm:hidden",children:"PDD"}),d.jsx("span",{className:"text-surface-600",children:""}),d.jsx("span",{children:re?"Jobs running - see dashboard below":"Commands tracked in dashboard"})]})}),C&&d.jsx(iue,{onClose:()=>q(!1)}),d.jsx(cue,{})]})})},m6=document.getElementById("root");if(!m6)throw new Error("Could not find root element to mount to");const Sue=CY.createRoot(m6);Sue.render(d.jsx(oe.StrictMode,{children:d.jsx(bue,{children:d.jsx(vue,{})})}));
